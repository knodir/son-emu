I1209 21:11:33.056675 636804 driver.py:120] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
I1209 21:11:33.078442 636804 driver.py:120] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
I1209 21:11:35.981889 636804 __init__.py:48] Resource model registrar created with dc_emulation_max_cpu=1200 and dc_emulation_max_mem=417792
I1209 21:11:35.983489 636804 daisy.py:90] read data center description from JSON file {u'chain-server29': [20, 17, 20], u'chain-server28': [20, 17, 20], u'chain-server21': [20, 17, 20], u'chain-server20': [20, 17, 20], u'chain-server23': [20, 17, 20], u'chain-server22': [20, 17, 20], u'chain-server25': [20, 17, 20], u'chain-server24': [20, 17, 20], u'chain-server27': [20, 17, 20], u'chain-server26': [20, 17, 20], u'chain-server36': [20, 17, 20], u'chain-server37': [20, 17, 20], u'off-cloud3': [20, 17, 20], u'off-cloud2': [20, 17, 20], u'off-cloud1': [20, 17, 20], u'off-cloud0': [20, 17, 20], u'off-cloud7': [20, 17, 20], u'off-cloud6': [20, 17, 20], u'off-cloud5': [20, 17, 20], u'off-cloud4': [20, 17, 20], u'off-cloud9': [20, 17, 20], u'off-cloud8': [20, 17, 20], u'chain-server2': [20, 17, 20], u'chain-server3': [20, 17, 20], u'chain-server0': [20, 17, 20], u'chain-server1': [20, 17, 20], u'chain-server6': [20, 17, 20], u'chain-server7': [20, 17, 20], u'chain-server4': [20, 17, 20], u'chain-server5': [20, 17, 20], u'chain-server8': [20, 17, 20], u'chain-server9': [20, 17, 20], u'chain-server14': [20, 17, 20], u'chain-server15': [20, 17, 20], u'chain-server16': [20, 17, 20], u'chain-server17': [20, 17, 20], u'chain-server10': [20, 17, 20], u'chain-server11': [20, 17, 20], u'chain-server12': [20, 17, 20], u'chain-server13': [20, 17, 20], u'chain-server32': [20, 17, 20], u'chain-server33': [20, 17, 20], u'chain-server30': [20, 17, 20], u'chain-server31': [20, 17, 20], u'chain-server18': [20, 17, 20], u'chain-server19': [20, 17, 20], u'chain-server34': [20, 17, 20], u'chain-server35': [20, 17, 20], u'gsw': [0, 0, 0], u'chain-server38': [20, 17, 20], u'chain-server39': [20, 17, 20]}
D1209 21:11:36.062697 636804 node.py:210] created data center switch: dc1.s1
I1209 21:11:36.062903 636804 net.py:146] added data center: chain-server29
D1209 21:11:36.126852 636804 node.py:210] created data center switch: dc2.s1
I1209 21:11:36.126997 636804 net.py:146] added data center: chain-server28
D1209 21:11:36.190618 636804 node.py:210] created data center switch: dc3.s1
I1209 21:11:36.190804 636804 net.py:146] added data center: chain-server21
D1209 21:11:36.260643 636804 node.py:210] created data center switch: dc4.s1
I1209 21:11:36.260816 636804 net.py:146] added data center: chain-server20
D1209 21:11:36.323640 636804 node.py:210] created data center switch: dc5.s1
I1209 21:11:36.323827 636804 net.py:146] added data center: chain-server23
D1209 21:11:36.390662 636804 node.py:210] created data center switch: dc6.s1
I1209 21:11:36.390847 636804 net.py:146] added data center: chain-server22
D1209 21:11:36.454469 636804 node.py:210] created data center switch: dc7.s1
I1209 21:11:36.454672 636804 net.py:146] added data center: chain-server25
D1209 21:11:36.517023 636804 node.py:210] created data center switch: dc8.s1
I1209 21:11:36.517188 636804 net.py:146] added data center: chain-server24
D1209 21:11:36.580243 636804 node.py:210] created data center switch: dc9.s1
I1209 21:11:36.580374 636804 net.py:146] added data center: chain-server27
D1209 21:11:36.642271 636804 node.py:210] created data center switch: dc10.s1
I1209 21:11:36.642399 636804 net.py:146] added data center: chain-server26
D1209 21:11:36.709979 636804 node.py:210] created data center switch: dc11.s1
I1209 21:11:36.710186 636804 net.py:146] added data center: chain-server36
D1209 21:11:36.772437 636804 node.py:210] created data center switch: dc12.s1
I1209 21:11:36.772567 636804 net.py:146] added data center: chain-server37
D1209 21:11:36.835731 636804 node.py:210] created data center switch: dc13.s1
I1209 21:11:36.835948 636804 net.py:146] added data center: off-cloud3
D1209 21:11:36.897314 636804 node.py:210] created data center switch: dc14.s1
I1209 21:11:36.897452 636804 net.py:146] added data center: off-cloud2
D1209 21:11:36.979862 636804 node.py:210] created data center switch: dc15.s1
I1209 21:11:36.980012 636804 net.py:146] added data center: off-cloud1
D1209 21:11:37.043724 636804 node.py:210] created data center switch: dc16.s1
I1209 21:11:37.043908 636804 net.py:146] added data center: off-cloud0
D1209 21:11:37.107343 636804 node.py:210] created data center switch: dc17.s1
I1209 21:11:37.107485 636804 net.py:146] added data center: off-cloud7
D1209 21:11:37.169795 636804 node.py:210] created data center switch: dc18.s1
I1209 21:11:37.170053 636804 net.py:146] added data center: off-cloud6
D1209 21:11:37.236066 636804 node.py:210] created data center switch: dc19.s1
I1209 21:11:37.236244 636804 net.py:146] added data center: off-cloud5
D1209 21:11:37.301331 636804 node.py:210] created data center switch: dc20.s1
I1209 21:11:37.301538 636804 net.py:146] added data center: off-cloud4
D1209 21:11:37.364213 636804 node.py:210] created data center switch: dc21.s1
I1209 21:11:37.364396 636804 net.py:146] added data center: off-cloud9
D1209 21:11:37.428570 636804 node.py:210] created data center switch: dc22.s1
I1209 21:11:37.428762 636804 net.py:146] added data center: off-cloud8
D1209 21:11:37.492136 636804 node.py:210] created data center switch: dc23.s1
I1209 21:11:37.492316 636804 net.py:146] added data center: chain-server2
D1209 21:11:37.555771 636804 node.py:210] created data center switch: dc24.s1
I1209 21:11:37.555938 636804 net.py:146] added data center: chain-server3
D1209 21:11:37.620106 636804 node.py:210] created data center switch: dc25.s1
I1209 21:11:37.620343 636804 net.py:146] added data center: chain-server0
D1209 21:11:37.685091 636804 node.py:210] created data center switch: dc26.s1
I1209 21:11:37.685264 636804 net.py:146] added data center: chain-server1
D1209 21:11:37.748316 636804 node.py:210] created data center switch: dc27.s1
I1209 21:11:37.748503 636804 net.py:146] added data center: chain-server6
D1209 21:11:37.815723 636804 node.py:210] created data center switch: dc28.s1
I1209 21:11:37.815957 636804 net.py:146] added data center: chain-server7
D1209 21:11:37.878047 636804 node.py:210] created data center switch: dc29.s1
I1209 21:11:37.878243 636804 net.py:146] added data center: chain-server4
D1209 21:11:37.943517 636804 node.py:210] created data center switch: dc30.s1
I1209 21:11:37.943664 636804 net.py:146] added data center: chain-server5
D1209 21:11:38.005950 636804 node.py:210] created data center switch: dc31.s1
I1209 21:11:38.006177 636804 net.py:146] added data center: chain-server8
D1209 21:11:38.070559 636804 node.py:210] created data center switch: dc32.s1
I1209 21:11:38.070873 636804 net.py:146] added data center: chain-server9
D1209 21:11:38.135222 636804 node.py:210] created data center switch: dc33.s1
I1209 21:11:38.135400 636804 net.py:146] added data center: chain-server14
D1209 21:11:38.200916 636804 node.py:210] created data center switch: dc34.s1
I1209 21:11:38.201073 636804 net.py:146] added data center: chain-server15
D1209 21:11:38.265443 636804 node.py:210] created data center switch: dc35.s1
I1209 21:11:38.265608 636804 net.py:146] added data center: chain-server16
D1209 21:11:38.328404 636804 node.py:210] created data center switch: dc36.s1
I1209 21:11:38.328546 636804 net.py:146] added data center: chain-server17
D1209 21:11:38.390238 636804 node.py:210] created data center switch: dc37.s1
I1209 21:11:38.390429 636804 net.py:146] added data center: chain-server10
D1209 21:11:38.457640 636804 node.py:210] created data center switch: dc38.s1
I1209 21:11:38.457917 636804 net.py:146] added data center: chain-server11
D1209 21:11:38.522871 636804 node.py:210] created data center switch: dc39.s1
I1209 21:11:38.523003 636804 net.py:146] added data center: chain-server12
D1209 21:11:38.585680 636804 node.py:210] created data center switch: dc40.s1
I1209 21:11:38.585822 636804 net.py:146] added data center: chain-server13
D1209 21:11:38.652318 636804 node.py:210] created data center switch: dc41.s1
I1209 21:11:38.652492 636804 net.py:146] added data center: chain-server32
D1209 21:11:38.722368 636804 node.py:210] created data center switch: dc42.s1
I1209 21:11:38.722541 636804 net.py:146] added data center: chain-server33
D1209 21:11:38.784996 636804 node.py:210] created data center switch: dc43.s1
I1209 21:11:38.785172 636804 net.py:146] added data center: chain-server30
D1209 21:11:38.847127 636804 node.py:210] created data center switch: dc44.s1
I1209 21:11:38.847306 636804 net.py:146] added data center: chain-server31
D1209 21:11:38.913863 636804 node.py:210] created data center switch: dc45.s1
I1209 21:11:38.913996 636804 net.py:146] added data center: chain-server18
D1209 21:11:38.976625 636804 node.py:210] created data center switch: dc46.s1
I1209 21:11:38.976799 636804 net.py:146] added data center: chain-server19
D1209 21:11:39.038568 636804 node.py:210] created data center switch: dc47.s1
I1209 21:11:39.038731 636804 net.py:146] added data center: chain-server34
D1209 21:11:39.100076 636804 node.py:210] created data center switch: dc48.s1
I1209 21:11:39.100200 636804 net.py:146] added data center: chain-server35
D1209 21:11:39.161910 636804 node.py:210] created data center switch: dc49.s1
I1209 21:11:39.162054 636804 net.py:146] added data center: chain-server38
D1209 21:11:39.227603 636804 node.py:210] created data center switch: dc50.s1
I1209 21:11:39.227782 636804 net.py:146] added data center: chain-server39
D1209 21:11:39.227942 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.228034 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.228102 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.228178 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.228250 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.228372 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.228463 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.228549 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.228677 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.228754 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.228825 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.228904 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.228972 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.229043 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.229129 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.229273 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.229429 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.229520 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.229604 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.229984 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.230060 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.230189 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.230299 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.230412 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.230496 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.230578 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.230695 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.230786 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.230856 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.230926 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.231003 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.231066 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.231153 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.231234 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.231410 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.231498 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.231581 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.231703 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.231806 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.231878 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.231950 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.232055 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.232167 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.232232 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.232374 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.232464 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.232547 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.232633 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.232794 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.232858 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.232930 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.233026 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.233091 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.233163 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.233239 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.233374 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.233459 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.233546 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.233644 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.233715 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.233802 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.233872 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.233941 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.234009 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.234117 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.234196 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.234318 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.234415 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.234498 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.234581 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.234689 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.234760 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.234831 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.234899 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.234966 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.235037 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.235104 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.235171 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.235239 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.235349 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.235445 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.235521 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.235605 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.235709 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.235779 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.235847 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.235917 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.235985 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.236052 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.236121 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.236190 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.236259 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.236377 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.236459 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.236538 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.236623 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.236730 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.236793 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.236862 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.236932 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.237004 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.237073 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.237143 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.237210 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.237324 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.237415 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.237500 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.237585 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.237684 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.237780 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.237855 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.237932 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.238038 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.238213 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.238399 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.238487 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.238574 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.238672 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.238740 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.238809 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.238878 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.238945 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.239015 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.239084 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.239152 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.239223 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.239355 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.239445 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.239542 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.239619 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.239711 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.239778 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.239847 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.239916 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.239984 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.240056 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.240125 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.240206 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.240348 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.240439 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.240523 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.240605 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.240695 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.240762 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.240847 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.240907 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.240977 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.241059 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.241127 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.241197 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.241266 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.241439 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.241522 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.241605 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.241700 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.241769 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.241836 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.241906 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.241974 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.242044 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.242161 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.242228 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.242360 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.242438 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.242522 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.242605 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.242695 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.242763 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.242831 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.242899 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.242969 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.243052 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.243122 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.243190 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.243256 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.243381 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.243479 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.243562 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.243660 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.243730 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.243798 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.243868 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.243951 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.244013 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.244083 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.244152 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.244221 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.244347 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.244431 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.244513 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.244595 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.244693 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.244776 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.244839 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.244910 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.244981 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.245048 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.245117 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.245187 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.245255 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.245388 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.245474 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.245558 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.245640 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.245728 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.245799 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.245866 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.245934 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.246017 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.246079 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.246181 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.246273 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.246390 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.246471 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.246553 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.246653 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.246720 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.246788 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.246857 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.246923 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.246992 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.247059 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.247127 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.247194 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.247303 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.247386 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.247473 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.247560 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.247673 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.247741 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.247812 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.247881 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.247951 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.248019 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.248087 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.248155 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.248224 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.248337 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.248430 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.248516 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.248613 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.248718 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.248856 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.248939 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.249021 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.249149 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.249253 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.249371 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.249454 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.249537 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.249619 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.249705 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.249775 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.249842 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.249910 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.249977 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.250060 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.250165 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.250238 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.250403 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.250489 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.250571 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.250653 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.250739 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.250808 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.250876 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.250947 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.251015 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.251082 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.251149 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.251215 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.251321 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.251435 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.251513 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.251595 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.251703 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.251771 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.251840 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.251908 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.251980 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.252048 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.252115 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.252183 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.252252 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.252367 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.252450 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.252531 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.252614 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.252716 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.252778 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.252846 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.252914 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.252985 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.253055 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.253128 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.253201 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.253271 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.253385 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.253463 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.253542 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.253629 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.253716 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.253783 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.253850 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.253932 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.253997 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.254080 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.254204 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.254327 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.254424 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.254506 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.254587 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.254697 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.254770 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.254836 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.254884 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.254920 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.254955 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.254988 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.255023 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.255069 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.255109 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.255145 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.255179 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.255213 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.255249 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.255316 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.255367 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.255412 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.255458 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.255501 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.255544 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.255587 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.255629 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.255686 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.255719 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.255760 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.255798 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.255834 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.255867 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.255908 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.255945 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.255980 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.256020 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.256055 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.256088 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.256124 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.256161 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.256201 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.256237 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.256270 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.256355 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.256409 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.256458 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.256506 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.256552 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.256597 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.256655 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.256690 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.256727 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.256762 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.256799 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.256834 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.256867 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.256901 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.256934 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.256968 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.257002 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.257041 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.257080 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.257116 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.257150 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.257185 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.257220 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.257256 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.257333 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.257380 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.257422 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.257464 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.257507 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.257548 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.257595 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.257668 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.257702 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.257741 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.257780 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.257814 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.257852 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.257893 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.257930 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.257966 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.257999 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.258033 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.258068 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.258131 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.258176 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.258212 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.258248 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.258338 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.258407 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.258462 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.258517 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.258563 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.258606 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.258666 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.258724 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.258764 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.258805 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.258847 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.258889 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.258930 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.258970 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.259011 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.259066 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.259121 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.259177 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.259280 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.259388 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.259433 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.259479 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.259522 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.259566 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.259613 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.259655 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.259708 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.259743 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.259778 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.259810 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.259845 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.259884 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.259917 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.259952 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.259990 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.260027 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.260062 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.260098 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.260135 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.260169 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.260202 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.260241 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.260304 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.260369 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.260415 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.260459 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.260502 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.260544 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.260586 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.260627 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.260684 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.260725 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.260766 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.260799 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.260833 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.260868 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.260901 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.260935 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.260972 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.261006 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.261039 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.261074 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.261106 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.261141 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.261173 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.261214 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.261253 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.261385 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.261436 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.261482 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.261524 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.261571 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.261632 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.261684 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.261718 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.261751 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.261785 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.261818 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.261856 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.261890 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.261926 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.261961 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.262002 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.262042 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.262079 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.262162 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.262201 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.262237 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.262339 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.262396 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.262439 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.262480 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.262527 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.262571 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.262613 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.262667 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.262701 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.262736 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.262778 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.262816 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.262852 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.262887 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.262923 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.262959 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.262994 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.263030 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.263065 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.263098 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.263132 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.263164 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.263201 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.263236 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.263274 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.263385 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.263437 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.263484 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.263530 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.263573 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.263617 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.263678 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.263712 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.263746 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.263780 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.263813 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.263847 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.263880 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.263917 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.263951 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.263984 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.264018 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.264056 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.264096 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.264146 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.264182 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.264215 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.264250 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.264321 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.264375 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.264420 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.264467 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.264512 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.264554 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.264597 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.264656 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.264689 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.264723 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.264765 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.264803 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.264838 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.264874 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.264909 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.264944 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.264977 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.265023 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.265058 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.265090 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.265125 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.265157 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.265192 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.265224 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.265263 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.265335 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.265398 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.265444 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.265489 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.265531 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.265577 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.265620 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.265675 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.265712 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.265747 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.265779 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.265814 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.265850 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.265885 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.265922 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.265955 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.265990 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.266027 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.266063 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.266143 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.266185 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.266222 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.266275 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.266361 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.266406 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.266448 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.266498 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.266541 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.266582 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.266624 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.266678 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.266711 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.266746 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.266788 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.266825 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.266860 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.266894 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.266927 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.266961 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.266997 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.267031 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.267065 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.267097 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.267132 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.267163 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.267196 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.267232 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.267267 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.267344 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.267400 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.267447 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.267492 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.267534 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.267584 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.267627 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.267680 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.267714 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.267748 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.267781 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.267813 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.267852 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.267884 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.267919 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.267952 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.267986 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.268023 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.268062 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.268098 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.268131 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.268167 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.268199 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.268234 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.268266 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.268349 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.268393 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.268435 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.268476 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.268523 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.268567 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.268609 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.268680 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.268719 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.268755 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.268790 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.268825 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.268858 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.268892 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.268930 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.268964 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.268996 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.269030 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.269062 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.269095 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.269128 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.269165 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.269197 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.269231 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.269278 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.269355 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.269402 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.269453 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.269499 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.269541 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.269583 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.269625 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.269704 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.269743 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.269785 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.269826 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.269865 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.269905 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.269943 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.269983 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.270028 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.270152 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.270231 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.270327 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.270375 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.270418 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.270462 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.270504 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.270555 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.270596 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.270672 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.270704 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.270739 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.270771 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.270806 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.270843 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.270881 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.270963 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.270999 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.271034 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.271069 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.271106 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.271143 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.271187 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.271222 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.271255 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.271322 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.271380 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.271426 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.271471 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.271513 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.271555 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.271605 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.271651 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.271704 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.271743 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.271778 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.271811 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.271846 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.271879 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.271914 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.271948 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.271985 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.272018 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.272052 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.272085 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.272119 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.272152 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.272192 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.272231 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.272265 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.272351 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.272397 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.272444 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.272488 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.272533 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.272578 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.272619 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.272674 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.272706 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.272739 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.272773 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.272809 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.272844 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.272882 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.272922 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.272958 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.272993 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.273027 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.273066 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.273099 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.273133 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.273165 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.273200 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.273233 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.273267 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.273381 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.273426 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.273468 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.273509 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.273557 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.273603 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.273665 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.273701 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.273736 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.273771 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.273804 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.273838 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.273871 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.273916 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.273955 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.273989 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.274024 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.274056 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.274101 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.274163 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.274209 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.274266 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.274355 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.274401 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.274446 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.274487 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.274530 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.274580 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.274622 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.274677 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.274712 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.274745 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.274779 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.274811 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.274848 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.274883 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.274931 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.274967 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.275002 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.275037 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.275074 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.275109 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.275144 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.275177 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.275212 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.275244 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.275312 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.275363 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.275408 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.275449 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.275491 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.275532 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:11:39.275580 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:11:39.275657 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:11:39.275696 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:11:39.275731 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:11:39.275764 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:11:39.275799 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.275832 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.275866 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:11:39.275899 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:11:39.275937 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:11:39.275970 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:11:39.276005 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:11:39.276038 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.276072 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:11:39.276106 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:11:39.276138 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
I1209 21:11:39.276180 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.276221 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server29
I1209 21:11:39.276268 636804 daisy.py:105] assigned resource model 139858460660496 to chain-server29
I1209 21:11:39.276377 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.276423 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server28
I1209 21:11:39.276465 636804 daisy.py:105] assigned resource model 139858460624272 to chain-server28
I1209 21:11:39.276516 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.276560 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server21
I1209 21:11:39.276599 636804 daisy.py:105] assigned resource model 139858461106000 to chain-server21
I1209 21:11:39.276664 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.276700 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server20
I1209 21:11:39.276731 636804 daisy.py:105] assigned resource model 139858461068304 to chain-server20
I1209 21:11:39.276772 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.276807 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server23
I1209 21:11:39.276839 636804 daisy.py:105] assigned resource model 139858461068560 to chain-server23
I1209 21:11:39.276881 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.276917 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server22
I1209 21:11:39.276949 636804 daisy.py:105] assigned resource model 139858461031440 to chain-server22
I1209 21:11:39.276990 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.277025 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server25
I1209 21:11:39.277057 636804 daisy.py:105] assigned resource model 139858461029520 to chain-server25
I1209 21:11:39.277097 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.277132 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server24
I1209 21:11:39.277163 636804 daisy.py:105] assigned resource model 139858461030096 to chain-server24
I1209 21:11:39.277204 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.277237 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server27
I1209 21:11:39.277281 636804 daisy.py:105] assigned resource model 139858460984144 to chain-server27
I1209 21:11:39.277367 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.277410 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server26
I1209 21:11:39.277450 636804 daisy.py:105] assigned resource model 139858460943760 to chain-server26
I1209 21:11:39.277498 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.277542 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server18
I1209 21:11:39.277581 636804 daisy.py:105] assigned resource model 139858429419728 to chain-server18
I1209 21:11:39.277631 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.277683 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server19
I1209 21:11:39.279956 636804 daisy.py:105] assigned resource model 139858429420752 to chain-server19
I1209 21:11:39.280116 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.280190 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: off-cloud3
I1209 21:11:39.280369 636804 daisy.py:105] assigned resource model 139858460903248 to off-cloud3
I1209 21:11:39.280467 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.280541 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: off-cloud2
I1209 21:11:39.280610 636804 daisy.py:105] assigned resource model 139858461349392 to off-cloud2
I1209 21:11:39.280752 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.280811 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: off-cloud1
I1209 21:11:39.280864 636804 daisy.py:105] assigned resource model 139858461350544 to off-cloud1
I1209 21:11:39.280910 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.280946 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: off-cloud0
I1209 21:11:39.280978 636804 daisy.py:105] assigned resource model 139858461303184 to off-cloud0
I1209 21:11:39.281019 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.281054 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: off-cloud7
I1209 21:11:39.281086 636804 daisy.py:105] assigned resource model 139858461258000 to off-cloud7
I1209 21:11:39.281125 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.281158 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: off-cloud6
I1209 21:11:39.281191 636804 daisy.py:105] assigned resource model 139858461261712 to off-cloud6
I1209 21:11:39.281229 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.281261 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: off-cloud5
I1209 21:11:39.281327 636804 daisy.py:105] assigned resource model 139858461259472 to off-cloud5
I1209 21:11:39.281383 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.281428 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: off-cloud4
I1209 21:11:39.281467 636804 daisy.py:105] assigned resource model 139858461501584 to off-cloud4
I1209 21:11:39.281519 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.281563 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: off-cloud9
I1209 21:11:39.281603 636804 daisy.py:105] assigned resource model 139858461157648 to off-cloud9
I1209 21:11:39.281682 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.281716 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: off-cloud8
I1209 21:11:39.281748 636804 daisy.py:105] assigned resource model 139858461643920 to off-cloud8
I1209 21:11:39.281788 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.281821 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server2
I1209 21:11:39.281853 636804 daisy.py:105] assigned resource model 139858461613968 to chain-server2
I1209 21:11:39.281896 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.281929 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server3
I1209 21:11:39.281960 636804 daisy.py:105] assigned resource model 139858461610512 to chain-server3
I1209 21:11:39.282001 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.282035 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server0
I1209 21:11:39.282066 636804 daisy.py:105] assigned resource model 139858461612560 to chain-server0
I1209 21:11:39.282124 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.282160 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server1
I1209 21:11:39.282192 636804 daisy.py:105] assigned resource model 139858461576016 to chain-server1
I1209 21:11:39.282234 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.282342 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server6
I1209 21:11:39.282390 636804 daisy.py:105] assigned resource model 139858461575120 to chain-server6
I1209 21:11:39.282440 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.282483 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server7
I1209 21:11:39.282524 636804 daisy.py:105] assigned resource model 139858461573584 to chain-server7
I1209 21:11:39.282574 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.282634 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server4
I1209 21:11:39.282684 636804 daisy.py:105] assigned resource model 139858461551120 to chain-server4
I1209 21:11:39.282723 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.282757 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server5
I1209 21:11:39.282789 636804 daisy.py:105] assigned resource model 139858461550160 to chain-server5
I1209 21:11:39.282829 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.282864 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server8
I1209 21:11:39.282895 636804 daisy.py:105] assigned resource model 139858461551440 to chain-server8
I1209 21:11:39.282934 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.282968 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server9
I1209 21:11:39.282999 636804 daisy.py:105] assigned resource model 139858461477136 to chain-server9
I1209 21:11:39.283041 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.283075 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server14
I1209 21:11:39.283107 636804 daisy.py:105] assigned resource model 139858436708496 to chain-server14
I1209 21:11:39.283145 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.283179 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server15
I1209 21:11:39.283210 636804 daisy.py:105] assigned resource model 139858429817872 to chain-server15
I1209 21:11:39.283250 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.283315 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server16
I1209 21:11:39.283360 636804 daisy.py:105] assigned resource model 139858429818896 to chain-server16
I1209 21:11:39.283411 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.283453 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server17
I1209 21:11:39.283493 636804 daisy.py:105] assigned resource model 139858429819920 to chain-server17
I1209 21:11:39.283543 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.283588 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server10
I1209 21:11:39.283631 636804 daisy.py:105] assigned resource model 139858429857872 to chain-server10
I1209 21:11:39.283709 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.283741 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server11
I1209 21:11:39.283773 636804 daisy.py:105] assigned resource model 139858429858896 to chain-server11
I1209 21:11:39.283813 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.283848 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server12
I1209 21:11:39.283879 636804 daisy.py:105] assigned resource model 139858429859920 to chain-server12
I1209 21:11:39.283919 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.283953 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server13
I1209 21:11:39.283987 636804 daisy.py:105] assigned resource model 139858429860944 to chain-server13
I1209 21:11:39.284027 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.284060 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server32
I1209 21:11:39.284092 636804 daisy.py:105] assigned resource model 139858429898896 to chain-server32
I1209 21:11:39.284131 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.284164 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server33
I1209 21:11:39.284195 636804 daisy.py:105] assigned resource model 139858429899920 to chain-server33
I1209 21:11:39.284235 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.284270 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server30
I1209 21:11:39.284343 636804 daisy.py:105] assigned resource model 139858429900944 to chain-server30
I1209 21:11:39.284393 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.284434 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server31
I1209 21:11:39.284473 636804 daisy.py:105] assigned resource model 139858429901968 to chain-server31
I1209 21:11:39.284524 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.284567 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server36
I1209 21:11:39.284606 636804 daisy.py:105] assigned resource model 139858461388304 to chain-server36
I1209 21:11:39.284689 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.284724 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server37
I1209 21:11:39.284756 636804 daisy.py:105] assigned resource model 139858461387536 to chain-server37
I1209 21:11:39.284795 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.284831 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server34
I1209 21:11:39.284862 636804 daisy.py:105] assigned resource model 139858429421776 to chain-server34
I1209 21:11:39.284902 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.284935 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server35
I1209 21:11:39.284967 636804 daisy.py:105] assigned resource model 139858429422800 to chain-server35
I1209 21:11:39.285006 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.285039 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server38
I1209 21:11:39.285072 636804 daisy.py:105] assigned resource model 139858429461776 to chain-server38
I1209 21:11:39.285109 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:11:39.285141 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server39
I1209 21:11:39.285173 636804 daisy.py:105] assigned resource model 139858429462800 to chain-server39
I1209 21:11:39.285284 636804 daisy.py:107] PN read from JSON file [[u'chain-server0', u'gsw', 20], [u'chain-server1', u'gsw', 20], [u'chain-server2', u'gsw', 20], [u'chain-server3', u'gsw', 20], [u'chain-server4', u'gsw', 20], [u'chain-server5', u'gsw', 20], [u'chain-server6', u'gsw', 20], [u'chain-server7', u'gsw', 20], [u'chain-server8', u'gsw', 20], [u'chain-server9', u'gsw', 20], [u'chain-server10', u'gsw', 20], [u'chain-server11', u'gsw', 20], [u'chain-server12', u'gsw', 20], [u'chain-server13', u'gsw', 20], [u'chain-server14', u'gsw', 20], [u'chain-server15', u'gsw', 20], [u'chain-server16', u'gsw', 20], [u'chain-server17', u'gsw', 20], [u'chain-server18', u'gsw', 20], [u'chain-server19', u'gsw', 20], [u'chain-server20', u'gsw', 20], [u'chain-server21', u'gsw', 20], [u'chain-server22', u'gsw', 20], [u'chain-server23', u'gsw', 20], [u'chain-server24', u'gsw', 20], [u'chain-server25', u'gsw', 20], [u'chain-server26', u'gsw', 20], [u'chain-server27', u'gsw', 20], [u'chain-server28', u'gsw', 20], [u'chain-server29', u'gsw', 20], [u'chain-server30', u'gsw', 20], [u'chain-server31', u'gsw', 20], [u'chain-server32', u'gsw', 20], [u'chain-server33', u'gsw', 20], [u'chain-server34', u'gsw', 20], [u'chain-server35', u'gsw', 20], [u'chain-server36', u'gsw', 20], [u'chain-server37', u'gsw', 20], [u'chain-server38', u'gsw', 20], [u'chain-server39', u'gsw', 20], [u'off-cloud0', u'gsw', 20], [u'off-cloud1', u'gsw', 20], [u'off-cloud2', u'gsw', 20], [u'off-cloud3', u'gsw', 20], [u'off-cloud4', u'gsw', 20], [u'off-cloud5', u'gsw', 20], [u'off-cloud6', u'gsw', 20], [u'off-cloud7', u'gsw', 20], [u'off-cloud8', u'gsw', 20], [u'off-cloud9', u'gsw', 20]]
I1209 21:11:39.285372 636804 daisy.py:121] Accessing chain-server0 for switch gsw
I1209 21:11:39.285438 636804 daisy.py:121] Accessing chain-server1 for switch gsw
I1209 21:11:39.285495 636804 daisy.py:121] Accessing chain-server2 for switch gsw
I1209 21:11:39.285547 636804 daisy.py:121] Accessing chain-server3 for switch gsw
I1209 21:11:39.285598 636804 daisy.py:121] Accessing chain-server4 for switch gsw
I1209 21:11:39.285665 636804 daisy.py:121] Accessing chain-server5 for switch gsw
I1209 21:11:39.285706 636804 daisy.py:121] Accessing chain-server6 for switch gsw
I1209 21:11:39.285746 636804 daisy.py:121] Accessing chain-server7 for switch gsw
I1209 21:11:39.285785 636804 daisy.py:121] Accessing chain-server8 for switch gsw
I1209 21:11:39.285825 636804 daisy.py:121] Accessing chain-server9 for switch gsw
I1209 21:11:39.285866 636804 daisy.py:121] Accessing chain-server10 for switch gsw
I1209 21:11:39.285909 636804 daisy.py:121] Accessing chain-server11 for switch gsw
I1209 21:11:39.285952 636804 daisy.py:121] Accessing chain-server12 for switch gsw
I1209 21:11:39.285993 636804 daisy.py:121] Accessing chain-server13 for switch gsw
I1209 21:11:39.286032 636804 daisy.py:121] Accessing chain-server14 for switch gsw
I1209 21:11:39.286073 636804 daisy.py:121] Accessing chain-server15 for switch gsw
I1209 21:11:39.286145 636804 daisy.py:121] Accessing chain-server16 for switch gsw
I1209 21:11:39.286191 636804 daisy.py:121] Accessing chain-server17 for switch gsw
I1209 21:11:39.286236 636804 daisy.py:121] Accessing chain-server18 for switch gsw
I1209 21:11:39.286333 636804 daisy.py:121] Accessing chain-server19 for switch gsw
I1209 21:11:39.286397 636804 daisy.py:121] Accessing chain-server20 for switch gsw
I1209 21:11:39.286448 636804 daisy.py:121] Accessing chain-server21 for switch gsw
I1209 21:11:39.286498 636804 daisy.py:121] Accessing chain-server22 for switch gsw
I1209 21:11:39.286549 636804 daisy.py:121] Accessing chain-server23 for switch gsw
I1209 21:11:39.286597 636804 daisy.py:121] Accessing chain-server24 for switch gsw
I1209 21:11:39.286659 636804 daisy.py:121] Accessing chain-server25 for switch gsw
I1209 21:11:39.286700 636804 daisy.py:121] Accessing chain-server26 for switch gsw
I1209 21:11:39.286739 636804 daisy.py:121] Accessing chain-server27 for switch gsw
I1209 21:11:39.286777 636804 daisy.py:121] Accessing chain-server28 for switch gsw
I1209 21:11:39.286817 636804 daisy.py:121] Accessing chain-server29 for switch gsw
I1209 21:11:39.286856 636804 daisy.py:121] Accessing chain-server30 for switch gsw
I1209 21:11:39.286896 636804 daisy.py:121] Accessing chain-server31 for switch gsw
I1209 21:11:39.286937 636804 daisy.py:121] Accessing chain-server32 for switch gsw
I1209 21:11:39.286978 636804 daisy.py:121] Accessing chain-server33 for switch gsw
I1209 21:11:39.287018 636804 daisy.py:121] Accessing chain-server34 for switch gsw
I1209 21:11:39.287059 636804 daisy.py:121] Accessing chain-server35 for switch gsw
I1209 21:11:39.287098 636804 daisy.py:121] Accessing chain-server36 for switch gsw
I1209 21:11:39.287137 636804 daisy.py:121] Accessing chain-server37 for switch gsw
I1209 21:11:39.287175 636804 daisy.py:121] Accessing chain-server38 for switch gsw
I1209 21:11:39.287215 636804 daisy.py:121] Accessing chain-server39 for switch gsw
I1209 21:11:39.287256 636804 daisy.py:121] Accessing off-cloud0 for switch gsw
I1209 21:11:39.287337 636804 daisy.py:121] Accessing off-cloud1 for switch gsw
I1209 21:11:39.287396 636804 daisy.py:121] Accessing off-cloud2 for switch gsw
I1209 21:11:39.287446 636804 daisy.py:121] Accessing off-cloud3 for switch gsw
I1209 21:11:39.287493 636804 daisy.py:121] Accessing off-cloud4 for switch gsw
I1209 21:11:39.287550 636804 daisy.py:121] Accessing off-cloud5 for switch gsw
I1209 21:11:39.287600 636804 daisy.py:121] Accessing off-cloud6 for switch gsw
I1209 21:11:39.287663 636804 daisy.py:121] Accessing off-cloud7 for switch gsw
I1209 21:11:39.287707 636804 daisy.py:121] Accessing off-cloud8 for switch gsw
I1209 21:11:39.287750 636804 daisy.py:121] Accessing off-cloud9 for switch gsw
I1209 21:11:39.354728 636804 daisy.py:141] ToR switch name and objects: {u'gsw': <OVSSwitch gsw0: lo:127.0.0.1 pid=637283> }
D1209 21:11:39.387032 636804 net.py:233] addLink: n1=dc25.s1 intf1=dc25.s1-eth1 -- n2=gsw0 intf2=gsw0-eth1
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:39.427759 636804 net.py:233] addLink: n1=dc26.s1 intf1=dc26.s1-eth1 -- n2=gsw0 intf2=gsw0-eth2
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:39.467322 636804 net.py:233] addLink: n1=dc23.s1 intf1=dc23.s1-eth1 -- n2=gsw0 intf2=gsw0-eth3
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:39.506469 636804 net.py:233] addLink: n1=dc24.s1 intf1=dc24.s1-eth1 -- n2=gsw0 intf2=gsw0-eth4
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:39.547314 636804 net.py:233] addLink: n1=dc29.s1 intf1=dc29.s1-eth1 -- n2=gsw0 intf2=gsw0-eth5
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:39.589473 636804 net.py:233] addLink: n1=dc30.s1 intf1=dc30.s1-eth1 -- n2=gsw0 intf2=gsw0-eth6
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:39.630088 636804 net.py:233] addLink: n1=dc27.s1 intf1=dc27.s1-eth1 -- n2=gsw0 intf2=gsw0-eth7
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:39.672687 636804 net.py:233] addLink: n1=dc28.s1 intf1=dc28.s1-eth1 -- n2=gsw0 intf2=gsw0-eth8
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:39.713788 636804 net.py:233] addLink: n1=dc31.s1 intf1=dc31.s1-eth1 -- n2=gsw0 intf2=gsw0-eth9
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:39.756237 636804 net.py:233] addLink: n1=dc32.s1 intf1=dc32.s1-eth1 -- n2=gsw0 intf2=gsw0-eth10
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:39.797691 636804 net.py:233] addLink: n1=dc37.s1 intf1=dc37.s1-eth1 -- n2=gsw0 intf2=gsw0-eth11
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:39.838355 636804 net.py:233] addLink: n1=dc38.s1 intf1=dc38.s1-eth1 -- n2=gsw0 intf2=gsw0-eth12
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:39.878058 636804 net.py:233] addLink: n1=dc39.s1 intf1=dc39.s1-eth1 -- n2=gsw0 intf2=gsw0-eth13
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:39.920578 636804 net.py:233] addLink: n1=dc40.s1 intf1=dc40.s1-eth1 -- n2=gsw0 intf2=gsw0-eth14
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:39.962387 636804 net.py:233] addLink: n1=dc33.s1 intf1=dc33.s1-eth1 -- n2=gsw0 intf2=gsw0-eth15
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:40.002434 636804 net.py:233] addLink: n1=dc34.s1 intf1=dc34.s1-eth1 -- n2=gsw0 intf2=gsw0-eth16
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:40.043962 636804 net.py:233] addLink: n1=dc35.s1 intf1=dc35.s1-eth1 -- n2=gsw0 intf2=gsw0-eth17
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:40.084064 636804 net.py:233] addLink: n1=dc36.s1 intf1=dc36.s1-eth1 -- n2=gsw0 intf2=gsw0-eth18
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:40.124465 636804 net.py:233] addLink: n1=dc45.s1 intf1=dc45.s1-eth1 -- n2=gsw0 intf2=gsw0-eth19
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:40.167666 636804 net.py:233] addLink: n1=dc46.s1 intf1=dc46.s1-eth1 -- n2=gsw0 intf2=gsw0-eth20
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:40.209451 636804 net.py:233] addLink: n1=dc4.s1 intf1=dc4.s1-eth1 -- n2=gsw0 intf2=gsw0-eth21
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:40.249679 636804 net.py:233] addLink: n1=dc3.s1 intf1=dc3.s1-eth1 -- n2=gsw0 intf2=gsw0-eth22
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:40.290895 636804 net.py:233] addLink: n1=dc6.s1 intf1=dc6.s1-eth1 -- n2=gsw0 intf2=gsw0-eth23
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:40.332585 636804 net.py:233] addLink: n1=dc5.s1 intf1=dc5.s1-eth1 -- n2=gsw0 intf2=gsw0-eth24
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:40.374737 636804 net.py:233] addLink: n1=dc8.s1 intf1=dc8.s1-eth1 -- n2=gsw0 intf2=gsw0-eth25
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:40.415077 636804 net.py:233] addLink: n1=dc7.s1 intf1=dc7.s1-eth1 -- n2=gsw0 intf2=gsw0-eth26
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:40.456893 636804 net.py:233] addLink: n1=dc10.s1 intf1=dc10.s1-eth1 -- n2=gsw0 intf2=gsw0-eth27
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:40.499249 636804 net.py:233] addLink: n1=dc9.s1 intf1=dc9.s1-eth1 -- n2=gsw0 intf2=gsw0-eth28
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:40.539047 636804 net.py:233] addLink: n1=dc2.s1 intf1=dc2.s1-eth1 -- n2=gsw0 intf2=gsw0-eth29
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:40.579080 636804 net.py:233] addLink: n1=dc1.s1 intf1=dc1.s1-eth1 -- n2=gsw0 intf2=gsw0-eth30
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:40.620697 636804 net.py:233] addLink: n1=dc43.s1 intf1=dc43.s1-eth1 -- n2=gsw0 intf2=gsw0-eth31
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:40.662389 636804 net.py:233] addLink: n1=dc44.s1 intf1=dc44.s1-eth1 -- n2=gsw0 intf2=gsw0-eth32
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:40.706693 636804 net.py:233] addLink: n1=dc41.s1 intf1=dc41.s1-eth1 -- n2=gsw0 intf2=gsw0-eth33
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:40.746922 636804 net.py:233] addLink: n1=dc42.s1 intf1=dc42.s1-eth1 -- n2=gsw0 intf2=gsw0-eth34
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:40.789400 636804 net.py:233] addLink: n1=dc47.s1 intf1=dc47.s1-eth1 -- n2=gsw0 intf2=gsw0-eth35
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:40.830368 636804 net.py:233] addLink: n1=dc48.s1 intf1=dc48.s1-eth1 -- n2=gsw0 intf2=gsw0-eth36
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:40.872023 636804 net.py:233] addLink: n1=dc11.s1 intf1=dc11.s1-eth1 -- n2=gsw0 intf2=gsw0-eth37
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:40.912570 636804 net.py:233] addLink: n1=dc12.s1 intf1=dc12.s1-eth1 -- n2=gsw0 intf2=gsw0-eth38
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:40.953589 636804 net.py:233] addLink: n1=dc49.s1 intf1=dc49.s1-eth1 -- n2=gsw0 intf2=gsw0-eth39
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:40.994893 636804 net.py:233] addLink: n1=dc50.s1 intf1=dc50.s1-eth1 -- n2=gsw0 intf2=gsw0-eth40
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:41.035562 636804 net.py:233] addLink: n1=dc16.s1 intf1=dc16.s1-eth1 -- n2=gsw0 intf2=gsw0-eth41
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:41.074666 636804 net.py:233] addLink: n1=dc15.s1 intf1=dc15.s1-eth1 -- n2=gsw0 intf2=gsw0-eth42
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:41.115130 636804 net.py:233] addLink: n1=dc14.s1 intf1=dc14.s1-eth1 -- n2=gsw0 intf2=gsw0-eth43
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:41.156677 636804 net.py:233] addLink: n1=dc13.s1 intf1=dc13.s1-eth1 -- n2=gsw0 intf2=gsw0-eth44
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:41.200712 636804 net.py:233] addLink: n1=dc20.s1 intf1=dc20.s1-eth1 -- n2=gsw0 intf2=gsw0-eth45
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:41.243007 636804 net.py:233] addLink: n1=dc19.s1 intf1=dc19.s1-eth1 -- n2=gsw0 intf2=gsw0-eth46
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:41.285557 636804 net.py:233] addLink: n1=dc18.s1 intf1=dc18.s1-eth1 -- n2=gsw0 intf2=gsw0-eth47
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:41.327016 636804 net.py:233] addLink: n1=dc17.s1 intf1=dc17.s1-eth1 -- n2=gsw0 intf2=gsw0-eth48
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:41.368908 636804 net.py:233] addLink: n1=dc22.s1 intf1=dc22.s1-eth1 -- n2=gsw0 intf2=gsw0-eth49
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:11:41.411447 636804 net.py:233] addLink: n1=dc21.s1 intf1=dc21.s1-eth1 -- n2=gsw0 intf2=gsw0-eth50
ovs-vsctl: 'set' command requires at least 3 arguments
I1209 21:11:41.422257 636804 daisy.py:146] added link from DCs to ToR
I1209 21:11:41.422540 636804 rest_api_endpoint.py:129] Connected DCNetwork to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.422933 636804 rest_api_endpoint.py:70] Started emu dashboard: /usr/local/lib/python2.7/dist-packages/emuvim-1.0-py2.7.egg/emuvim/dashboard
I1209 21:11:41.427855 636804 rest_api_endpoint.py:129] Connected DCNetwork to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.427966 636804 rest_api_endpoint.py:122] Connected DC(chain-server29) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.428054 636804 rest_api_endpoint.py:122] Connected DC(chain-server28) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.428138 636804 rest_api_endpoint.py:122] Connected DC(chain-server21) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.428277 636804 rest_api_endpoint.py:122] Connected DC(chain-server20) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.428368 636804 rest_api_endpoint.py:122] Connected DC(chain-server23) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.428455 636804 rest_api_endpoint.py:122] Connected DC(chain-server22) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.428540 636804 rest_api_endpoint.py:122] Connected DC(chain-server25) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.428647 636804 rest_api_endpoint.py:122] Connected DC(chain-server24) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.428719 636804 rest_api_endpoint.py:122] Connected DC(chain-server27) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.428790 636804 rest_api_endpoint.py:122] Connected DC(chain-server26) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.428864 636804 rest_api_endpoint.py:122] Connected DC(chain-server18) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.428940 636804 rest_api_endpoint.py:122] Connected DC(chain-server19) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.429033 636804 rest_api_endpoint.py:122] Connected DC(off-cloud3) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.429105 636804 rest_api_endpoint.py:122] Connected DC(off-cloud2) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.429245 636804 rest_api_endpoint.py:122] Connected DC(off-cloud1) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.429332 636804 rest_api_endpoint.py:122] Connected DC(off-cloud0) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.429421 636804 rest_api_endpoint.py:122] Connected DC(off-cloud7) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.429510 636804 rest_api_endpoint.py:122] Connected DC(off-cloud6) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.429622 636804 rest_api_endpoint.py:122] Connected DC(off-cloud5) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.429699 636804 rest_api_endpoint.py:122] Connected DC(off-cloud4) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.429774 636804 rest_api_endpoint.py:122] Connected DC(off-cloud9) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.429883 636804 rest_api_endpoint.py:122] Connected DC(off-cloud8) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.429955 636804 rest_api_endpoint.py:122] Connected DC(chain-server2) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.430027 636804 rest_api_endpoint.py:122] Connected DC(chain-server3) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.430152 636804 rest_api_endpoint.py:122] Connected DC(chain-server0) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.430267 636804 rest_api_endpoint.py:122] Connected DC(chain-server1) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.430357 636804 rest_api_endpoint.py:122] Connected DC(chain-server6) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.430448 636804 rest_api_endpoint.py:122] Connected DC(chain-server7) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.430578 636804 rest_api_endpoint.py:122] Connected DC(chain-server4) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.430687 636804 rest_api_endpoint.py:122] Connected DC(chain-server5) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.430763 636804 rest_api_endpoint.py:122] Connected DC(chain-server8) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.430839 636804 rest_api_endpoint.py:122] Connected DC(chain-server9) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.430913 636804 rest_api_endpoint.py:122] Connected DC(chain-server14) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.431019 636804 rest_api_endpoint.py:122] Connected DC(chain-server15) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.431091 636804 rest_api_endpoint.py:122] Connected DC(chain-server16) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.431233 636804 rest_api_endpoint.py:122] Connected DC(chain-server17) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.431329 636804 rest_api_endpoint.py:122] Connected DC(chain-server10) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.431416 636804 rest_api_endpoint.py:122] Connected DC(chain-server11) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.431508 636804 rest_api_endpoint.py:122] Connected DC(chain-server12) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.431605 636804 rest_api_endpoint.py:122] Connected DC(chain-server13) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.431715 636804 rest_api_endpoint.py:122] Connected DC(chain-server32) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.431834 636804 rest_api_endpoint.py:122] Connected DC(chain-server33) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.431916 636804 rest_api_endpoint.py:122] Connected DC(chain-server30) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.431994 636804 rest_api_endpoint.py:122] Connected DC(chain-server31) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.432135 636804 rest_api_endpoint.py:122] Connected DC(chain-server36) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.432255 636804 rest_api_endpoint.py:122] Connected DC(chain-server37) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.432343 636804 rest_api_endpoint.py:122] Connected DC(chain-server34) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.432435 636804 rest_api_endpoint.py:122] Connected DC(chain-server35) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.432538 636804 rest_api_endpoint.py:122] Connected DC(chain-server38) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.432662 636804 rest_api_endpoint.py:122] Connected DC(chain-server39) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:11:41.433152 636804 rest_api_endpoint.py:135] Started API endpoint @ http://0.0.0.0:5001
I1209 21:11:46.965862 636804 daisy.py:171] using Daisy for chain allocation
Settings: Namespace(PN='../topologies/e2-azure-1rack-50-20servers.pn.json', VDC_LIST='../topologies/e2-chain-4vnfs-50wa.vn.json', affinity=True, affinity_soft=False, allow_virtual_switches_in_switches=False, anti_affinity=True, assert_all_physical_edges=True, bitblast_addition=False, bitblast_addition_shadow=False, bvwidth=1, check_empty=False, cluster_affinity_locality=True, cluster_locality=False, conflict_limit=0, deallocate_prob=0, deallocate_rnd_prob=0, debug=False, decide_objectives_first=False, decide_opt_lits=True, directed_links=False, disable_checks=False, find_static_bound=True, flush_pb_theory=False, force_linear_flow_paths=False, force_virtual_switches=False, gateway_local=False, ignore_ram_constraints=False, ignore_storage_constraints=False, intrinsic_edge_constraints=False, intrinsic_edge_sets=True, large_res_opt=True, locality=True, logfile=None, max_cores=None, max_ram=None, max_resource=4, max_storage=None, max_vms=10, min_cores=False, min_servers=False, opt_conflict_limit=0, opt_detect_sat=False, opt_time_limit=-1, optimize_init_solve=False, output='/tmp/ns_out.json', popcount='BV', prop_assumps=False, rack_affinity_locality=True, rack_locality=False, remove_all_flow_cycles=False, remove_flow_cycles=True, remove_flow_cycles_python=False, repeat=True, reuse_previous_solutions=False, rnd_restart=True, rnd_theory_freq=0.99, rnd_theory_order=False, rnd_theory_order_all=False, robust_insert=True, round_robin_theory_order=False, search=0, separate_reach_constraints=False, server_affinity_locality=True, server_locality=False, show_graphs=False, static_flow_caps=True, strict_search=False, theory_order_vsids=True, time_limit=-1, timelog=None, tree_addition=True, use_min_cost_max_flow=False, verb_detail=True, vsids_balance=1, vsids_both=True)
Modelling up to 10 vms, with up to 4 cores, 4 ram, 4 storage per vm, and sum total bandwidth <= 2
Setting random decision freq to 0.990000
Monosat Settings:  -detect-pure-lits -adaptive-history-clear=10 -no-theory-prop-during-simp -no-theory-prop-during-fast-simp -verb-opt=1 -opt-time-limit=-1  -verb=0   -theory-order-vsids -decide-opt-lits  -search=0  -vsids-both -rnd-theory-freq=0.990000 -vsids-balance=1.000000 -no-decide-bv-intrinsic  -decide-bv-bitwise  -decide-graph-bv -decide-theories -no-decide-graph-rnd   -lazy-maxflow-decisions -no-conflict-min-cut -conflict-min-cut-maxflow -reach-underapprox-cnf  -rnd-restart  -no-theory-prop-during-assumps  -no-rnd-theory-order-all  -no-round-robin-theory-order  -check-solution 
begin encode
Loading PN...
assign_to_e2-azure-1rack-50-20servers.pn.json
Bitvector width is 6
1781
Enforcing server core/ram counts
Building edges for source vm_0
Building edges for source vm_1
Building edges for source vm_2
Building edges for source vm_3
Building edges for source vm_4
Building edges for source vm_5
Building edges for source vm_6
Building edges for source vm_7
Building edges for source vm_8
Building edges for source vm_9
maxflow for inserstion graph
maxflow for inserstion graph
enforcing sums
solving...
Done Encoding..
VDC is /home/daisy/netsolver/son-emu/scenarios/topologies/e2-chain-4vnfs-50wa.vn.json
Loading new VDC
Finished loading VDC
Enforcing VN
maxflow for vm_0
Setting sum flow for graph  for source vm_0 to 4
maxflow for vm_1
Setting sum flow for graph  for source vm_1 to 2
maxflow for vm_2
Setting sum flow for graph  for source vm_2 to 2
maxflow for vm_3
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
InitTime: 0.524197  ElapsedTime: 0.524197
Solving...
Solving(2)...
Attempting to allocate to single server
Solving in Monosat...
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 1 (solved)
SolveTime: 0.438446  ElapsedTime: 0.962645 
Solving(3)...
Allocated 1
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 4 (total 4/20) on host chain-server30
Allocated 6 (total 6/20) on host chain-server9
Allocated 1 (total 1/20) on host off-cloud2
Allocated 1 (total 1/20) on host off-cloud9
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 2 (solved)
SolveTime: 0.022920  ElapsedTime: 0.999031 
Solving(4)...
Allocated 2
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 14/20) on host chain-server30
Allocated 1 (total 2/20) on host off-cloud2
Allocated 1 (total 1/20) on host off-cloud7
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 3 (solved)
SolveTime: 0.021219  ElapsedTime: 1.033858 
Solving(5)...
Allocated 3
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 6 (total 20/20) on host chain-server30
Allocated 4 (total 10/20) on host chain-server9
Allocated 1 (total 3/20) on host off-cloud2
Allocated 1 (total 1/20) on host off-cloud6
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 4 (solved)
SolveTime: 0.021187  ElapsedTime: 1.067803 
Solving(6)...
Allocated 4
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 20/20) on host chain-server9
Allocated 1 (total 1/20) on host off-cloud0
Allocated 1 (total 2/20) on host off-cloud6
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 5 (solved)
SolveTime: 0.021338  ElapsedTime: 1.102400 
Solving(7)...
Allocated 5
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 10/20) on host chain-server8
Allocated 1 (total 2/20) on host off-cloud0
Allocated 1 (total 3/20) on host off-cloud6
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 6 (solved)
SolveTime: 0.021677  ElapsedTime: 1.137119 
Solving(8)...
Allocated 6
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 10/20) on host chain-server7
Allocated 1 (total 3/20) on host off-cloud0
Allocated 1 (total 4/20) on host off-cloud6
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 7 (solved)
SolveTime: 0.022019  ElapsedTime: 1.172307 
Solving(9)...
Allocated 7
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 20/20) on host chain-server7
Allocated 1 (total 4/20) on host off-cloud0
Allocated 1 (total 5/20) on host off-cloud6
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 8 (solved)
SolveTime: 0.021758  ElapsedTime: 1.207174 
Solving(10)...
Allocated 8
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 20/20) on host chain-server8
Allocated 1 (total 5/20) on host off-cloud0
Allocated 1 (total 6/20) on host off-cloud6
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 9 (solved)
SolveTime: 0.022102  ElapsedTime: 1.242639 
Solving(11)...
Allocated 9
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 10/20) on host chain-server6
Allocated 1 (total 6/20) on host off-cloud0
Allocated 1 (total 7/20) on host off-cloud6
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 10 (solved)
SolveTime: 0.021789  ElapsedTime: 1.277827 
Solving(12)...
Allocated 10
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 20/20) on host chain-server6
Allocated 1 (total 7/20) on host off-cloud0
Allocated 1 (total 1/20) on host off-cloud5
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 11 (solved)
SolveTime: 0.021882  ElapsedTime: 1.313010 
Solving(13)...
Allocated 11
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 10/20) on host chain-server5
Allocated 1 (total 8/20) on host off-cloud0
Allocated 1 (total 2/20) on host off-cloud5
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 12 (solved)
SolveTime: 0.021759  ElapsedTime: 1.347908 
Solving(14)...
Allocated 12
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 10/20) on host chain-server4
Allocated 1 (total 9/20) on host off-cloud0
Allocated 1 (total 3/20) on host off-cloud5
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 13 (solved)
SolveTime: 0.022656  ElapsedTime: 1.383803 
Solving(15)...
Allocated 13
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 20/20) on host chain-server4
Allocated 1 (total 10/20) on host off-cloud0
Allocated 1 (total 4/20) on host off-cloud5
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 14 (solved)
SolveTime: 0.022183  ElapsedTime: 1.419214 
Solving(16)...
Allocated 14
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 20/20) on host chain-server5
Allocated 1 (total 5/20) on host off-cloud5
Allocated 1 (total 8/20) on host off-cloud6
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 15 (solved)
SolveTime: 0.022271  ElapsedTime: 1.455405 
Solving(17)...
Allocated 15
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 10/20) on host chain-server39
Allocated 2 (total 7/20) on host off-cloud5
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 16 (solved)
SolveTime: 0.022165  ElapsedTime: 1.491510 
Solving(18)...
Allocated 16
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 10/20) on host chain-server38
Allocated 2 (total 9/20) on host off-cloud5
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 17 (solved)
SolveTime: 0.022679  ElapsedTime: 1.527740 
Solving(19)...
Allocated 17
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 20/20) on host chain-server38
Allocated 1 (total 10/20) on host off-cloud5
Allocated 1 (total 9/20) on host off-cloud6
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 18 (solved)
SolveTime: 0.022363  ElapsedTime: 1.563842 
Solving(20)...
Allocated 18
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 20/20) on host chain-server39
Allocated 1 (total 10/20) on host off-cloud6
Allocated 1 (total 2/20) on host off-cloud7
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 19 (solved)
SolveTime: 0.022175  ElapsedTime: 1.600139 
Solving(21)...
Allocated 19
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 10/20) on host chain-server37
Allocated 1 (total 1/20) on host off-cloud3
Allocated 1 (total 1/20) on host off-cloud8
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 20 (solved)
SolveTime: 0.024613  ElapsedTime: 1.638728 
Solving(22)...
Allocated 20
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 10/20) on host chain-server36
Allocated 2 (total 3/20) on host off-cloud3
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 21 (solved)
SolveTime: 0.023018  ElapsedTime: 1.676096 
Solving(23)...
Allocated 21
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 20/20) on host chain-server36
Allocated 2 (total 5/20) on host off-cloud3
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 22 (solved)
SolveTime: 0.022441  ElapsedTime: 1.712831 
Solving(24)...
Allocated 22
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 20/20) on host chain-server37
Allocated 2 (total 7/20) on host off-cloud3
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 23 (solved)
SolveTime: 0.023880  ElapsedTime: 1.751216 
Solving(25)...
Allocated 23
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 10/20) on host chain-server35
Allocated 2 (total 9/20) on host off-cloud3
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 24 (solved)
SolveTime: 0.022402  ElapsedTime: 1.788183 
Solving(26)...
Allocated 24
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 10/20) on host chain-server34
Allocated 1 (total 10/20) on host off-cloud3
Allocated 1 (total 2/20) on host off-cloud8
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 25 (solved)
SolveTime: 0.023160  ElapsedTime: 1.825995 
Solving(27)...
Allocated 25
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 20/20) on host chain-server34
Allocated 1 (total 3/20) on host off-cloud7
Allocated 1 (total 3/20) on host off-cloud8
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 26 (solved)
SolveTime: 0.022443  ElapsedTime: 1.862920 
Solving(28)...
Allocated 26
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 20/20) on host chain-server35
Allocated 1 (total 4/20) on host off-cloud7
Allocated 1 (total 4/20) on host off-cloud8
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 27 (solved)
SolveTime: 0.022945  ElapsedTime: 1.900749 
Solving(29)...
Allocated 27
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 10/20) on host chain-server33
Allocated 1 (total 5/20) on host off-cloud7
Allocated 1 (total 5/20) on host off-cloud8
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 28 (solved)
SolveTime: 0.023337  ElapsedTime: 1.939095 
Solving(30)...
Allocated 28
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 10/20) on host chain-server32
Allocated 1 (total 6/20) on host off-cloud7
Allocated 1 (total 6/20) on host off-cloud8
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 29 (solved)
SolveTime: 0.023364  ElapsedTime: 1.977340 
Solving(31)...
Allocated 29
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 20/20) on host chain-server32
Allocated 1 (total 7/20) on host off-cloud7
Allocated 1 (total 7/20) on host off-cloud8
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 30 (solved)
SolveTime: 0.023896  ElapsedTime: 2.016361 
Solving(32)...
Allocated 30
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 20/20) on host chain-server33
Allocated 1 (total 8/20) on host off-cloud7
Allocated 1 (total 8/20) on host off-cloud8
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 31 (solved)
SolveTime: 0.031804  ElapsedTime: 2.064928 
Solving(33)...
Allocated 31
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 10/20) on host chain-server31
Allocated 1 (total 9/20) on host off-cloud7
Allocated 1 (total 9/20) on host off-cloud8
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 32 (solved)
SolveTime: 0.027218  ElapsedTime: 2.110307 
Solving(34)...
Allocated 32
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 10/20) on host chain-server3
Allocated 1 (total 10/20) on host off-cloud7
Allocated 1 (total 10/20) on host off-cloud8
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 33 (solved)
SolveTime: 0.031369  ElapsedTime: 2.160243 
Solving(35)...
Allocated 33
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 20/20) on host chain-server3
Allocated 2 (total 3/20) on host off-cloud9
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 34 (solved)
SolveTime: 0.028098  ElapsedTime: 2.208573 
Solving(36)...
Allocated 34
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 20/20) on host chain-server31
Allocated 1 (total 1/20) on host off-cloud4
Allocated 1 (total 4/20) on host off-cloud9
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 35 (solved)
SolveTime: 0.030401  ElapsedTime: 2.255658 
Solving(37)...
Allocated 35
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 10/20) on host chain-server29
Allocated 1 (total 2/20) on host off-cloud4
Allocated 1 (total 5/20) on host off-cloud9
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 36 (solved)
SolveTime: 0.026191  ElapsedTime: 2.300515 
Solving(38)...
Allocated 36
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 10/20) on host chain-server28
Allocated 1 (total 3/20) on host off-cloud4
Allocated 1 (total 6/20) on host off-cloud9
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 37 (solved)
SolveTime: 0.024349  ElapsedTime: 2.340884 
Solving(39)...
Allocated 37
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 20/20) on host chain-server28
Allocated 1 (total 4/20) on host off-cloud4
Allocated 1 (total 7/20) on host off-cloud9
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 38 (solved)
SolveTime: 0.023533  ElapsedTime: 2.380240 
Solving(40)...
Allocated 38
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 20/20) on host chain-server29
Allocated 1 (total 5/20) on host off-cloud4
Allocated 1 (total 8/20) on host off-cloud9
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 39 (solved)
SolveTime: 0.023286  ElapsedTime: 2.419636 
Solving(41)...
Allocated 39
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 10/20) on host chain-server27
Allocated 1 (total 6/20) on host off-cloud4
Allocated 1 (total 9/20) on host off-cloud9
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 40 (solved)
SolveTime: 0.023533  ElapsedTime: 2.459324 
Solving(42)...
Allocated 40
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 20/20) on host chain-server27
Allocated 1 (total 7/20) on host off-cloud4
Allocated 1 (total 10/20) on host off-cloud9
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 41 (solved)
SolveTime: 0.024731  ElapsedTime: 2.500489 
Solving(43)...
Allocated 41
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 10/20) on host chain-server26
Allocated 1 (total 4/20) on host off-cloud2
Allocated 1 (total 8/20) on host off-cloud4
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 42 (solved)
SolveTime: 0.025754  ElapsedTime: 2.542693 
Solving(44)...
Allocated 42
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 20/20) on host chain-server26
Allocated 1 (total 5/20) on host off-cloud2
Allocated 1 (total 9/20) on host off-cloud4
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 43 (solved)
SolveTime: 0.023790  ElapsedTime: 2.583043 
Solving(45)...
Allocated 43
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 10/20) on host chain-server25
Allocated 1 (total 1/20) on host off-cloud1
Allocated 1 (total 10/20) on host off-cloud4
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 44 (solved)
SolveTime: 0.026919  ElapsedTime: 2.626349 
Solving(46)...
Allocated 44
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 20/20) on host chain-server25
Allocated 2 (total 3/20) on host off-cloud1
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 45 (solved)
SolveTime: 0.023621  ElapsedTime: 2.666729 
Solving(47)...
Allocated 45
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 6 (total 6/20) on host chain-server0
Allocated 4 (total 4/20) on host chain-server23
Allocated 2 (total 5/20) on host off-cloud1
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 46 (solved)
SolveTime: 0.023487  ElapsedTime: 2.706738 
Solving(48)...
Allocated 46
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 6 (total 12/20) on host chain-server0
Allocated 4 (total 8/20) on host chain-server23
Allocated 2 (total 7/20) on host off-cloud1
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 47 (solved)
SolveTime: 0.023694  ElapsedTime: 2.747299 
Solving(49)...
Allocated 47
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 6 (total 18/20) on host chain-server0
Allocated 4 (total 12/20) on host chain-server23
Allocated 1 (total 8/20) on host off-cloud1
Allocated 1 (total 6/20) on host off-cloud2
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 48 (solved)
SolveTime: 0.023693  ElapsedTime: 2.787836 
Solving(50)...
Allocated 48
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 2 (total 20/20) on host chain-server0
Allocated 4 (total 16/20) on host chain-server23
Allocated 4 (total 4/20) on host chain-server24
Allocated 1 (total 9/20) on host off-cloud1
Allocated 1 (total 7/20) on host off-cloud2
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 49 (solved)
SolveTime: 0.023406  ElapsedTime: 2.828384 
Solving(51)...
Allocated 49
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 4 (total 4/20) on host chain-server1
Allocated 4 (total 20/20) on host chain-server23
Allocated 2 (total 6/20) on host chain-server24
Allocated 1 (total 10/20) on host off-cloud1
Allocated 1 (total 8/20) on host off-cloud2
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Assigned to full datacenter
Solving finished 50 (solved)
SolveTime: 0.023774  ElapsedTime: 2.869558 
Solving(52)...
Allocated 50
Finding unused edges
Finding unused edges done
Quick debug check
Quick debug check done
Initializing empty flow
loading solutions...
Assigned to same rack (checked)
Done loading solution
Updating available bandwidth constraints
Updating available server resource constraints
Allocated 10 (total 14/20) on host chain-server1
Allocated 2 (total 10/20) on host off-cloud2
Done updating server resources
Enforcing VN
Setting sum flow for graph  for source vm_0 to 4
Setting sum flow for graph  for source vm_1 to 2
Setting sum flow for graph  for source vm_2 to 2
Setting sum flow for graph  for source vm_3 to 1
Enforcing server anti-affinity constraints...
Done enforcing VN
Writing log files...
Done writing log files...
Solving..
Attempting to allocate to entire datacenter
Solving in Monosat...
Could not allocate instance to network
Writing log files...
Elapsed time: 2.907808 solving time: 2.869558, 0.7618910000000012, 1.6173670000000004, 0 (0)
Allocated 50
Done
I1209 21:11:50.202969 636804 daisy.py:200] allocation succeeded
I1209 21:11:50.205324 636804 daisy.py:213] not an allocation, but metadata: startup_time
I1209 21:11:50.205641 636804 daisy.py:213] not an allocation, but metadata: server_allocations
I1209 21:11:50.205754 636804 daisy.py:213] not an allocation, but metadata: total_number_of_successfull_insertions
I1209 21:11:50.205882 636804 daisy.py:213] not an allocation, but metadata: cluster_allocations
I1209 21:11:50.205992 636804 daisy.py:213] not an allocation, but metadata: datacenter_allocations
I1209 21:11:50.206146 636804 daisy.py:213] not an allocation, but metadata: rack_allocations
I1209 21:11:50.206257 636804 daisy.py:213] not an allocation, but metadata: total_allocations
I1209 21:11:50.206372 636804 daisy.py:213] not an allocation, but metadata: total_number_of_failed_insertions
I1209 21:11:50.206564 636804 iter-e2-allocation.py:17] started allocating chain: 0
I1209 21:11:50.206782 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server3']
I1209 21:11:50.206897 636804 daisy.py:240] creating chain0-fw on chain-server3
D1209 21:11:50.207307 636804 node.py:55] Starting compute instance u'chain0-fw' in data center 'chain-server3'
D1209 21:11:55.685847 636804 simple.py:169] Setting CPU limit for u'chain0-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:11:55.747446 636804 simple.py:215] Setting MEM limit for u'chain0-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:11:55.867568 636804 net.py:233] addLink: n1=chain0-fw intf1=input -- n2=dc24.s1 intf2=dc24.s1-eth2
D1209 21:11:55.996596 636804 net.py:233] addLink: n1=chain0-fw intf1=output-ids -- n2=dc24.s1 intf2=dc24.s1-eth3
D1209 21:11:56.102011 636804 net.py:233] addLink: n1=chain0-fw intf1=output-vpn -- n2=dc24.s1 intf2=dc24.s1-eth4
I1209 21:11:56.102344 636804 daisy.py:310] successfully created VNF: chain0-fw
I1209 21:11:56.102510 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server3']
I1209 21:11:56.102653 636804 daisy.py:240] creating chain0-ids on chain-server3
D1209 21:11:56.103338 636804 node.py:55] Starting compute instance u'chain0-ids' in data center 'chain-server3'
D1209 21:11:56.611561 636804 simple.py:169] Setting CPU limit for u'chain0-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:11:56.636914 636804 simple.py:215] Setting MEM limit for u'chain0-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:11:56.649697 636804 simple.py:169] Setting CPU limit for u'chain0-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:11:56.674384 636804 simple.py:215] Setting MEM limit for u'chain0-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:11:56.781970 636804 net.py:233] addLink: n1=chain0-ids intf1=input -- n2=dc24.s1 intf2=dc24.s1-eth5
D1209 21:11:56.876266 636804 net.py:233] addLink: n1=chain0-ids intf1=output -- n2=dc24.s1 intf2=dc24.s1-eth6
I1209 21:11:56.876482 636804 daisy.py:310] successfully created VNF: chain0-ids
I1209 21:11:56.876584 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server3']
I1209 21:11:56.876668 636804 daisy.py:240] creating chain0-nat on chain-server3
D1209 21:11:56.876928 636804 node.py:55] Starting compute instance u'chain0-nat' in data center 'chain-server3'
D1209 21:11:57.447259 636804 simple.py:169] Setting CPU limit for u'chain0-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:11:57.468758 636804 simple.py:215] Setting MEM limit for u'chain0-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:11:57.479850 636804 simple.py:169] Setting CPU limit for u'chain0-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:11:57.501801 636804 simple.py:215] Setting MEM limit for u'chain0-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:11:57.512166 636804 simple.py:215] Setting MEM limit for u'chain0-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:11:57.628098 636804 net.py:233] addLink: n1=chain0-nat intf1=input -- n2=dc24.s1 intf2=dc24.s1-eth7
D1209 21:11:57.717951 636804 net.py:233] addLink: n1=chain0-nat intf1=output -- n2=dc24.s1 intf2=dc24.s1-eth8
I1209 21:11:57.718189 636804 daisy.py:310] successfully created VNF: chain0-nat
I1209 21:11:57.718285 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server3']
I1209 21:11:57.718446 636804 daisy.py:240] creating chain0-vpn on chain-server3
D1209 21:11:57.718763 636804 node.py:55] Starting compute instance u'chain0-vpn' in data center 'chain-server3'
D1209 21:11:58.216315 636804 simple.py:169] Setting CPU limit for u'chain0-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:11:58.245469 636804 simple.py:215] Setting MEM limit for u'chain0-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:11:58.259186 636804 simple.py:215] Setting MEM limit for u'chain0-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:11:58.270889 636804 simple.py:169] Setting CPU limit for u'chain0-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:11:58.295510 636804 simple.py:215] Setting MEM limit for u'chain0-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:11:58.308188 636804 simple.py:215] Setting MEM limit for u'chain0-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:11:58.416274 636804 net.py:233] addLink: n1=chain0-vpn intf1=input-ids -- n2=dc24.s1 intf2=dc24.s1-eth9
D1209 21:11:58.536134 636804 net.py:233] addLink: n1=chain0-vpn intf1=input-fw -- n2=dc24.s1 intf2=dc24.s1-eth10
D1209 21:11:58.636807 636804 net.py:233] addLink: n1=chain0-vpn intf1=output -- n2=dc24.s1 intf2=dc24.s1-eth11
I1209 21:11:58.637073 636804 daisy.py:310] successfully created VNF: chain0-vpn
I1209 21:11:58.637175 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud7']
I1209 21:11:58.637253 636804 daisy.py:240] creating chain0-source on off-cloud7
D1209 21:11:58.637546 636804 node.py:55] Starting compute instance u'chain0-source' in data center 'off-cloud7'
D1209 21:11:59.163983 636804 simple.py:169] Setting CPU limit for u'chain0-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:11:59.195847 636804 simple.py:215] Setting MEM limit for u'chain0-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:11:59.322907 636804 net.py:233] addLink: n1=chain0-source intf1=intf1 -- n2=dc17.s1 intf2=dc17.s1-eth2
I1209 21:11:59.323105 636804 daisy.py:310] successfully created VNF: chain0-source
I1209 21:11:59.323184 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud8']
I1209 21:11:59.323250 636804 daisy.py:240] creating chain0-sink on off-cloud8
D1209 21:11:59.323472 636804 node.py:55] Starting compute instance u'chain0-sink' in data center 'off-cloud8'
D1209 21:11:59.819643 636804 simple.py:169] Setting CPU limit for u'chain0-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:11:59.848416 636804 simple.py:215] Setting MEM limit for u'chain0-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:11:59.965837 636804 net.py:233] addLink: n1=chain0-sink intf1=intf2 -- n2=dc22.s1 intf2=dc22.s1-eth2
I1209 21:11:59.966006 636804 daisy.py:310] successfully created VNF: chain0-sink
I1209 21:11:59.966223 636804 daisy.py:311] successfully created chain: 0
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:12:01.336215 636804 daisy.py:401] source, nat, and fw start done
I1209 21:12:01.336414 636804 daisy.py:402] My commands
I1209 21:12:01.411134 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:12:03.413374 636804 daisy.py:419] < 2s wait complete
I1209 21:12:03.413570 636804 daisy.py:420] start VNF chaining
D1209 21:12:03.413780 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain0-source', vnf_src_interface='intf1', vnf_dst_name=u'chain0-nat', vnf_dst_interface='input'
I1209 21:12:03.414041 636804 net.py:665] Path between chain0-source and chain0-nat: ['dc17.s1', u'gsw0', 'dc24.s1']
I1209 21:12:03.414258 636804 net.py:889] add-flow
I1209 21:12:03.414375 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:1,output=1
I1209 21:12:03.422173 636804 net.py:893] add-flow in switch: dc17.s1 in_port: 2 out_port: 1
I1209 21:12:03.422478 636804 net.py:889] add-flow
I1209 21:12:03.422631 636804 net.py:890] in_port=48,dl_vlan=1,action=4
I1209 21:12:03.432832 636804 net.py:893] add-flow in switch: gsw0 in_port: 48 out_port: 4
I1209 21:12:03.433017 636804 net.py:694] end node reached: chain0-nat
I1209 21:12:03.433130 636804 net.py:889] add-flow
I1209 21:12:03.433223 636804 net.py:890] in_port=1,dl_vlan=1,action=strip_vlan,output=7
I1209 21:12:03.443171 636804 net.py:893] add-flow in switch: dc24.s1 in_port: 1 out_port: 7
D1209 21:12:03.443572 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain0-nat', vnf_src_interface='input', vnf_dst_name=u'chain0-source', vnf_dst_interface='intf1'
I1209 21:12:03.443751 636804 net.py:665] Path between chain0-nat and chain0-source: ['dc24.s1', u'gsw0', 'dc17.s1']
I1209 21:12:03.443881 636804 net.py:889] add-flow
I1209 21:12:03.443945 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:2,output=1
I1209 21:12:03.454775 636804 net.py:893] add-flow in switch: dc24.s1 in_port: 7 out_port: 1
I1209 21:12:03.454967 636804 net.py:889] add-flow
I1209 21:12:03.455049 636804 net.py:890] in_port=4,dl_vlan=2,action=48
I1209 21:12:03.467679 636804 net.py:893] add-flow in switch: gsw0 in_port: 4 out_port: 48
I1209 21:12:03.467799 636804 net.py:694] end node reached: chain0-source
I1209 21:12:03.467917 636804 net.py:889] add-flow
I1209 21:12:03.467987 636804 net.py:890] in_port=1,dl_vlan=2,action=strip_vlan,output=2
I1209 21:12:03.478744 636804 net.py:893] add-flow in switch: dc17.s1 in_port: 1 out_port: 2
I1209 21:12:03.478959 636804 daisy.py:322] chain(chain0-source, chain0-nat) output: success: add-flow between chain0-source and chain0-nat with options: {
 "priority": 1000, 
 "path": [
  "dc17.s1", 
  "gsw0", 
  "dc24.s1"
 ], 
 "vlan": 1, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain0-nat and chain0-source with options: {
 "priority": 1000, 
 "path": [
  "dc24.s1", 
  "gsw0", 
  "dc17.s1"
 ], 
 "vlan": 2, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:12:03.479075 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain0-nat', vnf_src_interface='output', vnf_dst_name=u'chain0-fw', vnf_dst_interface='input'
I1209 21:12:03.479192 636804 net.py:665] Path between chain0-nat and chain0-fw: ['dc24.s1']
I1209 21:12:03.479264 636804 net.py:694] end node reached: chain0-fw
I1209 21:12:03.479355 636804 net.py:889] add-flow
I1209 21:12:03.479415 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:3,output=2
I1209 21:12:03.488692 636804 net.py:893] add-flow in switch: dc24.s1 in_port: 8 out_port: 2
I1209 21:12:03.488817 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc24.s1 in_port: 8 out_port: 2
I1209 21:12:03.488950 636804 net.py:931] add-flow
I1209 21:12:03.489027 636804 net.py:932] in_port=8,action=strip_vlan,output=2
I1209 21:12:03.500257 636804 net.py:935] add-flow in switch: dc24.s1 in_port: 8 out_port: 2
D1209 21:12:03.500427 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain0-fw', vnf_src_interface='input', vnf_dst_name=u'chain0-nat', vnf_dst_interface='output'
I1209 21:12:03.500622 636804 net.py:665] Path between chain0-fw and chain0-nat: ['dc24.s1']
I1209 21:12:03.500715 636804 net.py:694] end node reached: chain0-nat
I1209 21:12:03.500854 636804 net.py:889] add-flow
I1209 21:12:03.500922 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:4,output=8
I1209 21:12:03.515983 636804 net.py:893] add-flow in switch: dc24.s1 in_port: 2 out_port: 8
I1209 21:12:03.516088 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc24.s1 in_port: 2 out_port: 8
I1209 21:12:03.516163 636804 net.py:931] add-flow
I1209 21:12:03.516233 636804 net.py:932] in_port=2,action=strip_vlan,output=8
I1209 21:12:03.527544 636804 net.py:935] add-flow in switch: dc24.s1 in_port: 2 out_port: 8
I1209 21:12:03.527730 636804 daisy.py:329] chain(chain0-nat, chain0-fw) output: success: add-flow between chain0-nat and chain0-fw with options: {
 "priority": 1000, 
 "path": [
  "dc24.s1"
 ], 
 "vlan": 3, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain0-fw and chain0-nat with options: {
 "priority": 1000, 
 "path": [
  "dc24.s1"
 ], 
 "vlan": 4, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:12:03.527870 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain0-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain0-ids', vnf_dst_interface='input'
I1209 21:12:03.527998 636804 net.py:665] Path between chain0-fw and chain0-ids: ['dc24.s1']
I1209 21:12:03.528084 636804 net.py:694] end node reached: chain0-ids
I1209 21:12:03.528201 636804 net.py:889] add-flow
I1209 21:12:03.528274 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:5,output=5
I1209 21:12:03.538794 636804 net.py:893] add-flow in switch: dc24.s1 in_port: 3 out_port: 5
D1209 21:12:03.539019 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain0-ids', vnf_src_interface='input', vnf_dst_name=u'chain0-fw', vnf_dst_interface='output-ids'
I1209 21:12:03.539140 636804 net.py:665] Path between chain0-ids and chain0-fw: ['dc24.s1']
I1209 21:12:03.539223 636804 net.py:694] end node reached: chain0-fw
I1209 21:12:03.539330 636804 net.py:889] add-flow
I1209 21:12:03.539397 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:6,output=3
I1209 21:12:03.549889 636804 net.py:893] add-flow in switch: dc24.s1 in_port: 5 out_port: 3
I1209 21:12:03.550013 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc24.s1 in_port: 5 out_port: 3
I1209 21:12:03.550178 636804 net.py:931] add-flow
I1209 21:12:03.550270 636804 net.py:932] in_port=5,action=strip_vlan,output=3
I1209 21:12:03.561661 636804 net.py:935] add-flow in switch: dc24.s1 in_port: 5 out_port: 3
I1209 21:12:03.561840 636804 daisy.py:336] chain(chain0-fw, chain0-ids) output: success: add-flow between chain0-fw and chain0-ids with options: {
 "priority": 1000, 
 "path": [
  "dc24.s1"
 ], 
 "vlan": 5, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain0-ids and chain0-fw with options: {
 "priority": 1000, 
 "path": [
  "dc24.s1"
 ], 
 "vlan": 6, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:12:03.561963 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain0-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain0-vpn', vnf_dst_interface='input-fw'
I1209 21:12:03.562079 636804 net.py:665] Path between chain0-fw and chain0-vpn: ['dc24.s1']
I1209 21:12:03.562217 636804 net.py:694] end node reached: chain0-vpn
I1209 21:12:03.562309 636804 net.py:889] add-flow
I1209 21:12:03.562381 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:7,output=10
I1209 21:12:03.572592 636804 net.py:893] add-flow in switch: dc24.s1 in_port: 4 out_port: 10
D1209 21:12:03.572804 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain0-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain0-fw', vnf_dst_interface='output-vpn'
I1209 21:12:03.572959 636804 net.py:665] Path between chain0-vpn and chain0-fw: ['dc24.s1']
I1209 21:12:03.573035 636804 net.py:694] end node reached: chain0-fw
I1209 21:12:03.573123 636804 net.py:889] add-flow
I1209 21:12:03.573190 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:8,output=4
I1209 21:12:03.581325 636804 net.py:893] add-flow in switch: dc24.s1 in_port: 10 out_port: 4
I1209 21:12:03.581578 636804 daisy.py:343] chain(chain0-fw, chain0-vpn) output: success: add-flow between chain0-fw and chain0-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc24.s1"
 ], 
 "vlan": 7, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain0-vpn and chain0-fw with options: {
 "priority": 1000, 
 "path": [
  "dc24.s1"
 ], 
 "vlan": 8, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:12:03.581701 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain0-ids', vnf_src_interface='output', vnf_dst_name=u'chain0-vpn', vnf_dst_interface='input-ids'
I1209 21:12:03.581840 636804 net.py:665] Path between chain0-ids and chain0-vpn: ['dc24.s1']
I1209 21:12:03.581954 636804 net.py:694] end node reached: chain0-vpn
I1209 21:12:03.582065 636804 net.py:889] add-flow
I1209 21:12:03.582195 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:9,output=9
I1209 21:12:03.590596 636804 net.py:893] add-flow in switch: dc24.s1 in_port: 6 out_port: 9
I1209 21:12:03.590713 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc24.s1 in_port: 6 out_port: 9
I1209 21:12:03.590805 636804 net.py:931] add-flow
I1209 21:12:03.590913 636804 net.py:932] in_port=6,action=strip_vlan,output=9
I1209 21:12:03.601177 636804 net.py:935] add-flow in switch: dc24.s1 in_port: 6 out_port: 9
D1209 21:12:03.601377 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain0-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain0-ids', vnf_dst_interface='output'
I1209 21:12:03.601511 636804 net.py:665] Path between chain0-vpn and chain0-ids: ['dc24.s1']
I1209 21:12:03.601627 636804 net.py:694] end node reached: chain0-ids
I1209 21:12:03.601727 636804 net.py:889] add-flow
I1209 21:12:03.601826 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:10,output=6
I1209 21:12:03.613384 636804 net.py:893] add-flow in switch: dc24.s1 in_port: 9 out_port: 6
I1209 21:12:03.613615 636804 daisy.py:350] chain(chain0-ids, chain0-vpn) output: success: add-flow between chain0-ids and chain0-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc24.s1"
 ], 
 "vlan": 9, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain0-vpn and chain0-ids with options: {
 "priority": 1000, 
 "path": [
  "dc24.s1"
 ], 
 "vlan": 10, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:12:03.613734 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain0-vpn', vnf_src_interface='output', vnf_dst_name=u'chain0-sink', vnf_dst_interface='intf2'
I1209 21:12:03.613890 636804 net.py:665] Path between chain0-vpn and chain0-sink: ['dc24.s1', u'gsw0', 'dc22.s1']
I1209 21:12:03.614037 636804 net.py:889] add-flow
I1209 21:12:03.614166 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:11,output=1
I1209 21:12:03.620867 636804 net.py:893] add-flow in switch: dc24.s1 in_port: 11 out_port: 1
I1209 21:12:03.620999 636804 net.py:889] add-flow
I1209 21:12:03.621071 636804 net.py:890] in_port=4,dl_vlan=11,action=49
I1209 21:12:03.628221 636804 net.py:893] add-flow in switch: gsw0 in_port: 4 out_port: 49
I1209 21:12:03.628340 636804 net.py:694] end node reached: chain0-sink
I1209 21:12:03.628448 636804 net.py:889] add-flow
I1209 21:12:03.628602 636804 net.py:890] in_port=1,dl_vlan=11,action=strip_vlan,output=2
I1209 21:12:03.634706 636804 net.py:893] add-flow in switch: dc22.s1 in_port: 1 out_port: 2
D1209 21:12:03.634902 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain0-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain0-vpn', vnf_dst_interface='output'
I1209 21:12:03.635042 636804 net.py:665] Path between chain0-sink and chain0-vpn: ['dc22.s1', u'gsw0', 'dc24.s1']
I1209 21:12:03.635143 636804 net.py:889] add-flow
I1209 21:12:03.635214 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:12,output=1
I1209 21:12:03.641597 636804 net.py:893] add-flow in switch: dc22.s1 in_port: 2 out_port: 1
I1209 21:12:03.641730 636804 net.py:889] add-flow
I1209 21:12:03.641815 636804 net.py:890] in_port=49,dl_vlan=12,action=4
I1209 21:12:03.648278 636804 net.py:893] add-flow in switch: gsw0 in_port: 49 out_port: 4
I1209 21:12:03.648372 636804 net.py:694] end node reached: chain0-vpn
I1209 21:12:03.648514 636804 net.py:889] add-flow
I1209 21:12:03.648606 636804 net.py:890] in_port=1,dl_vlan=12,action=strip_vlan,output=11
I1209 21:12:03.655688 636804 net.py:893] add-flow in switch: dc24.s1 in_port: 1 out_port: 11
I1209 21:12:03.655884 636804 daisy.py:357] chain(chain0-vpn, chain0-sink) output: success: add-flow between chain0-vpn and chain0-sink with options: {
 "priority": 1000, 
 "path": [
  "dc24.s1", 
  "gsw0", 
  "dc22.s1"
 ], 
 "vlan": 11, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain0-sink and chain0-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc22.s1", 
  "gsw0", 
  "dc24.s1"
 ], 
 "vlan": 12, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:12:04 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:12:04 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:12:04 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:12:04 2017 UDPv4 link local: [undef]
Sat Dec  9 21:12:04 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:12:04 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=6f0f44f2 c262854d
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:12:04 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:12:04 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:12:04 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:12:05 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:12:05 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:12:05 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:12:05 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:12:05 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:12:05 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:12:05 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:12:05 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:12:07 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:12:07 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:12:07 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:12:07 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:12:07 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:12:07 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:12:07 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:05
Sat Dec  9 21:12:07 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:12:07 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:12:07 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:12:07 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:12:07 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:12:07 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:12:07 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:12:07 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:12:07 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:12:07 2017 GID set to nogroup
Sat Dec  9 21:12:07 2017 UID set to nobody
Sat Dec  9 21:12:07 2017 Initialization Sequence Completed
I1209 21:12:10.426152 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:12:15.431673 636804 daisy.py:443] < 5s wait complete
I1209 21:12:15.431969 636804 daisy.py:444] VPN client VNF started
chain0-source -> chain0-sink 
chain0-sink -> chain0-source 
*** Results: 0% dropped (2/2 received)
I1209 21:12:18.620932 636804 daisy.py:369] ping chain0-source -> chain0-sink. Packet drop 0.0%
I1209 21:12:18.651688 636804 bench.py:19] Copying traces into the containers...
I1209 21:12:19.033132 636804 bench.py:29] Running dstat...
I1209 21:12:21.200123 636804 iter-e2-allocation.py:17] started allocating chain: 1
I1209 21:12:21.200496 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server1']
I1209 21:12:21.200619 636804 daisy.py:240] creating chain1-fw on chain-server1
D1209 21:12:21.201491 636804 node.py:55] Starting compute instance u'chain1-fw' in data center 'chain-server1'
D1209 21:12:21.698735 636804 simple.py:169] Setting CPU limit for u'chain1-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:12:21.724533 636804 simple.py:215] Setting MEM limit for u'chain1-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:12:21.846340 636804 net.py:233] addLink: n1=chain1-fw intf1=input -- n2=dc26.s1 intf2=dc26.s1-eth2
D1209 21:12:21.971340 636804 net.py:233] addLink: n1=chain1-fw intf1=output-ids -- n2=dc26.s1 intf2=dc26.s1-eth3
D1209 21:12:22.072629 636804 net.py:233] addLink: n1=chain1-fw intf1=output-vpn -- n2=dc26.s1 intf2=dc26.s1-eth4
I1209 21:12:22.072804 636804 daisy.py:310] successfully created VNF: chain1-fw
I1209 21:12:22.072877 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server1']
I1209 21:12:22.072961 636804 daisy.py:240] creating chain1-ids on chain-server1
D1209 21:12:22.073249 636804 node.py:55] Starting compute instance u'chain1-ids' in data center 'chain-server1'
D1209 21:12:22.568242 636804 simple.py:169] Setting CPU limit for u'chain1-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:12:22.593363 636804 simple.py:215] Setting MEM limit for u'chain1-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:12:22.604377 636804 simple.py:169] Setting CPU limit for u'chain1-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:12:22.623039 636804 simple.py:215] Setting MEM limit for u'chain1-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:12:22.735435 636804 net.py:233] addLink: n1=chain1-ids intf1=input -- n2=dc26.s1 intf2=dc26.s1-eth5
D1209 21:12:22.862972 636804 net.py:233] addLink: n1=chain1-ids intf1=output -- n2=dc26.s1 intf2=dc26.s1-eth6
I1209 21:12:22.863168 636804 daisy.py:310] successfully created VNF: chain1-ids
I1209 21:12:22.863311 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server1']
I1209 21:12:22.863393 636804 daisy.py:240] creating chain1-nat on chain-server1
D1209 21:12:22.863675 636804 node.py:55] Starting compute instance u'chain1-nat' in data center 'chain-server1'
D1209 21:12:23.391120 636804 simple.py:169] Setting CPU limit for u'chain1-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:12:23.413968 636804 simple.py:215] Setting MEM limit for u'chain1-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:12:23.423953 636804 simple.py:215] Setting MEM limit for u'chain1-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:12:23.434680 636804 simple.py:169] Setting CPU limit for u'chain1-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:12:23.455769 636804 simple.py:215] Setting MEM limit for u'chain1-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:12:23.574573 636804 net.py:233] addLink: n1=chain1-nat intf1=input -- n2=dc26.s1 intf2=dc26.s1-eth7
D1209 21:12:23.686271 636804 net.py:233] addLink: n1=chain1-nat intf1=output -- n2=dc26.s1 intf2=dc26.s1-eth8
I1209 21:12:23.686454 636804 daisy.py:310] successfully created VNF: chain1-nat
I1209 21:12:23.686567 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server1']
I1209 21:12:23.686640 636804 daisy.py:240] creating chain1-vpn on chain-server1
D1209 21:12:23.686898 636804 node.py:55] Starting compute instance u'chain1-vpn' in data center 'chain-server1'
D1209 21:12:24.486953 636804 simple.py:215] Setting MEM limit for u'chain1-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:12:24.499767 636804 simple.py:215] Setting MEM limit for u'chain1-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:12:24.511430 636804 simple.py:169] Setting CPU limit for u'chain1-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:12:24.532797 636804 simple.py:215] Setting MEM limit for u'chain1-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:12:24.543251 636804 simple.py:169] Setting CPU limit for u'chain1-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:12:24.563483 636804 simple.py:215] Setting MEM limit for u'chain1-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:12:24.678397 636804 net.py:233] addLink: n1=chain1-vpn intf1=input-ids -- n2=dc26.s1 intf2=dc26.s1-eth9
D1209 21:12:24.793126 636804 net.py:233] addLink: n1=chain1-vpn intf1=input-fw -- n2=dc26.s1 intf2=dc26.s1-eth10
D1209 21:12:24.914268 636804 net.py:233] addLink: n1=chain1-vpn intf1=output -- n2=dc26.s1 intf2=dc26.s1-eth11
I1209 21:12:24.914453 636804 daisy.py:310] successfully created VNF: chain1-vpn
I1209 21:12:24.914606 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud2']
I1209 21:12:24.914695 636804 daisy.py:240] creating chain1-sink on off-cloud2
D1209 21:12:24.914962 636804 node.py:55] Starting compute instance u'chain1-sink' in data center 'off-cloud2'
D1209 21:12:25.413002 636804 simple.py:169] Setting CPU limit for u'chain1-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:12:25.440155 636804 simple.py:215] Setting MEM limit for u'chain1-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:12:25.548247 636804 net.py:233] addLink: n1=chain1-sink intf1=intf2 -- n2=dc14.s1 intf2=dc14.s1-eth2
I1209 21:12:25.548410 636804 daisy.py:310] successfully created VNF: chain1-sink
I1209 21:12:25.548526 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud2']
I1209 21:12:25.548588 636804 daisy.py:240] creating chain1-source on off-cloud2
D1209 21:12:25.548815 636804 node.py:55] Starting compute instance u'chain1-source' in data center 'off-cloud2'
D1209 21:12:26.081677 636804 simple.py:215] Setting MEM limit for u'chain1-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:12:26.094624 636804 simple.py:169] Setting CPU limit for u'chain1-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:12:26.114999 636804 simple.py:215] Setting MEM limit for u'chain1-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:12:26.241578 636804 net.py:233] addLink: n1=chain1-source intf1=intf1 -- n2=dc14.s1 intf2=dc14.s1-eth3
I1209 21:12:26.241902 636804 daisy.py:310] successfully created VNF: chain1-source
I1209 21:12:26.242039 636804 daisy.py:311] successfully created chain: 1
returned 10 from export PYTHONHASHSEED=1 && python3 ../../../monosat_datacenter/src/netsolver_nfv.py ../topologies/e2-azure-1rack-50-20servers.pn.json ../topologies/e2-chain-4vnfs-50wa.vn.json --output /tmp/ns_out.json --max-resource 4 (0 is success)
[{u'allocation_time': 0.027217999999999964, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server3'], [u'ids', u'chain-server3'], [u'nat', u'chain-server3'], [u'vpn', u'chain-server3'], [u'source', u'off-cloud7'], [u'sink', u'off-cloud8']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 2.110307, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud7', 2], [u'chain-server3', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server3', 2], [u'off-cloud8', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain0-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain0-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain0-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain0-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain0-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain0-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain0-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain0-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain0-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain0-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain0-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain0-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain0-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain0-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain0-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain0-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain0-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain0-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain0-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain0-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain0-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain0-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain0-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain0-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain0-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain0-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.023773999999999962, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server1'], [u'ids', u'chain-server1'], [u'nat', u'chain-server1'], [u'vpn', u'chain-server1'], [u'sink', u'off-cloud2'], [u'source', u'off-cloud2']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 2.869558, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud2', 2], [u'chain-server1', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'off-cloud2', u'gsw', 2], [u'gsw', u'chain-server1', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain1-source ifconfig intf1 hSetting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:12:28.265455 636804 daisy.py:401] source, nat, and fw start done
I1209 21:12:28.265639 636804 daisy.py:402] My commands
I1209 21:12:28.340486 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:12:30.342711 636804 daisy.py:419] < 2s wait complete
I1209 21:12:30.342885 636804 daisy.py:420] start VNF chaining
D1209 21:12:30.342979 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain1-source', vnf_src_interface='intf1', vnf_dst_name=u'chain1-nat', vnf_dst_interface='input'
I1209 21:12:30.343159 636804 net.py:665] Path between chain1-source and chain1-nat: ['dc14.s1', u'gsw0', 'dc26.s1']
I1209 21:12:30.343307 636804 net.py:889] add-flow
I1209 21:12:30.343369 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:13,output=1
I1209 21:12:30.348962 636804 net.py:893] add-flow in switch: dc14.s1 in_port: 3 out_port: 1
I1209 21:12:30.349078 636804 net.py:889] add-flow
I1209 21:12:30.349160 636804 net.py:890] in_port=43,dl_vlan=13,action=2
I1209 21:12:30.358638 636804 net.py:893] add-flow in switch: gsw0 in_port: 43 out_port: 2
I1209 21:12:30.358753 636804 net.py:694] end node reached: chain1-nat
I1209 21:12:30.358850 636804 net.py:889] add-flow
I1209 21:12:30.358908 636804 net.py:890] in_port=1,dl_vlan=13,action=strip_vlan,output=7
I1209 21:12:30.366806 636804 net.py:893] add-flow in switch: dc26.s1 in_port: 1 out_port: 7
D1209 21:12:30.367012 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain1-nat', vnf_src_interface='input', vnf_dst_name=u'chain1-source', vnf_dst_interface='intf1'
I1209 21:12:30.367126 636804 net.py:665] Path between chain1-nat and chain1-source: ['dc26.s1', u'gsw0', 'dc14.s1']
I1209 21:12:30.367228 636804 net.py:889] add-flow
I1209 21:12:30.367291 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:14,output=1
I1209 21:12:30.375145 636804 net.py:893] add-flow in switch: dc26.s1 in_port: 7 out_port: 1
I1209 21:12:30.375268 636804 net.py:889] add-flow
I1209 21:12:30.375365 636804 net.py:890] in_port=2,dl_vlan=14,action=43
I1209 21:12:30.383899 636804 net.py:893] add-flow in switch: gsw0 in_port: 2 out_port: 43
I1209 21:12:30.384012 636804 net.py:694] end node reached: chain1-source
I1209 21:12:30.384099 636804 net.py:889] add-flow
I1209 21:12:30.384157 636804 net.py:890] in_port=1,dl_vlan=14,action=strip_vlan,output=3
I1209 21:12:30.391283 636804 net.py:893] add-flow in switch: dc14.s1 in_port: 1 out_port: 3
I1209 21:12:30.391469 636804 daisy.py:322] chain(chain1-source, chain1-nat) output: success: add-flow between chain1-source and chain1-nat with options: {
 "priority": 1000, 
 "path": [
  "dc14.s1", 
  "gsw0", 
  "dc26.s1"
 ], 
 "vlan": 13, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain1-nat and chain1-source with options: {
 "priority": 1000, 
 "path": [
  "dc26.s1", 
  "gsw0", 
  "dc14.s1"
 ], 
 "vlan": 14, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:12:30.391648 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain1-nat', vnf_src_interface='output', vnf_dst_name=u'chain1-fw', vnf_dst_interface='input'
I1209 21:12:30.391752 636804 net.py:665] Path between chain1-nat and chain1-fw: ['dc26.s1']
I1209 21:12:30.391859 636804 net.py:694] end node reached: chain1-fw
I1209 21:12:30.391932 636804 net.py:889] add-flow
I1209 21:12:30.391997 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:15,output=2
I1209 21:12:30.400271 636804 net.py:893] add-flow in switch: dc26.s1 in_port: 8 out_port: 2
I1209 21:12:30.400396 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc26.s1 in_port: 8 out_port: 2
I1209 21:12:30.400485 636804 net.py:931] add-flow
I1209 21:12:30.400593 636804 net.py:932] in_port=8,action=strip_vlan,output=2
I1209 21:12:30.409399 636804 net.py:935] add-flow in switch: dc26.s1 in_port: 8 out_port: 2
D1209 21:12:30.409578 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain1-fw', vnf_src_interface='input', vnf_dst_name=u'chain1-nat', vnf_dst_interface='output'
I1209 21:12:30.409677 636804 net.py:665] Path between chain1-fw and chain1-nat: ['dc26.s1']
I1209 21:12:30.409769 636804 net.py:694] end node reached: chain1-nat
I1209 21:12:30.409878 636804 net.py:889] add-flow
I1209 21:12:30.409940 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:16,output=8
I1209 21:12:30.418443 636804 net.py:893] add-flow in switch: dc26.s1 in_port: 2 out_port: 8
I1209 21:12:30.418557 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc26.s1 in_port: 2 out_port: 8
I1209 21:12:30.418705 636804 net.py:931] add-flow
I1209 21:12:30.418771 636804 net.py:932] in_port=2,action=strip_vlan,output=8
I1209 21:12:30.427229 636804 net.py:935] add-flow in switch: dc26.s1 in_port: 2 out_port: 8
I1209 21:12:30.427407 636804 daisy.py:329] chain(chain1-nat, chain1-fw) output: success: add-flow between chain1-nat and chain1-fw with options: {
 "priority": 1000, 
 "path": [
  "dc26.s1"
 ], 
 "vlan": 15, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain1-fw and chain1-nat with options: {
 "priority": 1000, 
 "path": [
  "dc26.s1"
 ], 
 "vlan": 16, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:12:30.427594 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain1-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain1-ids', vnf_dst_interface='input'
I1209 21:12:30.427764 636804 net.py:665] Path between chain1-fw and chain1-ids: ['dc26.s1']
I1209 21:12:30.427860 636804 net.py:694] end node reached: chain1-ids
I1209 21:12:30.427949 636804 net.py:889] add-flow
I1209 21:12:30.428010 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:17,output=5
I1209 21:12:30.436393 636804 net.py:893] add-flow in switch: dc26.s1 in_port: 3 out_port: 5
D1209 21:12:30.436640 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain1-ids', vnf_src_interface='input', vnf_dst_name=u'chain1-fw', vnf_dst_interface='output-ids'
I1209 21:12:30.436760 636804 net.py:665] Path between chain1-ids and chain1-fw: ['dc26.s1']
I1209 21:12:30.436835 636804 net.py:694] end node reached: chain1-fw
I1209 21:12:30.436922 636804 net.py:889] add-flow
I1209 21:12:30.436985 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:18,output=3
I1209 21:12:30.444304 636804 net.py:893] add-flow in switch: dc26.s1 in_port: 5 out_port: 3
I1209 21:12:30.444421 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc26.s1 in_port: 5 out_port: 3
I1209 21:12:30.444531 636804 net.py:931] add-flow
I1209 21:12:30.444654 636804 net.py:932] in_port=5,action=strip_vlan,output=3
I1209 21:12:30.455990 636804 net.py:935] add-flow in switch: dc26.s1 in_port: 5 out_port: 3
I1209 21:12:30.456238 636804 daisy.py:336] chain(chain1-fw, chain1-ids) output: success: add-flow between chain1-fw and chain1-ids with options: {
 "priority": 1000, 
 "path": [
  "dc26.s1"
 ], 
 "vlan": 17, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain1-ids and chain1-fw with options: {
 "priority": 1000, 
 "path": [
  "dc26.s1"
 ], 
 "vlan": 18, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:12:30.456362 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain1-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain1-vpn', vnf_dst_interface='input-fw'
I1209 21:12:30.456490 636804 net.py:665] Path between chain1-fw and chain1-vpn: ['dc26.s1']
I1209 21:12:30.456609 636804 net.py:694] end node reached: chain1-vpn
I1209 21:12:30.456695 636804 net.py:889] add-flow
I1209 21:12:30.456753 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:19,output=10
I1209 21:12:30.468847 636804 net.py:893] add-flow in switch: dc26.s1 in_port: 4 out_port: 10
D1209 21:12:30.469031 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain1-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain1-fw', vnf_dst_interface='output-vpn'
I1209 21:12:30.469161 636804 net.py:665] Path between chain1-vpn and chain1-fw: ['dc26.s1']
I1209 21:12:30.469322 636804 net.py:694] end node reached: chain1-fw
I1209 21:12:30.469420 636804 net.py:889] add-flow
I1209 21:12:30.469497 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:20,output=4
I1209 21:12:30.475852 636804 net.py:893] add-flow in switch: dc26.s1 in_port: 10 out_port: 4
I1209 21:12:30.476016 636804 daisy.py:343] chain(chain1-fw, chain1-vpn) output: success: add-flow between chain1-fw and chain1-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc26.s1"
 ], 
 "vlan": 19, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain1-vpn and chain1-fw with options: {
 "priority": 1000, 
 "path": [
  "dc26.s1"
 ], 
 "vlan": 20, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:12:30.476109 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain1-ids', vnf_src_interface='output', vnf_dst_name=u'chain1-vpn', vnf_dst_interface='input-ids'
I1209 21:12:30.476300 636804 net.py:665] Path between chain1-ids and chain1-vpn: ['dc26.s1']
I1209 21:12:30.476389 636804 net.py:694] end node reached: chain1-vpn
I1209 21:12:30.476492 636804 net.py:889] add-flow
I1209 21:12:30.476591 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:21,output=9
I1209 21:12:30.482296 636804 net.py:893] add-flow in switch: dc26.s1 in_port: 6 out_port: 9
I1209 21:12:30.482413 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc26.s1 in_port: 6 out_port: 9
I1209 21:12:30.482522 636804 net.py:931] add-flow
I1209 21:12:30.482609 636804 net.py:932] in_port=6,action=strip_vlan,output=9
I1209 21:12:30.489253 636804 net.py:935] add-flow in switch: dc26.s1 in_port: 6 out_port: 9
D1209 21:12:30.489432 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain1-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain1-ids', vnf_dst_interface='output'
I1209 21:12:30.489595 636804 net.py:665] Path between chain1-vpn and chain1-ids: ['dc26.s1']
I1209 21:12:30.489666 636804 net.py:694] end node reached: chain1-ids
I1209 21:12:30.489743 636804 net.py:889] add-flow
I1209 21:12:30.489809 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:22,output=6
I1209 21:12:30.501341 636804 net.py:893] add-flow in switch: dc26.s1 in_port: 9 out_port: 6
I1209 21:12:30.501517 636804 daisy.py:350] chain(chain1-ids, chain1-vpn) output: success: add-flow between chain1-ids and chain1-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc26.s1"
 ], 
 "vlan": 21, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain1-vpn and chain1-ids with options: {
 "priority": 1000, 
 "path": [
  "dc26.s1"
 ], 
 "vlan": 22, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:12:30.501666 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain1-vpn', vnf_src_interface='output', vnf_dst_name=u'chain1-sink', vnf_dst_interface='intf2'
I1209 21:12:30.501800 636804 net.py:665] Path between chain1-vpn and chain1-sink: ['dc26.s1', u'gsw0', 'dc14.s1']
I1209 21:12:30.501884 636804 net.py:889] add-flow
I1209 21:12:30.501945 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:23,output=1
I1209 21:12:30.508824 636804 net.py:893] add-flow in switch: dc26.s1 in_port: 11 out_port: 1
I1209 21:12:30.508929 636804 net.py:889] add-flow
I1209 21:12:30.509001 636804 net.py:890] in_port=2,dl_vlan=23,action=43
I1209 21:12:30.515564 636804 net.py:893] add-flow in switch: gsw0 in_port: 2 out_port: 43
I1209 21:12:30.515677 636804 net.py:694] end node reached: chain1-sink
I1209 21:12:30.515764 636804 net.py:889] add-flow
I1209 21:12:30.515831 636804 net.py:890] in_port=1,dl_vlan=23,action=strip_vlan,output=2
I1209 21:12:30.522758 636804 net.py:893] add-flow in switch: dc14.s1 in_port: 1 out_port: 2
D1209 21:12:30.522955 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain1-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain1-vpn', vnf_dst_interface='output'
I1209 21:12:30.523108 636804 net.py:665] Path between chain1-sink and chain1-vpn: ['dc14.s1', u'gsw0', 'dc26.s1']
I1209 21:12:30.523266 636804 net.py:889] add-flow
I1209 21:12:30.523341 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:24,output=1
I1209 21:12:30.530252 636804 net.py:893] add-flow in switch: dc14.s1 in_port: 2 out_port: 1
I1209 21:12:30.530389 636804 net.py:889] add-flow
I1209 21:12:30.530468 636804 net.py:890] in_port=43,dl_vlan=24,action=2
I1209 21:12:30.537122 636804 net.py:893] add-flow in switch: gsw0 in_port: 43 out_port: 2
I1209 21:12:30.537302 636804 net.py:694] end node reached: chain1-vpn
I1209 21:12:30.537419 636804 net.py:889] add-flow
I1209 21:12:30.537492 636804 net.py:890] in_port=1,dl_vlan=24,action=strip_vlan,output=11
I1209 21:12:30.543817 636804 net.py:893] add-flow in switch: dc26.s1 in_port: 1 out_port: 11
I1209 21:12:30.543966 636804 daisy.py:357] chain(chain1-vpn, chain1-sink) output: success: add-flow between chain1-vpn and chain1-sink with options: {
 "priority": 1000, 
 "path": [
  "dc26.s1", 
  "gsw0", 
  "dc14.s1"
 ], 
 "vlan": 23, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain1-sink and chain1-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc14.s1", 
  "gsw0", 
  "dc26.s1"
 ], 
 "vlan": 24, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:12:32 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:12:32 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:12:32 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:12:32 2017 UDPv4 link local: [undef]
Sat Dec  9 21:12:32 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:12:32 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=e51ec65f 8cd24da6
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:12:32 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:12:32 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:12:32 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:12:32 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:12:32 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:12:32 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:12:32 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:12:32 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:12:32 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:12:32 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:12:32 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:12:34 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:12:34 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:12:34 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:12:34 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:12:34 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:12:34 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:12:34 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:0b
Sat Dec  9 21:12:34 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:12:34 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:12:34 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:12:34 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:12:34 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:12:34 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:12:34 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:12:34 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:12:34 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:12:34 2017 GID set to nogroup
Sat Dec  9 21:12:34 2017 UID set to nobody
Sat Dec  9 21:12:34 2017 Initialization Sequence Completed
I1209 21:12:37.725586 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:12:42.730860 636804 daisy.py:443] < 5s wait complete
I1209 21:12:42.731024 636804 daisy.py:444] VPN client VNF started
chain1-source -> chain1-sink 
chain1-sink -> chain1-source 
*** Results: 0% dropped (2/2 received)
I1209 21:12:45.207581 636804 daisy.py:369] ping chain1-source -> chain1-sink. Packet drop 0.0%
I1209 21:12:45.230408 636804 bench.py:19] Copying traces into the containers...
I1209 21:12:45.629646 636804 bench.py:29] Running dstat...
I1209 21:12:47.785428 636804 iter-e2-allocation.py:17] started allocating chain: 2
I1209 21:12:47.785742 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server3']
I1209 21:12:47.785844 636804 daisy.py:240] creating chain2-fw on chain-server3
D1209 21:12:47.786295 636804 node.py:55] Starting compute instance u'chain2-fw' in data center 'chain-server3'
D1209 21:12:48.270049 636804 simple.py:215] Setting MEM limit for u'chain0-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:12:48.284630 636804 simple.py:215] Setting MEM limit for u'chain0-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:12:48.298485 636804 simple.py:169] Setting CPU limit for u'chain0-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:12:48.324923 636804 simple.py:215] Setting MEM limit for u'chain0-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:12:48.336288 636804 simple.py:169] Setting CPU limit for u'chain2-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:12:48.360327 636804 simple.py:215] Setting MEM limit for u'chain2-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:12:48.372380 636804 simple.py:215] Setting MEM limit for u'chain0-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:12:48.476371 636804 net.py:233] addLink: n1=chain2-fw intf1=input -- n2=dc24.s1 intf2=dc24.s1-eth12
D1209 21:12:48.573345 636804 net.py:233] addLink: n1=chain2-fw intf1=output-ids -- n2=dc24.s1 intf2=dc24.s1-eth13
D1209 21:12:48.669322 636804 net.py:233] addLink: n1=chain2-fw intf1=output-vpn -- n2=dc24.s1 intf2=dc24.s1-eth14
I1209 21:12:48.669519 636804 daisy.py:310] successfully created VNF: chain2-fw
I1209 21:12:48.669619 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server3']
I1209 21:12:48.669686 636804 daisy.py:240] creating chain2-ids on chain-server3
D1209 21:12:48.669971 636804 node.py:55] Starting compute instance u'chain2-ids' in data center 'chain-server3'
D1209 21:12:49.172987 636804 simple.py:169] Setting CPU limit for u'chain2-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:12:49.201651 636804 simple.py:215] Setting MEM limit for u'chain2-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:12:49.214006 636804 simple.py:215] Setting MEM limit for u'chain0-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:12:49.225553 636804 simple.py:169] Setting CPU limit for u'chain0-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:12:49.248564 636804 simple.py:215] Setting MEM limit for u'chain0-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:12:49.260420 636804 simple.py:215] Setting MEM limit for u'chain0-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:12:49.274048 636804 simple.py:169] Setting CPU limit for u'chain2-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:12:49.300528 636804 simple.py:215] Setting MEM limit for u'chain2-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:12:49.313647 636804 simple.py:215] Setting MEM limit for u'chain0-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:12:49.438308 636804 net.py:233] addLink: n1=chain2-ids intf1=input -- n2=dc24.s1 intf2=dc24.s1-eth15
D1209 21:12:49.545474 636804 net.py:233] addLink: n1=chain2-ids intf1=output -- n2=dc24.s1 intf2=dc24.s1-eth16
I1209 21:12:49.545609 636804 daisy.py:310] successfully created VNF: chain2-ids
I1209 21:12:49.545701 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server3']
I1209 21:12:49.545764 636804 daisy.py:240] creating chain2-nat on chain-server3
D1209 21:12:49.546001 636804 node.py:55] Starting compute instance u'chain2-nat' in data center 'chain-server3'
D1209 21:12:50.309111 636804 simple.py:215] Setting MEM limit for u'chain2-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:12:50.325577 636804 simple.py:215] Setting MEM limit for u'chain0-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:12:50.338243 636804 simple.py:169] Setting CPU limit for u'chain0-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:12:50.361690 636804 simple.py:215] Setting MEM limit for u'chain0-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:12:50.376290 636804 simple.py:215] Setting MEM limit for u'chain0-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:12:50.389799 636804 simple.py:169] Setting CPU limit for u'chain2-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:12:50.415708 636804 simple.py:215] Setting MEM limit for u'chain2-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:12:50.428575 636804 simple.py:215] Setting MEM limit for u'chain0-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:12:50.441827 636804 simple.py:169] Setting CPU limit for u'chain2-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:12:50.468334 636804 simple.py:215] Setting MEM limit for u'chain2-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:12:50.596040 636804 net.py:233] addLink: n1=chain2-nat intf1=input -- n2=dc24.s1 intf2=dc24.s1-eth17
D1209 21:12:50.709404 636804 net.py:233] addLink: n1=chain2-nat intf1=output -- n2=dc24.s1 intf2=dc24.s1-eth18
I1209 21:12:50.709639 636804 daisy.py:310] successfully created VNF: chain2-nat
I1209 21:12:50.709738 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server3']
I1209 21:12:50.709801 636804 daisy.py:240] creating chain2-vpn on chain-server3
D1209 21:12:50.710073 636804 node.py:55] Starting compute instance u'chain2-vpn' in data center 'chain-server3'
D1209 21:12:51.239784 636804 simple.py:215] Setting MEM limit for u'chain2-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:12:51.256442 636804 simple.py:215] Setting MEM limit for u'chain0-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:12:51.275069 636804 simple.py:169] Setting CPU limit for u'chain0-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:12:51.305006 636804 simple.py:215] Setting MEM limit for u'chain0-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:12:51.319178 636804 simple.py:169] Setting CPU limit for u'chain2-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:12:51.346326 636804 simple.py:215] Setting MEM limit for u'chain2-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:12:51.360635 636804 simple.py:215] Setting MEM limit for u'chain0-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:12:51.374862 636804 simple.py:169] Setting CPU limit for u'chain2-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:12:51.402822 636804 simple.py:215] Setting MEM limit for u'chain2-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:12:51.415421 636804 simple.py:215] Setting MEM limit for u'chain0-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:12:51.428450 636804 simple.py:215] Setting MEM limit for u'chain2-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:12:51.548790 636804 net.py:233] addLink: n1=chain2-vpn intf1=input-ids -- n2=dc24.s1 intf2=dc24.s1-eth19
D1209 21:12:51.664443 636804 net.py:233] addLink: n1=chain2-vpn intf1=input-fw -- n2=dc24.s1 intf2=dc24.s1-eth20
D1209 21:12:51.779923 636804 net.py:233] addLink: n1=chain2-vpn intf1=output -- n2=dc24.s1 intf2=dc24.s1-eth21
I1209 21:12:51.780081 636804 daisy.py:310] successfully created VNF: chain2-vpn
I1209 21:12:51.780258 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud9']
I1209 21:12:51.780335 636804 daisy.py:240] creating chain2-sink on off-cloud9
D1209 21:12:51.780673 636804 node.py:55] Starting compute instance u'chain2-sink' in data center 'off-cloud9'
D1209 21:12:52.297826 636804 simple.py:169] Setting CPU limit for u'chain2-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:12:52.339359 636804 simple.py:215] Setting MEM limit for u'chain2-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:12:52.455920 636804 net.py:233] addLink: n1=chain2-sink intf1=intf2 -- n2=dc21.s1 intf2=dc21.s1-eth2
I1209 21:12:52.456181 636804 daisy.py:310] successfully created VNF: chain2-sink
I1209 21:12:52.456319 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud9']
I1209 21:12:52.456418 636804 daisy.py:240] creating chain2-source on off-cloud9
D1209 21:12:52.456753 636804 node.py:55] Starting compute instance u'chain2-source' in data center 'off-cloud9'
D1209 21:12:52.972398 636804 simple.py:169] Setting CPU limit for u'chain2-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:12:53.000015 636804 simple.py:215] Setting MEM limit for u'chain2-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:12:53.011322 636804 simple.py:215] Setting MEM limit for u'chain2-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:12:53.130235 636804 net.py:233] addLink: n1=chain2-source intf1=intf1 -- n2=dc21.s1 intf2=dc21.s1-eth3
I1209 21:12:53.130434 636804 daisy.py:310] successfully created VNF: chain2-source
I1209 21:12:53.130569 636804 daisy.py:311] successfully created chain: 2
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
w ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain1-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain1-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain1-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain1-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain1-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain1-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain1-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain1-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain1-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain1-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain1-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain1-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain1-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain1-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain1-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain1-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain1-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain1-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain1-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain1-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain1-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain1-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain1-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain1-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain1-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.03136899999999976, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server3'], [u'ids', u'chain-server3'], [u'nat', u'chain-server3'], [u'vpn', u'chain-server3'], [u'sink', u'off-cloud9'], [u'source', u'off-cloud9']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 2.160243, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud9', 2], [u'chain-server3', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server3', 2], [u'off-cloud9', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain2-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain2-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain2-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain2-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain2-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain2-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain2-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain2-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain2-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain2-fw route del -net 10.0.1.0/24 dev output-ids (I1209 21:12:54.841969 636804 daisy.py:401] source, nat, and fw start done
I1209 21:12:54.842225 636804 daisy.py:402] My commands
I1209 21:12:54.921515 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:12:56.923758 636804 daisy.py:419] < 2s wait complete
I1209 21:12:56.923938 636804 daisy.py:420] start VNF chaining
D1209 21:12:56.924062 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain2-source', vnf_src_interface='intf1', vnf_dst_name=u'chain2-nat', vnf_dst_interface='input'
I1209 21:12:56.924325 636804 net.py:665] Path between chain2-source and chain2-nat: ['dc21.s1', u'gsw0', 'dc24.s1']
I1209 21:12:56.924529 636804 net.py:889] add-flow
I1209 21:12:56.924602 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:25,output=1
I1209 21:12:56.929753 636804 net.py:893] add-flow in switch: dc21.s1 in_port: 3 out_port: 1
I1209 21:12:56.929879 636804 net.py:889] add-flow
I1209 21:12:56.929974 636804 net.py:890] in_port=50,dl_vlan=25,action=4
I1209 21:12:56.939588 636804 net.py:893] add-flow in switch: gsw0 in_port: 50 out_port: 4
I1209 21:12:56.939685 636804 net.py:694] end node reached: chain2-nat
I1209 21:12:56.939798 636804 net.py:889] add-flow
I1209 21:12:56.939884 636804 net.py:890] in_port=1,dl_vlan=25,action=strip_vlan,output=17
I1209 21:12:56.948364 636804 net.py:893] add-flow in switch: dc24.s1 in_port: 1 out_port: 17
D1209 21:12:56.948638 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain2-nat', vnf_src_interface='input', vnf_dst_name=u'chain2-source', vnf_dst_interface='intf1'
I1209 21:12:56.948791 636804 net.py:665] Path between chain2-nat and chain2-source: ['dc24.s1', u'gsw0', 'dc21.s1']
I1209 21:12:56.948903 636804 net.py:889] add-flow
I1209 21:12:56.948987 636804 net.py:890] -O OpenFlow13 in_port=17,action=mod_vlan_vid:26,output=1
I1209 21:12:56.956788 636804 net.py:893] add-flow in switch: dc24.s1 in_port: 17 out_port: 1
I1209 21:12:56.956912 636804 net.py:889] add-flow
I1209 21:12:56.956995 636804 net.py:890] in_port=4,dl_vlan=26,action=50
I1209 21:12:56.967253 636804 net.py:893] add-flow in switch: gsw0 in_port: 4 out_port: 50
I1209 21:12:56.967358 636804 net.py:694] end node reached: chain2-source
I1209 21:12:56.967463 636804 net.py:889] add-flow
I1209 21:12:56.967561 636804 net.py:890] in_port=1,dl_vlan=26,action=strip_vlan,output=3
I1209 21:12:56.976635 636804 net.py:893] add-flow in switch: dc21.s1 in_port: 1 out_port: 3
I1209 21:12:56.976855 636804 daisy.py:322] chain(chain2-source, chain2-nat) output: success: add-flow between chain2-source and chain2-nat with options: {
 "priority": 1000, 
 "path": [
  "dc21.s1", 
  "gsw0", 
  "dc24.s1"
 ], 
 "vlan": 25, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain2-nat and chain2-source with options: {
 "priority": 1000, 
 "path": [
  "dc24.s1", 
  "gsw0", 
  "dc21.s1"
 ], 
 "vlan": 26, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:12:56.977015 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain2-nat', vnf_src_interface='output', vnf_dst_name=u'chain2-fw', vnf_dst_interface='input'
I1209 21:12:56.977195 636804 net.py:665] Path between chain2-nat and chain2-fw: ['dc24.s1']
I1209 21:12:56.977303 636804 net.py:694] end node reached: chain2-fw
I1209 21:12:56.977402 636804 net.py:889] add-flow
I1209 21:12:56.977513 636804 net.py:890] -O OpenFlow13 in_port=18,action=mod_vlan_vid:27,output=12
I1209 21:12:56.986769 636804 net.py:893] add-flow in switch: dc24.s1 in_port: 18 out_port: 12
I1209 21:12:56.986922 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc24.s1 in_port: 18 out_port: 12
I1209 21:12:56.987040 636804 net.py:931] add-flow
I1209 21:12:56.987153 636804 net.py:932] in_port=18,action=strip_vlan,output=12
I1209 21:12:56.995716 636804 net.py:935] add-flow in switch: dc24.s1 in_port: 18 out_port: 12
D1209 21:12:56.995887 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain2-fw', vnf_src_interface='input', vnf_dst_name=u'chain2-nat', vnf_dst_interface='output'
I1209 21:12:56.996027 636804 net.py:665] Path between chain2-fw and chain2-nat: ['dc24.s1']
I1209 21:12:56.996156 636804 net.py:694] end node reached: chain2-nat
I1209 21:12:56.996262 636804 net.py:889] add-flow
I1209 21:12:56.996345 636804 net.py:890] -O OpenFlow13 in_port=12,action=mod_vlan_vid:28,output=18
I1209 21:12:57.012196 636804 net.py:893] add-flow in switch: dc24.s1 in_port: 12 out_port: 18
I1209 21:12:57.012298 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc24.s1 in_port: 12 out_port: 18
I1209 21:12:57.012387 636804 net.py:931] add-flow
I1209 21:12:57.012502 636804 net.py:932] in_port=12,action=strip_vlan,output=18
I1209 21:12:57.021542 636804 net.py:935] add-flow in switch: dc24.s1 in_port: 12 out_port: 18
I1209 21:12:57.021811 636804 daisy.py:329] chain(chain2-nat, chain2-fw) output: success: add-flow between chain2-nat and chain2-fw with options: {
 "priority": 1000, 
 "path": [
  "dc24.s1"
 ], 
 "vlan": 27, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain2-fw and chain2-nat with options: {
 "priority": 1000, 
 "path": [
  "dc24.s1"
 ], 
 "vlan": 28, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:12:57.021966 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain2-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain2-ids', vnf_dst_interface='input'
I1209 21:12:57.022169 636804 net.py:665] Path between chain2-fw and chain2-ids: ['dc24.s1']
I1209 21:12:57.022293 636804 net.py:694] end node reached: chain2-ids
I1209 21:12:57.022368 636804 net.py:889] add-flow
I1209 21:12:57.022447 636804 net.py:890] -O OpenFlow13 in_port=13,action=mod_vlan_vid:29,output=15
I1209 21:12:57.038348 636804 net.py:893] add-flow in switch: dc24.s1 in_port: 13 out_port: 15
D1209 21:12:57.038506 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain2-ids', vnf_src_interface='input', vnf_dst_name=u'chain2-fw', vnf_dst_interface='output-ids'
I1209 21:12:57.038662 636804 net.py:665] Path between chain2-ids and chain2-fw: ['dc24.s1']
I1209 21:12:57.038743 636804 net.py:694] end node reached: chain2-fw
I1209 21:12:57.038804 636804 net.py:889] add-flow
I1209 21:12:57.038856 636804 net.py:890] -O OpenFlow13 in_port=15,action=mod_vlan_vid:30,output=13
I1209 21:12:57.048162 636804 net.py:893] add-flow in switch: dc24.s1 in_port: 15 out_port: 13
I1209 21:12:57.048270 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc24.s1 in_port: 15 out_port: 13
I1209 21:12:57.048338 636804 net.py:931] add-flow
I1209 21:12:57.048396 636804 net.py:932] in_port=15,action=strip_vlan,output=13
I1209 21:12:57.058610 636804 net.py:935] add-flow in switch: dc24.s1 in_port: 15 out_port: 13
I1209 21:12:57.058741 636804 daisy.py:336] chain(chain2-fw, chain2-ids) output: success: add-flow between chain2-fw and chain2-ids with options: {
 "priority": 1000, 
 "path": [
  "dc24.s1"
 ], 
 "vlan": 29, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain2-ids and chain2-fw with options: {
 "priority": 1000, 
 "path": [
  "dc24.s1"
 ], 
 "vlan": 30, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:12:57.058857 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain2-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain2-vpn', vnf_dst_interface='input-fw'
I1209 21:12:57.058959 636804 net.py:665] Path between chain2-fw and chain2-vpn: ['dc24.s1']
I1209 21:12:57.059019 636804 net.py:694] end node reached: chain2-vpn
I1209 21:12:57.059075 636804 net.py:889] add-flow
I1209 21:12:57.059169 636804 net.py:890] -O OpenFlow13 in_port=14,action=mod_vlan_vid:31,output=20
I1209 21:12:57.075206 636804 net.py:893] add-flow in switch: dc24.s1 in_port: 14 out_port: 20
D1209 21:12:57.075361 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain2-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain2-fw', vnf_dst_interface='output-vpn'
I1209 21:12:57.075463 636804 net.py:665] Path between chain2-vpn and chain2-fw: ['dc24.s1']
I1209 21:12:57.075544 636804 net.py:694] end node reached: chain2-fw
I1209 21:12:57.075601 636804 net.py:889] add-flow
I1209 21:12:57.075649 636804 net.py:890] -O OpenFlow13 in_port=20,action=mod_vlan_vid:32,output=14
I1209 21:12:57.085547 636804 net.py:893] add-flow in switch: dc24.s1 in_port: 20 out_port: 14
I1209 21:12:57.085690 636804 daisy.py:343] chain(chain2-fw, chain2-vpn) output: success: add-flow between chain2-fw and chain2-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc24.s1"
 ], 
 "vlan": 31, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain2-vpn and chain2-fw with options: {
 "priority": 1000, 
 "path": [
  "dc24.s1"
 ], 
 "vlan": 32, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:12:57.085788 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain2-ids', vnf_src_interface='output', vnf_dst_name=u'chain2-vpn', vnf_dst_interface='input-ids'
I1209 21:12:57.085875 636804 net.py:665] Path between chain2-ids and chain2-vpn: ['dc24.s1']
I1209 21:12:57.085932 636804 net.py:694] end node reached: chain2-vpn
I1209 21:12:57.085985 636804 net.py:889] add-flow
I1209 21:12:57.086030 636804 net.py:890] -O OpenFlow13 in_port=16,action=mod_vlan_vid:33,output=19
I1209 21:12:57.095175 636804 net.py:893] add-flow in switch: dc24.s1 in_port: 16 out_port: 19
I1209 21:12:57.095280 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc24.s1 in_port: 16 out_port: 19
I1209 21:12:57.095349 636804 net.py:931] add-flow
I1209 21:12:57.095405 636804 net.py:932] in_port=16,action=strip_vlan,output=19
I1209 21:12:57.106462 636804 net.py:935] add-flow in switch: dc24.s1 in_port: 16 out_port: 19
D1209 21:12:57.106653 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain2-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain2-ids', vnf_dst_interface='output'
I1209 21:12:57.106767 636804 net.py:665] Path between chain2-vpn and chain2-ids: ['dc24.s1']
I1209 21:12:57.106831 636804 net.py:694] end node reached: chain2-ids
I1209 21:12:57.106889 636804 net.py:889] add-flow
I1209 21:12:57.106950 636804 net.py:890] -O OpenFlow13 in_port=19,action=mod_vlan_vid:34,output=16
I1209 21:12:57.121316 636804 net.py:893] add-flow in switch: dc24.s1 in_port: 19 out_port: 16
I1209 21:12:57.121825 636804 daisy.py:350] chain(chain2-ids, chain2-vpn) output: success: add-flow between chain2-ids and chain2-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc24.s1"
 ], 
 "vlan": 33, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain2-vpn and chain2-ids with options: {
 "priority": 1000, 
 "path": [
  "dc24.s1"
 ], 
 "vlan": 34, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:12:57.121932 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain2-vpn', vnf_src_interface='output', vnf_dst_name=u'chain2-sink', vnf_dst_interface='intf2'
I1209 21:12:57.122047 636804 net.py:665] Path between chain2-vpn and chain2-sink: ['dc24.s1', u'gsw0', 'dc21.s1']
I1209 21:12:57.122239 636804 net.py:889] add-flow
I1209 21:12:57.122306 636804 net.py:890] -O OpenFlow13 in_port=21,action=mod_vlan_vid:35,output=1
I1209 21:12:57.129265 636804 net.py:893] add-flow in switch: dc24.s1 in_port: 21 out_port: 1
I1209 21:12:57.129383 636804 net.py:889] add-flow
I1209 21:12:57.129448 636804 net.py:890] in_port=4,dl_vlan=35,action=50
I1209 21:12:57.137866 636804 net.py:893] add-flow in switch: gsw0 in_port: 4 out_port: 50
I1209 21:12:57.137955 636804 net.py:694] end node reached: chain2-sink
I1209 21:12:57.138010 636804 net.py:889] add-flow
I1209 21:12:57.138067 636804 net.py:890] in_port=1,dl_vlan=35,action=strip_vlan,output=2
I1209 21:12:57.147994 636804 net.py:893] add-flow in switch: dc21.s1 in_port: 1 out_port: 2
D1209 21:12:57.148233 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain2-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain2-vpn', vnf_dst_interface='output'
I1209 21:12:57.148355 636804 net.py:665] Path between chain2-sink and chain2-vpn: ['dc21.s1', u'gsw0', 'dc24.s1']
I1209 21:12:57.148461 636804 net.py:889] add-flow
I1209 21:12:57.148547 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:36,output=1
I1209 21:12:57.157145 636804 net.py:893] add-flow in switch: dc21.s1 in_port: 2 out_port: 1
I1209 21:12:57.157263 636804 net.py:889] add-flow
I1209 21:12:57.157331 636804 net.py:890] in_port=50,dl_vlan=36,action=4
I1209 21:12:57.167324 636804 net.py:893] add-flow in switch: gsw0 in_port: 50 out_port: 4
I1209 21:12:57.167428 636804 net.py:694] end node reached: chain2-vpn
I1209 21:12:57.167551 636804 net.py:889] add-flow
I1209 21:12:57.167602 636804 net.py:890] in_port=1,dl_vlan=36,action=strip_vlan,output=21
I1209 21:12:57.175229 636804 net.py:893] add-flow in switch: dc24.s1 in_port: 1 out_port: 21
I1209 21:12:57.175381 636804 daisy.py:357] chain(chain2-vpn, chain2-sink) output: success: add-flow between chain2-vpn and chain2-sink with options: {
 "priority": 1000, 
 "path": [
  "dc24.s1", 
  "gsw0", 
  "dc21.s1"
 ], 
 "vlan": 35, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain2-sink and chain2-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc21.s1", 
  "gsw0", 
  "dc24.s1"
 ], 
 "vlan": 36, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:12:58 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:12:58 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:12:58 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:12:58 2017 UDPv4 link local: [undef]
Sat Dec  9 21:12:58 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:12:58 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=838e9de1 30098517
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:12:58 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:12:58 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:12:58 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:12:58 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:12:58 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:12:58 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:12:58 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:12:58 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:12:58 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:12:58 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:12:58 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:13:00 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:13:00 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:13:00 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:13:00 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:13:00 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:13:00 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:13:00 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:11
Sat Dec  9 21:13:00 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:13:00 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:13:00 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:13:00 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:13:00 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:13:00 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:13:00 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:13:00 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:13:00 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:13:00 2017 GID set to nogroup
Sat Dec  9 21:13:00 2017 UID set to nobody
Sat Dec  9 21:13:00 2017 Initialization Sequence Completed
I1209 21:13:03.529668 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:13:08.535022 636804 daisy.py:443] < 5s wait complete
I1209 21:13:08.535228 636804 daisy.py:444] VPN client VNF started
chain2-source -> chain2-sink 
chain2-sink -> chain2-source 
*** Results: 0% dropped (2/2 received)
I1209 21:13:11.032360 636804 daisy.py:369] ping chain2-source -> chain2-sink. Packet drop 0.0%
I1209 21:13:11.064873 636804 bench.py:19] Copying traces into the containers...
I1209 21:13:11.465437 636804 bench.py:29] Running dstat...
I1209 21:13:13.623975 636804 iter-e2-allocation.py:17] started allocating chain: 3
I1209 21:13:13.624310 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server4']
I1209 21:13:13.624448 636804 daisy.py:240] creating chain3-fw on chain-server4
D1209 21:13:13.624836 636804 node.py:55] Starting compute instance u'chain3-fw' in data center 'chain-server4'
D1209 21:13:14.167804 636804 simple.py:169] Setting CPU limit for u'chain3-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:13:14.193527 636804 simple.py:215] Setting MEM limit for u'chain3-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:13:14.320148 636804 net.py:233] addLink: n1=chain3-fw intf1=input -- n2=dc29.s1 intf2=dc29.s1-eth2
D1209 21:13:14.443288 636804 net.py:233] addLink: n1=chain3-fw intf1=output-ids -- n2=dc29.s1 intf2=dc29.s1-eth3
D1209 21:13:14.546268 636804 net.py:233] addLink: n1=chain3-fw intf1=output-vpn -- n2=dc29.s1 intf2=dc29.s1-eth4
I1209 21:13:14.546438 636804 daisy.py:310] successfully created VNF: chain3-fw
I1209 21:13:14.546619 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server4']
I1209 21:13:14.546725 636804 daisy.py:240] creating chain3-ids on chain-server4
D1209 21:13:14.547180 636804 node.py:55] Starting compute instance u'chain3-ids' in data center 'chain-server4'
D1209 21:13:15.115161 636804 simple.py:169] Setting CPU limit for u'chain3-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:13:15.141355 636804 simple.py:215] Setting MEM limit for u'chain3-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:13:15.153665 636804 simple.py:169] Setting CPU limit for u'chain3-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:13:15.177371 636804 simple.py:215] Setting MEM limit for u'chain3-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:13:15.301207 636804 net.py:233] addLink: n1=chain3-ids intf1=input -- n2=dc29.s1 intf2=dc29.s1-eth5
D1209 21:13:15.413455 636804 net.py:233] addLink: n1=chain3-ids intf1=output -- n2=dc29.s1 intf2=dc29.s1-eth6
I1209 21:13:15.413674 636804 daisy.py:310] successfully created VNF: chain3-ids
I1209 21:13:15.413758 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server4']
I1209 21:13:15.413825 636804 daisy.py:240] creating chain3-nat on chain-server4
D1209 21:13:15.414218 636804 node.py:55] Starting compute instance u'chain3-nat' in data center 'chain-server4'
D1209 21:13:16.184178 636804 simple.py:169] Setting CPU limit for u'chain3-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:13:16.211036 636804 simple.py:215] Setting MEM limit for u'chain3-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:13:16.222595 636804 simple.py:169] Setting CPU limit for u'chain3-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:13:16.245814 636804 simple.py:215] Setting MEM limit for u'chain3-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:13:16.257601 636804 simple.py:215] Setting MEM limit for u'chain3-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:13:16.383745 636804 net.py:233] addLink: n1=chain3-nat intf1=input -- n2=dc29.s1 intf2=dc29.s1-eth7
D1209 21:13:16.494224 636804 net.py:233] addLink: n1=chain3-nat intf1=output -- n2=dc29.s1 intf2=dc29.s1-eth8
I1209 21:13:16.494411 636804 daisy.py:310] successfully created VNF: chain3-nat
I1209 21:13:16.494576 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server4']
I1209 21:13:16.494685 636804 daisy.py:240] creating chain3-vpn on chain-server4
D1209 21:13:16.495016 636804 node.py:55] Starting compute instance u'chain3-vpn' in data center 'chain-server4'
D1209 21:13:17.031887 636804 simple.py:215] Setting MEM limit for u'chain3-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:13:17.047559 636804 simple.py:169] Setting CPU limit for u'chain3-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:13:17.071597 636804 simple.py:215] Setting MEM limit for u'chain3-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:13:17.083719 636804 simple.py:215] Setting MEM limit for u'chain3-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:13:17.096731 636804 simple.py:169] Setting CPU limit for u'chain3-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:13:17.119373 636804 simple.py:215] Setting MEM limit for u'chain3-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:13:17.243475 636804 net.py:233] addLink: n1=chain3-vpn intf1=input-ids -- n2=dc29.s1 intf2=dc29.s1-eth9
D1209 21:13:17.340918 636804 net.py:233] addLink: n1=chain3-vpn intf1=input-fw -- n2=dc29.s1 intf2=dc29.s1-eth10
D1209 21:13:17.450264 636804 net.py:233] addLink: n1=chain3-vpn intf1=output -- n2=dc29.s1 intf2=dc29.s1-eth11
I1209 21:13:17.450427 636804 daisy.py:310] successfully created VNF: chain3-vpn
I1209 21:13:17.450544 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud0']
I1209 21:13:17.450608 636804 daisy.py:240] creating chain3-sink on off-cloud0
D1209 21:13:17.450870 636804 node.py:55] Starting compute instance u'chain3-sink' in data center 'off-cloud0'
D1209 21:13:17.956861 636804 simple.py:169] Setting CPU limit for u'chain3-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:13:17.984642 636804 simple.py:215] Setting MEM limit for u'chain3-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:13:18.093976 636804 net.py:233] addLink: n1=chain3-sink intf1=intf2 -- n2=dc16.s1 intf2=dc16.s1-eth2
I1209 21:13:18.094225 636804 daisy.py:310] successfully created VNF: chain3-sink
I1209 21:13:18.094325 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud5']
I1209 21:13:18.094403 636804 daisy.py:240] creating chain3-source on off-cloud5
D1209 21:13:18.094749 636804 node.py:55] Starting compute instance u'chain3-source' in data center 'off-cloud5'
D1209 21:13:18.616730 636804 simple.py:169] Setting CPU limit for u'chain3-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:13:18.640510 636804 simple.py:215] Setting MEM limit for u'chain3-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:13:18.749154 636804 net.py:233] addLink: n1=chain3-source intf1=intf1 -- n2=dc19.s1 intf2=dc19.s1-eth2
I1209 21:13:18.749381 636804 daisy.py:310] successfully created VNF: chain3-source
I1209 21:13:18.749582 636804 daisy.py:311] successfully created chain: 3
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:13:20.631048 636804 daisy.py:401] source, nat, and fw start done
I1209 21:13:20.631282 636804 daisy.py:402] My commands
I1209 21:13:20.707377 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:13:22.709670 636804 daisy.py:419] < 2s wait complete
I1209 21:13:22.709832 636804 daisy.py:420] start VNF chaining
D1209 21:13:22.710011 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain3-source', vnf_src_interface='intf1', vnf_dst_name=u'chain3-nat', vnf_dst_interface='input'
I1209 21:13:22.710292 636804 net.py:665] Path between chain3-source and chain3-nat: ['dc19.s1', u'gsw0', 'dc29.s1']
I1209 21:13:22.710501 636804 net.py:889] add-flow
I1209 21:13:22.710571 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:37,output=1
I1209 21:13:22.715719 636804 net.py:893] add-flow in switch: dc19.s1 in_port: 2 out_port: 1
I1209 21:13:22.715845 636804 net.py:889] add-flow
I1209 21:13:22.715929 636804 net.py:890] in_port=46,dl_vlan=37,action=5
I1209 21:13:22.732280 636804 net.py:893] add-flow in switch: gsw0 in_port: 46 out_port: 5
I1209 21:13:22.732466 636804 net.py:694] end node reached: chain3-nat
I1209 21:13:22.732557 636804 net.py:889] add-flow
I1209 21:13:22.732625 636804 net.py:890] in_port=1,dl_vlan=37,action=strip_vlan,output=7
I1209 21:13:22.745522 636804 net.py:893] add-flow in switch: dc29.s1 in_port: 1 out_port: 7
D1209 21:13:22.745771 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain3-nat', vnf_src_interface='input', vnf_dst_name=u'chain3-source', vnf_dst_interface='intf1'
I1209 21:13:22.745893 636804 net.py:665] Path between chain3-nat and chain3-source: ['dc29.s1', u'gsw0', 'dc19.s1']
I1209 21:13:22.745984 636804 net.py:889] add-flow
I1209 21:13:22.746136 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:38,output=1
I1209 21:13:22.757246 636804 net.py:893] add-flow in switch: dc29.s1 in_port: 7 out_port: 1
I1209 21:13:22.757424 636804 net.py:889] add-flow
I1209 21:13:22.757523 636804 net.py:890] in_port=5,dl_vlan=38,action=46
I1209 21:13:22.771231 636804 net.py:893] add-flow in switch: gsw0 in_port: 5 out_port: 46
I1209 21:13:22.771358 636804 net.py:694] end node reached: chain3-source
I1209 21:13:22.771516 636804 net.py:889] add-flow
I1209 21:13:22.771595 636804 net.py:890] in_port=1,dl_vlan=38,action=strip_vlan,output=2
I1209 21:13:22.782150 636804 net.py:893] add-flow in switch: dc19.s1 in_port: 1 out_port: 2
I1209 21:13:22.782351 636804 daisy.py:322] chain(chain3-source, chain3-nat) output: success: add-flow between chain3-source and chain3-nat with options: {
 "priority": 1000, 
 "path": [
  "dc19.s1", 
  "gsw0", 
  "dc29.s1"
 ], 
 "vlan": 37, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain3-nat and chain3-source with options: {
 "priority": 1000, 
 "path": [
  "dc29.s1", 
  "gsw0", 
  "dc19.s1"
 ], 
 "vlan": 38, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:13:22.782548 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain3-nat', vnf_src_interface='output', vnf_dst_name=u'chain3-fw', vnf_dst_interface='input'
I1209 21:13:22.782670 636804 net.py:665] Path between chain3-nat and chain3-fw: ['dc29.s1']
I1209 21:13:22.782748 636804 net.py:694] end node reached: chain3-fw
I1209 21:13:22.782855 636804 net.py:889] add-flow
I1209 21:13:22.782931 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:39,output=2
I1209 21:13:22.795500 636804 net.py:893] add-flow in switch: dc29.s1 in_port: 8 out_port: 2
I1209 21:13:22.795617 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc29.s1 in_port: 8 out_port: 2
I1209 21:13:22.795727 636804 net.py:931] add-flow
I1209 21:13:22.795834 636804 net.py:932] in_port=8,action=strip_vlan,output=2
I1209 21:13:22.807908 636804 net.py:935] add-flow in switch: dc29.s1 in_port: 8 out_port: 2
D1209 21:13:22.808159 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain3-fw', vnf_src_interface='input', vnf_dst_name=u'chain3-nat', vnf_dst_interface='output'
I1209 21:13:22.808294 636804 net.py:665] Path between chain3-fw and chain3-nat: ['dc29.s1']
I1209 21:13:22.808408 636804 net.py:694] end node reached: chain3-nat
I1209 21:13:22.808525 636804 net.py:889] add-flow
I1209 21:13:22.808603 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:40,output=8
I1209 21:13:22.828293 636804 net.py:893] add-flow in switch: dc29.s1 in_port: 2 out_port: 8
I1209 21:13:22.828438 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc29.s1 in_port: 2 out_port: 8
I1209 21:13:22.828562 636804 net.py:931] add-flow
I1209 21:13:22.828635 636804 net.py:932] in_port=2,action=strip_vlan,output=8
I1209 21:13:22.840517 636804 net.py:935] add-flow in switch: dc29.s1 in_port: 2 out_port: 8
I1209 21:13:22.840677 636804 daisy.py:329] chain(chain3-nat, chain3-fw) output: success: add-flow between chain3-nat and chain3-fw with options: {
 "priority": 1000, 
 "path": [
  "dc29.s1"
 ], 
 "vlan": 39, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain3-fw and chain3-nat with options: {
 "priority": 1000, 
 "path": [
  "dc29.s1"
 ], 
 "vlan": 40, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:13:22.840787 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain3-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain3-ids', vnf_dst_interface='input'
I1209 21:13:22.840904 636804 net.py:665] Path between chain3-fw and chain3-ids: ['dc29.s1']
I1209 21:13:22.840977 636804 net.py:694] end node reached: chain3-ids
I1209 21:13:22.841104 636804 net.py:889] add-flow
I1209 21:13:22.841182 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:41,output=5
I1209 21:13:22.853177 636804 net.py:893] add-flow in switch: dc29.s1 in_port: 3 out_port: 5
D1209 21:13:22.853396 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain3-ids', vnf_src_interface='input', vnf_dst_name=u'chain3-fw', vnf_dst_interface='output-ids'
I1209 21:13:22.853522 636804 net.py:665] Path between chain3-ids and chain3-fw: ['dc29.s1']
I1209 21:13:22.853600 636804 net.py:694] end node reached: chain3-fw
I1209 21:13:22.853688 636804 net.py:889] add-flow
I1209 21:13:22.853759 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:42,output=3
I1209 21:13:22.864295 636804 net.py:893] add-flow in switch: dc29.s1 in_port: 5 out_port: 3
I1209 21:13:22.864429 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc29.s1 in_port: 5 out_port: 3
I1209 21:13:22.864552 636804 net.py:931] add-flow
I1209 21:13:22.864628 636804 net.py:932] in_port=5,action=strip_vlan,output=3
I1209 21:13:22.877350 636804 net.py:935] add-flow in switch: dc29.s1 in_port: 5 out_port: 3
I1209 21:13:22.877562 636804 daisy.py:336] chain(chain3-fw, chain3-ids) output: success: add-flow between chain3-fw and chain3-ids with options: {
 "priority": 1000, 
 "path": [
  "dc29.s1"
 ], 
 "vlan": 41, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain3-ids and chain3-fw with options: {
 "priority": 1000, 
 "path": [
  "dc29.s1"
 ], 
 "vlan": 42, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:13:22.877670 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain3-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain3-vpn', vnf_dst_interface='input-fw'
I1209 21:13:22.877789 636804 net.py:665] Path between chain3-fw and chain3-vpn: ['dc29.s1']
I1209 21:13:22.877865 636804 net.py:694] end node reached: chain3-vpn
I1209 21:13:22.877948 636804 net.py:889] add-flow
I1209 21:13:22.878047 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:43,output=10
I1209 21:13:22.890136 636804 net.py:893] add-flow in switch: dc29.s1 in_port: 4 out_port: 10
D1209 21:13:22.890337 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain3-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain3-fw', vnf_dst_interface='output-vpn'
I1209 21:13:22.890491 636804 net.py:665] Path between chain3-vpn and chain3-fw: ['dc29.s1']
I1209 21:13:22.890589 636804 net.py:694] end node reached: chain3-fw
I1209 21:13:22.890687 636804 net.py:889] add-flow
I1209 21:13:22.890784 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:44,output=4
I1209 21:13:22.901453 636804 net.py:893] add-flow in switch: dc29.s1 in_port: 10 out_port: 4
I1209 21:13:22.901700 636804 daisy.py:343] chain(chain3-fw, chain3-vpn) output: success: add-flow between chain3-fw and chain3-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc29.s1"
 ], 
 "vlan": 43, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain3-vpn and chain3-fw with options: {
 "priority": 1000, 
 "path": [
  "dc29.s1"
 ], 
 "vlan": 44, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:13:22.901802 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain3-ids', vnf_src_interface='output', vnf_dst_name=u'chain3-vpn', vnf_dst_interface='input-ids'
I1209 21:13:22.901915 636804 net.py:665] Path between chain3-ids and chain3-vpn: ['dc29.s1']
I1209 21:13:22.901989 636804 net.py:694] end node reached: chain3-vpn
I1209 21:13:22.902160 636804 net.py:889] add-flow
I1209 21:13:22.902232 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:45,output=9
I1209 21:13:22.911422 636804 net.py:893] add-flow in switch: dc29.s1 in_port: 6 out_port: 9
I1209 21:13:22.911536 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc29.s1 in_port: 6 out_port: 9
I1209 21:13:22.911633 636804 net.py:931] add-flow
I1209 21:13:22.911703 636804 net.py:932] in_port=6,action=strip_vlan,output=9
I1209 21:13:22.922082 636804 net.py:935] add-flow in switch: dc29.s1 in_port: 6 out_port: 9
D1209 21:13:22.922290 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain3-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain3-ids', vnf_dst_interface='output'
I1209 21:13:22.922455 636804 net.py:665] Path between chain3-vpn and chain3-ids: ['dc29.s1']
I1209 21:13:22.922529 636804 net.py:694] end node reached: chain3-ids
I1209 21:13:22.922610 636804 net.py:889] add-flow
I1209 21:13:22.922693 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:46,output=6
I1209 21:13:22.931683 636804 net.py:893] add-flow in switch: dc29.s1 in_port: 9 out_port: 6
I1209 21:13:22.931873 636804 daisy.py:350] chain(chain3-ids, chain3-vpn) output: success: add-flow between chain3-ids and chain3-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc29.s1"
 ], 
 "vlan": 45, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain3-vpn and chain3-ids with options: {
 "priority": 1000, 
 "path": [
  "dc29.s1"
 ], 
 "vlan": 46, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:13:22.931977 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain3-vpn', vnf_src_interface='output', vnf_dst_name=u'chain3-sink', vnf_dst_interface='intf2'
I1209 21:13:22.932159 636804 net.py:665] Path between chain3-vpn and chain3-sink: ['dc29.s1', u'gsw0', 'dc16.s1']
I1209 21:13:22.932266 636804 net.py:889] add-flow
I1209 21:13:22.932338 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:47,output=1
I1209 21:13:22.939769 636804 net.py:893] add-flow in switch: dc29.s1 in_port: 11 out_port: 1
I1209 21:13:22.939925 636804 net.py:889] add-flow
I1209 21:13:22.940051 636804 net.py:890] in_port=5,dl_vlan=47,action=41
I1209 21:13:22.947946 636804 net.py:893] add-flow in switch: gsw0 in_port: 5 out_port: 41
I1209 21:13:22.948105 636804 net.py:694] end node reached: chain3-sink
I1209 21:13:22.948218 636804 net.py:889] add-flow
I1209 21:13:22.948299 636804 net.py:890] in_port=1,dl_vlan=47,action=strip_vlan,output=2
I1209 21:13:22.956301 636804 net.py:893] add-flow in switch: dc16.s1 in_port: 1 out_port: 2
D1209 21:13:22.956557 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain3-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain3-vpn', vnf_dst_interface='output'
I1209 21:13:22.956686 636804 net.py:665] Path between chain3-sink and chain3-vpn: ['dc16.s1', u'gsw0', 'dc29.s1']
I1209 21:13:22.956777 636804 net.py:889] add-flow
I1209 21:13:22.956840 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:48,output=1
I1209 21:13:22.965069 636804 net.py:893] add-flow in switch: dc16.s1 in_port: 2 out_port: 1
I1209 21:13:22.965212 636804 net.py:889] add-flow
I1209 21:13:22.965291 636804 net.py:890] in_port=41,dl_vlan=48,action=5
I1209 21:13:22.973131 636804 net.py:893] add-flow in switch: gsw0 in_port: 41 out_port: 5
I1209 21:13:22.973248 636804 net.py:694] end node reached: chain3-vpn
I1209 21:13:22.973357 636804 net.py:889] add-flow
I1209 21:13:22.973443 636804 net.py:890] in_port=1,dl_vlan=48,action=strip_vlan,output=11
I1209 21:13:22.983138 636804 net.py:893] add-flow in switch: dc29.s1 in_port: 1 out_port: 11
I1209 21:13:22.983319 636804 daisy.py:357] chain(chain3-vpn, chain3-sink) output: success: add-flow between chain3-vpn and chain3-sink with options: {
 "priority": 1000, 
 "path": [
  "dc29.s1", 
  "gsw0", 
  "dc16.s1"
 ], 
 "vlan": 47, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain3-sink and chain3-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc16.s1", 
  "gsw0", 
  "dc29.s1"
 ], 
 "vlan": 48, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
0 is success)
returned 0 from sudo docker exec mn.chain2-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain2-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain2-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain2-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain2-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain2-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain2-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain2-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain2-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain2-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain2-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain2-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain2-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain2-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain2-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain2-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.021759000000000084, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server4'], [u'ids', u'chain-server4'], [u'nat', u'chain-server4'], [u'vpn', u'chain-server4'], [u'sink', u'off-cloud0'], [u'source', u'off-cloud5']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 1.347908, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud5', 2], [u'chain-server4', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server4', 2], [u'off-cloud0', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain3-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain3-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain3-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain3-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain3-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain3-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain3-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain3-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain3-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain3-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain3-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain3-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain3-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain3-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain3-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain3-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain3-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain3-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain3-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain3-sSetting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:13:24 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:13:24 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:13:24 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:13:24 2017 UDPv4 link local: [undef]
Sat Dec  9 21:13:24 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:13:24 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=9bca636e f98e21f4
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:13:24 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:13:24 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:13:24 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:13:25 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:13:25 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:13:25 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:13:25 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:13:25 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:13:25 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:13:25 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:13:25 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:13:27 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:13:27 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:13:27 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:13:27 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:13:27 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:13:27 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:13:27 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:17
Sat Dec  9 21:13:27 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:13:27 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:13:27 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:13:27 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:13:27 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:13:27 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:13:27 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:13:27 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:13:27 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:13:27 2017 GID set to nogroup
Sat Dec  9 21:13:27 2017 UID set to nobody
Sat Dec  9 21:13:27 2017 Initialization Sequence Completed
I1209 21:13:30.149066 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:13:35.154181 636804 daisy.py:443] < 5s wait complete
I1209 21:13:35.154426 636804 daisy.py:444] VPN client VNF started
chain3-source -> chain3-sink 
chain3-sink -> chain3-source 
*** Results: 0% dropped (2/2 received)
I1209 21:13:36.984070 636804 daisy.py:369] ping chain3-source -> chain3-sink. Packet drop 0.0%
I1209 21:13:37.015669 636804 bench.py:19] Copying traces into the containers...
I1209 21:13:37.457429 636804 bench.py:29] Running dstat...
I1209 21:13:39.618563 636804 iter-e2-allocation.py:17] started allocating chain: 4
I1209 21:13:39.618922 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server4']
I1209 21:13:39.619026 636804 daisy.py:240] creating chain4-fw on chain-server4
D1209 21:13:39.619579 636804 node.py:55] Starting compute instance u'chain4-fw' in data center 'chain-server4'
D1209 21:13:40.191210 636804 simple.py:169] Setting CPU limit for u'chain4-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:13:40.218261 636804 simple.py:215] Setting MEM limit for u'chain4-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:13:40.230226 636804 simple.py:215] Setting MEM limit for u'chain3-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:13:40.241910 636804 simple.py:169] Setting CPU limit for u'chain3-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:13:40.265439 636804 simple.py:215] Setting MEM limit for u'chain3-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:13:40.277132 636804 simple.py:215] Setting MEM limit for u'chain3-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:13:40.288512 636804 simple.py:215] Setting MEM limit for u'chain3-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:13:40.453696 636804 net.py:233] addLink: n1=chain4-fw intf1=input -- n2=dc29.s1 intf2=dc29.s1-eth12
D1209 21:13:40.555069 636804 net.py:233] addLink: n1=chain4-fw intf1=output-ids -- n2=dc29.s1 intf2=dc29.s1-eth13
D1209 21:13:40.677305 636804 net.py:233] addLink: n1=chain4-fw intf1=output-vpn -- n2=dc29.s1 intf2=dc29.s1-eth14
I1209 21:13:40.677496 636804 daisy.py:310] successfully created VNF: chain4-fw
I1209 21:13:40.677587 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server4']
I1209 21:13:40.677690 636804 daisy.py:240] creating chain4-ids on chain-server4
D1209 21:13:40.678158 636804 node.py:55] Starting compute instance u'chain4-ids' in data center 'chain-server4'
D1209 21:13:41.481945 636804 simple.py:215] Setting MEM limit for u'chain3-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:13:41.498701 636804 simple.py:215] Setting MEM limit for u'chain3-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:13:41.514669 636804 simple.py:169] Setting CPU limit for u'chain4-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:13:41.541501 636804 simple.py:215] Setting MEM limit for u'chain4-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:13:41.555217 636804 simple.py:169] Setting CPU limit for u'chain4-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:13:41.580895 636804 simple.py:215] Setting MEM limit for u'chain4-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:13:41.595499 636804 simple.py:169] Setting CPU limit for u'chain3-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:13:41.624579 636804 simple.py:215] Setting MEM limit for u'chain3-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:13:41.639252 636804 simple.py:215] Setting MEM limit for u'chain3-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:13:41.773636 636804 net.py:233] addLink: n1=chain4-ids intf1=input -- n2=dc29.s1 intf2=dc29.s1-eth15
D1209 21:13:41.888609 636804 net.py:233] addLink: n1=chain4-ids intf1=output -- n2=dc29.s1 intf2=dc29.s1-eth16
I1209 21:13:41.888782 636804 daisy.py:310] successfully created VNF: chain4-ids
I1209 21:13:41.888948 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server4']
I1209 21:13:41.889118 636804 daisy.py:240] creating chain4-nat on chain-server4
D1209 21:13:41.889776 636804 node.py:55] Starting compute instance u'chain4-nat' in data center 'chain-server4'
D1209 21:13:42.392083 636804 simple.py:215] Setting MEM limit for u'chain3-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:13:42.405744 636804 simple.py:215] Setting MEM limit for u'chain3-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:13:42.418196 636804 simple.py:169] Setting CPU limit for u'chain4-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:13:42.444339 636804 simple.py:215] Setting MEM limit for u'chain4-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:13:42.456571 636804 simple.py:215] Setting MEM limit for u'chain4-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:13:42.469683 636804 simple.py:169] Setting CPU limit for u'chain3-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:13:42.494884 636804 simple.py:215] Setting MEM limit for u'chain3-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:13:42.506670 636804 simple.py:215] Setting MEM limit for u'chain3-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:13:42.520812 636804 simple.py:169] Setting CPU limit for u'chain4-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:13:42.547348 636804 simple.py:215] Setting MEM limit for u'chain4-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:13:42.681925 636804 net.py:233] addLink: n1=chain4-nat intf1=input -- n2=dc29.s1 intf2=dc29.s1-eth17
D1209 21:13:42.802211 636804 net.py:233] addLink: n1=chain4-nat intf1=output -- n2=dc29.s1 intf2=dc29.s1-eth18
I1209 21:13:42.802457 636804 daisy.py:310] successfully created VNF: chain4-nat
I1209 21:13:42.802540 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server4']
I1209 21:13:42.802607 636804 daisy.py:240] creating chain4-vpn on chain-server4
D1209 21:13:42.802870 636804 node.py:55] Starting compute instance u'chain4-vpn' in data center 'chain-server4'
D1209 21:13:43.352060 636804 simple.py:215] Setting MEM limit for u'chain3-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:13:43.366497 636804 simple.py:215] Setting MEM limit for u'chain3-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:13:43.378334 636804 simple.py:169] Setting CPU limit for u'chain4-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:13:43.405693 636804 simple.py:215] Setting MEM limit for u'chain4-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:13:43.417598 636804 simple.py:215] Setting MEM limit for u'chain4-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:13:43.431407 636804 simple.py:169] Setting CPU limit for u'chain4-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:13:43.454755 636804 simple.py:215] Setting MEM limit for u'chain4-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:13:43.468890 636804 simple.py:169] Setting CPU limit for u'chain3-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:13:43.495151 636804 simple.py:215] Setting MEM limit for u'chain3-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:13:43.508750 636804 simple.py:215] Setting MEM limit for u'chain3-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:13:43.522239 636804 simple.py:215] Setting MEM limit for u'chain4-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:13:43.659059 636804 net.py:233] addLink: n1=chain4-vpn intf1=input-ids -- n2=dc29.s1 intf2=dc29.s1-eth19
D1209 21:13:43.772591 636804 net.py:233] addLink: n1=chain4-vpn intf1=input-fw -- n2=dc29.s1 intf2=dc29.s1-eth20
D1209 21:13:43.899223 636804 net.py:233] addLink: n1=chain4-vpn intf1=output -- n2=dc29.s1 intf2=dc29.s1-eth21
I1209 21:13:43.899432 636804 daisy.py:310] successfully created VNF: chain4-vpn
I1209 21:13:43.899554 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud0']
I1209 21:13:43.899624 636804 daisy.py:240] creating chain4-sink on off-cloud0
D1209 21:13:43.899926 636804 node.py:55] Starting compute instance u'chain4-sink' in data center 'off-cloud0'
D1209 21:13:44.424647 636804 simple.py:215] Setting MEM limit for u'chain3-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:13:44.438709 636804 simple.py:169] Setting CPU limit for u'chain4-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:13:44.465118 636804 simple.py:215] Setting MEM limit for u'chain4-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:13:44.599502 636804 net.py:233] addLink: n1=chain4-sink intf1=intf2 -- n2=dc16.s1 intf2=dc16.s1-eth3
I1209 21:13:44.599689 636804 daisy.py:310] successfully created VNF: chain4-sink
I1209 21:13:44.599806 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud5']
I1209 21:13:44.599873 636804 daisy.py:240] creating chain4-source on off-cloud5
D1209 21:13:44.600214 636804 node.py:55] Starting compute instance u'chain4-source' in data center 'off-cloud5'
D1209 21:13:45.138796 636804 simple.py:215] Setting MEM limit for u'chain3-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:13:45.152779 636804 simple.py:169] Setting CPU limit for u'chain4-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:13:45.176167 636804 simple.py:215] Setting MEM limit for u'chain4-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:13:45.312218 636804 net.py:233] addLink: n1=chain4-source intf1=intf1 -- n2=dc19.s1 intf2=dc19.s1-eth3
I1209 21:13:45.312478 636804 daisy.py:310] successfully created VNF: chain4-source
I1209 21:13:45.312613 636804 daisy.py:311] successfully created chain: 4
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:13:46.647430 636804 daisy.py:401] source, nat, and fw start done
I1209 21:13:46.647644 636804 daisy.py:402] My commands
I1209 21:13:46.727088 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:13:48.729413 636804 daisy.py:419] < 2s wait complete
I1209 21:13:48.729594 636804 daisy.py:420] start VNF chaining
D1209 21:13:48.729830 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain4-source', vnf_src_interface='intf1', vnf_dst_name=u'chain4-nat', vnf_dst_interface='input'
I1209 21:13:48.730293 636804 net.py:665] Path between chain4-source and chain4-nat: ['dc19.s1', u'gsw0', 'dc29.s1']
I1209 21:13:48.730601 636804 net.py:889] add-flow
I1209 21:13:48.730699 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:49,output=1
I1209 21:13:48.741141 636804 net.py:893] add-flow in switch: dc19.s1 in_port: 3 out_port: 1
I1209 21:13:48.741316 636804 net.py:889] add-flow
I1209 21:13:48.741465 636804 net.py:890] in_port=46,dl_vlan=49,action=5
I1209 21:13:48.762746 636804 net.py:893] add-flow in switch: gsw0 in_port: 46 out_port: 5
I1209 21:13:48.762914 636804 net.py:694] end node reached: chain4-nat
I1209 21:13:48.763112 636804 net.py:889] add-flow
I1209 21:13:48.763231 636804 net.py:890] in_port=1,dl_vlan=49,action=strip_vlan,output=17
I1209 21:13:48.780670 636804 net.py:893] add-flow in switch: dc29.s1 in_port: 1 out_port: 17
D1209 21:13:48.781063 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain4-nat', vnf_src_interface='input', vnf_dst_name=u'chain4-source', vnf_dst_interface='intf1'
I1209 21:13:48.781306 636804 net.py:665] Path between chain4-nat and chain4-source: ['dc29.s1', u'gsw0', 'dc19.s1']
I1209 21:13:48.781487 636804 net.py:889] add-flow
I1209 21:13:48.781620 636804 net.py:890] -O OpenFlow13 in_port=17,action=mod_vlan_vid:50,output=1
I1209 21:13:48.800236 636804 net.py:893] add-flow in switch: dc29.s1 in_port: 17 out_port: 1
I1209 21:13:48.800414 636804 net.py:889] add-flow
I1209 21:13:48.800553 636804 net.py:890] in_port=5,dl_vlan=50,action=46
I1209 21:13:48.816900 636804 net.py:893] add-flow in switch: gsw0 in_port: 5 out_port: 46
I1209 21:13:48.817063 636804 net.py:694] end node reached: chain4-source
I1209 21:13:48.817222 636804 net.py:889] add-flow
I1209 21:13:48.817392 636804 net.py:890] in_port=1,dl_vlan=50,action=strip_vlan,output=3
I1209 21:13:48.832459 636804 net.py:893] add-flow in switch: dc19.s1 in_port: 1 out_port: 3
I1209 21:13:48.832947 636804 daisy.py:322] chain(chain4-source, chain4-nat) output: success: add-flow between chain4-source and chain4-nat with options: {
 "priority": 1000, 
 "path": [
  "dc19.s1", 
  "gsw0", 
  "dc29.s1"
 ], 
 "vlan": 49, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain4-nat and chain4-source with options: {
 "priority": 1000, 
 "path": [
  "dc29.s1", 
  "gsw0", 
  "dc19.s1"
 ], 
 "vlan": 50, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:13:48.833271 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain4-nat', vnf_src_interface='output', vnf_dst_name=u'chain4-fw', vnf_dst_interface='input'
I1209 21:13:48.833534 636804 net.py:665] Path between chain4-nat and chain4-fw: ['dc29.s1']
I1209 21:13:48.833667 636804 net.py:694] end node reached: chain4-fw
I1209 21:13:48.833808 636804 net.py:889] add-flow
I1209 21:13:48.833951 636804 net.py:890] -O OpenFlow13 in_port=18,action=mod_vlan_vid:51,output=12
I1209 21:13:48.854401 636804 net.py:893] add-flow in switch: dc29.s1 in_port: 18 out_port: 12
I1209 21:13:48.854573 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc29.s1 in_port: 18 out_port: 12
I1209 21:13:48.854703 636804 net.py:931] add-flow
I1209 21:13:48.854804 636804 net.py:932] in_port=18,action=strip_vlan,output=12
I1209 21:13:48.873908 636804 net.py:935] add-flow in switch: dc29.s1 in_port: 18 out_port: 12
D1209 21:13:48.876487 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain4-fw', vnf_src_interface='input', vnf_dst_name=u'chain4-nat', vnf_dst_interface='output'
I1209 21:13:48.876626 636804 net.py:665] Path between chain4-fw and chain4-nat: ['dc29.s1']
I1209 21:13:48.876761 636804 net.py:694] end node reached: chain4-nat
I1209 21:13:48.876898 636804 net.py:889] add-flow
I1209 21:13:48.876991 636804 net.py:890] -O OpenFlow13 in_port=12,action=mod_vlan_vid:52,output=18
I1209 21:13:48.898170 636804 net.py:893] add-flow in switch: dc29.s1 in_port: 12 out_port: 18
I1209 21:13:48.898288 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc29.s1 in_port: 12 out_port: 18
I1209 21:13:48.898462 636804 net.py:931] add-flow
I1209 21:13:48.898595 636804 net.py:932] in_port=12,action=strip_vlan,output=18
I1209 21:13:48.917757 636804 net.py:935] add-flow in switch: dc29.s1 in_port: 12 out_port: 18
I1209 21:13:48.917964 636804 daisy.py:329] chain(chain4-nat, chain4-fw) output: success: add-flow between chain4-nat and chain4-fw with options: {
 "priority": 1000, 
 "path": [
  "dc29.s1"
 ], 
 "vlan": 51, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain4-fw and chain4-nat with options: {
 "priority": 1000, 
 "path": [
  "dc29.s1"
 ], 
 "vlan": 52, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:13:48.918226 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain4-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain4-ids', vnf_dst_interface='input'
I1209 21:13:48.918453 636804 net.py:665] Path between chain4-fw and chain4-ids: ['dc29.s1']
I1209 21:13:48.918533 636804 net.py:694] end node reached: chain4-ids
I1209 21:13:48.918608 636804 net.py:889] add-flow
I1209 21:13:48.918668 636804 net.py:890] -O OpenFlow13 in_port=13,action=mod_vlan_vid:53,output=15
I1209 21:13:48.942135 636804 net.py:893] add-flow in switch: dc29.s1 in_port: 13 out_port: 15
D1209 21:13:48.942325 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain4-ids', vnf_src_interface='input', vnf_dst_name=u'chain4-fw', vnf_dst_interface='output-ids'
I1209 21:13:48.942529 636804 net.py:665] Path between chain4-ids and chain4-fw: ['dc29.s1']
I1209 21:13:48.942639 636804 net.py:694] end node reached: chain4-fw
I1209 21:13:48.942723 636804 net.py:889] add-flow
I1209 21:13:48.942783 636804 net.py:890] -O OpenFlow13 in_port=15,action=mod_vlan_vid:54,output=13
I1209 21:13:48.962671 636804 net.py:893] add-flow in switch: dc29.s1 in_port: 15 out_port: 13
I1209 21:13:48.962791 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc29.s1 in_port: 15 out_port: 13
I1209 21:13:48.962892 636804 net.py:931] add-flow
I1209 21:13:48.963057 636804 net.py:932] in_port=15,action=strip_vlan,output=13
I1209 21:13:48.981107 636804 net.py:935] add-flow in switch: dc29.s1 in_port: 15 out_port: 13
I1209 21:13:48.981306 636804 daisy.py:336] chain(chain4-fw, chain4-ids) output: success: add-flow between chain4-fw and chain4-ids with options: {
 "priority": 1000, 
 "path": [
  "dc29.s1"
 ], 
 "vlan": 53, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain4-ids and chain4-fw with options: {
 "priority": 1000, 
 "path": [
  "dc29.s1"
 ], 
 "vlan": 54, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:13:48.981488 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain4-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain4-vpn', vnf_dst_interface='input-fw'
I1209 21:13:48.981595 636804 net.py:665] Path between chain4-fw and chain4-vpn: ['dc29.s1']
I1209 21:13:48.981667 636804 net.py:694] end node reached: chain4-vpn
I1209 21:13:48.981765 636804 net.py:889] add-flow
I1209 21:13:48.981834 636804 net.py:890] -O OpenFlow13 in_port=14,action=mod_vlan_vid:55,output=20
I1209 21:13:49.000962 636804 net.py:893] add-flow in switch: dc29.s1 in_port: 14 out_port: 20
D1209 21:13:49.001215 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain4-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain4-fw', vnf_dst_interface='output-vpn'
I1209 21:13:49.001388 636804 net.py:665] Path between chain4-vpn and chain4-fw: ['dc29.s1']
I1209 21:13:49.001472 636804 net.py:694] end node reached: chain4-fw
I1209 21:13:49.001553 636804 net.py:889] add-flow
I1209 21:13:49.001641 636804 net.py:890] -O OpenFlow13 in_port=20,action=mod_vlan_vid:56,output=14
I1209 21:13:49.015307 636804 net.py:893] add-flow in switch: dc29.s1 in_port: 20 out_port: 14
I1209 21:13:49.015492 636804 daisy.py:343] chain(chain4-fw, chain4-vpn) output: success: add-flow between chain4-fw and chain4-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc29.s1"
 ], 
 "vlan": 55, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain4-vpn and chain4-fw with options: {
 "priority": 1000, 
 "path": [
  "dc29.s1"
 ], 
 "vlan": 56, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:13:49.015605 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain4-ids', vnf_src_interface='output', vnf_dst_name=u'chain4-vpn', vnf_dst_interface='input-ids'
I1209 21:13:49.015706 636804 net.py:665] Path between chain4-ids and chain4-vpn: ['dc29.s1']
I1209 21:13:49.015777 636804 net.py:694] end node reached: chain4-vpn
I1209 21:13:49.015860 636804 net.py:889] add-flow
I1209 21:13:49.015923 636804 net.py:890] -O OpenFlow13 in_port=16,action=mod_vlan_vid:57,output=19
I1209 21:13:49.030678 636804 net.py:893] add-flow in switch: dc29.s1 in_port: 16 out_port: 19
I1209 21:13:49.030790 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc29.s1 in_port: 16 out_port: 19
I1209 21:13:49.030885 636804 net.py:931] add-flow
I1209 21:13:49.030950 636804 net.py:932] in_port=16,action=strip_vlan,output=19
I1209 21:13:49.044604 636804 net.py:935] add-flow in switch: dc29.s1 in_port: 16 out_port: 19
D1209 21:13:49.044785 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain4-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain4-ids', vnf_dst_interface='output'
I1209 21:13:49.044893 636804 net.py:665] Path between chain4-vpn and chain4-ids: ['dc29.s1']
I1209 21:13:49.044986 636804 net.py:694] end node reached: chain4-ids
I1209 21:13:49.045113 636804 net.py:889] add-flow
I1209 21:13:49.045190 636804 net.py:890] -O OpenFlow13 in_port=19,action=mod_vlan_vid:58,output=16
I1209 21:13:49.059251 636804 net.py:893] add-flow in switch: dc29.s1 in_port: 19 out_port: 16
I1209 21:13:49.059468 636804 daisy.py:350] chain(chain4-ids, chain4-vpn) output: success: add-flow between chain4-ids and chain4-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc29.s1"
 ], 
 "vlan": 57, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain4-vpn and chain4-ids with options: {
 "priority": 1000, 
 "path": [
  "dc29.s1"
 ], 
 "vlan": 58, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:13:49.059595 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain4-vpn', vnf_src_interface='output', vnf_dst_name=u'chain4-sink', vnf_dst_interface='intf2'
I1209 21:13:49.059731 636804 net.py:665] Path between chain4-vpn and chain4-sink: ['dc29.s1', u'gsw0', 'dc16.s1']
I1209 21:13:49.059828 636804 net.py:889] add-flow
I1209 21:13:49.059906 636804 net.py:890] -O OpenFlow13 in_port=21,action=mod_vlan_vid:59,output=1
I1209 21:13:49.067652 636804 net.py:893] add-flow in switch: dc29.s1 in_port: 21 out_port: 1
I1209 21:13:49.067795 636804 net.py:889] add-flow
I1209 21:13:49.067871 636804 net.py:890] in_port=5,dl_vlan=59,action=41
I1209 21:13:49.076266 636804 net.py:893] add-flow in switch: gsw0 in_port: 5 out_port: 41
I1209 21:13:49.076380 636804 net.py:694] end node reached: chain4-sink
I1209 21:13:49.076579 636804 net.py:889] add-flow
I1209 21:13:49.076666 636804 net.py:890] in_port=1,dl_vlan=59,action=strip_vlan,output=3
I1209 21:13:49.084745 636804 net.py:893] add-flow in switch: dc16.s1 in_port: 1 out_port: 3
D1209 21:13:49.084913 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain4-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain4-vpn', vnf_dst_interface='output'
I1209 21:13:49.085099 636804 net.py:665] Path between chain4-sink and chain4-vpn: ['dc16.s1', u'gsw0', 'dc29.s1']
I1209 21:13:49.085222 636804 net.py:889] add-flow
I1209 21:13:49.085304 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:60,output=1
I1209 21:13:49.093256 636804 net.py:893] add-flow in switch: dc16.s1 in_port: 3 out_port: 1
I1209 21:13:49.093410 636804 net.py:889] add-flow
I1209 21:13:49.093513 636804 net.py:890] in_port=41,dl_vlan=60,action=5
I1209 21:13:49.102268 636804 net.py:893] add-flow in switch: gsw0 in_port: 41 out_port: 5
I1209 21:13:49.102385 636804 net.py:694] end node reached: chain4-vpn
I1209 21:13:49.102545 636804 net.py:889] add-flow
I1209 21:13:49.102615 636804 net.py:890] in_port=1,dl_vlan=60,action=strip_vlan,output=21
I1209 21:13:49.111351 636804 net.py:893] add-flow in switch: dc29.s1 in_port: 1 out_port: 21
I1209 21:13:49.111540 636804 daisy.py:357] chain(chain4-vpn, chain4-sink) output: success: add-flow between chain4-vpn and chain4-sink with options: {
 "priority": 1000, 
 "path": [
  "dc29.s1", 
  "gsw0", 
  "dc16.s1"
 ], 
 "vlan": 59, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain4-sink and chain4-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc16.s1", 
  "gsw0", 
  "dc29.s1"
 ], 
 "vlan": 60, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:13:50 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:13:50 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:13:50 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:13:50 2017 UDPv4 link local: [undef]
Sat Dec  9 21:13:50 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:13:50 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=20f86db9 fc65c77c
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:13:50 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:13:50 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:13:50 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:13:50 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:13:50 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:13:50 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:13:50 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:13:50 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:13:50 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:13:50 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:13:50 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:13:53 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:13:53 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:13:53 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:13:53 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:13:53 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:13:53 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:13:53 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:1d
Sat Dec  9 21:13:53 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:13:53 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:13:53 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:13:53 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:13:53 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:13:53 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:13:53 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:13:53 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:13:53 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:13:53 2017 GID set to nogroup
Sat Dec  9 21:13:53 2017 UID set to nobody
Sat Dec  9 21:13:53 2017 Initialization Sequence Completed
I1209 21:13:55.634644 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:14:00.639981 636804 daisy.py:443] < 5s wait complete
I1209 21:14:00.640165 636804 daisy.py:444] VPN client VNF started
chain4-source -> chain4-sink 
chain4-sink -> chain4-source 
*** Results: 0% dropped (2/2 received)
I1209 21:14:04.399435 636804 daisy.py:369] ping chain4-source -> chain4-sink. Packet drop 0.0%
I1209 21:14:04.428570 636804 bench.py:19] Copying traces into the containers...
I1209 21:14:04.901865 636804 bench.py:29] Running dstat...
I1209 21:14:07.075659 636804 iter-e2-allocation.py:17] started allocating chain: 5
ink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain3-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain3-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain3-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain3-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain3-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain3-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.02265600000000001, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server4'], [u'ids', u'chain-server4'], [u'nat', u'chain-server4'], [u'vpn', u'chain-server4'], [u'sink', u'off-cloud0'], [u'source', u'off-cloud5']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 1.3838030000000001, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud5', 2], [u'chain-server4', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server4', 2], [u'off-cloud0', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain4-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain4-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain4-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain4-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain4-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain4-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain4-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain4-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain4-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain4-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain4-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain4-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain4-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain4-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain4-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain4-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain4-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain4-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain4-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain4-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain4-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain4-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain4-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain4-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain4-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain4-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.02178900000000006, u'locality': u'datacenter',I1209 21:14:07.076304 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server6']
I1209 21:14:07.076484 636804 daisy.py:240] creating chain5-fw on chain-server6
D1209 21:14:07.077734 636804 node.py:55] Starting compute instance u'chain5-fw' in data center 'chain-server6'
D1209 21:14:07.619616 636804 simple.py:169] Setting CPU limit for u'chain5-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:14:07.648653 636804 simple.py:215] Setting MEM limit for u'chain5-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:14:07.808866 636804 net.py:233] addLink: n1=chain5-fw intf1=input -- n2=dc27.s1 intf2=dc27.s1-eth2
D1209 21:14:07.935307 636804 net.py:233] addLink: n1=chain5-fw intf1=output-ids -- n2=dc27.s1 intf2=dc27.s1-eth3
D1209 21:14:08.063256 636804 net.py:233] addLink: n1=chain5-fw intf1=output-vpn -- n2=dc27.s1 intf2=dc27.s1-eth4
I1209 21:14:08.063476 636804 daisy.py:310] successfully created VNF: chain5-fw
I1209 21:14:08.063589 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server6']
I1209 21:14:08.063658 636804 daisy.py:240] creating chain5-ids on chain-server6
D1209 21:14:08.064026 636804 node.py:55] Starting compute instance u'chain5-ids' in data center 'chain-server6'
D1209 21:14:08.611694 636804 simple.py:169] Setting CPU limit for u'chain5-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:14:08.638842 636804 simple.py:215] Setting MEM limit for u'chain5-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:14:08.651524 636804 simple.py:169] Setting CPU limit for u'chain5-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:14:08.679156 636804 simple.py:215] Setting MEM limit for u'chain5-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:14:08.816040 636804 net.py:233] addLink: n1=chain5-ids intf1=input -- n2=dc27.s1 intf2=dc27.s1-eth5
D1209 21:14:08.924854 636804 net.py:233] addLink: n1=chain5-ids intf1=output -- n2=dc27.s1 intf2=dc27.s1-eth6
I1209 21:14:08.925124 636804 daisy.py:310] successfully created VNF: chain5-ids
I1209 21:14:08.925256 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server6']
I1209 21:14:08.925371 636804 daisy.py:240] creating chain5-nat on chain-server6
D1209 21:14:08.925721 636804 node.py:55] Starting compute instance u'chain5-nat' in data center 'chain-server6'
D1209 21:14:09.483501 636804 simple.py:169] Setting CPU limit for u'chain5-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:14:09.509063 636804 simple.py:215] Setting MEM limit for u'chain5-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:14:09.521532 636804 simple.py:169] Setting CPU limit for u'chain5-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:14:09.548527 636804 simple.py:215] Setting MEM limit for u'chain5-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:14:09.562568 636804 simple.py:215] Setting MEM limit for u'chain5-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:14:09.692703 636804 net.py:233] addLink: n1=chain5-nat intf1=input -- n2=dc27.s1 intf2=dc27.s1-eth7
D1209 21:14:09.814124 636804 net.py:233] addLink: n1=chain5-nat intf1=output -- n2=dc27.s1 intf2=dc27.s1-eth8
I1209 21:14:09.814302 636804 daisy.py:310] successfully created VNF: chain5-nat
I1209 21:14:09.814449 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server6']
I1209 21:14:09.814522 636804 daisy.py:240] creating chain5-vpn on chain-server6
D1209 21:14:09.814830 636804 node.py:55] Starting compute instance u'chain5-vpn' in data center 'chain-server6'
D1209 21:14:10.379170 636804 simple.py:169] Setting CPU limit for u'chain5-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:14:10.408803 636804 simple.py:215] Setting MEM limit for u'chain5-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:14:10.421607 636804 simple.py:169] Setting CPU limit for u'chain5-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:14:10.447066 636804 simple.py:215] Setting MEM limit for u'chain5-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:14:10.460499 636804 simple.py:215] Setting MEM limit for u'chain5-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:14:10.475945 636804 simple.py:215] Setting MEM limit for u'chain5-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:14:10.635689 636804 net.py:233] addLink: n1=chain5-vpn intf1=input-ids -- n2=dc27.s1 intf2=dc27.s1-eth9
D1209 21:14:10.759087 636804 net.py:233] addLink: n1=chain5-vpn intf1=input-fw -- n2=dc27.s1 intf2=dc27.s1-eth10
D1209 21:14:10.884532 636804 net.py:233] addLink: n1=chain5-vpn intf1=output -- n2=dc27.s1 intf2=dc27.s1-eth11
I1209 21:14:10.884766 636804 daisy.py:310] successfully created VNF: chain5-vpn
I1209 21:14:10.884871 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud0']
I1209 21:14:10.885010 636804 daisy.py:240] creating chain5-sink on off-cloud0
D1209 21:14:10.885394 636804 node.py:55] Starting compute instance u'chain5-sink' in data center 'off-cloud0'
D1209 21:14:11.460917 636804 simple.py:215] Setting MEM limit for u'chain3-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:14:11.476577 636804 simple.py:215] Setting MEM limit for u'chain4-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:14:11.489372 636804 simple.py:169] Setting CPU limit for u'chain5-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:14:11.514529 636804 simple.py:215] Setting MEM limit for u'chain5-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:14:11.651129 636804 net.py:233] addLink: n1=chain5-sink intf1=intf2 -- n2=dc16.s1 intf2=dc16.s1-eth4
I1209 21:14:11.651362 636804 daisy.py:310] successfully created VNF: chain5-sink
I1209 21:14:11.651464 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud5']
I1209 21:14:11.651556 636804 daisy.py:240] creating chain5-source on off-cloud5
D1209 21:14:11.651971 636804 node.py:55] Starting compute instance u'chain5-source' in data center 'off-cloud5'
D1209 21:14:12.214029 636804 simple.py:215] Setting MEM limit for u'chain3-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:14:12.231144 636804 simple.py:215] Setting MEM limit for u'chain4-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:14:12.244208 636804 simple.py:169] Setting CPU limit for u'chain5-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:14:12.271054 636804 simple.py:215] Setting MEM limit for u'chain5-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:14:12.408277 636804 net.py:233] addLink: n1=chain5-source intf1=intf1 -- n2=dc19.s1 intf2=dc19.s1-eth4
I1209 21:14:12.408513 636804 daisy.py:310] successfully created VNF: chain5-source
I1209 21:14:12.408612 636804 daisy.py:311] successfully created chain: 5
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:14:15.172369 636804 daisy.py:401] source, nat, and fw start done
I1209 21:14:15.172564 636804 daisy.py:402] My commands
I1209 21:14:15.257205 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:14:17.259489 636804 daisy.py:419] < 2s wait complete
I1209 21:14:17.259649 636804 daisy.py:420] start VNF chaining
D1209 21:14:17.259797 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain5-source', vnf_src_interface='intf1', vnf_dst_name=u'chain5-nat', vnf_dst_interface='input'
I1209 21:14:17.260076 636804 net.py:665] Path between chain5-source and chain5-nat: ['dc19.s1', u'gsw0', 'dc27.s1']
I1209 21:14:17.260257 636804 net.py:889] add-flow
I1209 21:14:17.260376 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:61,output=1
I1209 21:14:17.267030 636804 net.py:893] add-flow in switch: dc19.s1 in_port: 4 out_port: 1
I1209 21:14:17.267241 636804 net.py:889] add-flow
I1209 21:14:17.267323 636804 net.py:890] in_port=46,dl_vlan=61,action=7
I1209 21:14:17.284006 636804 net.py:893] add-flow in switch: gsw0 in_port: 46 out_port: 7
I1209 21:14:17.284126 636804 net.py:694] end node reached: chain5-nat
I1209 21:14:17.284250 636804 net.py:889] add-flow
I1209 21:14:17.284348 636804 net.py:890] in_port=1,dl_vlan=61,action=strip_vlan,output=7
I1209 21:14:17.298069 636804 net.py:893] add-flow in switch: dc27.s1 in_port: 1 out_port: 7
D1209 21:14:17.298378 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain5-nat', vnf_src_interface='input', vnf_dst_name=u'chain5-source', vnf_dst_interface='intf1'
I1209 21:14:17.298561 636804 net.py:665] Path between chain5-nat and chain5-source: ['dc27.s1', u'gsw0', 'dc19.s1']
I1209 21:14:17.298676 636804 net.py:889] add-flow
I1209 21:14:17.298758 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:62,output=1
I1209 21:14:17.310758 636804 net.py:893] add-flow in switch: dc27.s1 in_port: 7 out_port: 1
I1209 21:14:17.310898 636804 net.py:889] add-flow
I1209 21:14:17.311079 636804 net.py:890] in_port=7,dl_vlan=62,action=46
I1209 21:14:17.326535 636804 net.py:893] add-flow in switch: gsw0 in_port: 7 out_port: 46
I1209 21:14:17.326653 636804 net.py:694] end node reached: chain5-source
I1209 21:14:17.326764 636804 net.py:889] add-flow
I1209 21:14:17.326839 636804 net.py:890] in_port=1,dl_vlan=62,action=strip_vlan,output=4
I1209 21:14:17.339401 636804 net.py:893] add-flow in switch: dc19.s1 in_port: 1 out_port: 4
I1209 21:14:17.339617 636804 daisy.py:322] chain(chain5-source, chain5-nat) output: success: add-flow between chain5-source and chain5-nat with options: {
 "priority": 1000, 
 "path": [
  "dc19.s1", 
  "gsw0", 
  "dc27.s1"
 ], 
 "vlan": 61, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain5-nat and chain5-source with options: {
 "priority": 1000, 
 "path": [
  "dc27.s1", 
  "gsw0", 
  "dc19.s1"
 ], 
 "vlan": 62, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:14:17.339783 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain5-nat', vnf_src_interface='output', vnf_dst_name=u'chain5-fw', vnf_dst_interface='input'
I1209 21:14:17.339910 636804 net.py:665] Path between chain5-nat and chain5-fw: ['dc27.s1']
I1209 21:14:17.340055 636804 net.py:694] end node reached: chain5-fw
I1209 21:14:17.340162 636804 net.py:889] add-flow
I1209 21:14:17.340246 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:63,output=2
I1209 21:14:17.355585 636804 net.py:893] add-flow in switch: dc27.s1 in_port: 8 out_port: 2
I1209 21:14:17.355716 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc27.s1 in_port: 8 out_port: 2
I1209 21:14:17.355827 636804 net.py:931] add-flow
I1209 21:14:17.355909 636804 net.py:932] in_port=8,action=strip_vlan,output=2
I1209 21:14:17.370393 636804 net.py:935] add-flow in switch: dc27.s1 in_port: 8 out_port: 2
D1209 21:14:17.370592 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain5-fw', vnf_src_interface='input', vnf_dst_name=u'chain5-nat', vnf_dst_interface='output'
I1209 21:14:17.370718 636804 net.py:665] Path between chain5-fw and chain5-nat: ['dc27.s1']
I1209 21:14:17.370810 636804 net.py:694] end node reached: chain5-nat
I1209 21:14:17.370929 636804 net.py:889] add-flow
I1209 21:14:17.371014 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:64,output=8
I1209 21:14:17.384841 636804 net.py:893] add-flow in switch: dc27.s1 in_port: 2 out_port: 8
I1209 21:14:17.384988 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc27.s1 in_port: 2 out_port: 8
I1209 21:14:17.385092 636804 net.py:931] add-flow
I1209 21:14:17.385175 636804 net.py:932] in_port=2,action=strip_vlan,output=8
I1209 21:14:17.397756 636804 net.py:935] add-flow in switch: dc27.s1 in_port: 2 out_port: 8
I1209 21:14:17.397954 636804 daisy.py:329] chain(chain5-nat, chain5-fw) output: success: add-flow between chain5-nat and chain5-fw with options: {
 "priority": 1000, 
 "path": [
  "dc27.s1"
 ], 
 "vlan": 63, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain5-fw and chain5-nat with options: {
 "priority": 1000, 
 "path": [
  "dc27.s1"
 ], 
 "vlan": 64, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:14:17.398078 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain5-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain5-ids', vnf_dst_interface='input'
I1209 21:14:17.398246 636804 net.py:665] Path between chain5-fw and chain5-ids: ['dc27.s1']
I1209 21:14:17.398335 636804 net.py:694] end node reached: chain5-ids
I1209 21:14:17.398447 636804 net.py:889] add-flow
I1209 21:14:17.398525 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:65,output=5
I1209 21:14:17.418855 636804 net.py:893] add-flow in switch: dc27.s1 in_port: 3 out_port: 5
D1209 21:14:17.419061 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain5-ids', vnf_src_interface='input', vnf_dst_name=u'chain5-fw', vnf_dst_interface='output-ids'
I1209 21:14:17.419217 636804 net.py:665] Path between chain5-ids and chain5-fw: ['dc27.s1']
I1209 21:14:17.419405 636804 net.py:694] end node reached: chain5-fw
I1209 21:14:17.419545 636804 net.py:889] add-flow
I1209 21:14:17.419642 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:66,output=3
I1209 21:14:17.432188 636804 net.py:893] add-flow in switch: dc27.s1 in_port: 5 out_port: 3
I1209 21:14:17.432327 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc27.s1 in_port: 5 out_port: 3
I1209 21:14:17.432459 636804 net.py:931] add-flow
I1209 21:14:17.432557 636804 net.py:932] in_port=5,action=strip_vlan,output=3
I1209 21:14:17.446335 636804 net.py:935] add-flow in switch: dc27.s1 in_port: 5 out_port: 3
I1209 21:14:17.446556 636804 daisy.py:336] chain(chain5-fw, chain5-ids) output: success: add-flow between chain5-fw and chain5-ids with options: {
 "priority": 1000, 
 "path": [
  "dc27.s1"
 ], 
 "vlan": 65, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain5-ids and chain5-fw with options: {
 "priority": 1000, 
 "path": [
  "dc27.s1"
 ], 
 "vlan": 66, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:14:17.446688 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain5-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain5-vpn', vnf_dst_interface='input-fw'
I1209 21:14:17.446857 636804 net.py:665] Path between chain5-fw and chain5-vpn: ['dc27.s1']
I1209 21:14:17.447042 636804 net.py:694] end node reached: chain5-vpn
I1209 21:14:17.447151 636804 net.py:889] add-flow
I1209 21:14:17.447231 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:67,output=10
I1209 21:14:17.459847 636804 net.py:893] add-flow in switch: dc27.s1 in_port: 4 out_port: 10
D1209 21:14:17.460062 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain5-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain5-fw', vnf_dst_interface='output-vpn'
I1209 21:14:17.460218 636804 net.py:665] Path between chain5-vpn and chain5-fw: ['dc27.s1']
I1209 21:14:17.460328 636804 net.py:694] end node reached: chain5-fw
I1209 21:14:17.460427 636804 net.py:889] add-flow
I1209 21:14:17.460530 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:68,output=4
I1209 21:14:17.471384 636804 net.py:893] add-flow in switch: dc27.s1 in_port: 10 out_port: 4
I1209 21:14:17.471594 636804 daisy.py:343] chain(chain5-fw, chain5-vpn) output: success: add-flow between chain5-fw and chain5-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc27.s1"
 ], 
 "vlan": 67, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain5-vpn and chain5-fw with options: {
 "priority": 1000, 
 "path": [
  "dc27.s1"
 ], 
 "vlan": 68, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:14:17.471707 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain5-ids', vnf_src_interface='output', vnf_dst_name=u'chain5-vpn', vnf_dst_interface='input-ids'
I1209 21:14:17.471842 636804 net.py:665] Path between chain5-ids and chain5-vpn: ['dc27.s1']
I1209 21:14:17.471927 636804 net.py:694] end node reached: chain5-vpn
I1209 21:14:17.472071 636804 net.py:889] add-flow
I1209 21:14:17.472141 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:69,output=9
I1209 21:14:17.482754 636804 net.py:893] add-flow in switch: dc27.s1 in_port: 6 out_port: 9
I1209 21:14:17.482933 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc27.s1 in_port: 6 out_port: 9
I1209 21:14:17.483069 636804 net.py:931] add-flow
I1209 21:14:17.483161 636804 net.py:932] in_port=6,action=strip_vlan,output=9
I1209 21:14:17.495091 636804 net.py:935] add-flow in switch: dc27.s1 in_port: 6 out_port: 9
D1209 21:14:17.495299 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain5-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain5-ids', vnf_dst_interface='output'
I1209 21:14:17.495429 636804 net.py:665] Path between chain5-vpn and chain5-ids: ['dc27.s1']
I1209 21:14:17.495513 636804 net.py:694] end node reached: chain5-ids
I1209 21:14:17.495599 636804 net.py:889] add-flow
I1209 21:14:17.495661 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:70,output=6
I1209 21:14:17.505069 636804 net.py:893] add-flow in switch: dc27.s1 in_port: 9 out_port: 6
I1209 21:14:17.505254 636804 daisy.py:350] chain(chain5-ids, chain5-vpn) output: success: add-flow between chain5-ids and chain5-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc27.s1"
 ], 
 "vlan": 69, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain5-vpn and chain5-ids with options: {
 "priority": 1000, 
 "path": [
  "dc27.s1"
 ], 
 "vlan": 70, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:14:17.505424 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain5-vpn', vnf_src_interface='output', vnf_dst_name=u'chain5-sink', vnf_dst_interface='intf2'
I1209 21:14:17.505579 636804 net.py:665] Path between chain5-vpn and chain5-sink: ['dc27.s1', u'gsw0', 'dc16.s1']
I1209 21:14:17.505747 636804 net.py:889] add-flow
I1209 21:14:17.505816 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:71,output=1
I1209 21:14:17.514146 636804 net.py:893] add-flow in switch: dc27.s1 in_port: 11 out_port: 1
I1209 21:14:17.514302 636804 net.py:889] add-flow
I1209 21:14:17.514447 636804 net.py:890] in_port=7,dl_vlan=71,action=41
I1209 21:14:17.523468 636804 net.py:893] add-flow in switch: gsw0 in_port: 7 out_port: 41
I1209 21:14:17.523591 636804 net.py:694] end node reached: chain5-sink
I1209 21:14:17.523713 636804 net.py:889] add-flow
I1209 21:14:17.523811 636804 net.py:890] in_port=1,dl_vlan=71,action=strip_vlan,output=4
I1209 21:14:17.532629 636804 net.py:893] add-flow in switch: dc16.s1 in_port: 1 out_port: 4
D1209 21:14:17.532799 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain5-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain5-vpn', vnf_dst_interface='output'
I1209 21:14:17.532972 636804 net.py:665] Path between chain5-sink and chain5-vpn: ['dc16.s1', u'gsw0', 'dc27.s1']
I1209 21:14:17.533083 636804 net.py:889] add-flow
I1209 21:14:17.533157 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:72,output=1
I1209 21:14:17.541693 636804 net.py:893] add-flow in switch: dc16.s1 in_port: 4 out_port: 1
I1209 21:14:17.541830 636804 net.py:889] add-flow
I1209 21:14:17.541954 636804 net.py:890] in_port=41,dl_vlan=72,action=7
I1209 21:14:17.551445 636804 net.py:893] add-flow in switch: gsw0 in_port: 41 out_port: 7
I1209 21:14:17.551567 636804 net.py:694] end node reached: chain5-vpn
I1209 21:14:17.551690 636804 net.py:889] add-flow
I1209 21:14:17.551789 636804 net.py:890] in_port=1,dl_vlan=72,action=strip_vlan,output=11
I1209 21:14:17.561032 636804 net.py:893] add-flow in switch: dc27.s1 in_port: 1 out_port: 11
I1209 21:14:17.561250 636804 daisy.py:357] chain(chain5-vpn, chain5-sink) output: success: add-flow between chain5-vpn and chain5-sink with options: {
 "priority": 1000, 
 "path": [
  "dc27.s1", 
  "gsw0", 
  "dc16.s1"
 ], 
 "vlan": 71, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain5-sink and chain5-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc16.s1", 
  "gsw0", 
  "dc27.s1"
 ], 
 "vlan": 72, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:14:19 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:14:19 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:14:19 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:14:19 2017 UDPv4 link local: [undef]
Sat Dec  9 21:14:19 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:14:19 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=66e4000d ed02c602
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:14:19 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:14:19 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:14:19 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:14:19 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:14:19 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:14:19 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:14:19 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:14:19 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:14:19 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:14:19 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:14:19 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:14:21 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:14:21 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:14:21 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:14:21 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:14:21 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:14:21 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:14:21 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:23
Sat Dec  9 21:14:21 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:14:21 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:14:21 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:14:21 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:14:21 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:14:21 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:14:21 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:14:21 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:14:21 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:14:21 2017 GID set to nogroup
Sat Dec  9 21:14:21 2017 UID set to nobody
Sat Dec  9 21:14:21 2017 Initialization Sequence Completed
I1209 21:14:24.525432 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:14:29.530742 636804 daisy.py:443] < 5s wait complete
I1209 21:14:29.530978 636804 daisy.py:444] VPN client VNF started
chain5-source -> chain5-sink 
chain5-sink -> chain5-source 
*** Results: 0% dropped (2/2 received)
I1209 21:14:31.867674 636804 daisy.py:369] ping chain5-source -> chain5-sink. Packet drop 0.0%
I1209 21:14:31.897375 636804 bench.py:19] Copying traces into the containers...
I1209 21:14:32.325709 636804 bench.py:29] Running dstat...
I1209 21:14:34.500996 636804 iter-e2-allocation.py:17] started allocating chain: 6
I1209 21:14:34.501435 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server5']
I1209 21:14:34.501550 636804 daisy.py:240] creating chain6-fw on chain-server5
D1209 21:14:34.502135 636804 node.py:55] Starting compute instance u'chain6-fw' in data center 'chain-server5'
D1209 21:14:35.059046 636804 simple.py:169] Setting CPU limit for u'chain6-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:14:35.088150 636804 simple.py:215] Setting MEM limit for u'chain6-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:14:35.227350 636804 net.py:233] addLink: n1=chain6-fw intf1=input -- n2=dc30.s1 intf2=dc30.s1-eth2
D1209 21:14:35.327491 636804 net.py:233] addLink: n1=chain6-fw intf1=output-ids -- n2=dc30.s1 intf2=dc30.s1-eth3
D1209 21:14:35.454134 636804 net.py:233] addLink: n1=chain6-fw intf1=output-vpn -- n2=dc30.s1 intf2=dc30.s1-eth4
I1209 21:14:35.454332 636804 daisy.py:310] successfully created VNF: chain6-fw
I1209 21:14:35.454473 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server5']
I1209 21:14:35.454545 636804 daisy.py:240] creating chain6-ids on chain-server5
D1209 21:14:35.455111 636804 node.py:55] Starting compute instance u'chain6-ids' in data center 'chain-server5'
D1209 21:14:36.058075 636804 simple.py:169] Setting CPU limit for u'chain6-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:14:36.085633 636804 simple.py:215] Setting MEM limit for u'chain6-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:14:36.100374 636804 simple.py:169] Setting CPU limit for u'chain6-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:14:36.126000 636804 simple.py:215] Setting MEM limit for u'chain6-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:14:36.257080 636804 net.py:233] addLink: n1=chain6-ids intf1=input -- n2=dc30.s1 intf2=dc30.s1-eth5
D1209 21:14:36.394157 636804 net.py:233] addLink: n1=chain6-ids intf1=output -- n2=dc30.s1 intf2=dc30.s1-eth6
I1209 21:14:36.394331 636804 daisy.py:310] successfully created VNF: chain6-ids
I1209 21:14:36.394479 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server5']
I1209 21:14:36.394570 636804 daisy.py:240] creating chain6-nat on chain-server5
D1209 21:14:36.395020 636804 node.py:55] Starting compute instance u'chain6-nat' in data center 'chain-server5'
D1209 21:14:36.956887 636804 simple.py:215] Setting MEM limit for u'chain6-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:14:36.971956 636804 simple.py:169] Setting CPU limit for u'chain6-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:14:36.999950 636804 simple.py:215] Setting MEM limit for u'chain6-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:14:37.013364 636804 simple.py:169] Setting CPU limit for u'chain6-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:14:37.040432 636804 simple.py:215] Setting MEM limit for u'chain6-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:14:37.161107 636804 net.py:233] addLink: n1=chain6-nat intf1=input -- n2=dc30.s1 intf2=dc30.s1-eth7
D1209 21:14:37.287936 636804 net.py:233] addLink: n1=chain6-nat intf1=output -- n2=dc30.s1 intf2=dc30.s1-eth8
I1209 21:14:37.288145 636804 daisy.py:310] successfully created VNF: chain6-nat
I1209 21:14:37.288259 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server5']
I1209 21:14:37.288362 636804 daisy.py:240] creating chain6-vpn on chain-server5
D1209 21:14:37.288810 636804 node.py:55] Starting compute instance u'chain6-vpn' in data center 'chain-server5'
D1209 21:14:38.217639 636804 simple.py:215] Setting MEM limit for u'chain6-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:14:38.233416 636804 simple.py:169] Setting CPU limit for u'chain6-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:14:38.259521 636804 simple.py:215] Setting MEM limit for u'chain6-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:14:38.272351 636804 simple.py:169] Setting CPU limit for u'chain6-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:14:38.301827 636804 simple.py:215] Setting MEM limit for u'chain6-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:14:38.316966 636804 simple.py:215] Setting MEM limit for u'chain6-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:14:38.472112 636804 net.py:233] addLink: n1=chain6-vpn intf1=input-ids -- n2=dc30.s1 intf2=dc30.s1-eth9
D1209 21:14:38.607557 636804 net.py:233] addLink: n1=chain6-vpn intf1=input-fw -- n2=dc30.s1 intf2=dc30.s1-eth10
D1209 21:14:38.725583 636804 net.py:233] addLink: n1=chain6-vpn intf1=output -- n2=dc30.s1 intf2=dc30.s1-eth11
I1209 21:14:38.725821 636804 daisy.py:310] successfully created VNF: chain6-vpn
I1209 21:14:38.725996 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud0']
I1209 21:14:38.726080 636804 daisy.py:240] creating chain6-sink on off-cloud0
D1209 21:14:38.726582 636804 node.py:55] Starting compute instance u'chain6-sink' in data center 'off-cloud0'
D1209 21:14:39.303879 636804 simple.py:215] Setting MEM limit for u'chain3-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:14:39.320488 636804 simple.py:169] Setting CPU limit for u'chain6-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:14:39.352363 636804 simple.py:215] Setting MEM limit for u'chain6-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:14:39.366560 636804 simple.py:215] Setting MEM limit for u'chain4-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:14:39.382999 636804 simple.py:215] Setting MEM limit for u'chain5-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:14:39.527405 636804 net.py:233] addLink: n1=chain6-sink intf1=intf2 -- n2=dc16.s1 intf2=dc16.s1-eth5
I1209 21:14:39.527657 636804 daisy.py:310] successfully created VNF: chain6-sink
I1209 21:14:39.527772 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud5']
I1209 21:14:39.527846 636804 daisy.py:240] creating chain6-source on off-cloud5
D1209 21:14:39.528280 636804 node.py:55] Starting compute instance u'chain6-source' in data center 'off-cloud5'
D1209 21:14:40.120306 636804 simple.py:215] Setting MEM limit for u'chain3-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:14:40.136148 636804 simple.py:169] Setting CPU limit for u'chain6-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:14:40.164771 636804 simple.py:215] Setting MEM limit for u'chain6-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:14:40.178071 636804 simple.py:215] Setting MEM limit for u'chain4-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:14:40.191066 636804 simple.py:215] Setting MEM limit for u'chain5-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:14:40.332560 636804 net.py:233] addLink: n1=chain6-source intf1=intf1 -- n2=dc19.s1 intf2=dc19.s1-eth5
I1209 21:14:40.332737 636804 daisy.py:310] successfully created VNF: chain6-source
I1209 21:14:40.332839 636804 daisy.py:311] successfully created chain: 6
 u'assignment': [[u'fw', u'chain-server6'], [u'ids', u'chain-server6'], [u'nat', u'chain-server6'], [u'vpn', u'chain-server6'], [u'sink', u'off-cloud0'], [u'source', u'off-cloud5']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 1.277827, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud5', 2], [u'chain-server6', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server6', 2], [u'off-cloud0', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain5-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain5-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain5-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain5-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain5-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain5-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain5-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain5-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain5-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain5-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain5-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain5-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain5-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain5-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain5-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain5-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain5-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain5-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain5-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain5-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain5-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain5-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain5-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain5-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain5-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain5-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.021881999999999957, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server5'], [u'ids', u'chain-server5'], [u'nat', u'chain-server5'], [u'vpn', u'chain-server5'], [u'sink', u'off-cloud0'], [u'source', u'off-cloud5']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 1.31301, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud5', 2], [u'chain-server5', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server5', 2], [u'off-cloud0', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain6-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain6-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain6-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain6-nat ifconfig input hw ether 00:00:0Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:14:42.560177 636804 daisy.py:401] source, nat, and fw start done
I1209 21:14:42.560420 636804 daisy.py:402] My commands
I1209 21:14:42.646192 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:14:44.648495 636804 daisy.py:419] < 2s wait complete
I1209 21:14:44.648682 636804 daisy.py:420] start VNF chaining
D1209 21:14:44.648874 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain6-source', vnf_src_interface='intf1', vnf_dst_name=u'chain6-nat', vnf_dst_interface='input'
I1209 21:14:44.649204 636804 net.py:665] Path between chain6-source and chain6-nat: ['dc19.s1', u'gsw0', 'dc30.s1']
I1209 21:14:44.649411 636804 net.py:889] add-flow
I1209 21:14:44.649516 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:73,output=1
I1209 21:14:44.653440 636804 net.py:893] add-flow in switch: dc19.s1 in_port: 5 out_port: 1
I1209 21:14:44.653614 636804 net.py:889] add-flow
I1209 21:14:44.653732 636804 net.py:890] in_port=46,dl_vlan=73,action=6
I1209 21:14:44.664104 636804 net.py:893] add-flow in switch: gsw0 in_port: 46 out_port: 6
I1209 21:14:44.664357 636804 net.py:694] end node reached: chain6-nat
I1209 21:14:44.664589 636804 net.py:889] add-flow
I1209 21:14:44.664666 636804 net.py:890] in_port=1,dl_vlan=73,action=strip_vlan,output=7
I1209 21:14:44.675522 636804 net.py:893] add-flow in switch: dc30.s1 in_port: 1 out_port: 7
D1209 21:14:44.675751 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain6-nat', vnf_src_interface='input', vnf_dst_name=u'chain6-source', vnf_dst_interface='intf1'
I1209 21:14:44.675921 636804 net.py:665] Path between chain6-nat and chain6-source: ['dc30.s1', u'gsw0', 'dc19.s1']
I1209 21:14:44.676043 636804 net.py:889] add-flow
I1209 21:14:44.676122 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:74,output=1
I1209 21:14:44.685287 636804 net.py:893] add-flow in switch: dc30.s1 in_port: 7 out_port: 1
I1209 21:14:44.685470 636804 net.py:889] add-flow
I1209 21:14:44.685553 636804 net.py:890] in_port=6,dl_vlan=74,action=46
I1209 21:14:44.697573 636804 net.py:893] add-flow in switch: gsw0 in_port: 6 out_port: 46
I1209 21:14:44.697731 636804 net.py:694] end node reached: chain6-source
I1209 21:14:44.697909 636804 net.py:889] add-flow
I1209 21:14:44.698051 636804 net.py:890] in_port=1,dl_vlan=74,action=strip_vlan,output=5
I1209 21:14:44.707094 636804 net.py:893] add-flow in switch: dc19.s1 in_port: 1 out_port: 5
I1209 21:14:44.707381 636804 daisy.py:322] chain(chain6-source, chain6-nat) output: success: add-flow between chain6-source and chain6-nat with options: {
 "priority": 1000, 
 "path": [
  "dc19.s1", 
  "gsw0", 
  "dc30.s1"
 ], 
 "vlan": 73, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain6-nat and chain6-source with options: {
 "priority": 1000, 
 "path": [
  "dc30.s1", 
  "gsw0", 
  "dc19.s1"
 ], 
 "vlan": 74, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:14:44.707597 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain6-nat', vnf_src_interface='output', vnf_dst_name=u'chain6-fw', vnf_dst_interface='input'
I1209 21:14:44.707773 636804 net.py:665] Path between chain6-nat and chain6-fw: ['dc30.s1']
I1209 21:14:44.707947 636804 net.py:694] end node reached: chain6-fw
I1209 21:14:44.708100 636804 net.py:889] add-flow
I1209 21:14:44.708216 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:75,output=2
I1209 21:14:44.717350 636804 net.py:893] add-flow in switch: dc30.s1 in_port: 8 out_port: 2
I1209 21:14:44.717531 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc30.s1 in_port: 8 out_port: 2
I1209 21:14:44.717617 636804 net.py:931] add-flow
I1209 21:14:44.717703 636804 net.py:932] in_port=8,action=strip_vlan,output=2
I1209 21:14:44.727125 636804 net.py:935] add-flow in switch: dc30.s1 in_port: 8 out_port: 2
D1209 21:14:44.727395 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain6-fw', vnf_src_interface='input', vnf_dst_name=u'chain6-nat', vnf_dst_interface='output'
I1209 21:14:44.727552 636804 net.py:665] Path between chain6-fw and chain6-nat: ['dc30.s1']
I1209 21:14:44.727683 636804 net.py:694] end node reached: chain6-nat
I1209 21:14:44.727797 636804 net.py:889] add-flow
I1209 21:14:44.727971 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:76,output=8
I1209 21:14:44.737339 636804 net.py:893] add-flow in switch: dc30.s1 in_port: 2 out_port: 8
I1209 21:14:44.737548 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc30.s1 in_port: 2 out_port: 8
I1209 21:14:44.737654 636804 net.py:931] add-flow
I1209 21:14:44.737740 636804 net.py:932] in_port=2,action=strip_vlan,output=8
I1209 21:14:44.747220 636804 net.py:935] add-flow in switch: dc30.s1 in_port: 2 out_port: 8
I1209 21:14:44.747486 636804 daisy.py:329] chain(chain6-nat, chain6-fw) output: success: add-flow between chain6-nat and chain6-fw with options: {
 "priority": 1000, 
 "path": [
  "dc30.s1"
 ], 
 "vlan": 75, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain6-fw and chain6-nat with options: {
 "priority": 1000, 
 "path": [
  "dc30.s1"
 ], 
 "vlan": 76, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:14:44.747689 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain6-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain6-ids', vnf_dst_interface='input'
I1209 21:14:44.747891 636804 net.py:665] Path between chain6-fw and chain6-ids: ['dc30.s1']
I1209 21:14:44.748080 636804 net.py:694] end node reached: chain6-ids
I1209 21:14:44.748266 636804 net.py:889] add-flow
I1209 21:14:44.748430 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:77,output=5
I1209 21:14:44.757808 636804 net.py:893] add-flow in switch: dc30.s1 in_port: 3 out_port: 5
D1209 21:14:44.758138 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain6-ids', vnf_src_interface='input', vnf_dst_name=u'chain6-fw', vnf_dst_interface='output-ids'
I1209 21:14:44.758359 636804 net.py:665] Path between chain6-ids and chain6-fw: ['dc30.s1']
I1209 21:14:44.758528 636804 net.py:694] end node reached: chain6-fw
I1209 21:14:44.758677 636804 net.py:889] add-flow
I1209 21:14:44.758802 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:78,output=3
I1209 21:14:44.767844 636804 net.py:893] add-flow in switch: dc30.s1 in_port: 5 out_port: 3
I1209 21:14:44.768068 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc30.s1 in_port: 5 out_port: 3
I1209 21:14:44.768225 636804 net.py:931] add-flow
I1209 21:14:44.768399 636804 net.py:932] in_port=5,action=strip_vlan,output=3
I1209 21:14:44.777997 636804 net.py:935] add-flow in switch: dc30.s1 in_port: 5 out_port: 3
I1209 21:14:44.778296 636804 daisy.py:336] chain(chain6-fw, chain6-ids) output: success: add-flow between chain6-fw and chain6-ids with options: {
 "priority": 1000, 
 "path": [
  "dc30.s1"
 ], 
 "vlan": 77, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain6-ids and chain6-fw with options: {
 "priority": 1000, 
 "path": [
  "dc30.s1"
 ], 
 "vlan": 78, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:14:44.778521 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain6-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain6-vpn', vnf_dst_interface='input-fw'
I1209 21:14:44.778688 636804 net.py:665] Path between chain6-fw and chain6-vpn: ['dc30.s1']
I1209 21:14:44.778826 636804 net.py:694] end node reached: chain6-vpn
I1209 21:14:44.779020 636804 net.py:889] add-flow
I1209 21:14:44.779151 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:79,output=10
I1209 21:14:44.788158 636804 net.py:893] add-flow in switch: dc30.s1 in_port: 4 out_port: 10
D1209 21:14:44.788511 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain6-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain6-fw', vnf_dst_interface='output-vpn'
I1209 21:14:44.788691 636804 net.py:665] Path between chain6-vpn and chain6-fw: ['dc30.s1']
I1209 21:14:44.788825 636804 net.py:694] end node reached: chain6-fw
I1209 21:14:44.789026 636804 net.py:889] add-flow
I1209 21:14:44.789160 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:80,output=4
I1209 21:14:44.798022 636804 net.py:893] add-flow in switch: dc30.s1 in_port: 10 out_port: 4
I1209 21:14:44.798211 636804 daisy.py:343] chain(chain6-fw, chain6-vpn) output: success: add-flow between chain6-fw and chain6-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc30.s1"
 ], 
 "vlan": 79, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain6-vpn and chain6-fw with options: {
 "priority": 1000, 
 "path": [
  "dc30.s1"
 ], 
 "vlan": 80, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:14:44.798312 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain6-ids', vnf_src_interface='output', vnf_dst_name=u'chain6-vpn', vnf_dst_interface='input-ids'
I1209 21:14:44.798405 636804 net.py:665] Path between chain6-ids and chain6-vpn: ['dc30.s1']
I1209 21:14:44.798491 636804 net.py:694] end node reached: chain6-vpn
I1209 21:14:44.798552 636804 net.py:889] add-flow
I1209 21:14:44.798618 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:81,output=9
I1209 21:14:44.807611 636804 net.py:893] add-flow in switch: dc30.s1 in_port: 6 out_port: 9
I1209 21:14:44.807707 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc30.s1 in_port: 6 out_port: 9
I1209 21:14:44.807807 636804 net.py:931] add-flow
I1209 21:14:44.807890 636804 net.py:932] in_port=6,action=strip_vlan,output=9
I1209 21:14:44.817898 636804 net.py:935] add-flow in switch: dc30.s1 in_port: 6 out_port: 9
D1209 21:14:44.818067 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain6-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain6-ids', vnf_dst_interface='output'
I1209 21:14:44.818185 636804 net.py:665] Path between chain6-vpn and chain6-ids: ['dc30.s1']
I1209 21:14:44.818257 636804 net.py:694] end node reached: chain6-ids
I1209 21:14:44.818326 636804 net.py:889] add-flow
I1209 21:14:44.818382 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:82,output=6
I1209 21:14:44.836818 636804 net.py:893] add-flow in switch: dc30.s1 in_port: 9 out_port: 6
I1209 21:14:44.836986 636804 daisy.py:350] chain(chain6-ids, chain6-vpn) output: success: add-flow between chain6-ids and chain6-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc30.s1"
 ], 
 "vlan": 81, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain6-vpn and chain6-ids with options: {
 "priority": 1000, 
 "path": [
  "dc30.s1"
 ], 
 "vlan": 82, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:14:44.837080 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain6-vpn', vnf_src_interface='output', vnf_dst_name=u'chain6-sink', vnf_dst_interface='intf2'
I1209 21:14:44.837181 636804 net.py:665] Path between chain6-vpn and chain6-sink: ['dc30.s1', u'gsw0', 'dc16.s1']
I1209 21:14:44.837294 636804 net.py:889] add-flow
I1209 21:14:44.837346 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:83,output=1
I1209 21:14:44.847781 636804 net.py:893] add-flow in switch: dc30.s1 in_port: 11 out_port: 1
I1209 21:14:44.847887 636804 net.py:889] add-flow
I1209 21:14:44.847949 636804 net.py:890] in_port=6,dl_vlan=83,action=41
I1209 21:14:44.858350 636804 net.py:893] add-flow in switch: gsw0 in_port: 6 out_port: 41
I1209 21:14:44.858432 636804 net.py:694] end node reached: chain6-sink
I1209 21:14:44.858505 636804 net.py:889] add-flow
I1209 21:14:44.858587 636804 net.py:890] in_port=1,dl_vlan=83,action=strip_vlan,output=5
I1209 21:14:44.868130 636804 net.py:893] add-flow in switch: dc16.s1 in_port: 1 out_port: 5
D1209 21:14:44.868282 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain6-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain6-vpn', vnf_dst_interface='output'
I1209 21:14:44.868427 636804 net.py:665] Path between chain6-sink and chain6-vpn: ['dc16.s1', u'gsw0', 'dc30.s1']
I1209 21:14:44.868500 636804 net.py:889] add-flow
I1209 21:14:44.868573 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:84,output=1
I1209 21:14:44.877113 636804 net.py:893] add-flow in switch: dc16.s1 in_port: 5 out_port: 1
I1209 21:14:44.877228 636804 net.py:889] add-flow
I1209 21:14:44.877334 636804 net.py:890] in_port=41,dl_vlan=84,action=6
I1209 21:14:44.887820 636804 net.py:893] add-flow in switch: gsw0 in_port: 41 out_port: 6
I1209 21:14:44.887981 636804 net.py:694] end node reached: chain6-vpn
I1209 21:14:44.888077 636804 net.py:889] add-flow
I1209 21:14:44.888130 636804 net.py:890] in_port=1,dl_vlan=84,action=strip_vlan,output=11
I1209 21:14:44.897099 636804 net.py:893] add-flow in switch: dc30.s1 in_port: 1 out_port: 11
I1209 21:14:44.897270 636804 daisy.py:357] chain(chain6-vpn, chain6-sink) output: success: add-flow between chain6-vpn and chain6-sink with options: {
 "priority": 1000, 
 "path": [
  "dc30.s1", 
  "gsw0", 
  "dc16.s1"
 ], 
 "vlan": 83, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain6-sink and chain6-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc16.s1", 
  "gsw0", 
  "dc30.s1"
 ], 
 "vlan": 84, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:14:46 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:14:46 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:14:46 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:14:46 2017 UDPv4 link local: [undef]
Sat Dec  9 21:14:46 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:14:46 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=2ecd097f 7968fefe
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:14:46 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:14:46 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:14:46 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:14:46 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:14:46 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:14:46 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:14:46 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:14:46 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:14:46 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:14:46 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:14:46 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:14:48 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:14:48 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:14:48 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:14:48 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:14:48 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:14:48 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:14:48 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:29
Sat Dec  9 21:14:48 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:14:48 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:14:48 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:14:48 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:14:48 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:14:48 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:14:48 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:14:48 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:14:48 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:14:48 2017 GID set to nogroup
Sat Dec  9 21:14:48 2017 UID set to nobody
Sat Dec  9 21:14:48 2017 Initialization Sequence Completed
I1209 21:14:51.440056 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:14:56.445398 636804 daisy.py:443] < 5s wait complete
I1209 21:14:56.445615 636804 daisy.py:444] VPN client VNF started
chain6-source -> chain6-sink 
chain6-sink -> chain6-source 
*** Results: 0% dropped (2/2 received)
I1209 21:14:58.743793 636804 daisy.py:369] ping chain6-source -> chain6-sink. Packet drop 0.0%
I1209 21:14:58.775366 636804 bench.py:19] Copying traces into the containers...
I1209 21:14:59.257841 636804 bench.py:29] Running dstat...
I1209 21:15:01.424865 636804 iter-e2-allocation.py:17] started allocating chain: 7
I1209 21:15:01.425237 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server38']
I1209 21:15:01.425350 636804 daisy.py:240] creating chain7-fw on chain-server38
D1209 21:15:01.425924 636804 node.py:55] Starting compute instance u'chain7-fw' in data center 'chain-server38'
D1209 21:15:02.013761 636804 simple.py:169] Setting CPU limit for u'chain7-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:15:02.045078 636804 simple.py:215] Setting MEM limit for u'chain7-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:02.185954 636804 net.py:233] addLink: n1=chain7-fw intf1=input -- n2=dc49.s1 intf2=dc49.s1-eth2
D1209 21:15:02.327291 636804 net.py:233] addLink: n1=chain7-fw intf1=output-ids -- n2=dc49.s1 intf2=dc49.s1-eth3
D1209 21:15:02.447829 636804 net.py:233] addLink: n1=chain7-fw intf1=output-vpn -- n2=dc49.s1 intf2=dc49.s1-eth4
I1209 21:15:02.448102 636804 daisy.py:310] successfully created VNF: chain7-fw
I1209 21:15:02.448263 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server38']
I1209 21:15:02.448369 636804 daisy.py:240] creating chain7-ids on chain-server38
D1209 21:15:02.448757 636804 node.py:55] Starting compute instance u'chain7-ids' in data center 'chain-server38'
D1209 21:15:03.375463 636804 simple.py:169] Setting CPU limit for u'chain7-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:15:03.407592 636804 simple.py:215] Setting MEM limit for u'chain7-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:15:03.421374 636804 simple.py:169] Setting CPU limit for u'chain7-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:15:03.448390 636804 simple.py:215] Setting MEM limit for u'chain7-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:03.610177 636804 net.py:233] addLink: n1=chain7-ids intf1=input -- n2=dc49.s1 intf2=dc49.s1-eth5
D1209 21:15:03.739223 636804 net.py:233] addLink: n1=chain7-ids intf1=output -- n2=dc49.s1 intf2=dc49.s1-eth6
I1209 21:15:03.739613 636804 daisy.py:310] successfully created VNF: chain7-ids
I1209 21:15:03.739785 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server38']
I1209 21:15:03.739963 636804 daisy.py:240] creating chain7-nat on chain-server38
D1209 21:15:03.741132 636804 node.py:55] Starting compute instance u'chain7-nat' in data center 'chain-server38'
D1209 21:15:04.343631 636804 simple.py:215] Setting MEM limit for u'chain7-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:15:04.363329 636804 simple.py:169] Setting CPU limit for u'chain7-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:15:04.393721 636804 simple.py:215] Setting MEM limit for u'chain7-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:04.408157 636804 simple.py:169] Setting CPU limit for u'chain7-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:15:04.435758 636804 simple.py:215] Setting MEM limit for u'chain7-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:04.566987 636804 net.py:233] addLink: n1=chain7-nat intf1=input -- n2=dc49.s1 intf2=dc49.s1-eth7
D1209 21:15:04.711141 636804 net.py:233] addLink: n1=chain7-nat intf1=output -- n2=dc49.s1 intf2=dc49.s1-eth8
I1209 21:15:04.711370 636804 daisy.py:310] successfully created VNF: chain7-nat
I1209 21:15:04.711460 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server38']
I1209 21:15:04.711528 636804 daisy.py:240] creating chain7-vpn on chain-server38
D1209 21:15:04.712002 636804 node.py:55] Starting compute instance u'chain7-vpn' in data center 'chain-server38'
D1209 21:15:05.305104 636804 simple.py:215] Setting MEM limit for u'chain7-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:15:05.320868 636804 simple.py:169] Setting CPU limit for u'chain7-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:15:05.347773 636804 simple.py:215] Setting MEM limit for u'chain7-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:05.363251 636804 simple.py:215] Setting MEM limit for u'chain7-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:05.377938 636804 simple.py:169] Setting CPU limit for u'chain7-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:15:05.408241 636804 simple.py:215] Setting MEM limit for u'chain7-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:05.567903 636804 net.py:233] addLink: n1=chain7-vpn intf1=input-ids -- n2=dc49.s1 intf2=dc49.s1-eth9
D1209 21:15:05.708410 636804 net.py:233] addLink: n1=chain7-vpn intf1=input-fw -- n2=dc49.s1 intf2=dc49.s1-eth10
D1209 21:15:05.843352 636804 net.py:233] addLink: n1=chain7-vpn intf1=output -- n2=dc49.s1 intf2=dc49.s1-eth11
I1209 21:15:05.843539 636804 daisy.py:310] successfully created VNF: chain7-vpn
I1209 21:15:05.843667 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud5']
I1209 21:15:05.843916 636804 daisy.py:240] creating chain7-sink on off-cloud5
D1209 21:15:05.844414 636804 node.py:55] Starting compute instance u'chain7-sink' in data center 'off-cloud5'
D1209 21:15:06.427337 636804 simple.py:215] Setting MEM limit for u'chain3-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:06.442967 636804 simple.py:215] Setting MEM limit for u'chain6-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:06.456743 636804 simple.py:215] Setting MEM limit for u'chain4-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:06.471046 636804 simple.py:169] Setting CPU limit for u'chain7-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:15:06.503499 636804 simple.py:215] Setting MEM limit for u'chain7-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:06.518374 636804 simple.py:215] Setting MEM limit for u'chain5-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:06.678585 636804 net.py:233] addLink: n1=chain7-sink intf1=intf2 -- n2=dc19.s1 intf2=dc19.s1-eth6
I1209 21:15:06.678767 636804 daisy.py:310] successfully created VNF: chain7-sink
I1209 21:15:06.678935 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud5']
I1209 21:15:06.679045 636804 daisy.py:240] creating chain7-source on off-cloud5
D1209 21:15:06.679550 636804 node.py:55] Starting compute instance u'chain7-source' in data center 'off-cloud5'
D1209 21:15:07.259572 636804 simple.py:169] Setting CPU limit for u'chain7-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:15:07.291762 636804 simple.py:215] Setting MEM limit for u'chain7-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:07.307255 636804 simple.py:215] Setting MEM limit for u'chain6-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:07.321386 636804 simple.py:215] Setting MEM limit for u'chain4-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:07.334716 636804 simple.py:215] Setting MEM limit for u'chain7-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:07.350231 636804 simple.py:215] Setting MEM limit for u'chain3-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:07.366189 636804 simple.py:215] Setting MEM limit for u'chain5-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:07.533574 636804 net.py:233] addLink: n1=chain7-source intf1=intf1 -- n2=dc19.s1 intf2=dc19.s1-eth7
I1209 21:15:07.533780 636804 daisy.py:310] successfully created VNF: chain7-source
I1209 21:15:07.533931 636804 daisy.py:311] successfully created chain: 7
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
0:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain6-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain6-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain6-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain6-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain6-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain6-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain6-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain6-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain6-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain6-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain6-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain6-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain6-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain6-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain6-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain6-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain6-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain6-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain6-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain6-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain6-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain6-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.02216499999999999, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server38'], [u'ids', u'chain-server38'], [u'nat', u'chain-server38'], [u'vpn', u'chain-server38'], [u'sink', u'off-cloud5'], [u'source', u'off-cloud5']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 1.4915100000000001, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud5', 2], [u'chain-server38', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'off-cloud5', u'gsw', 2], [u'gsw', u'chain-server38', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain7-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain7-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain7-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain7-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain7-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain7-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain7-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain7-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain7-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain7-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain7-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain7-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain7-fw route add -net 10.0.0.0/24 dev input (0 is sucI1209 21:15:09.579634 636804 daisy.py:401] source, nat, and fw start done
I1209 21:15:09.579880 636804 daisy.py:402] My commands
I1209 21:15:09.667421 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:15:11.669708 636804 daisy.py:419] < 2s wait complete
I1209 21:15:11.669931 636804 daisy.py:420] start VNF chaining
D1209 21:15:11.670151 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain7-source', vnf_src_interface='intf1', vnf_dst_name=u'chain7-nat', vnf_dst_interface='input'
I1209 21:15:11.670439 636804 net.py:665] Path between chain7-source and chain7-nat: ['dc19.s1', u'gsw0', 'dc49.s1']
I1209 21:15:11.670603 636804 net.py:889] add-flow
I1209 21:15:11.670691 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:85,output=1
I1209 21:15:11.675286 636804 net.py:893] add-flow in switch: dc19.s1 in_port: 7 out_port: 1
I1209 21:15:11.675568 636804 net.py:889] add-flow
I1209 21:15:11.675643 636804 net.py:890] in_port=46,dl_vlan=85,action=39
I1209 21:15:11.689065 636804 net.py:893] add-flow in switch: gsw0 in_port: 46 out_port: 39
I1209 21:15:11.689218 636804 net.py:694] end node reached: chain7-nat
I1209 21:15:11.689323 636804 net.py:889] add-flow
I1209 21:15:11.689393 636804 net.py:890] in_port=1,dl_vlan=85,action=strip_vlan,output=7
I1209 21:15:11.698965 636804 net.py:893] add-flow in switch: dc49.s1 in_port: 1 out_port: 7
D1209 21:15:11.699275 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain7-nat', vnf_src_interface='input', vnf_dst_name=u'chain7-source', vnf_dst_interface='intf1'
I1209 21:15:11.699448 636804 net.py:665] Path between chain7-nat and chain7-source: ['dc49.s1', u'gsw0', 'dc19.s1']
I1209 21:15:11.699553 636804 net.py:889] add-flow
I1209 21:15:11.699630 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:86,output=1
I1209 21:15:11.708764 636804 net.py:893] add-flow in switch: dc49.s1 in_port: 7 out_port: 1
I1209 21:15:11.708973 636804 net.py:889] add-flow
I1209 21:15:11.709083 636804 net.py:890] in_port=39,dl_vlan=86,action=46
I1209 21:15:11.719531 636804 net.py:893] add-flow in switch: gsw0 in_port: 39 out_port: 46
I1209 21:15:11.719646 636804 net.py:694] end node reached: chain7-source
I1209 21:15:11.719788 636804 net.py:889] add-flow
I1209 21:15:11.719882 636804 net.py:890] in_port=1,dl_vlan=86,action=strip_vlan,output=7
I1209 21:15:11.729077 636804 net.py:893] add-flow in switch: dc19.s1 in_port: 1 out_port: 7
I1209 21:15:11.729373 636804 daisy.py:322] chain(chain7-source, chain7-nat) output: success: add-flow between chain7-source and chain7-nat with options: {
 "priority": 1000, 
 "path": [
  "dc19.s1", 
  "gsw0", 
  "dc49.s1"
 ], 
 "vlan": 85, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain7-nat and chain7-source with options: {
 "priority": 1000, 
 "path": [
  "dc49.s1", 
  "gsw0", 
  "dc19.s1"
 ], 
 "vlan": 86, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:15:11.729533 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain7-nat', vnf_src_interface='output', vnf_dst_name=u'chain7-fw', vnf_dst_interface='input'
I1209 21:15:11.729659 636804 net.py:665] Path between chain7-nat and chain7-fw: ['dc49.s1']
I1209 21:15:11.729748 636804 net.py:694] end node reached: chain7-fw
I1209 21:15:11.729912 636804 net.py:889] add-flow
I1209 21:15:11.730006 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:87,output=2
I1209 21:15:11.739392 636804 net.py:893] add-flow in switch: dc49.s1 in_port: 8 out_port: 2
I1209 21:15:11.739505 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc49.s1 in_port: 8 out_port: 2
I1209 21:15:11.739603 636804 net.py:931] add-flow
I1209 21:15:11.739686 636804 net.py:932] in_port=8,action=strip_vlan,output=2
I1209 21:15:11.749108 636804 net.py:935] add-flow in switch: dc49.s1 in_port: 8 out_port: 2
D1209 21:15:11.749332 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain7-fw', vnf_src_interface='input', vnf_dst_name=u'chain7-nat', vnf_dst_interface='output'
I1209 21:15:11.749485 636804 net.py:665] Path between chain7-fw and chain7-nat: ['dc49.s1']
I1209 21:15:11.749592 636804 net.py:694] end node reached: chain7-nat
I1209 21:15:11.749684 636804 net.py:889] add-flow
I1209 21:15:11.749758 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:88,output=8
I1209 21:15:11.768091 636804 net.py:893] add-flow in switch: dc49.s1 in_port: 2 out_port: 8
I1209 21:15:11.768240 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc49.s1 in_port: 2 out_port: 8
I1209 21:15:11.768317 636804 net.py:931] add-flow
I1209 21:15:11.768368 636804 net.py:932] in_port=2,action=strip_vlan,output=8
I1209 21:15:11.779702 636804 net.py:935] add-flow in switch: dc49.s1 in_port: 2 out_port: 8
I1209 21:15:11.779977 636804 daisy.py:329] chain(chain7-nat, chain7-fw) output: success: add-flow between chain7-nat and chain7-fw with options: {
 "priority": 1000, 
 "path": [
  "dc49.s1"
 ], 
 "vlan": 87, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain7-fw and chain7-nat with options: {
 "priority": 1000, 
 "path": [
  "dc49.s1"
 ], 
 "vlan": 88, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:15:11.780096 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain7-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain7-ids', vnf_dst_interface='input'
I1209 21:15:11.780200 636804 net.py:665] Path between chain7-fw and chain7-ids: ['dc49.s1']
I1209 21:15:11.780287 636804 net.py:694] end node reached: chain7-ids
I1209 21:15:11.780345 636804 net.py:889] add-flow
I1209 21:15:11.780395 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:89,output=5
I1209 21:15:11.790395 636804 net.py:893] add-flow in switch: dc49.s1 in_port: 3 out_port: 5
D1209 21:15:11.790630 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain7-ids', vnf_src_interface='input', vnf_dst_name=u'chain7-fw', vnf_dst_interface='output-ids'
I1209 21:15:11.790843 636804 net.py:665] Path between chain7-ids and chain7-fw: ['dc49.s1']
I1209 21:15:11.790977 636804 net.py:694] end node reached: chain7-fw
I1209 21:15:11.791070 636804 net.py:889] add-flow
I1209 21:15:11.791130 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:90,output=3
I1209 21:15:11.801743 636804 net.py:893] add-flow in switch: dc49.s1 in_port: 5 out_port: 3
I1209 21:15:11.801933 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc49.s1 in_port: 5 out_port: 3
I1209 21:15:11.802028 636804 net.py:931] add-flow
I1209 21:15:11.802081 636804 net.py:932] in_port=5,action=strip_vlan,output=3
I1209 21:15:11.812609 636804 net.py:935] add-flow in switch: dc49.s1 in_port: 5 out_port: 3
I1209 21:15:11.812781 636804 daisy.py:336] chain(chain7-fw, chain7-ids) output: success: add-flow between chain7-fw and chain7-ids with options: {
 "priority": 1000, 
 "path": [
  "dc49.s1"
 ], 
 "vlan": 89, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain7-ids and chain7-fw with options: {
 "priority": 1000, 
 "path": [
  "dc49.s1"
 ], 
 "vlan": 90, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:15:11.812974 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain7-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain7-vpn', vnf_dst_interface='input-fw'
I1209 21:15:11.813097 636804 net.py:665] Path between chain7-fw and chain7-vpn: ['dc49.s1']
I1209 21:15:11.813191 636804 net.py:694] end node reached: chain7-vpn
I1209 21:15:11.813297 636804 net.py:889] add-flow
I1209 21:15:11.813374 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:91,output=10
I1209 21:15:11.832716 636804 net.py:893] add-flow in switch: dc49.s1 in_port: 4 out_port: 10
D1209 21:15:11.833345 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain7-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain7-fw', vnf_dst_interface='output-vpn'
I1209 21:15:11.833448 636804 net.py:665] Path between chain7-vpn and chain7-fw: ['dc49.s1']
I1209 21:15:11.833554 636804 net.py:694] end node reached: chain7-fw
I1209 21:15:11.833671 636804 net.py:889] add-flow
I1209 21:15:11.833759 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:92,output=4
I1209 21:15:11.845021 636804 net.py:893] add-flow in switch: dc49.s1 in_port: 10 out_port: 4
I1209 21:15:11.845170 636804 daisy.py:343] chain(chain7-fw, chain7-vpn) output: success: add-flow between chain7-fw and chain7-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc49.s1"
 ], 
 "vlan": 91, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain7-vpn and chain7-fw with options: {
 "priority": 1000, 
 "path": [
  "dc49.s1"
 ], 
 "vlan": 92, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:15:11.845299 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain7-ids', vnf_src_interface='output', vnf_dst_name=u'chain7-vpn', vnf_dst_interface='input-ids'
I1209 21:15:11.845385 636804 net.py:665] Path between chain7-ids and chain7-vpn: ['dc49.s1']
I1209 21:15:11.845451 636804 net.py:694] end node reached: chain7-vpn
I1209 21:15:11.845529 636804 net.py:889] add-flow
I1209 21:15:11.845578 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:93,output=9
I1209 21:15:11.855576 636804 net.py:893] add-flow in switch: dc49.s1 in_port: 6 out_port: 9
I1209 21:15:11.855710 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc49.s1 in_port: 6 out_port: 9
I1209 21:15:11.855828 636804 net.py:931] add-flow
I1209 21:15:11.855889 636804 net.py:932] in_port=6,action=strip_vlan,output=9
I1209 21:15:11.865725 636804 net.py:935] add-flow in switch: dc49.s1 in_port: 6 out_port: 9
D1209 21:15:11.865959 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain7-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain7-ids', vnf_dst_interface='output'
I1209 21:15:11.866075 636804 net.py:665] Path between chain7-vpn and chain7-ids: ['dc49.s1']
I1209 21:15:11.866210 636804 net.py:694] end node reached: chain7-ids
I1209 21:15:11.866281 636804 net.py:889] add-flow
I1209 21:15:11.866343 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:94,output=6
I1209 21:15:11.885049 636804 net.py:893] add-flow in switch: dc49.s1 in_port: 9 out_port: 6
I1209 21:15:11.885206 636804 daisy.py:350] chain(chain7-ids, chain7-vpn) output: success: add-flow between chain7-ids and chain7-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc49.s1"
 ], 
 "vlan": 93, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain7-vpn and chain7-ids with options: {
 "priority": 1000, 
 "path": [
  "dc49.s1"
 ], 
 "vlan": 94, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:15:11.885391 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain7-vpn', vnf_src_interface='output', vnf_dst_name=u'chain7-sink', vnf_dst_interface='intf2'
I1209 21:15:11.885545 636804 net.py:665] Path between chain7-vpn and chain7-sink: ['dc49.s1', u'gsw0', 'dc19.s1']
I1209 21:15:11.885653 636804 net.py:889] add-flow
I1209 21:15:11.885713 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:95,output=1
I1209 21:15:11.895240 636804 net.py:893] add-flow in switch: dc49.s1 in_port: 11 out_port: 1
I1209 21:15:11.895387 636804 net.py:889] add-flow
I1209 21:15:11.895541 636804 net.py:890] in_port=39,dl_vlan=95,action=46
I1209 21:15:11.905837 636804 net.py:893] add-flow in switch: gsw0 in_port: 39 out_port: 46
I1209 21:15:11.905966 636804 net.py:694] end node reached: chain7-sink
I1209 21:15:11.906065 636804 net.py:889] add-flow
I1209 21:15:11.906163 636804 net.py:890] in_port=1,dl_vlan=95,action=strip_vlan,output=6
I1209 21:15:11.915956 636804 net.py:893] add-flow in switch: dc19.s1 in_port: 1 out_port: 6
D1209 21:15:11.916194 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain7-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain7-vpn', vnf_dst_interface='output'
I1209 21:15:11.916366 636804 net.py:665] Path between chain7-sink and chain7-vpn: ['dc19.s1', u'gsw0', 'dc49.s1']
I1209 21:15:11.916462 636804 net.py:889] add-flow
I1209 21:15:11.916538 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:96,output=1
I1209 21:15:11.926475 636804 net.py:893] add-flow in switch: dc19.s1 in_port: 6 out_port: 1
I1209 21:15:11.926592 636804 net.py:889] add-flow
I1209 21:15:11.926660 636804 net.py:890] in_port=46,dl_vlan=96,action=39
I1209 21:15:11.937777 636804 net.py:893] add-flow in switch: gsw0 in_port: 46 out_port: 39
I1209 21:15:11.937971 636804 net.py:694] end node reached: chain7-vpn
I1209 21:15:11.938055 636804 net.py:889] add-flow
I1209 21:15:11.938153 636804 net.py:890] in_port=1,dl_vlan=96,action=strip_vlan,output=11
I1209 21:15:11.947993 636804 net.py:893] add-flow in switch: dc49.s1 in_port: 1 out_port: 11
I1209 21:15:11.948215 636804 daisy.py:357] chain(chain7-vpn, chain7-sink) output: success: add-flow between chain7-vpn and chain7-sink with options: {
 "priority": 1000, 
 "path": [
  "dc49.s1", 
  "gsw0", 
  "dc19.s1"
 ], 
 "vlan": 95, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain7-sink and chain7-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc19.s1", 
  "gsw0", 
  "dc49.s1"
 ], 
 "vlan": 96, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:15:13 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:15:13 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:15:13 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:15:13 2017 UDPv4 link local: [undef]
Sat Dec  9 21:15:13 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:15:13 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=fac1f0da 9d8d6da7
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:15:13 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:15:13 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:15:13 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:15:13 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:15:13 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:15:13 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:15:13 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:15:13 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:15:13 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:15:13 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:15:13 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:15:15 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:15:15 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:15:15 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:15:15 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:15:15 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:15:15 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:15:15 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:2f
Sat Dec  9 21:15:15 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:15:15 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:15:15 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:15:15 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:15:15 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:15:15 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:15:15 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:15:15 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:15:15 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:15:15 2017 GID set to nogroup
Sat Dec  9 21:15:15 2017 UID set to nobody
Sat Dec  9 21:15:15 2017 Initialization Sequence Completed
I1209 21:15:18.535312 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:15:23.540657 636804 daisy.py:443] < 5s wait complete
I1209 21:15:23.540930 636804 daisy.py:444] VPN client VNF started
chain7-source -> chain7-sink 
chain7-sink -> chain7-source 
*** Results: 0% dropped (2/2 received)
I1209 21:15:26.140433 636804 daisy.py:369] ping chain7-source -> chain7-sink. Packet drop 0.0%
I1209 21:15:26.173852 636804 bench.py:19] Copying traces into the containers...
I1209 21:15:26.697931 636804 bench.py:29] Running dstat...
I1209 21:15:28.881568 636804 iter-e2-allocation.py:17] started allocating chain: 8
I1209 21:15:28.881966 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server38']
I1209 21:15:28.882148 636804 daisy.py:240] creating chain8-fw on chain-server38
D1209 21:15:28.882740 636804 node.py:55] Starting compute instance u'chain8-fw' in data center 'chain-server38'
D1209 21:15:29.461159 636804 simple.py:215] Setting MEM limit for u'chain7-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:15:29.494699 636804 simple.py:169] Setting CPU limit for u'chain8-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:15:29.523240 636804 simple.py:215] Setting MEM limit for u'chain8-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:29.537445 636804 simple.py:215] Setting MEM limit for u'chain7-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:29.551011 636804 simple.py:215] Setting MEM limit for u'chain7-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:29.565363 636804 simple.py:169] Setting CPU limit for u'chain7-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:15:29.596091 636804 simple.py:215] Setting MEM limit for u'chain7-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:29.757822 636804 net.py:233] addLink: n1=chain8-fw intf1=input -- n2=dc49.s1 intf2=dc49.s1-eth12
D1209 21:15:29.874030 636804 net.py:233] addLink: n1=chain8-fw intf1=output-ids -- n2=dc49.s1 intf2=dc49.s1-eth13
D1209 21:15:30.014252 636804 net.py:233] addLink: n1=chain8-fw intf1=output-vpn -- n2=dc49.s1 intf2=dc49.s1-eth14
I1209 21:15:30.014475 636804 daisy.py:310] successfully created VNF: chain8-fw
I1209 21:15:30.014597 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server38']
I1209 21:15:30.014683 636804 daisy.py:240] creating chain8-ids on chain-server38
D1209 21:15:30.015091 636804 node.py:55] Starting compute instance u'chain8-ids' in data center 'chain-server38'
D1209 21:15:30.575872 636804 simple.py:169] Setting CPU limit for u'chain8-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:15:30.606142 636804 simple.py:215] Setting MEM limit for u'chain8-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:30.619973 636804 simple.py:169] Setting CPU limit for u'chain8-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:15:30.650463 636804 simple.py:215] Setting MEM limit for u'chain8-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:15:30.665318 636804 simple.py:169] Setting CPU limit for u'chain7-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:15:30.693569 636804 simple.py:215] Setting MEM limit for u'chain7-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:30.707429 636804 simple.py:215] Setting MEM limit for u'chain7-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:15:30.723349 636804 simple.py:215] Setting MEM limit for u'chain7-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:30.738519 636804 simple.py:215] Setting MEM limit for u'chain7-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:30.880373 636804 net.py:233] addLink: n1=chain8-ids intf1=input -- n2=dc49.s1 intf2=dc49.s1-eth15
D1209 21:15:31.021445 636804 net.py:233] addLink: n1=chain8-ids intf1=output -- n2=dc49.s1 intf2=dc49.s1-eth16
I1209 21:15:31.021693 636804 daisy.py:310] successfully created VNF: chain8-ids
I1209 21:15:31.021874 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server38']
I1209 21:15:31.022030 636804 daisy.py:240] creating chain8-nat on chain-server38
D1209 21:15:31.022706 636804 node.py:55] Starting compute instance u'chain8-nat' in data center 'chain-server38'
D1209 21:15:31.634495 636804 simple.py:169] Setting CPU limit for u'chain8-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:15:31.669609 636804 simple.py:215] Setting MEM limit for u'chain8-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:31.684226 636804 simple.py:169] Setting CPU limit for u'chain8-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:15:31.716245 636804 simple.py:215] Setting MEM limit for u'chain8-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:31.732566 636804 simple.py:215] Setting MEM limit for u'chain8-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:15:31.749459 636804 simple.py:169] Setting CPU limit for u'chain7-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:15:31.780966 636804 simple.py:215] Setting MEM limit for u'chain7-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:31.797864 636804 simple.py:215] Setting MEM limit for u'chain7-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:15:31.812520 636804 simple.py:215] Setting MEM limit for u'chain7-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:31.829647 636804 simple.py:215] Setting MEM limit for u'chain7-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:31.985002 636804 net.py:233] addLink: n1=chain8-nat intf1=input -- n2=dc49.s1 intf2=dc49.s1-eth17
D1209 21:15:32.141431 636804 net.py:233] addLink: n1=chain8-nat intf1=output -- n2=dc49.s1 intf2=dc49.s1-eth18
I1209 21:15:32.141638 636804 daisy.py:310] successfully created VNF: chain8-nat
I1209 21:15:32.141746 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server38']
I1209 21:15:32.141865 636804 daisy.py:240] creating chain8-vpn on chain-server38
D1209 21:15:32.142306 636804 node.py:55] Starting compute instance u'chain8-vpn' in data center 'chain-server38'
D1209 21:15:32.739919 636804 simple.py:215] Setting MEM limit for u'chain8-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:32.757215 636804 simple.py:169] Setting CPU limit for u'chain8-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:15:32.787731 636804 simple.py:215] Setting MEM limit for u'chain8-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:32.803256 636804 simple.py:215] Setting MEM limit for u'chain8-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:15:32.820374 636804 simple.py:169] Setting CPU limit for u'chain7-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:15:32.848982 636804 simple.py:215] Setting MEM limit for u'chain7-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:32.864197 636804 simple.py:169] Setting CPU limit for u'chain8-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:15:32.896004 636804 simple.py:215] Setting MEM limit for u'chain8-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:32.912029 636804 simple.py:215] Setting MEM limit for u'chain7-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:15:32.926668 636804 simple.py:215] Setting MEM limit for u'chain7-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:32.947441 636804 simple.py:215] Setting MEM limit for u'chain7-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:33.106910 636804 net.py:233] addLink: n1=chain8-vpn intf1=input-ids -- n2=dc49.s1 intf2=dc49.s1-eth19
D1209 21:15:33.243537 636804 net.py:233] addLink: n1=chain8-vpn intf1=input-fw -- n2=dc49.s1 intf2=dc49.s1-eth20
D1209 21:15:33.383467 636804 net.py:233] addLink: n1=chain8-vpn intf1=output -- n2=dc49.s1 intf2=dc49.s1-eth21
I1209 21:15:33.383616 636804 daisy.py:310] successfully created VNF: chain8-vpn
I1209 21:15:33.383703 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud5']
I1209 21:15:33.383836 636804 daisy.py:240] creating chain8-sink on off-cloud5
D1209 21:15:33.384258 636804 node.py:55] Starting compute instance u'chain8-sink' in data center 'off-cloud5'
D1209 21:15:33.962255 636804 simple.py:215] Setting MEM limit for u'chain7-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:33.981364 636804 simple.py:169] Setting CPU limit for u'chain8-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:15:34.011641 636804 simple.py:215] Setting MEM limit for u'chain8-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:34.029232 636804 simple.py:215] Setting MEM limit for u'chain6-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:34.045228 636804 simple.py:215] Setting MEM limit for u'chain4-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:34.061331 636804 simple.py:215] Setting MEM limit for u'chain7-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:34.077920 636804 simple.py:215] Setting MEM limit for u'chain3-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:34.093106 636804 simple.py:215] Setting MEM limit for u'chain5-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:34.254723 636804 net.py:233] addLink: n1=chain8-sink intf1=intf2 -- n2=dc19.s1 intf2=dc19.s1-eth8
I1209 21:15:34.254936 636804 daisy.py:310] successfully created VNF: chain8-sink
I1209 21:15:34.255037 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud6']
I1209 21:15:34.255116 636804 daisy.py:240] creating chain8-source on off-cloud6
D1209 21:15:34.255496 636804 node.py:55] Starting compute instance u'chain8-source' in data center 'off-cloud6'
D1209 21:15:34.882524 636804 simple.py:169] Setting CPU limit for u'chain8-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:15:34.917290 636804 simple.py:215] Setting MEM limit for u'chain8-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:35.077306 636804 net.py:233] addLink: n1=chain8-source intf1=intf1 -- n2=dc18.s1 intf2=dc18.s1-eth2
I1209 21:15:35.077537 636804 daisy.py:310] successfully created VNF: chain8-source
I1209 21:15:35.077657 636804 daisy.py:311] successfully created chain: 8
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:15:37.026685 636804 daisy.py:401] source, nat, and fw start done
I1209 21:15:37.026931 636804 daisy.py:402] My commands
I1209 21:15:37.121428 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:15:39.123718 636804 daisy.py:419] < 2s wait complete
I1209 21:15:39.123944 636804 daisy.py:420] start VNF chaining
D1209 21:15:39.124142 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain8-source', vnf_src_interface='intf1', vnf_dst_name=u'chain8-nat', vnf_dst_interface='input'
I1209 21:15:39.124419 636804 net.py:665] Path between chain8-source and chain8-nat: ['dc18.s1', u'gsw0', 'dc49.s1']
I1209 21:15:39.124597 636804 net.py:889] add-flow
I1209 21:15:39.124726 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:97,output=1
I1209 21:15:39.141374 636804 net.py:893] add-flow in switch: dc18.s1 in_port: 2 out_port: 1
I1209 21:15:39.141531 636804 net.py:889] add-flow
I1209 21:15:39.141604 636804 net.py:890] in_port=47,dl_vlan=97,action=39
I1209 21:15:39.166064 636804 net.py:893] add-flow in switch: gsw0 in_port: 47 out_port: 39
I1209 21:15:39.166263 636804 net.py:694] end node reached: chain8-nat
I1209 21:15:39.166392 636804 net.py:889] add-flow
I1209 21:15:39.166541 636804 net.py:890] in_port=1,dl_vlan=97,action=strip_vlan,output=17
I1209 21:15:39.185740 636804 net.py:893] add-flow in switch: dc49.s1 in_port: 1 out_port: 17
D1209 21:15:39.186151 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain8-nat', vnf_src_interface='input', vnf_dst_name=u'chain8-source', vnf_dst_interface='intf1'
I1209 21:15:39.186305 636804 net.py:665] Path between chain8-nat and chain8-source: ['dc49.s1', u'gsw0', 'dc18.s1']
I1209 21:15:39.186402 636804 net.py:889] add-flow
I1209 21:15:39.186513 636804 net.py:890] -O OpenFlow13 in_port=17,action=mod_vlan_vid:98,output=1
I1209 21:15:39.209168 636804 net.py:893] add-flow in switch: dc49.s1 in_port: 17 out_port: 1
I1209 21:15:39.209292 636804 net.py:889] add-flow
I1209 21:15:39.209409 636804 net.py:890] in_port=39,dl_vlan=98,action=47
I1209 21:15:39.238393 636804 net.py:893] add-flow in switch: gsw0 in_port: 39 out_port: 47
I1209 21:15:39.238563 636804 net.py:694] end node reached: chain8-source
I1209 21:15:39.238661 636804 net.py:889] add-flow
I1209 21:15:39.238759 636804 net.py:890] in_port=1,dl_vlan=98,action=strip_vlan,output=2
I1209 21:15:39.256112 636804 net.py:893] add-flow in switch: dc18.s1 in_port: 1 out_port: 2
I1209 21:15:39.256311 636804 daisy.py:322] chain(chain8-source, chain8-nat) output: success: add-flow between chain8-source and chain8-nat with options: {
 "priority": 1000, 
 "path": [
  "dc18.s1", 
  "gsw0", 
  "dc49.s1"
 ], 
 "vlan": 97, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain8-nat and chain8-source with options: {
 "priority": 1000, 
 "path": [
  "dc49.s1", 
  "gsw0", 
  "dc18.s1"
 ], 
 "vlan": 98, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:15:39.256483 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain8-nat', vnf_src_interface='output', vnf_dst_name=u'chain8-fw', vnf_dst_interface='input'
I1209 21:15:39.256577 636804 net.py:665] Path between chain8-nat and chain8-fw: ['dc49.s1']
I1209 21:15:39.256649 636804 net.py:694] end node reached: chain8-fw
I1209 21:15:39.256737 636804 net.py:889] add-flow
I1209 21:15:39.256813 636804 net.py:890] -O OpenFlow13 in_port=18,action=mod_vlan_vid:99,output=12
I1209 21:15:39.283544 636804 net.py:893] add-flow in switch: dc49.s1 in_port: 18 out_port: 12
I1209 21:15:39.283677 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc49.s1 in_port: 18 out_port: 12
I1209 21:15:39.283761 636804 net.py:931] add-flow
I1209 21:15:39.283830 636804 net.py:932] in_port=18,action=strip_vlan,output=12
I1209 21:15:39.301551 636804 net.py:935] add-flow in switch: dc49.s1 in_port: 18 out_port: 12
D1209 21:15:39.301692 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain8-fw', vnf_src_interface='input', vnf_dst_name=u'chain8-nat', vnf_dst_interface='output'
I1209 21:15:39.301843 636804 net.py:665] Path between chain8-fw and chain8-nat: ['dc49.s1']
I1209 21:15:39.301954 636804 net.py:694] end node reached: chain8-nat
I1209 21:15:39.302027 636804 net.py:889] add-flow
I1209 21:15:39.302154 636804 net.py:890] -O OpenFlow13 in_port=12,action=mod_vlan_vid:100,output=18
I1209 21:15:39.344408 636804 net.py:893] add-flow in switch: dc49.s1 in_port: 12 out_port: 18
I1209 21:15:39.344521 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc49.s1 in_port: 12 out_port: 18
I1209 21:15:39.344594 636804 net.py:931] add-flow
I1209 21:15:39.344646 636804 net.py:932] in_port=12,action=strip_vlan,output=18
I1209 21:15:39.362117 636804 net.py:935] add-flow in switch: dc49.s1 in_port: 12 out_port: 18
I1209 21:15:39.362338 636804 daisy.py:329] chain(chain8-nat, chain8-fw) output: success: add-flow between chain8-nat and chain8-fw with options: {
 "priority": 1000, 
 "path": [
  "dc49.s1"
 ], 
 "vlan": 99, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain8-fw and chain8-nat with options: {
 "priority": 1000, 
 "path": [
  "dc49.s1"
 ], 
 "vlan": 100, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:15:39.362473 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain8-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain8-ids', vnf_dst_interface='input'
I1209 21:15:39.362576 636804 net.py:665] Path between chain8-fw and chain8-ids: ['dc49.s1']
I1209 21:15:39.362649 636804 net.py:694] end node reached: chain8-ids
I1209 21:15:39.362718 636804 net.py:889] add-flow
I1209 21:15:39.362823 636804 net.py:890] -O OpenFlow13 in_port=13,action=mod_vlan_vid:101,output=15
I1209 21:15:39.393908 636804 net.py:893] add-flow in switch: dc49.s1 in_port: 13 out_port: 15
D1209 21:15:39.394062 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain8-ids', vnf_src_interface='input', vnf_dst_name=u'chain8-fw', vnf_dst_interface='output-ids'
I1209 21:15:39.394217 636804 net.py:665] Path between chain8-ids and chain8-fw: ['dc49.s1']
I1209 21:15:39.394298 636804 net.py:694] end node reached: chain8-fw
I1209 21:15:39.394368 636804 net.py:889] add-flow
I1209 21:15:39.394459 636804 net.py:890] -O OpenFlow13 in_port=15,action=mod_vlan_vid:102,output=13
I1209 21:15:39.414586 636804 net.py:893] add-flow in switch: dc49.s1 in_port: 15 out_port: 13
I1209 21:15:39.414684 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc49.s1 in_port: 15 out_port: 13
I1209 21:15:39.414777 636804 net.py:931] add-flow
I1209 21:15:39.414856 636804 net.py:932] in_port=15,action=strip_vlan,output=13
I1209 21:15:39.436575 636804 net.py:935] add-flow in switch: dc49.s1 in_port: 15 out_port: 13
I1209 21:15:39.436739 636804 daisy.py:336] chain(chain8-fw, chain8-ids) output: success: add-flow between chain8-fw and chain8-ids with options: {
 "priority": 1000, 
 "path": [
  "dc49.s1"
 ], 
 "vlan": 101, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain8-ids and chain8-fw with options: {
 "priority": 1000, 
 "path": [
  "dc49.s1"
 ], 
 "vlan": 102, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:15:39.436882 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain8-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain8-vpn', vnf_dst_interface='input-fw'
I1209 21:15:39.437024 636804 net.py:665] Path between chain8-fw and chain8-vpn: ['dc49.s1']
I1209 21:15:39.437131 636804 net.py:694] end node reached: chain8-vpn
I1209 21:15:39.437206 636804 net.py:889] add-flow
I1209 21:15:39.437263 636804 net.py:890] -O OpenFlow13 in_port=14,action=mod_vlan_vid:103,output=20
I1209 21:15:39.468538 636804 net.py:893] add-flow in switch: dc49.s1 in_port: 14 out_port: 20
D1209 21:15:39.468904 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain8-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain8-fw', vnf_dst_interface='output-vpn'
I1209 21:15:39.469098 636804 net.py:665] Path between chain8-vpn and chain8-fw: ['dc49.s1']
I1209 21:15:39.469229 636804 net.py:694] end node reached: chain8-fw
I1209 21:15:39.469342 636804 net.py:889] add-flow
I1209 21:15:39.469408 636804 net.py:890] -O OpenFlow13 in_port=20,action=mod_vlan_vid:104,output=14
I1209 21:15:39.483259 636804 net.py:893] add-flow in switch: dc49.s1 in_port: 20 out_port: 14
I1209 21:15:39.483396 636804 daisy.py:343] chain(chain8-fw, chain8-vpn) output: success: add-flow between chain8-fw and chain8-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc49.s1"
 ], 
 "vlan": 103, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain8-vpn and chain8-fw with options: {
 "priority": 1000, 
 "path": [
  "dc49.s1"
 ], 
 "vlan": 104, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:15:39.483490 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain8-ids', vnf_src_interface='output', vnf_dst_name=u'chain8-vpn', vnf_dst_interface='input-ids'
I1209 21:15:39.483592 636804 net.py:665] Path between chain8-ids and chain8-vpn: ['dc49.s1']
I1209 21:15:39.483690 636804 net.py:694] end node reached: chain8-vpn
I1209 21:15:39.483839 636804 net.py:889] add-flow
I1209 21:15:39.483906 636804 net.py:890] -O OpenFlow13 in_port=16,action=mod_vlan_vid:105,output=19
I1209 21:15:39.500721 636804 net.py:893] add-flow in switch: dc49.s1 in_port: 16 out_port: 19
I1209 21:15:39.500890 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc49.s1 in_port: 16 out_port: 19
I1209 21:15:39.500961 636804 net.py:931] add-flow
I1209 21:15:39.501020 636804 net.py:932] in_port=16,action=strip_vlan,output=19
I1209 21:15:39.520347 636804 net.py:935] add-flow in switch: dc49.s1 in_port: 16 out_port: 19
D1209 21:15:39.520493 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain8-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain8-ids', vnf_dst_interface='output'
I1209 21:15:39.520591 636804 net.py:665] Path between chain8-vpn and chain8-ids: ['dc49.s1']
I1209 21:15:39.520661 636804 net.py:694] end node reached: chain8-ids
I1209 21:15:39.520725 636804 net.py:889] add-flow
I1209 21:15:39.520842 636804 net.py:890] -O OpenFlow13 in_port=19,action=mod_vlan_vid:106,output=16
I1209 21:15:39.540694 636804 net.py:893] add-flow in switch: dc49.s1 in_port: 19 out_port: 16
I1209 21:15:39.540944 636804 daisy.py:350] chain(chain8-ids, chain8-vpn) output: success: add-flow between chain8-ids and chain8-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc49.s1"
 ], 
 "vlan": 105, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain8-vpn and chain8-ids with options: {
 "priority": 1000, 
 "path": [
  "dc49.s1"
 ], 
 "vlan": 106, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:15:39.541080 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain8-vpn', vnf_src_interface='output', vnf_dst_name=u'chain8-sink', vnf_dst_interface='intf2'
I1209 21:15:39.541256 636804 net.py:665] Path between chain8-vpn and chain8-sink: ['dc49.s1', u'gsw0', 'dc19.s1']
I1209 21:15:39.541332 636804 net.py:889] add-flow
I1209 21:15:39.541384 636804 net.py:890] -O OpenFlow13 in_port=21,action=mod_vlan_vid:107,output=1
I1209 21:15:39.552208 636804 net.py:893] add-flow in switch: dc49.s1 in_port: 21 out_port: 1
I1209 21:15:39.552361 636804 net.py:889] add-flow
I1209 21:15:39.552490 636804 net.py:890] in_port=39,dl_vlan=107,action=46
I1209 21:15:39.565083 636804 net.py:893] add-flow in switch: gsw0 in_port: 39 out_port: 46
I1209 21:15:39.565231 636804 net.py:694] end node reached: chain8-sink
I1209 21:15:39.565289 636804 net.py:889] add-flow
I1209 21:15:39.565349 636804 net.py:890] in_port=1,dl_vlan=107,action=strip_vlan,output=8
I1209 21:15:39.576570 636804 net.py:893] add-flow in switch: dc19.s1 in_port: 1 out_port: 8
D1209 21:15:39.576709 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain8-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain8-vpn', vnf_dst_interface='output'
I1209 21:15:39.576872 636804 net.py:665] Path between chain8-sink and chain8-vpn: ['dc19.s1', u'gsw0', 'dc49.s1']
I1209 21:15:39.576960 636804 net.py:889] add-flow
I1209 21:15:39.577018 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:108,output=1
I1209 21:15:39.587898 636804 net.py:893] add-flow in switch: dc19.s1 in_port: 8 out_port: 1
I1209 21:15:39.588012 636804 net.py:889] add-flow
I1209 21:15:39.588079 636804 net.py:890] in_port=46,dl_vlan=108,action=39
I1209 21:15:39.599364 636804 net.py:893] add-flow in switch: gsw0 in_port: 46 out_port: 39
I1209 21:15:39.599467 636804 net.py:694] end node reached: chain8-vpn
I1209 21:15:39.599533 636804 net.py:889] add-flow
I1209 21:15:39.599590 636804 net.py:890] in_port=1,dl_vlan=108,action=strip_vlan,output=21
I1209 21:15:39.610718 636804 net.py:893] add-flow in switch: dc49.s1 in_port: 1 out_port: 21
I1209 21:15:39.610913 636804 daisy.py:357] chain(chain8-vpn, chain8-sink) output: success: add-flow between chain8-vpn and chain8-sink with options: {
 "priority": 1000, 
 "path": [
  "dc49.s1", 
  "gsw0", 
  "dc19.s1"
 ], 
 "vlan": 107, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain8-sink and chain8-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc19.s1", 
  "gsw0", 
  "dc49.s1"
 ], 
 "vlan": 108, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:15:40 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:15:40 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:15:40 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:15:40 2017 UDPv4 link local: [undef]
Sat Dec  9 21:15:40 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:15:40 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=974967d4 bbebecc4
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:15:40 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:15:40 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:15:40 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:15:40 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:15:40 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:15:40 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:15:40 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:15:40 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:15:40 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:15:40 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:15:40 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:15:43 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:15:43 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:15:43 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:15:43 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:15:43 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:15:43 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:15:43 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:35
Sat Dec  9 21:15:43 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:15:43 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:15:43 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:15:43 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:15:43 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:15:43 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:15:43 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:15:43 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:15:43 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:15:43 2017 GID set to nogroup
Sat Dec  9 21:15:43 2017 UID set to nobody
Sat Dec  9 21:15:43 2017 Initialization Sequence Completed
cess)
returned 0 from sudo docker exec mn.chain7-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain7-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain7-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain7-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain7-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain7-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain7-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain7-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain7-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain7-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain7-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain7-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain7-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.022679000000000116, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server38'], [u'ids', u'chain-server38'], [u'nat', u'chain-server38'], [u'vpn', u'chain-server38'], [u'sink', u'off-cloud5'], [u'source', u'off-cloud6']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 1.52774, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud6', 2], [u'chain-server38', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'off-cloud5', u'gsw', 2], [u'gsw', u'chain-server38', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain8-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain8-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain8-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain8-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain8-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain8-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain8-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain8-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain8-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain8-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain8-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain8-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain8-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain8-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain8-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain8-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain8-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain8-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain8-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain8-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain8-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain8-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain8-vpn /bin/bash -c "sleep 5 && route I1209 21:15:46.037045 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:15:51.042426 636804 daisy.py:443] < 5s wait complete
I1209 21:15:51.042680 636804 daisy.py:444] VPN client VNF started
chain8-source -> chain8-sink 
chain8-sink -> chain8-source 
*** Results: 0% dropped (2/2 received)
I1209 21:15:54.683418 636804 daisy.py:369] ping chain8-source -> chain8-sink. Packet drop 0.0%
I1209 21:15:54.717849 636804 bench.py:19] Copying traces into the containers...
I1209 21:15:55.282285 636804 bench.py:29] Running dstat...
I1209 21:15:57.468329 636804 iter-e2-allocation.py:17] started allocating chain: 9
I1209 21:15:57.468786 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server5']
I1209 21:15:57.468934 636804 daisy.py:240] creating chain9-fw on chain-server5
D1209 21:15:57.469516 636804 node.py:55] Starting compute instance u'chain9-fw' in data center 'chain-server5'
D1209 21:15:58.043327 636804 simple.py:215] Setting MEM limit for u'chain6-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:15:58.061017 636804 simple.py:215] Setting MEM limit for u'chain6-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:58.075653 636804 simple.py:169] Setting CPU limit for u'chain6-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:15:58.103981 636804 simple.py:215] Setting MEM limit for u'chain6-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:58.118000 636804 simple.py:169] Setting CPU limit for u'chain9-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:15:58.148180 636804 simple.py:215] Setting MEM limit for u'chain9-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:58.162930 636804 simple.py:215] Setting MEM limit for u'chain6-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:58.318897 636804 net.py:233] addLink: n1=chain9-fw intf1=input -- n2=dc30.s1 intf2=dc30.s1-eth12
D1209 21:15:58.445230 636804 net.py:233] addLink: n1=chain9-fw intf1=output-ids -- n2=dc30.s1 intf2=dc30.s1-eth13
D1209 21:15:58.586369 636804 net.py:233] addLink: n1=chain9-fw intf1=output-vpn -- n2=dc30.s1 intf2=dc30.s1-eth14
I1209 21:15:58.586560 636804 daisy.py:310] successfully created VNF: chain9-fw
I1209 21:15:58.586663 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server5']
I1209 21:15:58.586786 636804 daisy.py:240] creating chain9-ids on chain-server5
D1209 21:15:58.587572 636804 node.py:55] Starting compute instance u'chain9-ids' in data center 'chain-server5'
D1209 21:15:59.148607 636804 simple.py:215] Setting MEM limit for u'chain6-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:59.165920 636804 simple.py:169] Setting CPU limit for u'chain9-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:15:59.193823 636804 simple.py:215] Setting MEM limit for u'chain9-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:15:59.207884 636804 simple.py:169] Setting CPU limit for u'chain9-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:15:59.235683 636804 simple.py:215] Setting MEM limit for u'chain9-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:59.252461 636804 simple.py:215] Setting MEM limit for u'chain6-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:59.268412 636804 simple.py:215] Setting MEM limit for u'chain6-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:15:59.285180 636804 simple.py:169] Setting CPU limit for u'chain6-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:15:59.316849 636804 simple.py:215] Setting MEM limit for u'chain6-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:15:59.502480 636804 net.py:233] addLink: n1=chain9-ids intf1=input -- n2=dc30.s1 intf2=dc30.s1-eth15
D1209 21:15:59.659861 636804 net.py:233] addLink: n1=chain9-ids intf1=output -- n2=dc30.s1 intf2=dc30.s1-eth16
I1209 21:15:59.660039 636804 daisy.py:310] successfully created VNF: chain9-ids
I1209 21:15:59.660154 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server5']
I1209 21:15:59.660264 636804 daisy.py:240] creating chain9-nat on chain-server5
D1209 21:15:59.660759 636804 node.py:55] Starting compute instance u'chain9-nat' in data center 'chain-server5'
D1209 21:16:00.411029 636804 simple.py:169] Setting CPU limit for u'chain9-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:16:00.441658 636804 simple.py:215] Setting MEM limit for u'chain9-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:00.457206 636804 simple.py:215] Setting MEM limit for u'chain6-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:00.471836 636804 simple.py:215] Setting MEM limit for u'chain9-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:16:00.487153 636804 simple.py:169] Setting CPU limit for u'chain9-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:16:00.518621 636804 simple.py:215] Setting MEM limit for u'chain9-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:00.536437 636804 simple.py:215] Setting MEM limit for u'chain6-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:00.554337 636804 simple.py:215] Setting MEM limit for u'chain6-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:16:00.569699 636804 simple.py:169] Setting CPU limit for u'chain6-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:16:00.599838 636804 simple.py:215] Setting MEM limit for u'chain6-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:00.788353 636804 net.py:233] addLink: n1=chain9-nat intf1=input -- n2=dc30.s1 intf2=dc30.s1-eth17
D1209 21:16:00.933082 636804 net.py:233] addLink: n1=chain9-nat intf1=output -- n2=dc30.s1 intf2=dc30.s1-eth18
I1209 21:16:00.933290 636804 daisy.py:310] successfully created VNF: chain9-nat
I1209 21:16:00.933408 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server5']
I1209 21:16:00.933509 636804 daisy.py:240] creating chain9-vpn on chain-server5
D1209 21:16:00.934513 636804 node.py:55] Starting compute instance u'chain9-vpn' in data center 'chain-server5'
D1209 21:16:01.528238 636804 simple.py:215] Setting MEM limit for u'chain9-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:01.545588 636804 simple.py:215] Setting MEM limit for u'chain6-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:01.561377 636804 simple.py:215] Setting MEM limit for u'chain9-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:16:01.577125 636804 simple.py:169] Setting CPU limit for u'chain9-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:16:01.604952 636804 simple.py:215] Setting MEM limit for u'chain9-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:01.619055 636804 simple.py:215] Setting MEM limit for u'chain6-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:01.633169 636804 simple.py:215] Setting MEM limit for u'chain6-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:16:01.647198 636804 simple.py:169] Setting CPU limit for u'chain6-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:16:01.675662 636804 simple.py:215] Setting MEM limit for u'chain6-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:01.689980 636804 simple.py:169] Setting CPU limit for u'chain9-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:16:01.718607 636804 simple.py:215] Setting MEM limit for u'chain9-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:01.889760 636804 net.py:233] addLink: n1=chain9-vpn intf1=input-ids -- n2=dc30.s1 intf2=dc30.s1-eth19
D1209 21:16:02.024365 636804 net.py:233] addLink: n1=chain9-vpn intf1=input-fw -- n2=dc30.s1 intf2=dc30.s1-eth20
D1209 21:16:02.203346 636804 net.py:233] addLink: n1=chain9-vpn intf1=output -- n2=dc30.s1 intf2=dc30.s1-eth21
I1209 21:16:02.203546 636804 daisy.py:310] successfully created VNF: chain9-vpn
I1209 21:16:02.203772 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud5']
I1209 21:16:02.203905 636804 daisy.py:240] creating chain9-source on off-cloud5
D1209 21:16:02.204559 636804 node.py:55] Starting compute instance u'chain9-source' in data center 'off-cloud5'
D1209 21:16:02.806049 636804 simple.py:215] Setting MEM limit for u'chain7-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:02.824534 636804 simple.py:215] Setting MEM limit for u'chain8-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:02.840037 636804 simple.py:215] Setting MEM limit for u'chain6-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:02.854805 636804 simple.py:215] Setting MEM limit for u'chain4-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:02.869987 636804 simple.py:215] Setting MEM limit for u'chain7-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:02.884429 636804 simple.py:215] Setting MEM limit for u'chain3-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:02.899503 636804 simple.py:215] Setting MEM limit for u'chain5-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:02.915581 636804 simple.py:169] Setting CPU limit for u'chain9-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:16:02.948026 636804 simple.py:215] Setting MEM limit for u'chain9-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:03.097198 636804 net.py:233] addLink: n1=chain9-source intf1=intf1 -- n2=dc19.s1 intf2=dc19.s1-eth9
I1209 21:16:03.097490 636804 daisy.py:310] successfully created VNF: chain9-source
I1209 21:16:03.097620 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud6']
I1209 21:16:03.097786 636804 daisy.py:240] creating chain9-sink on off-cloud6
D1209 21:16:03.098300 636804 node.py:55] Starting compute instance u'chain9-sink' in data center 'off-cloud6'
D1209 21:16:03.697063 636804 simple.py:215] Setting MEM limit for u'chain8-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:03.714451 636804 simple.py:169] Setting CPU limit for u'chain9-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:16:03.745366 636804 simple.py:215] Setting MEM limit for u'chain9-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:03.901812 636804 net.py:233] addLink: n1=chain9-sink intf1=intf2 -- n2=dc18.s1 intf2=dc18.s1-eth3
I1209 21:16:03.901978 636804 daisy.py:310] successfully created VNF: chain9-sink
I1209 21:16:03.902157 636804 daisy.py:311] successfully created chain: 9
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:16:05.732239 636804 daisy.py:401] source, nat, and fw start done
I1209 21:16:05.732472 636804 daisy.py:402] My commands
I1209 21:16:05.830092 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:16:07.832449 636804 daisy.py:419] < 2s wait complete
I1209 21:16:07.832770 636804 daisy.py:420] start VNF chaining
D1209 21:16:07.832969 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain9-source', vnf_src_interface='intf1', vnf_dst_name=u'chain9-nat', vnf_dst_interface='input'
I1209 21:16:07.833319 636804 net.py:665] Path between chain9-source and chain9-nat: ['dc19.s1', u'gsw0', 'dc30.s1']
I1209 21:16:07.833652 636804 net.py:889] add-flow
I1209 21:16:07.833852 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:109,output=1
I1209 21:16:07.853724 636804 net.py:893] add-flow in switch: dc19.s1 in_port: 9 out_port: 1
I1209 21:16:07.853954 636804 net.py:889] add-flow
I1209 21:16:07.854207 636804 net.py:890] in_port=46,dl_vlan=109,action=6
I1209 21:16:07.885257 636804 net.py:893] add-flow in switch: gsw0 in_port: 46 out_port: 6
I1209 21:16:07.885493 636804 net.py:694] end node reached: chain9-nat
I1209 21:16:07.885634 636804 net.py:889] add-flow
I1209 21:16:07.885765 636804 net.py:890] in_port=1,dl_vlan=109,action=strip_vlan,output=17
I1209 21:16:07.911053 636804 net.py:893] add-flow in switch: dc30.s1 in_port: 1 out_port: 17
D1209 21:16:07.911453 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain9-nat', vnf_src_interface='input', vnf_dst_name=u'chain9-source', vnf_dst_interface='intf1'
I1209 21:16:07.911606 636804 net.py:665] Path between chain9-nat and chain9-source: ['dc30.s1', u'gsw0', 'dc19.s1']
I1209 21:16:07.911763 636804 net.py:889] add-flow
I1209 21:16:07.911839 636804 net.py:890] -O OpenFlow13 in_port=17,action=mod_vlan_vid:110,output=1
I1209 21:16:07.938555 636804 net.py:893] add-flow in switch: dc30.s1 in_port: 17 out_port: 1
I1209 21:16:07.938740 636804 net.py:889] add-flow
I1209 21:16:07.938813 636804 net.py:890] in_port=6,dl_vlan=110,action=46
I1209 21:16:07.969409 636804 net.py:893] add-flow in switch: gsw0 in_port: 6 out_port: 46
I1209 21:16:07.969557 636804 net.py:694] end node reached: chain9-source
I1209 21:16:07.969647 636804 net.py:889] add-flow
I1209 21:16:07.969785 636804 net.py:890] in_port=1,dl_vlan=110,action=strip_vlan,output=9
I1209 21:16:07.993817 636804 net.py:893] add-flow in switch: dc19.s1 in_port: 1 out_port: 9
I1209 21:16:07.993984 636804 daisy.py:322] chain(chain9-source, chain9-nat) output: success: add-flow between chain9-source and chain9-nat with options: {
 "priority": 1000, 
 "path": [
  "dc19.s1", 
  "gsw0", 
  "dc30.s1"
 ], 
 "vlan": 109, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain9-nat and chain9-source with options: {
 "priority": 1000, 
 "path": [
  "dc30.s1", 
  "gsw0", 
  "dc19.s1"
 ], 
 "vlan": 110, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:16:07.994189 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain9-nat', vnf_src_interface='output', vnf_dst_name=u'chain9-fw', vnf_dst_interface='input'
I1209 21:16:07.994293 636804 net.py:665] Path between chain9-nat and chain9-fw: ['dc30.s1']
I1209 21:16:07.994363 636804 net.py:694] end node reached: chain9-fw
I1209 21:16:07.994417 636804 net.py:889] add-flow
I1209 21:16:07.994493 636804 net.py:890] -O OpenFlow13 in_port=18,action=mod_vlan_vid:111,output=12
I1209 21:16:08.024461 636804 net.py:893] add-flow in switch: dc30.s1 in_port: 18 out_port: 12
I1209 21:16:08.024571 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc30.s1 in_port: 18 out_port: 12
I1209 21:16:08.024645 636804 net.py:931] add-flow
I1209 21:16:08.024712 636804 net.py:932] in_port=18,action=strip_vlan,output=12
I1209 21:16:08.058157 636804 net.py:935] add-flow in switch: dc30.s1 in_port: 18 out_port: 12
D1209 21:16:08.058830 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain9-fw', vnf_src_interface='input', vnf_dst_name=u'chain9-nat', vnf_dst_interface='output'
I1209 21:16:08.058959 636804 net.py:665] Path between chain9-fw and chain9-nat: ['dc30.s1']
I1209 21:16:08.059071 636804 net.py:694] end node reached: chain9-nat
I1209 21:16:08.059155 636804 net.py:889] add-flow
I1209 21:16:08.059206 636804 net.py:890] -O OpenFlow13 in_port=12,action=mod_vlan_vid:112,output=18
I1209 21:16:08.099603 636804 net.py:893] add-flow in switch: dc30.s1 in_port: 12 out_port: 18
I1209 21:16:08.099750 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc30.s1 in_port: 12 out_port: 18
I1209 21:16:08.099822 636804 net.py:931] add-flow
I1209 21:16:08.099869 636804 net.py:932] in_port=12,action=strip_vlan,output=18
I1209 21:16:08.134587 636804 net.py:935] add-flow in switch: dc30.s1 in_port: 12 out_port: 18
I1209 21:16:08.134803 636804 daisy.py:329] chain(chain9-nat, chain9-fw) output: success: add-flow between chain9-nat and chain9-fw with options: {
 "priority": 1000, 
 "path": [
  "dc30.s1"
 ], 
 "vlan": 111, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain9-fw and chain9-nat with options: {
 "priority": 1000, 
 "path": [
  "dc30.s1"
 ], 
 "vlan": 112, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:16:08.134908 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain9-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain9-ids', vnf_dst_interface='input'
I1209 21:16:08.135008 636804 net.py:665] Path between chain9-fw and chain9-ids: ['dc30.s1']
I1209 21:16:08.135094 636804 net.py:694] end node reached: chain9-ids
I1209 21:16:08.135159 636804 net.py:889] add-flow
I1209 21:16:08.135212 636804 net.py:890] -O OpenFlow13 in_port=13,action=mod_vlan_vid:113,output=15
I1209 21:16:08.161947 636804 net.py:893] add-flow in switch: dc30.s1 in_port: 13 out_port: 15
D1209 21:16:08.162168 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain9-ids', vnf_src_interface='input', vnf_dst_name=u'chain9-fw', vnf_dst_interface='output-ids'
I1209 21:16:08.162277 636804 net.py:665] Path between chain9-ids and chain9-fw: ['dc30.s1']
I1209 21:16:08.162348 636804 net.py:694] end node reached: chain9-fw
I1209 21:16:08.162415 636804 net.py:889] add-flow
I1209 21:16:08.162522 636804 net.py:890] -O OpenFlow13 in_port=15,action=mod_vlan_vid:114,output=13
I1209 21:16:08.192986 636804 net.py:893] add-flow in switch: dc30.s1 in_port: 15 out_port: 13
I1209 21:16:08.193123 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc30.s1 in_port: 15 out_port: 13
I1209 21:16:08.193178 636804 net.py:931] add-flow
I1209 21:16:08.193231 636804 net.py:932] in_port=15,action=strip_vlan,output=13
I1209 21:16:08.220021 636804 net.py:935] add-flow in switch: dc30.s1 in_port: 15 out_port: 13
I1209 21:16:08.220199 636804 daisy.py:336] chain(chain9-fw, chain9-ids) output: success: add-flow between chain9-fw and chain9-ids with options: {
 "priority": 1000, 
 "path": [
  "dc30.s1"
 ], 
 "vlan": 113, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain9-ids and chain9-fw with options: {
 "priority": 1000, 
 "path": [
  "dc30.s1"
 ], 
 "vlan": 114, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:16:08.220310 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain9-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain9-vpn', vnf_dst_interface='input-fw'
I1209 21:16:08.220402 636804 net.py:665] Path between chain9-fw and chain9-vpn: ['dc30.s1']
I1209 21:16:08.220467 636804 net.py:694] end node reached: chain9-vpn
I1209 21:16:08.220527 636804 net.py:889] add-flow
I1209 21:16:08.220582 636804 net.py:890] -O OpenFlow13 in_port=14,action=mod_vlan_vid:115,output=20
I1209 21:16:08.250394 636804 net.py:893] add-flow in switch: dc30.s1 in_port: 14 out_port: 20
D1209 21:16:08.250576 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain9-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain9-fw', vnf_dst_interface='output-vpn'
I1209 21:16:08.250699 636804 net.py:665] Path between chain9-vpn and chain9-fw: ['dc30.s1']
I1209 21:16:08.250775 636804 net.py:694] end node reached: chain9-fw
I1209 21:16:08.250844 636804 net.py:889] add-flow
I1209 21:16:08.250905 636804 net.py:890] -O OpenFlow13 in_port=20,action=mod_vlan_vid:116,output=14
I1209 21:16:08.270957 636804 net.py:893] add-flow in switch: dc30.s1 in_port: 20 out_port: 14
I1209 21:16:08.271156 636804 daisy.py:343] chain(chain9-fw, chain9-vpn) output: success: add-flow between chain9-fw and chain9-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc30.s1"
 ], 
 "vlan": 115, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain9-vpn and chain9-fw with options: {
 "priority": 1000, 
 "path": [
  "dc30.s1"
 ], 
 "vlan": 116, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:16:08.271279 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain9-ids', vnf_src_interface='output', vnf_dst_name=u'chain9-vpn', vnf_dst_interface='input-ids'
I1209 21:16:08.271356 636804 net.py:665] Path between chain9-ids and chain9-vpn: ['dc30.s1']
I1209 21:16:08.271415 636804 net.py:694] end node reached: chain9-vpn
I1209 21:16:08.271483 636804 net.py:889] add-flow
I1209 21:16:08.271539 636804 net.py:890] -O OpenFlow13 in_port=16,action=mod_vlan_vid:117,output=19
I1209 21:16:08.293853 636804 net.py:893] add-flow in switch: dc30.s1 in_port: 16 out_port: 19
I1209 21:16:08.293962 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc30.s1 in_port: 16 out_port: 19
I1209 21:16:08.294034 636804 net.py:931] add-flow
I1209 21:16:08.294198 636804 net.py:932] in_port=16,action=strip_vlan,output=19
I1209 21:16:08.314367 636804 net.py:935] add-flow in switch: dc30.s1 in_port: 16 out_port: 19
D1209 21:16:08.314589 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain9-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain9-ids', vnf_dst_interface='output'
I1209 21:16:08.314738 636804 net.py:665] Path between chain9-vpn and chain9-ids: ['dc30.s1']
I1209 21:16:08.314817 636804 net.py:694] end node reached: chain9-ids
I1209 21:16:08.314888 636804 net.py:889] add-flow
I1209 21:16:08.314937 636804 net.py:890] -O OpenFlow13 in_port=19,action=mod_vlan_vid:118,output=16
I1209 21:16:08.346244 636804 net.py:893] add-flow in switch: dc30.s1 in_port: 19 out_port: 16
I1209 21:16:08.346410 636804 daisy.py:350] chain(chain9-ids, chain9-vpn) output: success: add-flow between chain9-ids and chain9-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc30.s1"
 ], 
 "vlan": 117, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain9-vpn and chain9-ids with options: {
 "priority": 1000, 
 "path": [
  "dc30.s1"
 ], 
 "vlan": 118, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:16:08.346550 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain9-vpn', vnf_src_interface='output', vnf_dst_name=u'chain9-sink', vnf_dst_interface='intf2'
I1209 21:16:08.346719 636804 net.py:665] Path between chain9-vpn and chain9-sink: ['dc30.s1', u'gsw0', 'dc18.s1']
I1209 21:16:08.346807 636804 net.py:889] add-flow
I1209 21:16:08.346868 636804 net.py:890] -O OpenFlow13 in_port=21,action=mod_vlan_vid:119,output=1
I1209 21:16:08.357346 636804 net.py:893] add-flow in switch: dc30.s1 in_port: 21 out_port: 1
I1209 21:16:08.357503 636804 net.py:889] add-flow
I1209 21:16:08.357626 636804 net.py:890] in_port=6,dl_vlan=119,action=47
I1209 21:16:08.369647 636804 net.py:893] add-flow in switch: gsw0 in_port: 6 out_port: 47
I1209 21:16:08.369792 636804 net.py:694] end node reached: chain9-sink
I1209 21:16:08.369877 636804 net.py:889] add-flow
I1209 21:16:08.369936 636804 net.py:890] in_port=1,dl_vlan=119,action=strip_vlan,output=3
I1209 21:16:08.381097 636804 net.py:893] add-flow in switch: dc18.s1 in_port: 1 out_port: 3
D1209 21:16:08.381269 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain9-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain9-vpn', vnf_dst_interface='output'
I1209 21:16:08.381397 636804 net.py:665] Path between chain9-sink and chain9-vpn: ['dc18.s1', u'gsw0', 'dc30.s1']
I1209 21:16:08.381495 636804 net.py:889] add-flow
I1209 21:16:08.381561 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:120,output=1
I1209 21:16:08.392729 636804 net.py:893] add-flow in switch: dc18.s1 in_port: 3 out_port: 1
I1209 21:16:08.392846 636804 net.py:889] add-flow
I1209 21:16:08.392911 636804 net.py:890] in_port=47,dl_vlan=120,action=6
I1209 21:16:08.405956 636804 net.py:893] add-flow in switch: gsw0 in_port: 47 out_port: 6
I1209 21:16:08.406085 636804 net.py:694] end node reached: chain9-vpn
I1209 21:16:08.406246 636804 net.py:889] add-flow
I1209 21:16:08.406306 636804 net.py:890] in_port=1,dl_vlan=120,action=strip_vlan,output=21
I1209 21:16:08.417901 636804 net.py:893] add-flow in switch: dc30.s1 in_port: 1 out_port: 21
I1209 21:16:08.418068 636804 daisy.py:357] chain(chain9-vpn, chain9-sink) output: success: add-flow between chain9-vpn and chain9-sink with options: {
 "priority": 1000, 
 "path": [
  "dc30.s1", 
  "gsw0", 
  "dc18.s1"
 ], 
 "vlan": 119, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain9-sink and chain9-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc18.s1", 
  "gsw0", 
  "dc30.s1"
 ], 
 "vlan": 120, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:16:09 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:16:09 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:16:09 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:16:09 2017 UDPv4 link local: [undef]
Sat Dec  9 21:16:09 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:16:09 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=fbc5f802 2f49a7c3
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:16:09 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:16:09 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:16:09 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:16:09 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:16:09 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:16:09 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:16:09 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:16:09 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:16:09 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:16:09 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:16:09 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:16:11 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:16:11 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:16:11 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:16:11 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:16:11 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:16:11 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:16:11 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:3b
Sat Dec  9 21:16:11 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:16:11 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:16:11 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:16:11 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:16:11 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:16:11 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:16:11 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:16:11 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:16:11 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:16:11 2017 GID set to nogroup
Sat Dec  9 21:16:11 2017 UID set to nobody
Sat Dec  9 21:16:11 2017 Initialization Sequence Completed
I1209 21:16:14.746201 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:16:19.751559 636804 daisy.py:443] < 5s wait complete
I1209 21:16:19.751770 636804 daisy.py:444] VPN client VNF started
chain9-source -> chain9-sink 
chain9-sink -> chain9-source 
*** Results: 0% dropped (2/2 received)
I1209 21:16:22.995438 636804 daisy.py:369] ping chain9-source -> chain9-sink. Packet drop 0.0%
I1209 21:16:23.035382 636804 bench.py:19] Copying traces into the containers...
I1209 21:16:23.574182 636804 bench.py:29] Running dstat...
I1209 21:16:25.795403 636804 iter-e2-allocation.py:17] started allocating chain: 10
del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain8-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain8-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain8-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.02218299999999984, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server5'], [u'ids', u'chain-server5'], [u'nat', u'chain-server5'], [u'vpn', u'chain-server5'], [u'source', u'off-cloud5'], [u'sink', u'off-cloud6']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 1.419214, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud5', 2], [u'chain-server5', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server5', 2], [u'off-cloud6', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain9-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain9-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain9-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain9-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain9-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain9-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain9-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain9-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain9-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain9-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain9-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain9-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain9-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain9-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain9-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain9-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain9-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain9-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain9-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain9-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain9-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain9-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain9-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain9-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain9-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain9-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.02227099999999993, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server39'], [u'ids', u'chain-server39'], [u'nat', u'chain-server39'], [u'vpn', u'chain-server39'], [u'sink', u'off-cloud5'], [u'source', u'off-cloud5']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 1.455405, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud5', 2I1209 21:16:25.795811 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server39']
I1209 21:16:25.795919 636804 daisy.py:240] creating chain10-fw on chain-server39
D1209 21:16:25.796545 636804 node.py:55] Starting compute instance u'chain10-fw' in data center 'chain-server39'
D1209 21:16:26.387532 636804 simple.py:169] Setting CPU limit for u'chain10-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:16:26.421736 636804 simple.py:215] Setting MEM limit for u'chain10-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:26.583561 636804 net.py:233] addLink: n1=chain10-fw intf1=input -- n2=dc50.s1 intf2=dc50.s1-eth2
D1209 21:16:26.725729 636804 net.py:233] addLink: n1=chain10-fw intf1=output-ids -- n2=dc50.s1 intf2=dc50.s1-eth3
D1209 21:16:26.873821 636804 net.py:233] addLink: n1=chain10-fw intf1=output-vpn -- n2=dc50.s1 intf2=dc50.s1-eth4
I1209 21:16:26.874061 636804 daisy.py:310] successfully created VNF: chain10-fw
I1209 21:16:26.874264 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server39']
I1209 21:16:26.874382 636804 daisy.py:240] creating chain10-ids on chain-server39
D1209 21:16:26.875147 636804 node.py:55] Starting compute instance u'chain10-ids' in data center 'chain-server39'
D1209 21:16:27.448316 636804 simple.py:169] Setting CPU limit for u'chain10-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:16:27.480057 636804 simple.py:215] Setting MEM limit for u'chain10-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:16:27.497425 636804 simple.py:169] Setting CPU limit for u'chain10-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:16:27.529963 636804 simple.py:215] Setting MEM limit for u'chain10-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:27.718916 636804 net.py:233] addLink: n1=chain10-ids intf1=input -- n2=dc50.s1 intf2=dc50.s1-eth5
D1209 21:16:27.856606 636804 net.py:233] addLink: n1=chain10-ids intf1=output -- n2=dc50.s1 intf2=dc50.s1-eth6
I1209 21:16:27.856857 636804 daisy.py:310] successfully created VNF: chain10-ids
I1209 21:16:27.856962 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server39']
I1209 21:16:27.857054 636804 daisy.py:240] creating chain10-nat on chain-server39
D1209 21:16:27.857508 636804 node.py:55] Starting compute instance u'chain10-nat' in data center 'chain-server39'
D1209 21:16:28.464298 636804 simple.py:169] Setting CPU limit for u'chain10-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:16:28.499130 636804 simple.py:215] Setting MEM limit for u'chain10-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:28.516244 636804 simple.py:215] Setting MEM limit for u'chain10-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:16:28.533555 636804 simple.py:169] Setting CPU limit for u'chain10-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:16:28.565752 636804 simple.py:215] Setting MEM limit for u'chain10-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:28.720390 636804 net.py:233] addLink: n1=chain10-nat intf1=input -- n2=dc50.s1 intf2=dc50.s1-eth7
D1209 21:16:28.872447 636804 net.py:233] addLink: n1=chain10-nat intf1=output -- n2=dc50.s1 intf2=dc50.s1-eth8
I1209 21:16:28.872663 636804 daisy.py:310] successfully created VNF: chain10-nat
I1209 21:16:28.872781 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server39']
I1209 21:16:28.872895 636804 daisy.py:240] creating chain10-vpn on chain-server39
D1209 21:16:28.873358 636804 node.py:55] Starting compute instance u'chain10-vpn' in data center 'chain-server39'
D1209 21:16:29.478622 636804 simple.py:215] Setting MEM limit for u'chain10-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:29.495863 636804 simple.py:215] Setting MEM limit for u'chain10-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:16:29.511831 636804 simple.py:169] Setting CPU limit for u'chain10-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:16:29.544118 636804 simple.py:215] Setting MEM limit for u'chain10-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:29.558527 636804 simple.py:169] Setting CPU limit for u'chain10-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:16:29.590075 636804 simple.py:215] Setting MEM limit for u'chain10-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:29.747385 636804 net.py:233] addLink: n1=chain10-vpn intf1=input-ids -- n2=dc50.s1 intf2=dc50.s1-eth9
D1209 21:16:29.882958 636804 net.py:233] addLink: n1=chain10-vpn intf1=input-fw -- n2=dc50.s1 intf2=dc50.s1-eth10
D1209 21:16:30.027508 636804 net.py:233] addLink: n1=chain10-vpn intf1=output -- n2=dc50.s1 intf2=dc50.s1-eth11
I1209 21:16:30.027815 636804 daisy.py:310] successfully created VNF: chain10-vpn
I1209 21:16:30.027961 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud5']
I1209 21:16:30.028145 636804 daisy.py:240] creating chain10-sink on off-cloud5
D1209 21:16:30.028830 636804 node.py:55] Starting compute instance u'chain10-sink' in data center 'off-cloud5'
D1209 21:16:30.619539 636804 simple.py:215] Setting MEM limit for u'chain7-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:30.637481 636804 simple.py:215] Setting MEM limit for u'chain8-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:30.654218 636804 simple.py:169] Setting CPU limit for u'chain10-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:16:30.686248 636804 simple.py:215] Setting MEM limit for u'chain10-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:30.701024 636804 simple.py:215] Setting MEM limit for u'chain6-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:30.716379 636804 simple.py:215] Setting MEM limit for u'chain4-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:30.733911 636804 simple.py:215] Setting MEM limit for u'chain7-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:30.749989 636804 simple.py:215] Setting MEM limit for u'chain3-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:30.765809 636804 simple.py:215] Setting MEM limit for u'chain5-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:30.781742 636804 simple.py:215] Setting MEM limit for u'chain9-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:30.948822 636804 net.py:233] addLink: n1=chain10-sink intf1=intf2 -- n2=dc19.s1 intf2=dc19.s1-eth10
I1209 21:16:30.949076 636804 daisy.py:310] successfully created VNF: chain10-sink
I1209 21:16:30.949218 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud5']
I1209 21:16:30.949326 636804 daisy.py:240] creating chain10-source on off-cloud5
D1209 21:16:30.950011 636804 node.py:55] Starting compute instance u'chain10-source' in data center 'off-cloud5'
D1209 21:16:31.519272 636804 simple.py:169] Setting CPU limit for u'chain10-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:16:31.553905 636804 simple.py:215] Setting MEM limit for u'chain10-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:31.570885 636804 simple.py:215] Setting MEM limit for u'chain7-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:31.586148 636804 simple.py:215] Setting MEM limit for u'chain8-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:31.601044 636804 simple.py:215] Setting MEM limit for u'chain10-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:31.616580 636804 simple.py:215] Setting MEM limit for u'chain6-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:31.632677 636804 simple.py:215] Setting MEM limit for u'chain4-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:31.648614 636804 simple.py:215] Setting MEM limit for u'chain7-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:31.663783 636804 simple.py:215] Setting MEM limit for u'chain3-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:31.680140 636804 simple.py:215] Setting MEM limit for u'chain5-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:31.695817 636804 simple.py:215] Setting MEM limit for u'chain9-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:31.870285 636804 net.py:233] addLink: n1=chain10-source intf1=intf1 -- n2=dc19.s1 intf2=dc19.s1-eth11
I1209 21:16:31.870512 636804 daisy.py:310] successfully created VNF: chain10-source
I1209 21:16:31.870709 636804 daisy.py:311] successfully created chain: 10
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:16:33.930741 636804 daisy.py:401] source, nat, and fw start done
I1209 21:16:33.930932 636804 daisy.py:402] My commands
I1209 21:16:34.033616 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:16:36.035907 636804 daisy.py:419] < 2s wait complete
I1209 21:16:36.036107 636804 daisy.py:420] start VNF chaining
D1209 21:16:36.036273 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain10-source', vnf_src_interface='intf1', vnf_dst_name=u'chain10-nat', vnf_dst_interface='input'
I1209 21:16:36.036525 636804 net.py:665] Path between chain10-source and chain10-nat: ['dc19.s1', u'gsw0', 'dc50.s1']
I1209 21:16:36.036730 636804 net.py:889] add-flow
I1209 21:16:36.036839 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:121,output=1
I1209 21:16:36.040709 636804 net.py:893] add-flow in switch: dc19.s1 in_port: 11 out_port: 1
I1209 21:16:36.040879 636804 net.py:889] add-flow
I1209 21:16:36.040997 636804 net.py:890] in_port=46,dl_vlan=121,action=40
I1209 21:16:36.052829 636804 net.py:893] add-flow in switch: gsw0 in_port: 46 out_port: 40
I1209 21:16:36.052954 636804 net.py:694] end node reached: chain10-nat
I1209 21:16:36.053083 636804 net.py:889] add-flow
I1209 21:16:36.053181 636804 net.py:890] in_port=1,dl_vlan=121,action=strip_vlan,output=7
I1209 21:16:36.064224 636804 net.py:893] add-flow in switch: dc50.s1 in_port: 1 out_port: 7
D1209 21:16:36.064512 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain10-nat', vnf_src_interface='input', vnf_dst_name=u'chain10-source', vnf_dst_interface='intf1'
I1209 21:16:36.064724 636804 net.py:665] Path between chain10-nat and chain10-source: ['dc50.s1', u'gsw0', 'dc19.s1']
I1209 21:16:36.064857 636804 net.py:889] add-flow
I1209 21:16:36.064956 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:122,output=1
I1209 21:16:36.075474 636804 net.py:893] add-flow in switch: dc50.s1 in_port: 7 out_port: 1
I1209 21:16:36.075663 636804 net.py:889] add-flow
I1209 21:16:36.075788 636804 net.py:890] in_port=40,dl_vlan=122,action=46
I1209 21:16:36.086981 636804 net.py:893] add-flow in switch: gsw0 in_port: 40 out_port: 46
I1209 21:16:36.087115 636804 net.py:694] end node reached: chain10-source
I1209 21:16:36.087241 636804 net.py:889] add-flow
I1209 21:16:36.087337 636804 net.py:890] in_port=1,dl_vlan=122,action=strip_vlan,output=11
I1209 21:16:36.098851 636804 net.py:893] add-flow in switch: dc19.s1 in_port: 1 out_port: 11
I1209 21:16:36.099131 636804 daisy.py:322] chain(chain10-source, chain10-nat) output: success: add-flow between chain10-source and chain10-nat with options: {
 "priority": 1000, 
 "path": [
  "dc19.s1", 
  "gsw0", 
  "dc50.s1"
 ], 
 "vlan": 121, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain10-nat and chain10-source with options: {
 "priority": 1000, 
 "path": [
  "dc50.s1", 
  "gsw0", 
  "dc19.s1"
 ], 
 "vlan": 122, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:16:36.099325 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain10-nat', vnf_src_interface='output', vnf_dst_name=u'chain10-fw', vnf_dst_interface='input'
I1209 21:16:36.099483 636804 net.py:665] Path between chain10-nat and chain10-fw: ['dc50.s1']
I1209 21:16:36.099601 636804 net.py:694] end node reached: chain10-fw
I1209 21:16:36.099765 636804 net.py:889] add-flow
I1209 21:16:36.099863 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:123,output=2
I1209 21:16:36.110495 636804 net.py:893] add-flow in switch: dc50.s1 in_port: 8 out_port: 2
I1209 21:16:36.110716 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc50.s1 in_port: 8 out_port: 2
I1209 21:16:36.110846 636804 net.py:931] add-flow
I1209 21:16:36.110954 636804 net.py:932] in_port=8,action=strip_vlan,output=2
I1209 21:16:36.124480 636804 net.py:935] add-flow in switch: dc50.s1 in_port: 8 out_port: 2
D1209 21:16:36.124736 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain10-fw', vnf_src_interface='input', vnf_dst_name=u'chain10-nat', vnf_dst_interface='output'
I1209 21:16:36.124895 636804 net.py:665] Path between chain10-fw and chain10-nat: ['dc50.s1']
I1209 21:16:36.125036 636804 net.py:694] end node reached: chain10-nat
I1209 21:16:36.125163 636804 net.py:889] add-flow
I1209 21:16:36.125256 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:124,output=8
I1209 21:16:36.148328 636804 net.py:893] add-flow in switch: dc50.s1 in_port: 2 out_port: 8
I1209 21:16:36.148458 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc50.s1 in_port: 2 out_port: 8
I1209 21:16:36.148557 636804 net.py:931] add-flow
I1209 21:16:36.148679 636804 net.py:932] in_port=2,action=strip_vlan,output=8
I1209 21:16:36.162585 636804 net.py:935] add-flow in switch: dc50.s1 in_port: 2 out_port: 8
I1209 21:16:36.162803 636804 daisy.py:329] chain(chain10-nat, chain10-fw) output: success: add-flow between chain10-nat and chain10-fw with options: {
 "priority": 1000, 
 "path": [
  "dc50.s1"
 ], 
 "vlan": 123, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain10-fw and chain10-nat with options: {
 "priority": 1000, 
 "path": [
  "dc50.s1"
 ], 
 "vlan": 124, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:16:36.162987 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain10-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain10-ids', vnf_dst_interface='input'
I1209 21:16:36.163158 636804 net.py:665] Path between chain10-fw and chain10-ids: ['dc50.s1']
I1209 21:16:36.163271 636804 net.py:694] end node reached: chain10-ids
I1209 21:16:36.163383 636804 net.py:889] add-flow
I1209 21:16:36.163475 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:125,output=5
I1209 21:16:36.186330 636804 net.py:893] add-flow in switch: dc50.s1 in_port: 3 out_port: 5
D1209 21:16:36.186542 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain10-ids', vnf_src_interface='input', vnf_dst_name=u'chain10-fw', vnf_dst_interface='output-ids'
I1209 21:16:36.186742 636804 net.py:665] Path between chain10-ids and chain10-fw: ['dc50.s1']
I1209 21:16:36.186858 636804 net.py:694] end node reached: chain10-fw
I1209 21:16:36.187016 636804 net.py:889] add-flow
I1209 21:16:36.187105 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:126,output=3
I1209 21:16:36.198369 636804 net.py:893] add-flow in switch: dc50.s1 in_port: 5 out_port: 3
I1209 21:16:36.198488 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc50.s1 in_port: 5 out_port: 3
I1209 21:16:36.198622 636804 net.py:931] add-flow
I1209 21:16:36.198728 636804 net.py:932] in_port=5,action=strip_vlan,output=3
I1209 21:16:36.209956 636804 net.py:935] add-flow in switch: dc50.s1 in_port: 5 out_port: 3
I1209 21:16:36.210158 636804 daisy.py:336] chain(chain10-fw, chain10-ids) output: success: add-flow between chain10-fw and chain10-ids with options: {
 "priority": 1000, 
 "path": [
  "dc50.s1"
 ], 
 "vlan": 125, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain10-ids and chain10-fw with options: {
 "priority": 1000, 
 "path": [
  "dc50.s1"
 ], 
 "vlan": 126, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:16:36.210324 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain10-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain10-vpn', vnf_dst_interface='input-fw'
I1209 21:16:36.210510 636804 net.py:665] Path between chain10-fw and chain10-vpn: ['dc50.s1']
I1209 21:16:36.210686 636804 net.py:694] end node reached: chain10-vpn
I1209 21:16:36.210804 636804 net.py:889] add-flow
I1209 21:16:36.210901 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:127,output=10
I1209 21:16:36.222080 636804 net.py:893] add-flow in switch: dc50.s1 in_port: 4 out_port: 10
D1209 21:16:36.222287 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain10-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain10-fw', vnf_dst_interface='output-vpn'
I1209 21:16:36.222453 636804 net.py:665] Path between chain10-vpn and chain10-fw: ['dc50.s1']
I1209 21:16:36.222541 636804 net.py:694] end node reached: chain10-fw
I1209 21:16:36.222703 636804 net.py:889] add-flow
I1209 21:16:36.222795 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:128,output=4
I1209 21:16:36.233701 636804 net.py:893] add-flow in switch: dc50.s1 in_port: 10 out_port: 4
I1209 21:16:36.233879 636804 daisy.py:343] chain(chain10-fw, chain10-vpn) output: success: add-flow between chain10-fw and chain10-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc50.s1"
 ], 
 "vlan": 127, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain10-vpn and chain10-fw with options: {
 "priority": 1000, 
 "path": [
  "dc50.s1"
 ], 
 "vlan": 128, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:16:36.234029 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain10-ids', vnf_src_interface='output', vnf_dst_name=u'chain10-vpn', vnf_dst_interface='input-ids'
I1209 21:16:36.234237 636804 net.py:665] Path between chain10-ids and chain10-vpn: ['dc50.s1']
I1209 21:16:36.234345 636804 net.py:694] end node reached: chain10-vpn
I1209 21:16:36.234451 636804 net.py:889] add-flow
I1209 21:16:36.234555 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:129,output=9
I1209 21:16:36.245245 636804 net.py:893] add-flow in switch: dc50.s1 in_port: 6 out_port: 9
I1209 21:16:36.245364 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc50.s1 in_port: 6 out_port: 9
I1209 21:16:36.245455 636804 net.py:931] add-flow
I1209 21:16:36.245543 636804 net.py:932] in_port=6,action=strip_vlan,output=9
I1209 21:16:36.257492 636804 net.py:935] add-flow in switch: dc50.s1 in_port: 6 out_port: 9
D1209 21:16:36.257684 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain10-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain10-ids', vnf_dst_interface='output'
I1209 21:16:36.257833 636804 net.py:665] Path between chain10-vpn and chain10-ids: ['dc50.s1']
I1209 21:16:36.257961 636804 net.py:694] end node reached: chain10-ids
I1209 21:16:36.258059 636804 net.py:889] add-flow
I1209 21:16:36.258230 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:130,output=6
I1209 21:16:36.281279 636804 net.py:893] add-flow in switch: dc50.s1 in_port: 9 out_port: 6
I1209 21:16:36.281436 636804 daisy.py:350] chain(chain10-ids, chain10-vpn) output: success: add-flow between chain10-ids and chain10-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc50.s1"
 ], 
 "vlan": 129, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain10-vpn and chain10-ids with options: {
 "priority": 1000, 
 "path": [
  "dc50.s1"
 ], 
 "vlan": 130, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:16:36.281613 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain10-vpn', vnf_src_interface='output', vnf_dst_name=u'chain10-sink', vnf_dst_interface='intf2'
I1209 21:16:36.281815 636804 net.py:665] Path between chain10-vpn and chain10-sink: ['dc50.s1', u'gsw0', 'dc19.s1']
I1209 21:16:36.281936 636804 net.py:889] add-flow
I1209 21:16:36.282048 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:131,output=1
I1209 21:16:36.293229 636804 net.py:893] add-flow in switch: dc50.s1 in_port: 11 out_port: 1
I1209 21:16:36.293359 636804 net.py:889] add-flow
I1209 21:16:36.293467 636804 net.py:890] in_port=40,dl_vlan=131,action=46
I1209 21:16:36.305207 636804 net.py:893] add-flow in switch: gsw0 in_port: 40 out_port: 46
I1209 21:16:36.305349 636804 net.py:694] end node reached: chain10-sink
I1209 21:16:36.305460 636804 net.py:889] add-flow
I1209 21:16:36.305556 636804 net.py:890] in_port=1,dl_vlan=131,action=strip_vlan,output=10
I1209 21:16:36.317090 636804 net.py:893] add-flow in switch: dc19.s1 in_port: 1 out_port: 10
D1209 21:16:36.317239 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain10-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain10-vpn', vnf_dst_interface='output'
I1209 21:16:36.317409 636804 net.py:665] Path between chain10-sink and chain10-vpn: ['dc19.s1', u'gsw0', 'dc50.s1']
I1209 21:16:36.317569 636804 net.py:889] add-flow
I1209 21:16:36.317688 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:132,output=1
I1209 21:16:36.328906 636804 net.py:893] add-flow in switch: dc19.s1 in_port: 10 out_port: 1
I1209 21:16:36.329056 636804 net.py:889] add-flow
I1209 21:16:36.329150 636804 net.py:890] in_port=46,dl_vlan=132,action=40
I1209 21:16:36.341150 636804 net.py:893] add-flow in switch: gsw0 in_port: 46 out_port: 40
I1209 21:16:36.341252 636804 net.py:694] end node reached: chain10-vpn
I1209 21:16:36.341397 636804 net.py:889] add-flow
I1209 21:16:36.341495 636804 net.py:890] in_port=1,dl_vlan=132,action=strip_vlan,output=11
I1209 21:16:36.353487 636804 net.py:893] add-flow in switch: dc50.s1 in_port: 1 out_port: 11
I1209 21:16:36.353781 636804 daisy.py:357] chain(chain10-vpn, chain10-sink) output: success: add-flow between chain10-vpn and chain10-sink with options: {
 "priority": 1000, 
 "path": [
  "dc50.s1", 
  "gsw0", 
  "dc19.s1"
 ], 
 "vlan": 131, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain10-sink and chain10-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc19.s1", 
  "gsw0", 
  "dc50.s1"
 ], 
 "vlan": 132, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:16:37 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:16:37 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:16:37 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:16:37 2017 UDPv4 link local: [undef]
Sat Dec  9 21:16:37 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:16:37 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=14be14bc c1475de0
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:16:37 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:16:37 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:16:37 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:16:37 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:16:37 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:16:37 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:16:37 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:16:37 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:16:37 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:16:37 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:16:37 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:16:39 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:16:39 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:16:39 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:16:39 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:16:39 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:16:39 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:16:39 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:41
Sat Dec  9 21:16:39 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:16:39 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:16:39 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:16:39 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:16:39 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:16:39 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:16:39 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:16:39 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:16:39 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:16:39 2017 GID set to nogroup
Sat Dec  9 21:16:39 2017 UID set to nobody
Sat Dec  9 21:16:39 2017 Initialization Sequence Completed
I1209 21:16:42.740175 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:16:47.745491 636804 daisy.py:443] < 5s wait complete
I1209 21:16:47.745677 636804 daisy.py:444] VPN client VNF started
chain10-source -> chain10-sink 
chain10-sink -> chain10-source 
*** Results: 0% dropped (2/2 received)
I1209 21:16:50.651577 636804 daisy.py:369] ping chain10-source -> chain10-sink. Packet drop 0.0%
I1209 21:16:50.688844 636804 bench.py:19] Copying traces into the containers...
I1209 21:16:51.289987 636804 bench.py:29] Running dstat...
I1209 21:16:53.486054 636804 iter-e2-allocation.py:17] started allocating chain: 11
I1209 21:16:53.486404 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server39']
I1209 21:16:53.486524 636804 daisy.py:240] creating chain11-fw on chain-server39
D1209 21:16:53.487138 636804 node.py:55] Starting compute instance u'chain11-fw' in data center 'chain-server39'
D1209 21:16:54.111422 636804 simple.py:215] Setting MEM limit for u'chain10-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:54.129640 636804 simple.py:215] Setting MEM limit for u'chain10-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:16:54.144928 636804 simple.py:215] Setting MEM limit for u'chain10-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:54.161710 636804 simple.py:169] Setting CPU limit for u'chain10-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:16:54.190351 636804 simple.py:215] Setting MEM limit for u'chain10-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:54.205238 636804 simple.py:169] Setting CPU limit for u'chain11-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:16:54.236905 636804 simple.py:215] Setting MEM limit for u'chain11-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:54.402237 636804 net.py:233] addLink: n1=chain11-fw intf1=input -- n2=dc50.s1 intf2=dc50.s1-eth12
D1209 21:16:54.552788 636804 net.py:233] addLink: n1=chain11-fw intf1=output-ids -- n2=dc50.s1 intf2=dc50.s1-eth13
D1209 21:16:54.719093 636804 net.py:233] addLink: n1=chain11-fw intf1=output-vpn -- n2=dc50.s1 intf2=dc50.s1-eth14
I1209 21:16:54.719361 636804 daisy.py:310] successfully created VNF: chain11-fw
I1209 21:16:54.719500 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server39']
I1209 21:16:54.719644 636804 daisy.py:240] creating chain11-ids on chain-server39
D1209 21:16:54.720314 636804 node.py:55] Starting compute instance u'chain11-ids' in data center 'chain-server39'
D1209 21:16:55.345467 636804 simple.py:169] Setting CPU limit for u'chain11-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:16:55.380367 636804 simple.py:215] Setting MEM limit for u'chain11-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:55.396373 636804 simple.py:169] Setting CPU limit for u'chain10-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:16:55.425873 636804 simple.py:215] Setting MEM limit for u'chain10-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:55.441867 636804 simple.py:169] Setting CPU limit for u'chain11-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:16:55.477087 636804 simple.py:215] Setting MEM limit for u'chain11-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:16:55.492963 636804 simple.py:215] Setting MEM limit for u'chain10-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:55.509097 636804 simple.py:215] Setting MEM limit for u'chain10-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:55.525916 636804 simple.py:215] Setting MEM limit for u'chain10-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:16:55.688549 636804 net.py:233] addLink: n1=chain11-ids intf1=input -- n2=dc50.s1 intf2=dc50.s1-eth15
D1209 21:16:55.829269 636804 net.py:233] addLink: n1=chain11-ids intf1=output -- n2=dc50.s1 intf2=dc50.s1-eth16
I1209 21:16:55.829449 636804 daisy.py:310] successfully created VNF: chain11-ids
I1209 21:16:55.829632 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server39']
I1209 21:16:55.829756 636804 daisy.py:240] creating chain11-nat on chain-server39
D1209 21:16:55.830316 636804 node.py:55] Starting compute instance u'chain11-nat' in data center 'chain-server39'
D1209 21:16:56.885546 636804 simple.py:169] Setting CPU limit for u'chain11-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:16:56.918328 636804 simple.py:215] Setting MEM limit for u'chain11-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:56.933209 636804 simple.py:169] Setting CPU limit for u'chain11-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:16:56.963428 636804 simple.py:215] Setting MEM limit for u'chain11-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:56.980333 636804 simple.py:169] Setting CPU limit for u'chain10-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:16:57.017231 636804 simple.py:215] Setting MEM limit for u'chain10-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:57.034895 636804 simple.py:215] Setting MEM limit for u'chain11-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:16:57.052756 636804 simple.py:215] Setting MEM limit for u'chain10-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:57.068248 636804 simple.py:215] Setting MEM limit for u'chain10-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:57.084275 636804 simple.py:215] Setting MEM limit for u'chain10-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:16:57.255223 636804 net.py:233] addLink: n1=chain11-nat intf1=input -- n2=dc50.s1 intf2=dc50.s1-eth17
D1209 21:16:57.396193 636804 net.py:233] addLink: n1=chain11-nat intf1=output -- n2=dc50.s1 intf2=dc50.s1-eth18
I1209 21:16:57.396564 636804 daisy.py:310] successfully created VNF: chain11-nat
I1209 21:16:57.396768 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server39']
I1209 21:16:57.396917 636804 daisy.py:240] creating chain11-vpn on chain-server39
D1209 21:16:57.398236 636804 node.py:55] Starting compute instance u'chain11-vpn' in data center 'chain-server39'
D1209 21:16:58.012837 636804 simple.py:215] Setting MEM limit for u'chain11-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:58.033703 636804 simple.py:169] Setting CPU limit for u'chain11-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:16:58.067981 636804 simple.py:215] Setting MEM limit for u'chain11-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:58.084049 636804 simple.py:169] Setting CPU limit for u'chain10-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:16:58.115787 636804 simple.py:215] Setting MEM limit for u'chain10-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:58.133687 636804 simple.py:215] Setting MEM limit for u'chain11-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:16:58.151006 636804 simple.py:169] Setting CPU limit for u'chain11-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:16:58.185923 636804 simple.py:215] Setting MEM limit for u'chain11-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:58.202961 636804 simple.py:215] Setting MEM limit for u'chain10-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:58.219857 636804 simple.py:215] Setting MEM limit for u'chain10-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:58.235037 636804 simple.py:215] Setting MEM limit for u'chain10-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:16:58.390223 636804 net.py:233] addLink: n1=chain11-vpn intf1=input-ids -- n2=dc50.s1 intf2=dc50.s1-eth19
D1209 21:16:58.521433 636804 net.py:233] addLink: n1=chain11-vpn intf1=input-fw -- n2=dc50.s1 intf2=dc50.s1-eth20
D1209 21:16:58.663758 636804 net.py:233] addLink: n1=chain11-vpn intf1=output -- n2=dc50.s1 intf2=dc50.s1-eth21
I1209 21:16:58.664060 636804 daisy.py:310] successfully created VNF: chain11-vpn
I1209 21:16:58.664263 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud6']
I1209 21:16:58.664372 636804 daisy.py:240] creating chain11-source on off-cloud6
D1209 21:16:58.665108 636804 node.py:55] Starting compute instance u'chain11-source' in data center 'off-cloud6'
D1209 21:16:59.247682 636804 simple.py:215] Setting MEM limit for u'chain8-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:59.265607 636804 simple.py:215] Setting MEM limit for u'chain9-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:59.280958 636804 simple.py:169] Setting CPU limit for u'chain11-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:16:59.313687 636804 simple.py:215] Setting MEM limit for u'chain11-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:16:59.469216 636804 net.py:233] addLink: n1=chain11-source intf1=intf1 -- n2=dc18.s1 intf2=dc18.s1-eth4
I1209 21:16:59.469468 636804 daisy.py:310] successfully created VNF: chain11-source
I1209 21:16:59.469619 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud7']
I1209 21:16:59.469701 636804 daisy.py:240] creating chain11-sink on off-cloud7
D1209 21:16:59.470257 636804 node.py:55] Starting compute instance u'chain11-sink' in data center 'off-cloud7'
D1209 21:17:00.051507 636804 simple.py:215] Setting MEM limit for u'chain0-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:17:00.071538 636804 simple.py:169] Setting CPU limit for u'chain11-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:17:00.104756 636804 simple.py:215] Setting MEM limit for u'chain11-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:17:00.275026 636804 net.py:233] addLink: n1=chain11-sink intf1=intf2 -- n2=dc17.s1 intf2=dc17.s1-eth3
I1209 21:17:00.275317 636804 daisy.py:310] successfully created VNF: chain11-sink
I1209 21:17:00.275465 636804 daisy.py:311] successfully created chain: 11
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
], [u'chain-server39', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'off-cloud5', u'gsw', 2], [u'gsw', u'chain-server39', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain10-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain10-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain10-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain10-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain10-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain10-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain10-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain10-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain10-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain10-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain10-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain10-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain10-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain10-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain10-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain10-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain10-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain10-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain10-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain10-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain10-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain10-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain10-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain10-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain10-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain10-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.02236299999999991, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server39'], [u'ids', u'chain-server39'], [u'nat', u'chain-server39'], [u'vpn', u'chain-server39'], [u'source', u'off-cloud6'], [u'sink', u'off-cloud7']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 1.563842, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud6', 2], [u'chain-server39', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server39', 2], [u'off-cloud7', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain11-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain11-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain11-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain11-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain11-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain11-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain11Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:17:01.903017 636804 daisy.py:401] source, nat, and fw start done
I1209 21:17:01.903239 636804 daisy.py:402] My commands
I1209 21:17:01.995050 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:17:03.997347 636804 daisy.py:419] < 2s wait complete
I1209 21:17:03.997533 636804 daisy.py:420] start VNF chaining
D1209 21:17:03.997711 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain11-source', vnf_src_interface='intf1', vnf_dst_name=u'chain11-nat', vnf_dst_interface='input'
I1209 21:17:03.997936 636804 net.py:665] Path between chain11-source and chain11-nat: ['dc18.s1', u'gsw0', 'dc50.s1']
I1209 21:17:03.998153 636804 net.py:889] add-flow
I1209 21:17:03.998258 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:133,output=1
I1209 21:17:04.001991 636804 net.py:893] add-flow in switch: dc18.s1 in_port: 4 out_port: 1
I1209 21:17:04.002211 636804 net.py:889] add-flow
I1209 21:17:04.002290 636804 net.py:890] in_port=47,dl_vlan=133,action=40
I1209 21:17:04.019753 636804 net.py:893] add-flow in switch: gsw0 in_port: 47 out_port: 40
I1209 21:17:04.019875 636804 net.py:694] end node reached: chain11-nat
I1209 21:17:04.019989 636804 net.py:889] add-flow
I1209 21:17:04.020073 636804 net.py:890] in_port=1,dl_vlan=133,action=strip_vlan,output=17
I1209 21:17:04.031670 636804 net.py:893] add-flow in switch: dc50.s1 in_port: 1 out_port: 17
D1209 21:17:04.031965 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain11-nat', vnf_src_interface='input', vnf_dst_name=u'chain11-source', vnf_dst_interface='intf1'
I1209 21:17:04.032108 636804 net.py:665] Path between chain11-nat and chain11-source: ['dc50.s1', u'gsw0', 'dc18.s1']
I1209 21:17:04.032208 636804 net.py:889] add-flow
I1209 21:17:04.032278 636804 net.py:890] -O OpenFlow13 in_port=17,action=mod_vlan_vid:134,output=1
I1209 21:17:04.044306 636804 net.py:893] add-flow in switch: dc50.s1 in_port: 17 out_port: 1
I1209 21:17:04.044462 636804 net.py:889] add-flow
I1209 21:17:04.044589 636804 net.py:890] in_port=40,dl_vlan=134,action=47
I1209 21:17:04.056515 636804 net.py:893] add-flow in switch: gsw0 in_port: 40 out_port: 47
I1209 21:17:04.056672 636804 net.py:694] end node reached: chain11-source
I1209 21:17:04.056771 636804 net.py:889] add-flow
I1209 21:17:04.056878 636804 net.py:890] in_port=1,dl_vlan=134,action=strip_vlan,output=4
I1209 21:17:04.067953 636804 net.py:893] add-flow in switch: dc18.s1 in_port: 1 out_port: 4
I1209 21:17:04.068149 636804 daisy.py:322] chain(chain11-source, chain11-nat) output: success: add-flow between chain11-source and chain11-nat with options: {
 "priority": 1000, 
 "path": [
  "dc18.s1", 
  "gsw0", 
  "dc50.s1"
 ], 
 "vlan": 133, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain11-nat and chain11-source with options: {
 "priority": 1000, 
 "path": [
  "dc50.s1", 
  "gsw0", 
  "dc18.s1"
 ], 
 "vlan": 134, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:17:04.068285 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain11-nat', vnf_src_interface='output', vnf_dst_name=u'chain11-fw', vnf_dst_interface='input'
I1209 21:17:04.068430 636804 net.py:665] Path between chain11-nat and chain11-fw: ['dc50.s1']
I1209 21:17:04.068593 636804 net.py:694] end node reached: chain11-fw
I1209 21:17:04.068694 636804 net.py:889] add-flow
I1209 21:17:04.068768 636804 net.py:890] -O OpenFlow13 in_port=18,action=mod_vlan_vid:135,output=12
I1209 21:17:04.079659 636804 net.py:893] add-flow in switch: dc50.s1 in_port: 18 out_port: 12
I1209 21:17:04.079857 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc50.s1 in_port: 18 out_port: 12
I1209 21:17:04.079982 636804 net.py:931] add-flow
I1209 21:17:04.080108 636804 net.py:932] in_port=18,action=strip_vlan,output=12
I1209 21:17:04.091135 636804 net.py:935] add-flow in switch: dc50.s1 in_port: 18 out_port: 12
D1209 21:17:04.091327 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain11-fw', vnf_src_interface='input', vnf_dst_name=u'chain11-nat', vnf_dst_interface='output'
I1209 21:17:04.091463 636804 net.py:665] Path between chain11-fw and chain11-nat: ['dc50.s1']
I1209 21:17:04.091557 636804 net.py:694] end node reached: chain11-nat
I1209 21:17:04.091670 636804 net.py:889] add-flow
I1209 21:17:04.091799 636804 net.py:890] -O OpenFlow13 in_port=12,action=mod_vlan_vid:136,output=18
I1209 21:17:04.103013 636804 net.py:893] add-flow in switch: dc50.s1 in_port: 12 out_port: 18
I1209 21:17:04.103147 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc50.s1 in_port: 12 out_port: 18
I1209 21:17:04.103245 636804 net.py:931] add-flow
I1209 21:17:04.103318 636804 net.py:932] in_port=12,action=strip_vlan,output=18
I1209 21:17:04.114660 636804 net.py:935] add-flow in switch: dc50.s1 in_port: 12 out_port: 18
I1209 21:17:04.114856 636804 daisy.py:329] chain(chain11-nat, chain11-fw) output: success: add-flow between chain11-nat and chain11-fw with options: {
 "priority": 1000, 
 "path": [
  "dc50.s1"
 ], 
 "vlan": 135, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain11-fw and chain11-nat with options: {
 "priority": 1000, 
 "path": [
  "dc50.s1"
 ], 
 "vlan": 136, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:17:04.114990 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain11-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain11-ids', vnf_dst_interface='input'
I1209 21:17:04.115119 636804 net.py:665] Path between chain11-fw and chain11-ids: ['dc50.s1']
I1209 21:17:04.115216 636804 net.py:694] end node reached: chain11-ids
I1209 21:17:04.115308 636804 net.py:889] add-flow
I1209 21:17:04.115374 636804 net.py:890] -O OpenFlow13 in_port=13,action=mod_vlan_vid:137,output=15
I1209 21:17:04.126660 636804 net.py:893] add-flow in switch: dc50.s1 in_port: 13 out_port: 15
D1209 21:17:04.126849 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain11-ids', vnf_src_interface='input', vnf_dst_name=u'chain11-fw', vnf_dst_interface='output-ids'
I1209 21:17:04.127027 636804 net.py:665] Path between chain11-ids and chain11-fw: ['dc50.s1']
I1209 21:17:04.127105 636804 net.py:694] end node reached: chain11-fw
I1209 21:17:04.127194 636804 net.py:889] add-flow
I1209 21:17:04.127309 636804 net.py:890] -O OpenFlow13 in_port=15,action=mod_vlan_vid:138,output=13
I1209 21:17:04.139024 636804 net.py:893] add-flow in switch: dc50.s1 in_port: 15 out_port: 13
I1209 21:17:04.139144 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc50.s1 in_port: 15 out_port: 13
I1209 21:17:04.139247 636804 net.py:931] add-flow
I1209 21:17:04.139336 636804 net.py:932] in_port=15,action=strip_vlan,output=13
I1209 21:17:04.149962 636804 net.py:935] add-flow in switch: dc50.s1 in_port: 15 out_port: 13
I1209 21:17:04.150207 636804 daisy.py:336] chain(chain11-fw, chain11-ids) output: success: add-flow between chain11-fw and chain11-ids with options: {
 "priority": 1000, 
 "path": [
  "dc50.s1"
 ], 
 "vlan": 137, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain11-ids and chain11-fw with options: {
 "priority": 1000, 
 "path": [
  "dc50.s1"
 ], 
 "vlan": 138, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:17:04.150340 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain11-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain11-vpn', vnf_dst_interface='input-fw'
I1209 21:17:04.150525 636804 net.py:665] Path between chain11-fw and chain11-vpn: ['dc50.s1']
I1209 21:17:04.150701 636804 net.py:694] end node reached: chain11-vpn
I1209 21:17:04.150798 636804 net.py:889] add-flow
I1209 21:17:04.150866 636804 net.py:890] -O OpenFlow13 in_port=14,action=mod_vlan_vid:139,output=20
I1209 21:17:04.173016 636804 net.py:893] add-flow in switch: dc50.s1 in_port: 14 out_port: 20
D1209 21:17:04.173176 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain11-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain11-fw', vnf_dst_interface='output-vpn'
I1209 21:17:04.173311 636804 net.py:665] Path between chain11-vpn and chain11-fw: ['dc50.s1']
I1209 21:17:04.173432 636804 net.py:694] end node reached: chain11-fw
I1209 21:17:04.173531 636804 net.py:889] add-flow
I1209 21:17:04.173662 636804 net.py:890] -O OpenFlow13 in_port=20,action=mod_vlan_vid:140,output=14
I1209 21:17:04.185211 636804 net.py:893] add-flow in switch: dc50.s1 in_port: 20 out_port: 14
I1209 21:17:04.185376 636804 daisy.py:343] chain(chain11-fw, chain11-vpn) output: success: add-flow between chain11-fw and chain11-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc50.s1"
 ], 
 "vlan": 139, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain11-vpn and chain11-fw with options: {
 "priority": 1000, 
 "path": [
  "dc50.s1"
 ], 
 "vlan": 140, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:17:04.185503 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain11-ids', vnf_src_interface='output', vnf_dst_name=u'chain11-vpn', vnf_dst_interface='input-ids'
I1209 21:17:04.185683 636804 net.py:665] Path between chain11-ids and chain11-vpn: ['dc50.s1']
I1209 21:17:04.185772 636804 net.py:694] end node reached: chain11-vpn
I1209 21:17:04.185862 636804 net.py:889] add-flow
I1209 21:17:04.185981 636804 net.py:890] -O OpenFlow13 in_port=16,action=mod_vlan_vid:141,output=19
I1209 21:17:04.197423 636804 net.py:893] add-flow in switch: dc50.s1 in_port: 16 out_port: 19
I1209 21:17:04.197623 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc50.s1 in_port: 16 out_port: 19
I1209 21:17:04.197770 636804 net.py:931] add-flow
I1209 21:17:04.197849 636804 net.py:932] in_port=16,action=strip_vlan,output=19
I1209 21:17:04.209372 636804 net.py:935] add-flow in switch: dc50.s1 in_port: 16 out_port: 19
D1209 21:17:04.209593 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain11-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain11-ids', vnf_dst_interface='output'
I1209 21:17:04.209728 636804 net.py:665] Path between chain11-vpn and chain11-ids: ['dc50.s1']
I1209 21:17:04.209821 636804 net.py:694] end node reached: chain11-ids
I1209 21:17:04.209966 636804 net.py:889] add-flow
I1209 21:17:04.210043 636804 net.py:890] -O OpenFlow13 in_port=19,action=mod_vlan_vid:142,output=16
I1209 21:17:04.233432 636804 net.py:893] add-flow in switch: dc50.s1 in_port: 19 out_port: 16
I1209 21:17:04.233675 636804 daisy.py:350] chain(chain11-ids, chain11-vpn) output: success: add-flow between chain11-ids and chain11-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc50.s1"
 ], 
 "vlan": 141, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain11-vpn and chain11-ids with options: {
 "priority": 1000, 
 "path": [
  "dc50.s1"
 ], 
 "vlan": 142, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:17:04.234158 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain11-vpn', vnf_src_interface='output', vnf_dst_name=u'chain11-sink', vnf_dst_interface='intf2'
I1209 21:17:04.234390 636804 net.py:665] Path between chain11-vpn and chain11-sink: ['dc50.s1', u'gsw0', 'dc17.s1']
I1209 21:17:04.234597 636804 net.py:889] add-flow
I1209 21:17:04.234733 636804 net.py:890] -O OpenFlow13 in_port=21,action=mod_vlan_vid:143,output=1
I1209 21:17:04.246318 636804 net.py:893] add-flow in switch: dc50.s1 in_port: 21 out_port: 1
I1209 21:17:04.246479 636804 net.py:889] add-flow
I1209 21:17:04.246570 636804 net.py:890] in_port=40,dl_vlan=143,action=48
I1209 21:17:04.258755 636804 net.py:893] add-flow in switch: gsw0 in_port: 40 out_port: 48
I1209 21:17:04.258892 636804 net.py:694] end node reached: chain11-sink
I1209 21:17:04.258976 636804 net.py:889] add-flow
I1209 21:17:04.259037 636804 net.py:890] in_port=1,dl_vlan=143,action=strip_vlan,output=3
I1209 21:17:04.272815 636804 net.py:893] add-flow in switch: dc17.s1 in_port: 1 out_port: 3
D1209 21:17:04.272988 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain11-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain11-vpn', vnf_dst_interface='output'
I1209 21:17:04.273103 636804 net.py:665] Path between chain11-sink and chain11-vpn: ['dc17.s1', u'gsw0', 'dc50.s1']
I1209 21:17:04.273186 636804 net.py:889] add-flow
I1209 21:17:04.273243 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:144,output=1
I1209 21:17:04.284955 636804 net.py:893] add-flow in switch: dc17.s1 in_port: 3 out_port: 1
I1209 21:17:04.285074 636804 net.py:889] add-flow
I1209 21:17:04.285139 636804 net.py:890] in_port=48,dl_vlan=144,action=40
I1209 21:17:04.297542 636804 net.py:893] add-flow in switch: gsw0 in_port: 48 out_port: 40
I1209 21:17:04.297697 636804 net.py:694] end node reached: chain11-vpn
I1209 21:17:04.297765 636804 net.py:889] add-flow
I1209 21:17:04.297821 636804 net.py:890] in_port=1,dl_vlan=144,action=strip_vlan,output=21
I1209 21:17:04.311836 636804 net.py:893] add-flow in switch: dc50.s1 in_port: 1 out_port: 21
I1209 21:17:04.312005 636804 daisy.py:357] chain(chain11-vpn, chain11-sink) output: success: add-flow between chain11-vpn and chain11-sink with options: {
 "priority": 1000, 
 "path": [
  "dc50.s1", 
  "gsw0", 
  "dc17.s1"
 ], 
 "vlan": 143, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain11-sink and chain11-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc17.s1", 
  "gsw0", 
  "dc50.s1"
 ], 
 "vlan": 144, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:17:05 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:17:05 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:17:05 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:17:05 2017 UDPv4 link local: [undef]
Sat Dec  9 21:17:05 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:17:05 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=544242ea 463ce6bd
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:17:05 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:17:05 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:17:05 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:17:06 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:17:06 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:17:06 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:17:06 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:17:06 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:17:06 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:17:06 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:17:06 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:17:08 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:17:08 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:17:08 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:17:08 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:17:08 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:17:08 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:17:08 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:47
Sat Dec  9 21:17:08 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:17:08 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:17:08 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:17:08 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:17:08 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:17:08 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:17:08 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:17:08 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:17:08 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:17:08 2017 GID set to nogroup
Sat Dec  9 21:17:08 2017 UID set to nobody
Sat Dec  9 21:17:08 2017 Initialization Sequence Completed
I1209 21:17:11.348445 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:17:16.353790 636804 daisy.py:443] < 5s wait complete
I1209 21:17:16.354020 636804 daisy.py:444] VPN client VNF started
chain11-source -> chain11-sink 
chain11-sink -> chain11-source 
*** Results: 0% dropped (2/2 received)
I1209 21:17:19.128024 636804 daisy.py:369] ping chain11-source -> chain11-sink. Packet drop 0.0%
I1209 21:17:19.179919 636804 bench.py:19] Copying traces into the containers...
I1209 21:17:19.786407 636804 bench.py:29] Running dstat...
I1209 21:17:21.981187 636804 iter-e2-allocation.py:17] started allocating chain: 12
I1209 21:17:21.981621 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server37']
I1209 21:17:21.981748 636804 daisy.py:240] creating chain12-fw on chain-server37
D1209 21:17:21.982491 636804 node.py:55] Starting compute instance u'chain12-fw' in data center 'chain-server37'
D1209 21:17:22.594954 636804 simple.py:169] Setting CPU limit for u'chain12-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:17:22.630218 636804 simple.py:215] Setting MEM limit for u'chain12-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:17:22.804961 636804 net.py:233] addLink: n1=chain12-fw intf1=input -- n2=dc12.s1 intf2=dc12.s1-eth2
D1209 21:17:22.971693 636804 net.py:233] addLink: n1=chain12-fw intf1=output-ids -- n2=dc12.s1 intf2=dc12.s1-eth3
D1209 21:17:23.126467 636804 net.py:233] addLink: n1=chain12-fw intf1=output-vpn -- n2=dc12.s1 intf2=dc12.s1-eth4
I1209 21:17:23.126693 636804 daisy.py:310] successfully created VNF: chain12-fw
I1209 21:17:23.126791 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server37']
I1209 21:17:23.126869 636804 daisy.py:240] creating chain12-ids on chain-server37
D1209 21:17:23.127398 636804 node.py:55] Starting compute instance u'chain12-ids' in data center 'chain-server37'
D1209 21:17:23.731934 636804 simple.py:169] Setting CPU limit for u'chain12-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:17:23.766285 636804 simple.py:215] Setting MEM limit for u'chain12-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:17:23.782823 636804 simple.py:169] Setting CPU limit for u'chain12-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:17:23.814714 636804 simple.py:215] Setting MEM limit for u'chain12-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:17:23.988841 636804 net.py:233] addLink: n1=chain12-ids intf1=input -- n2=dc12.s1 intf2=dc12.s1-eth5
D1209 21:17:24.132941 636804 net.py:233] addLink: n1=chain12-ids intf1=output -- n2=dc12.s1 intf2=dc12.s1-eth6
I1209 21:17:24.133145 636804 daisy.py:310] successfully created VNF: chain12-ids
I1209 21:17:24.133285 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server37']
I1209 21:17:24.133395 636804 daisy.py:240] creating chain12-nat on chain-server37
D1209 21:17:24.133939 636804 node.py:55] Starting compute instance u'chain12-nat' in data center 'chain-server37'
D1209 21:17:24.754930 636804 simple.py:169] Setting CPU limit for u'chain12-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:17:24.789110 636804 simple.py:215] Setting MEM limit for u'chain12-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:17:24.804651 636804 simple.py:169] Setting CPU limit for u'chain12-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:17:24.837703 636804 simple.py:215] Setting MEM limit for u'chain12-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:17:24.852986 636804 simple.py:215] Setting MEM limit for u'chain12-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:17:25.025393 636804 net.py:233] addLink: n1=chain12-nat intf1=input -- n2=dc12.s1 intf2=dc12.s1-eth7
D1209 21:17:25.181417 636804 net.py:233] addLink: n1=chain12-nat intf1=output -- n2=dc12.s1 intf2=dc12.s1-eth8
I1209 21:17:25.181659 636804 daisy.py:310] successfully created VNF: chain12-nat
I1209 21:17:25.181761 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server37']
I1209 21:17:25.181839 636804 daisy.py:240] creating chain12-vpn on chain-server37
D1209 21:17:25.182372 636804 node.py:55] Starting compute instance u'chain12-vpn' in data center 'chain-server37'
D1209 21:17:25.779782 636804 simple.py:169] Setting CPU limit for u'chain12-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:17:25.814788 636804 simple.py:215] Setting MEM limit for u'chain12-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:17:25.834635 636804 simple.py:169] Setting CPU limit for u'chain12-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:17:25.868961 636804 simple.py:215] Setting MEM limit for u'chain12-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:17:25.885349 636804 simple.py:215] Setting MEM limit for u'chain12-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:17:25.902806 636804 simple.py:215] Setting MEM limit for u'chain12-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:17:26.068444 636804 net.py:233] addLink: n1=chain12-vpn intf1=input-ids -- n2=dc12.s1 intf2=dc12.s1-eth9
D1209 21:17:26.226047 636804 net.py:233] addLink: n1=chain12-vpn intf1=input-fw -- n2=dc12.s1 intf2=dc12.s1-eth10
D1209 21:17:26.387203 636804 net.py:233] addLink: n1=chain12-vpn intf1=output -- n2=dc12.s1 intf2=dc12.s1-eth11
I1209 21:17:26.387387 636804 daisy.py:310] successfully created VNF: chain12-vpn
I1209 21:17:26.387521 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud3']
I1209 21:17:26.387608 636804 daisy.py:240] creating chain12-source on off-cloud3
D1209 21:17:26.388066 636804 node.py:55] Starting compute instance u'chain12-source' in data center 'off-cloud3'
D1209 21:17:27.029103 636804 simple.py:169] Setting CPU limit for u'chain12-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:17:27.067677 636804 simple.py:215] Setting MEM limit for u'chain12-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:17:27.238172 636804 net.py:233] addLink: n1=chain12-source intf1=intf1 -- n2=dc13.s1 intf2=dc13.s1-eth2
I1209 21:17:27.238377 636804 daisy.py:310] successfully created VNF: chain12-source
I1209 21:17:27.238534 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud8']
I1209 21:17:27.238660 636804 daisy.py:240] creating chain12-sink on off-cloud8
D1209 21:17:27.239213 636804 node.py:55] Starting compute instance u'chain12-sink' in data center 'off-cloud8'
D1209 21:17:27.802268 636804 simple.py:215] Setting MEM limit for u'chain0-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:17:27.820106 636804 simple.py:169] Setting CPU limit for u'chain12-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:17:27.852458 636804 simple.py:215] Setting MEM limit for u'chain12-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:17:28.025795 636804 net.py:233] addLink: n1=chain12-sink intf1=intf2 -- n2=dc22.s1 intf2=dc22.s1-eth3
I1209 21:17:28.026006 636804 daisy.py:310] successfully created VNF: chain12-sink
I1209 21:17:28.026230 636804 daisy.py:311] successfully created chain: 12
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:17:30.161170 636804 daisy.py:401] source, nat, and fw start done
I1209 21:17:30.161420 636804 daisy.py:402] My commands
-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain11-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain11-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain11-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain11-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain11-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain11-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain11-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain11-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain11-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain11-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain11-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain11-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain11-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain11-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain11-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain11-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain11-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain11-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain11-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.022174999999999834, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server37'], [u'ids', u'chain-server37'], [u'nat', u'chain-server37'], [u'vpn', u'chain-server37'], [u'source', u'off-cloud3'], [u'sink', u'off-cloud8']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 1.600139, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud3', 2], [u'chain-server37', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server37', 2], [u'off-cloud8', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain12-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain12-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain12-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain12-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain12-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain12-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain12-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain12-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain12-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain12-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain12-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain12-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain12-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain12-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain12-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mnI1209 21:17:30.258660 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:17:32.260966 636804 daisy.py:419] < 2s wait complete
I1209 21:17:32.261215 636804 daisy.py:420] start VNF chaining
D1209 21:17:32.261365 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain12-source', vnf_src_interface='intf1', vnf_dst_name=u'chain12-nat', vnf_dst_interface='input'
I1209 21:17:32.261528 636804 net.py:665] Path between chain12-source and chain12-nat: ['dc13.s1', u'gsw0', 'dc12.s1']
I1209 21:17:32.261677 636804 net.py:889] add-flow
I1209 21:17:32.261765 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:145,output=1
I1209 21:17:32.265625 636804 net.py:893] add-flow in switch: dc13.s1 in_port: 2 out_port: 1
I1209 21:17:32.265773 636804 net.py:889] add-flow
I1209 21:17:32.265851 636804 net.py:890] in_port=44,dl_vlan=145,action=38
I1209 21:17:32.278208 636804 net.py:893] add-flow in switch: gsw0 in_port: 44 out_port: 38
I1209 21:17:32.278322 636804 net.py:694] end node reached: chain12-nat
I1209 21:17:32.278409 636804 net.py:889] add-flow
I1209 21:17:32.278472 636804 net.py:890] in_port=1,dl_vlan=145,action=strip_vlan,output=7
I1209 21:17:32.290745 636804 net.py:893] add-flow in switch: dc12.s1 in_port: 1 out_port: 7
D1209 21:17:32.291013 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain12-nat', vnf_src_interface='input', vnf_dst_name=u'chain12-source', vnf_dst_interface='intf1'
I1209 21:17:32.291131 636804 net.py:665] Path between chain12-nat and chain12-source: ['dc12.s1', u'gsw0', 'dc13.s1']
I1209 21:17:32.291241 636804 net.py:889] add-flow
I1209 21:17:32.291326 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:146,output=1
I1209 21:17:32.303114 636804 net.py:893] add-flow in switch: dc12.s1 in_port: 7 out_port: 1
I1209 21:17:32.303250 636804 net.py:889] add-flow
I1209 21:17:32.303364 636804 net.py:890] in_port=38,dl_vlan=146,action=44
I1209 21:17:32.315378 636804 net.py:893] add-flow in switch: gsw0 in_port: 38 out_port: 44
I1209 21:17:32.315494 636804 net.py:694] end node reached: chain12-source
I1209 21:17:32.315614 636804 net.py:889] add-flow
I1209 21:17:32.315682 636804 net.py:890] in_port=1,dl_vlan=146,action=strip_vlan,output=2
I1209 21:17:32.328704 636804 net.py:893] add-flow in switch: dc13.s1 in_port: 1 out_port: 2
I1209 21:17:32.328866 636804 daisy.py:322] chain(chain12-source, chain12-nat) output: success: add-flow between chain12-source and chain12-nat with options: {
 "priority": 1000, 
 "path": [
  "dc13.s1", 
  "gsw0", 
  "dc12.s1"
 ], 
 "vlan": 145, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain12-nat and chain12-source with options: {
 "priority": 1000, 
 "path": [
  "dc12.s1", 
  "gsw0", 
  "dc13.s1"
 ], 
 "vlan": 146, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:17:32.329010 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain12-nat', vnf_src_interface='output', vnf_dst_name=u'chain12-fw', vnf_dst_interface='input'
I1209 21:17:32.329135 636804 net.py:665] Path between chain12-nat and chain12-fw: ['dc12.s1']
I1209 21:17:32.329210 636804 net.py:694] end node reached: chain12-fw
I1209 21:17:32.329283 636804 net.py:889] add-flow
I1209 21:17:32.329344 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:147,output=2
I1209 21:17:32.340967 636804 net.py:893] add-flow in switch: dc12.s1 in_port: 8 out_port: 2
I1209 21:17:32.341082 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc12.s1 in_port: 8 out_port: 2
I1209 21:17:32.341155 636804 net.py:931] add-flow
I1209 21:17:32.341214 636804 net.py:932] in_port=8,action=strip_vlan,output=2
I1209 21:17:32.353725 636804 net.py:935] add-flow in switch: dc12.s1 in_port: 8 out_port: 2
D1209 21:17:32.353945 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain12-fw', vnf_src_interface='input', vnf_dst_name=u'chain12-nat', vnf_dst_interface='output'
I1209 21:17:32.354049 636804 net.py:665] Path between chain12-fw and chain12-nat: ['dc12.s1']
I1209 21:17:32.354192 636804 net.py:694] end node reached: chain12-nat
I1209 21:17:32.354270 636804 net.py:889] add-flow
I1209 21:17:32.354331 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:148,output=8
I1209 21:17:32.377892 636804 net.py:893] add-flow in switch: dc12.s1 in_port: 2 out_port: 8
I1209 21:17:32.378036 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc12.s1 in_port: 2 out_port: 8
I1209 21:17:32.378196 636804 net.py:931] add-flow
I1209 21:17:32.378269 636804 net.py:932] in_port=2,action=strip_vlan,output=8
I1209 21:17:32.391237 636804 net.py:935] add-flow in switch: dc12.s1 in_port: 2 out_port: 8
I1209 21:17:32.391396 636804 daisy.py:329] chain(chain12-nat, chain12-fw) output: success: add-flow between chain12-nat and chain12-fw with options: {
 "priority": 1000, 
 "path": [
  "dc12.s1"
 ], 
 "vlan": 147, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain12-fw and chain12-nat with options: {
 "priority": 1000, 
 "path": [
  "dc12.s1"
 ], 
 "vlan": 148, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:17:32.391594 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain12-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain12-ids', vnf_dst_interface='input'
I1209 21:17:32.391704 636804 net.py:665] Path between chain12-fw and chain12-ids: ['dc12.s1']
I1209 21:17:32.391782 636804 net.py:694] end node reached: chain12-ids
I1209 21:17:32.391856 636804 net.py:889] add-flow
I1209 21:17:32.394496 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:149,output=5
I1209 21:17:32.415561 636804 net.py:893] add-flow in switch: dc12.s1 in_port: 3 out_port: 5
D1209 21:17:32.415750 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain12-ids', vnf_src_interface='input', vnf_dst_name=u'chain12-fw', vnf_dst_interface='output-ids'
I1209 21:17:32.415883 636804 net.py:665] Path between chain12-ids and chain12-fw: ['dc12.s1']
I1209 21:17:32.415961 636804 net.py:694] end node reached: chain12-fw
I1209 21:17:32.416057 636804 net.py:889] add-flow
I1209 21:17:32.416110 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:150,output=3
I1209 21:17:32.428620 636804 net.py:893] add-flow in switch: dc12.s1 in_port: 5 out_port: 3
I1209 21:17:32.428730 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc12.s1 in_port: 5 out_port: 3
I1209 21:17:32.428796 636804 net.py:931] add-flow
I1209 21:17:32.428853 636804 net.py:932] in_port=5,action=strip_vlan,output=3
I1209 21:17:32.440581 636804 net.py:935] add-flow in switch: dc12.s1 in_port: 5 out_port: 3
I1209 21:17:32.440747 636804 daisy.py:336] chain(chain12-fw, chain12-ids) output: success: add-flow between chain12-fw and chain12-ids with options: {
 "priority": 1000, 
 "path": [
  "dc12.s1"
 ], 
 "vlan": 149, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain12-ids and chain12-fw with options: {
 "priority": 1000, 
 "path": [
  "dc12.s1"
 ], 
 "vlan": 150, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:17:32.440846 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain12-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain12-vpn', vnf_dst_interface='input-fw'
I1209 21:17:32.440962 636804 net.py:665] Path between chain12-fw and chain12-vpn: ['dc12.s1']
I1209 21:17:32.441029 636804 net.py:694] end node reached: chain12-vpn
I1209 21:17:32.441092 636804 net.py:889] add-flow
I1209 21:17:32.441145 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:151,output=10
I1209 21:17:32.465217 636804 net.py:893] add-flow in switch: dc12.s1 in_port: 4 out_port: 10
D1209 21:17:32.465369 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain12-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain12-fw', vnf_dst_interface='output-vpn'
I1209 21:17:32.465471 636804 net.py:665] Path between chain12-vpn and chain12-fw: ['dc12.s1']
I1209 21:17:32.465574 636804 net.py:694] end node reached: chain12-fw
I1209 21:17:32.465646 636804 net.py:889] add-flow
I1209 21:17:32.465702 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:152,output=4
I1209 21:17:32.477766 636804 net.py:893] add-flow in switch: dc12.s1 in_port: 10 out_port: 4
I1209 21:17:32.477920 636804 daisy.py:343] chain(chain12-fw, chain12-vpn) output: success: add-flow between chain12-fw and chain12-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc12.s1"
 ], 
 "vlan": 151, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain12-vpn and chain12-fw with options: {
 "priority": 1000, 
 "path": [
  "dc12.s1"
 ], 
 "vlan": 152, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:17:32.478056 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain12-ids', vnf_src_interface='output', vnf_dst_name=u'chain12-vpn', vnf_dst_interface='input-ids'
I1209 21:17:32.478244 636804 net.py:665] Path between chain12-ids and chain12-vpn: ['dc12.s1']
I1209 21:17:32.478317 636804 net.py:694] end node reached: chain12-vpn
I1209 21:17:32.478387 636804 net.py:889] add-flow
I1209 21:17:32.478441 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:153,output=9
I1209 21:17:32.490411 636804 net.py:893] add-flow in switch: dc12.s1 in_port: 6 out_port: 9
I1209 21:17:32.490585 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc12.s1 in_port: 6 out_port: 9
I1209 21:17:32.490655 636804 net.py:931] add-flow
I1209 21:17:32.490712 636804 net.py:932] in_port=6,action=strip_vlan,output=9
I1209 21:17:32.503457 636804 net.py:935] add-flow in switch: dc12.s1 in_port: 6 out_port: 9
D1209 21:17:32.503663 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain12-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain12-ids', vnf_dst_interface='output'
I1209 21:17:32.503765 636804 net.py:665] Path between chain12-vpn and chain12-ids: ['dc12.s1']
I1209 21:17:32.503839 636804 net.py:694] end node reached: chain12-ids
I1209 21:17:32.503942 636804 net.py:889] add-flow
I1209 21:17:32.504014 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:154,output=6
I1209 21:17:32.527667 636804 net.py:893] add-flow in switch: dc12.s1 in_port: 9 out_port: 6
I1209 21:17:32.527822 636804 daisy.py:350] chain(chain12-ids, chain12-vpn) output: success: add-flow between chain12-ids and chain12-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc12.s1"
 ], 
 "vlan": 153, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain12-vpn and chain12-ids with options: {
 "priority": 1000, 
 "path": [
  "dc12.s1"
 ], 
 "vlan": 154, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:17:32.527960 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain12-vpn', vnf_src_interface='output', vnf_dst_name=u'chain12-sink', vnf_dst_interface='intf2'
I1209 21:17:32.528073 636804 net.py:665] Path between chain12-vpn and chain12-sink: ['dc12.s1', u'gsw0', 'dc22.s1']
I1209 21:17:32.528156 636804 net.py:889] add-flow
I1209 21:17:32.528215 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:155,output=1
I1209 21:17:32.540796 636804 net.py:893] add-flow in switch: dc12.s1 in_port: 11 out_port: 1
I1209 21:17:32.540949 636804 net.py:889] add-flow
I1209 21:17:32.541023 636804 net.py:890] in_port=38,dl_vlan=155,action=49
I1209 21:17:32.553796 636804 net.py:893] add-flow in switch: gsw0 in_port: 38 out_port: 49
I1209 21:17:32.553911 636804 net.py:694] end node reached: chain12-sink
I1209 21:17:32.553994 636804 net.py:889] add-flow
I1209 21:17:32.554075 636804 net.py:890] in_port=1,dl_vlan=155,action=strip_vlan,output=3
I1209 21:17:32.565826 636804 net.py:893] add-flow in switch: dc22.s1 in_port: 1 out_port: 3
D1209 21:17:32.565993 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain12-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain12-vpn', vnf_dst_interface='output'
I1209 21:17:32.566124 636804 net.py:665] Path between chain12-sink and chain12-vpn: ['dc22.s1', u'gsw0', 'dc12.s1']
I1209 21:17:32.566220 636804 net.py:889] add-flow
I1209 21:17:32.566281 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:156,output=1
I1209 21:17:32.579224 636804 net.py:893] add-flow in switch: dc22.s1 in_port: 3 out_port: 1
I1209 21:17:32.579348 636804 net.py:889] add-flow
I1209 21:17:32.579413 636804 net.py:890] in_port=49,dl_vlan=156,action=38
I1209 21:17:32.593661 636804 net.py:893] add-flow in switch: gsw0 in_port: 49 out_port: 38
I1209 21:17:32.593807 636804 net.py:694] end node reached: chain12-vpn
I1209 21:17:32.593930 636804 net.py:889] add-flow
I1209 21:17:32.594064 636804 net.py:890] in_port=1,dl_vlan=156,action=strip_vlan,output=11
I1209 21:17:32.606631 636804 net.py:893] add-flow in switch: dc12.s1 in_port: 1 out_port: 11
I1209 21:17:32.606790 636804 daisy.py:357] chain(chain12-vpn, chain12-sink) output: success: add-flow between chain12-vpn and chain12-sink with options: {
 "priority": 1000, 
 "path": [
  "dc12.s1", 
  "gsw0", 
  "dc22.s1"
 ], 
 "vlan": 155, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain12-sink and chain12-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc22.s1", 
  "gsw0", 
  "dc12.s1"
 ], 
 "vlan": 156, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:17:33 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:17:33 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:17:33 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:17:33 2017 UDPv4 link local: [undef]
Sat Dec  9 21:17:33 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:17:33 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=85f57a31 a014cfed
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:17:33 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:17:33 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:17:33 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:17:33 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:17:33 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:17:33 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:17:33 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:17:33 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:17:33 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:17:33 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:17:33 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:17:36 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:17:36 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:17:36 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:17:36 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:17:36 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:17:36 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:17:36 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:4d
Sat Dec  9 21:17:36 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:17:36 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:17:36 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:17:36 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:17:36 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:17:36 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:17:36 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:17:36 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:17:36 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:17:36 2017 GID set to nogroup
Sat Dec  9 21:17:36 2017 UID set to nobody
Sat Dec  9 21:17:36 2017 Initialization Sequence Completed
I1209 21:17:39.056953 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:17:44.062273 636804 daisy.py:443] < 5s wait complete
I1209 21:17:44.062561 636804 daisy.py:444] VPN client VNF started
chain12-source -> chain12-sink 
chain12-sink -> chain12-source 
*** Results: 0% dropped (2/2 received)
I1209 21:17:46.970946 636804 daisy.py:369] ping chain12-source -> chain12-sink. Packet drop 0.0%
I1209 21:17:47.012073 636804 bench.py:19] Copying traces into the containers...
I1209 21:17:47.658531 636804 bench.py:29] Running dstat...
I1209 21:17:49.875801 636804 iter-e2-allocation.py:17] started allocating chain: 13
I1209 21:17:49.876151 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server29']
I1209 21:17:49.876266 636804 daisy.py:240] creating chain13-fw on chain-server29
D1209 21:17:49.876880 636804 node.py:55] Starting compute instance u'chain13-fw' in data center 'chain-server29'
D1209 21:17:50.486886 636804 simple.py:169] Setting CPU limit for u'chain13-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:17:50.520348 636804 simple.py:215] Setting MEM limit for u'chain13-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:17:50.709348 636804 net.py:233] addLink: n1=chain13-fw intf1=input -- n2=dc1.s1 intf2=dc1.s1-eth2
D1209 21:17:50.869738 636804 net.py:233] addLink: n1=chain13-fw intf1=output-ids -- n2=dc1.s1 intf2=dc1.s1-eth3
D1209 21:17:51.042857 636804 net.py:233] addLink: n1=chain13-fw intf1=output-vpn -- n2=dc1.s1 intf2=dc1.s1-eth4
I1209 21:17:51.043082 636804 daisy.py:310] successfully created VNF: chain13-fw
I1209 21:17:51.043198 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server29']
I1209 21:17:51.043277 636804 daisy.py:240] creating chain13-ids on chain-server29
D1209 21:17:51.043838 636804 node.py:55] Starting compute instance u'chain13-ids' in data center 'chain-server29'
D1209 21:17:51.644541 636804 simple.py:169] Setting CPU limit for u'chain13-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:17:51.680083 636804 simple.py:215] Setting MEM limit for u'chain13-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:17:51.696937 636804 simple.py:169] Setting CPU limit for u'chain13-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:17:51.729476 636804 simple.py:215] Setting MEM limit for u'chain13-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:17:51.898019 636804 net.py:233] addLink: n1=chain13-ids intf1=input -- n2=dc1.s1 intf2=dc1.s1-eth5
D1209 21:17:52.048928 636804 net.py:233] addLink: n1=chain13-ids intf1=output -- n2=dc1.s1 intf2=dc1.s1-eth6
I1209 21:17:52.049165 636804 daisy.py:310] successfully created VNF: chain13-ids
I1209 21:17:52.049312 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server29']
I1209 21:17:52.049432 636804 daisy.py:240] creating chain13-nat on chain-server29
D1209 21:17:52.050031 636804 node.py:55] Starting compute instance u'chain13-nat' in data center 'chain-server29'
D1209 21:17:52.683572 636804 simple.py:215] Setting MEM limit for u'chain13-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:17:52.702543 636804 simple.py:169] Setting CPU limit for u'chain13-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:17:52.738889 636804 simple.py:215] Setting MEM limit for u'chain13-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:17:52.755491 636804 simple.py:169] Setting CPU limit for u'chain13-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:17:52.788420 636804 simple.py:215] Setting MEM limit for u'chain13-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:17:52.955663 636804 net.py:233] addLink: n1=chain13-nat intf1=input -- n2=dc1.s1 intf2=dc1.s1-eth7
D1209 21:17:53.122987 636804 net.py:233] addLink: n1=chain13-nat intf1=output -- n2=dc1.s1 intf2=dc1.s1-eth8
I1209 21:17:53.123188 636804 daisy.py:310] successfully created VNF: chain13-nat
I1209 21:17:53.123321 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server29']
I1209 21:17:53.123400 636804 daisy.py:240] creating chain13-vpn on chain-server29
D1209 21:17:53.123949 636804 node.py:55] Starting compute instance u'chain13-vpn' in data center 'chain-server29'
D1209 21:17:53.766673 636804 simple.py:215] Setting MEM limit for u'chain13-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:17:53.785088 636804 simple.py:215] Setting MEM limit for u'chain13-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:17:53.804550 636804 simple.py:169] Setting CPU limit for u'chain13-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:17:53.837049 636804 simple.py:215] Setting MEM limit for u'chain13-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:17:53.854697 636804 simple.py:169] Setting CPU limit for u'chain13-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:17:53.887763 636804 simple.py:215] Setting MEM limit for u'chain13-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:17:54.057280 636804 net.py:233] addLink: n1=chain13-vpn intf1=input-ids -- n2=dc1.s1 intf2=dc1.s1-eth9
D1209 21:17:54.219017 636804 net.py:233] addLink: n1=chain13-vpn intf1=input-fw -- n2=dc1.s1 intf2=dc1.s1-eth10
D1209 21:17:54.360311 636804 net.py:233] addLink: n1=chain13-vpn intf1=output -- n2=dc1.s1 intf2=dc1.s1-eth11
I1209 21:17:54.360586 636804 daisy.py:310] successfully created VNF: chain13-vpn
I1209 21:17:54.360717 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud4']
I1209 21:17:54.360846 636804 daisy.py:240] creating chain13-sink on off-cloud4
D1209 21:17:54.361429 636804 node.py:55] Starting compute instance u'chain13-sink' in data center 'off-cloud4'
D1209 21:17:55.014606 636804 simple.py:169] Setting CPU limit for u'chain13-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:17:55.053036 636804 simple.py:215] Setting MEM limit for u'chain13-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:17:55.238257 636804 net.py:233] addLink: n1=chain13-sink intf1=intf2 -- n2=dc20.s1 intf2=dc20.s1-eth2
I1209 21:17:55.238636 636804 daisy.py:310] successfully created VNF: chain13-sink
I1209 21:17:55.238769 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud9']
I1209 21:17:55.238863 636804 daisy.py:240] creating chain13-source on off-cloud9
D1209 21:17:55.241684 636804 node.py:55] Starting compute instance u'chain13-source' in data center 'off-cloud9'
D1209 21:17:55.884324 636804 simple.py:215] Setting MEM limit for u'chain2-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:17:55.903279 636804 simple.py:215] Setting MEM limit for u'chain2-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:17:55.920315 636804 simple.py:169] Setting CPU limit for u'chain13-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:17:55.954389 636804 simple.py:215] Setting MEM limit for u'chain13-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:17:56.126306 636804 net.py:233] addLink: n1=chain13-source intf1=intf1 -- n2=dc21.s1 intf2=dc21.s1-eth4
I1209 21:17:56.126523 636804 daisy.py:310] successfully created VNF: chain13-source
I1209 21:17:56.126625 636804 daisy.py:311] successfully created chain: 13
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:17:58.089013 636804 daisy.py:401] source, nat, and fw start done
I1209 21:17:58.089221 636804 daisy.py:402] My commands
I1209 21:17:58.205615 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:18:00.207923 636804 daisy.py:419] < 2s wait complete
I1209 21:18:00.208116 636804 daisy.py:420] start VNF chaining
D1209 21:18:00.208292 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain13-source', vnf_src_interface='intf1', vnf_dst_name=u'chain13-nat', vnf_dst_interface='input'
I1209 21:18:00.208571 636804 net.py:665] Path between chain13-source and chain13-nat: ['dc21.s1', u'gsw0', 'dc1.s1']
I1209 21:18:00.208781 636804 net.py:889] add-flow
I1209 21:18:00.208892 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:157,output=1
I1209 21:18:00.213192 636804 net.py:893] add-flow in switch: dc21.s1 in_port: 4 out_port: 1
I1209 21:18:00.213402 636804 net.py:889] add-flow
I1209 21:18:00.213563 636804 net.py:890] in_port=50,dl_vlan=157,action=30
I1209 21:18:00.231794 636804 net.py:893] add-flow in switch: gsw0 in_port: 50 out_port: 30
I1209 21:18:00.231940 636804 net.py:694] end node reached: chain13-nat
I1209 21:18:00.232054 636804 net.py:889] add-flow
I1209 21:18:00.232140 636804 net.py:890] in_port=1,dl_vlan=157,action=strip_vlan,output=7
I1209 21:18:00.247289 636804 net.py:893] add-flow in switch: dc1.s1 in_port: 1 out_port: 7
D1209 21:18:00.247575 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain13-nat', vnf_src_interface='input', vnf_dst_name=u'chain13-source', vnf_dst_interface='intf1'
I1209 21:18:00.247760 636804 net.py:665] Path between chain13-nat and chain13-source: ['dc1.s1', u'gsw0', 'dc21.s1']
I1209 21:18:00.247904 636804 net.py:889] add-flow
I1209 21:18:00.247977 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:158,output=1
I1209 21:18:00.259521 636804 net.py:893] add-flow in switch: dc1.s1 in_port: 7 out_port: 1
I1209 21:18:00.259705 636804 net.py:889] add-flow
I1209 21:18:00.259819 636804 net.py:890] in_port=30,dl_vlan=158,action=50
I1209 21:18:00.272449 636804 net.py:893] add-flow in switch: gsw0 in_port: 30 out_port: 50
I1209 21:18:00.272628 636804 net.py:694] end node reached: chain13-source
I1209 21:18:00.272754 636804 net.py:889] add-flow
I1209 21:18:00.272855 636804 net.py:890] in_port=1,dl_vlan=158,action=strip_vlan,output=4
I1209 21:18:00.284863 636804 net.py:893] add-flow in switch: dc21.s1 in_port: 1 out_port: 4
I1209 21:18:00.285114 636804 daisy.py:322] chain(chain13-source, chain13-nat) output: success: add-flow between chain13-source and chain13-nat with options: {
 "priority": 1000, 
 "path": [
  "dc21.s1", 
  "gsw0", 
  "dc1.s1"
 ], 
 "vlan": 157, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain13-nat and chain13-source with options: {
 "priority": 1000, 
 "path": [
  "dc1.s1", 
  "gsw0", 
  "dc21.s1"
 ], 
 "vlan": 158, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:18:00.285350 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain13-nat', vnf_src_interface='output', vnf_dst_name=u'chain13-fw', vnf_dst_interface='input'
I1209 21:18:00.285588 636804 net.py:665] Path between chain13-nat and chain13-fw: ['dc1.s1']
I1209 21:18:00.285720 636804 net.py:694] end node reached: chain13-fw
I1209 21:18:00.285876 636804 net.py:889] add-flow
I1209 21:18:00.285972 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:159,output=2
I1209 21:18:00.297523 636804 net.py:893] add-flow in switch: dc1.s1 in_port: 8 out_port: 2
I1209 21:18:00.297672 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc1.s1 in_port: 8 out_port: 2
I1209 21:18:00.297759 636804 net.py:931] add-flow
I1209 21:18:00.297852 636804 net.py:932] in_port=8,action=strip_vlan,output=2
I1209 21:18:00.310228 636804 net.py:935] add-flow in switch: dc1.s1 in_port: 8 out_port: 2
D1209 21:18:00.310467 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain13-fw', vnf_src_interface='input', vnf_dst_name=u'chain13-nat', vnf_dst_interface='output'
I1209 21:18:00.310628 636804 net.py:665] Path between chain13-fw and chain13-nat: ['dc1.s1']
I1209 21:18:00.310749 636804 net.py:694] end node reached: chain13-nat
I1209 21:18:00.310872 636804 net.py:889] add-flow
I1209 21:18:00.310975 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:160,output=8
I1209 21:18:00.335468 636804 net.py:893] add-flow in switch: dc1.s1 in_port: 2 out_port: 8
I1209 21:18:00.335644 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc1.s1 in_port: 2 out_port: 8
I1209 21:18:00.335742 636804 net.py:931] add-flow
I1209 21:18:00.335839 636804 net.py:932] in_port=2,action=strip_vlan,output=8
I1209 21:18:00.347752 636804 net.py:935] add-flow in switch: dc1.s1 in_port: 2 out_port: 8
I1209 21:18:00.347968 636804 daisy.py:329] chain(chain13-nat, chain13-fw) output: success: add-flow between chain13-nat and chain13-fw with options: {
 "priority": 1000, 
 "path": [
  "dc1.s1"
 ], 
 "vlan": 159, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain13-fw and chain13-nat with options: {
 "priority": 1000, 
 "path": [
  "dc1.s1"
 ], 
 "vlan": 160, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:18:00.348081 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain13-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain13-ids', vnf_dst_interface='input'
I1209 21:18:00.348182 636804 net.py:665] Path between chain13-fw and chain13-ids: ['dc1.s1']
I1209 21:18:00.348256 636804 net.py:694] end node reached: chain13-ids
I1209 21:18:00.348328 636804 net.py:889] add-flow
I1209 21:18:00.348395 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:161,output=5
I1209 21:18:00.372096 636804 net.py:893] add-flow in switch: dc1.s1 in_port: 3 out_port: 5
D1209 21:18:00.372303 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain13-ids', vnf_src_interface='input', vnf_dst_name=u'chain13-fw', vnf_dst_interface='output-ids'
I1209 21:18:00.372493 636804 net.py:665] Path between chain13-ids and chain13-fw: ['dc1.s1']
I1209 21:18:00.372608 636804 net.py:694] end node reached: chain13-fw
I1209 21:18:00.372725 636804 net.py:889] add-flow
I1209 21:18:00.372792 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:162,output=3
I1209 21:18:00.384850 636804 net.py:893] add-flow in switch: dc1.s1 in_port: 5 out_port: 3
I1209 21:18:00.384994 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc1.s1 in_port: 5 out_port: 3
I1209 21:18:00.385106 636804 net.py:931] add-flow
I1209 21:18:00.385201 636804 net.py:932] in_port=5,action=strip_vlan,output=3
I1209 21:18:00.397735 636804 net.py:935] add-flow in switch: dc1.s1 in_port: 5 out_port: 3
I1209 21:18:00.397917 636804 daisy.py:336] chain(chain13-fw, chain13-ids) output: success: add-flow between chain13-fw and chain13-ids with options: {
 "priority": 1000, 
 "path": [
  "dc1.s1"
 ], 
 "vlan": 161, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain13-ids and chain13-fw with options: {
 "priority": 1000, 
 "path": [
  "dc1.s1"
 ], 
 "vlan": 162, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:18:00.398024 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain13-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain13-vpn', vnf_dst_interface='input-fw'
I1209 21:18:00.398185 636804 net.py:665] Path between chain13-fw and chain13-vpn: ['dc1.s1']
I1209 21:18:00.398267 636804 net.py:694] end node reached: chain13-vpn
I1209 21:18:00.398339 636804 net.py:889] add-flow
I1209 21:18:00.398397 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:163,output=10
I1209 21:18:00.421988 636804 net.py:893] add-flow in switch: dc1.s1 in_port: 4 out_port: 10
D1209 21:18:00.422280 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain13-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain13-fw', vnf_dst_interface='output-vpn'
I1209 21:18:00.422458 636804 net.py:665] Path between chain13-vpn and chain13-fw: ['dc1.s1']
I1209 21:18:00.422578 636804 net.py:694] end node reached: chain13-fw
I1209 21:18:00.422669 636804 net.py:889] add-flow
I1209 21:18:00.422730 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:164,output=4
I1209 21:18:00.434616 636804 net.py:893] add-flow in switch: dc1.s1 in_port: 10 out_port: 4
I1209 21:18:00.434822 636804 daisy.py:343] chain(chain13-fw, chain13-vpn) output: success: add-flow between chain13-fw and chain13-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc1.s1"
 ], 
 "vlan": 163, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain13-vpn and chain13-fw with options: {
 "priority": 1000, 
 "path": [
  "dc1.s1"
 ], 
 "vlan": 164, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:18:00.434941 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain13-ids', vnf_src_interface='output', vnf_dst_name=u'chain13-vpn', vnf_dst_interface='input-ids'
I1209 21:18:00.435046 636804 net.py:665] Path between chain13-ids and chain13-vpn: ['dc1.s1']
I1209 21:18:00.435121 636804 net.py:694] end node reached: chain13-vpn
I1209 21:18:00.435182 636804 net.py:889] add-flow
I1209 21:18:00.435235 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:165,output=9
I1209 21:18:00.447024 636804 net.py:893] add-flow in switch: dc1.s1 in_port: 6 out_port: 9
I1209 21:18:00.447141 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc1.s1 in_port: 6 out_port: 9
I1209 21:18:00.447228 636804 net.py:931] add-flow
I1209 21:18:00.447283 636804 net.py:932] in_port=6,action=strip_vlan,output=9
I1209 21:18:00.459410 636804 net.py:935] add-flow in switch: dc1.s1 in_port: 6 out_port: 9
D1209 21:18:00.459645 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain13-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain13-ids', vnf_dst_interface='output'
I1209 21:18:00.459801 636804 net.py:665] Path between chain13-vpn and chain13-ids: ['dc1.s1']
I1209 21:18:00.459920 636804 net.py:694] end node reached: chain13-ids
I1209 21:18:00.460041 636804 net.py:889] add-flow
I1209 21:18:00.460139 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:166,output=6
I1209 21:18:00.486375 636804 net.py:893] add-flow in switch: dc1.s1 in_port: 9 out_port: 6
I1209 21:18:00.486557 636804 daisy.py:350] chain(chain13-ids, chain13-vpn) output: success: add-flow between chain13-ids and chain13-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc1.s1"
 ], 
 "vlan": 165, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain13-vpn and chain13-ids with options: {
 "priority": 1000, 
 "path": [
  "dc1.s1"
 ], 
 "vlan": 166, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:18:00.486705 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain13-vpn', vnf_src_interface='output', vnf_dst_name=u'chain13-sink', vnf_dst_interface='intf2'
I1209 21:18:00.486867 636804 net.py:665] Path between chain13-vpn and chain13-sink: ['dc1.s1', u'gsw0', 'dc20.s1']
I1209 21:18:00.486987 636804 net.py:889] add-flow
I1209 21:18:00.487071 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:167,output=1
I1209 21:18:00.499408 636804 net.py:893] add-flow in switch: dc1.s1 in_port: 11 out_port: 1
I1209 21:18:00.499551 636804 net.py:889] add-flow
I1209 21:18:00.499644 636804 net.py:890] in_port=30,dl_vlan=167,action=45
I1209 21:18:00.512475 636804 net.py:893] add-flow in switch: gsw0 in_port: 30 out_port: 45
I1209 21:18:00.512573 636804 net.py:694] end node reached: chain13-sink
I1209 21:18:00.512640 636804 net.py:889] add-flow
I1209 21:18:00.512686 636804 net.py:890] in_port=1,dl_vlan=167,action=strip_vlan,output=2
I1209 21:18:00.524616 636804 net.py:893] add-flow in switch: dc20.s1 in_port: 1 out_port: 2
D1209 21:18:00.524789 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain13-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain13-vpn', vnf_dst_interface='output'
I1209 21:18:00.524946 636804 net.py:665] Path between chain13-sink and chain13-vpn: ['dc20.s1', u'gsw0', 'dc1.s1']
I1209 21:18:00.525069 636804 net.py:889] add-flow
I1209 21:18:00.525171 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:168,output=1
I1209 21:18:00.537430 636804 net.py:893] add-flow in switch: dc20.s1 in_port: 2 out_port: 1
I1209 21:18:00.537575 636804 net.py:889] add-flow
I1209 21:18:00.537666 636804 net.py:890] in_port=45,dl_vlan=168,action=30
I1209 21:18:00.549917 636804 net.py:893] add-flow in switch: gsw0 in_port: 45 out_port: 30
I1209 21:18:00.550021 636804 net.py:694] end node reached: chain13-vpn
I1209 21:18:00.550152 636804 net.py:889] add-flow
I1209 21:18:00.550261 636804 net.py:890] in_port=1,dl_vlan=168,action=strip_vlan,output=11
I1209 21:18:00.561894 636804 net.py:893] add-flow in switch: dc1.s1 in_port: 1 out_port: 11
I1209 21:18:00.562047 636804 daisy.py:357] chain(chain13-vpn, chain13-sink) output: success: add-flow between chain13-vpn and chain13-sink with options: {
 "priority": 1000, 
 "path": [
  "dc1.s1", 
  "gsw0", 
  "dc20.s1"
 ], 
 "vlan": 167, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain13-sink and chain13-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc20.s1", 
  "gsw0", 
  "dc1.s1"
 ], 
 "vlan": 168, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:18:01 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:18:01 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:18:01 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:18:01 2017 UDPv4 link local: [undef]
Sat Dec  9 21:18:01 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:18:01 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=29d4e34d b35a3a24
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:18:01 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:18:01 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:18:01 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:18:01 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:18:01 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:18:01 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:18:01 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:18:01 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:18:01 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:18:01 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:18:01 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:18:04 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:18:04 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:18:04 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:18:04 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:18:04 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:18:04 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:18:04 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:53
Sat Dec  9 21:18:04 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:18:04 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:18:04 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:18:04 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:18:04 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:18:04 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:18:04 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:18:04 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:18:04 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:18:04 2017 GID set to nogroup
Sat Dec  9 21:18:04 2017 UID set to nobody
Sat Dec  9 21:18:04 2017 Initialization Sequence Completed
I1209 21:18:07.044174 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:18:12.049496 636804 daisy.py:443] < 5s wait complete
I1209 21:18:12.049665 636804 daisy.py:444] VPN client VNF started
chain13-source -> chain13-sink 
chain13-sink -> chain13-source 
*** Results: 0% dropped (2/2 received)
I1209 21:18:14.139854 636804 daisy.py:369] ping chain13-source -> chain13-sink. Packet drop 0.0%
I1209 21:18:14.182066 636804 bench.py:19] Copying traces into the containers...
I1209 21:18:15.262701 636804 bench.py:29] Running dstat...
.chain12-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain12-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain12-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain12-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain12-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain12-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain12-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain12-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain12-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain12-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain12-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.023533000000000026, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server29'], [u'ids', u'chain-server29'], [u'nat', u'chain-server29'], [u'vpn', u'chain-server29'], [u'sink', u'off-cloud4'], [u'source', u'off-cloud9']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 2.38024, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud9', 2], [u'chain-server29', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server29', 2], [u'off-cloud4', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain13-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain13-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain13-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain13-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain13-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain13-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain13-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain13-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain13-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain13-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain13-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain13-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain13-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain13-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain13-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain13-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain13-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain13-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain13-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain13-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain13-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain13-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain13-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain13-source:/ (0 is success)
returned 0 fI1209 21:18:17.472398 636804 iter-e2-allocation.py:17] started allocating chain: 14
I1209 21:18:17.472783 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server27']
I1209 21:18:17.472893 636804 daisy.py:240] creating chain14-fw on chain-server27
D1209 21:18:17.473952 636804 node.py:55] Starting compute instance u'chain14-fw' in data center 'chain-server27'
D1209 21:18:18.105825 636804 simple.py:169] Setting CPU limit for u'chain14-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:18:18.142935 636804 simple.py:215] Setting MEM limit for u'chain14-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:18:18.325145 636804 net.py:233] addLink: n1=chain14-fw intf1=input -- n2=dc9.s1 intf2=dc9.s1-eth2
D1209 21:18:18.493355 636804 net.py:233] addLink: n1=chain14-fw intf1=output-ids -- n2=dc9.s1 intf2=dc9.s1-eth3
D1209 21:18:18.658643 636804 net.py:233] addLink: n1=chain14-fw intf1=output-vpn -- n2=dc9.s1 intf2=dc9.s1-eth4
I1209 21:18:18.658847 636804 daisy.py:310] successfully created VNF: chain14-fw
I1209 21:18:18.658936 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server27']
I1209 21:18:18.659012 636804 daisy.py:240] creating chain14-ids on chain-server27
D1209 21:18:18.659589 636804 node.py:55] Starting compute instance u'chain14-ids' in data center 'chain-server27'
D1209 21:18:19.392060 636804 simple.py:169] Setting CPU limit for u'chain14-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:18:19.431924 636804 simple.py:215] Setting MEM limit for u'chain14-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:18:19.450021 636804 simple.py:169] Setting CPU limit for u'chain14-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:18:19.484679 636804 simple.py:215] Setting MEM limit for u'chain14-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:18:19.652643 636804 net.py:233] addLink: n1=chain14-ids intf1=input -- n2=dc9.s1 intf2=dc9.s1-eth5
D1209 21:18:19.812761 636804 net.py:233] addLink: n1=chain14-ids intf1=output -- n2=dc9.s1 intf2=dc9.s1-eth6
I1209 21:18:19.813021 636804 daisy.py:310] successfully created VNF: chain14-ids
I1209 21:18:19.813178 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server27']
I1209 21:18:19.813318 636804 daisy.py:240] creating chain14-nat on chain-server27
D1209 21:18:19.814074 636804 node.py:55] Starting compute instance u'chain14-nat' in data center 'chain-server27'
D1209 21:18:20.416301 636804 simple.py:169] Setting CPU limit for u'chain14-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:18:20.453536 636804 simple.py:215] Setting MEM limit for u'chain14-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:18:20.471338 636804 simple.py:169] Setting CPU limit for u'chain14-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:18:20.503978 636804 simple.py:215] Setting MEM limit for u'chain14-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:18:20.520499 636804 simple.py:215] Setting MEM limit for u'chain14-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:18:20.697865 636804 net.py:233] addLink: n1=chain14-nat intf1=input -- n2=dc9.s1 intf2=dc9.s1-eth7
D1209 21:18:20.864434 636804 net.py:233] addLink: n1=chain14-nat intf1=output -- n2=dc9.s1 intf2=dc9.s1-eth8
I1209 21:18:20.864630 636804 daisy.py:310] successfully created VNF: chain14-nat
I1209 21:18:20.864814 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server27']
I1209 21:18:20.864953 636804 daisy.py:240] creating chain14-vpn on chain-server27
D1209 21:18:20.865658 636804 node.py:55] Starting compute instance u'chain14-vpn' in data center 'chain-server27'
D1209 21:18:21.523865 636804 simple.py:169] Setting CPU limit for u'chain14-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:18:21.561589 636804 simple.py:215] Setting MEM limit for u'chain14-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:18:21.577089 636804 simple.py:169] Setting CPU limit for u'chain14-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:18:21.609939 636804 simple.py:215] Setting MEM limit for u'chain14-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:18:21.626457 636804 simple.py:215] Setting MEM limit for u'chain14-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:18:21.644774 636804 simple.py:215] Setting MEM limit for u'chain14-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:18:21.823981 636804 net.py:233] addLink: n1=chain14-vpn intf1=input-ids -- n2=dc9.s1 intf2=dc9.s1-eth9
D1209 21:18:21.976465 636804 net.py:233] addLink: n1=chain14-vpn intf1=input-fw -- n2=dc9.s1 intf2=dc9.s1-eth10
D1209 21:18:22.136380 636804 net.py:233] addLink: n1=chain14-vpn intf1=output -- n2=dc9.s1 intf2=dc9.s1-eth11
I1209 21:18:22.136643 636804 daisy.py:310] successfully created VNF: chain14-vpn
I1209 21:18:22.136744 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud4']
I1209 21:18:22.136836 636804 daisy.py:240] creating chain14-sink on off-cloud4
D1209 21:18:22.137363 636804 node.py:55] Starting compute instance u'chain14-sink' in data center 'off-cloud4'
D1209 21:18:22.777091 636804 simple.py:169] Setting CPU limit for u'chain14-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:18:22.814259 636804 simple.py:215] Setting MEM limit for u'chain14-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:18:22.832206 636804 simple.py:215] Setting MEM limit for u'chain13-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:18:23.025896 636804 net.py:233] addLink: n1=chain14-sink intf1=intf2 -- n2=dc20.s1 intf2=dc20.s1-eth3
I1209 21:18:23.026113 636804 daisy.py:310] successfully created VNF: chain14-sink
I1209 21:18:23.026251 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud9']
I1209 21:18:23.026329 636804 daisy.py:240] creating chain14-source on off-cloud9
D1209 21:18:23.027057 636804 node.py:55] Starting compute instance u'chain14-source' in data center 'off-cloud9'
D1209 21:18:23.656351 636804 simple.py:169] Setting CPU limit for u'chain14-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:18:23.695280 636804 simple.py:215] Setting MEM limit for u'chain14-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:18:23.712620 636804 simple.py:215] Setting MEM limit for u'chain2-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:18:23.728993 636804 simple.py:215] Setting MEM limit for u'chain2-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:18:23.746546 636804 simple.py:215] Setting MEM limit for u'chain13-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:18:23.927139 636804 net.py:233] addLink: n1=chain14-source intf1=intf1 -- n2=dc21.s1 intf2=dc21.s1-eth5
I1209 21:18:23.927364 636804 daisy.py:310] successfully created VNF: chain14-source
I1209 21:18:23.927515 636804 daisy.py:311] successfully created chain: 14
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:18:25.729327 636804 daisy.py:401] source, nat, and fw start done
I1209 21:18:25.729578 636804 daisy.py:402] My commands
I1209 21:18:25.842233 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:18:27.844518 636804 daisy.py:419] < 2s wait complete
I1209 21:18:27.844691 636804 daisy.py:420] start VNF chaining
D1209 21:18:27.844916 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain14-source', vnf_src_interface='intf1', vnf_dst_name=u'chain14-nat', vnf_dst_interface='input'
I1209 21:18:27.845113 636804 net.py:665] Path between chain14-source and chain14-nat: ['dc21.s1', u'gsw0', 'dc9.s1']
I1209 21:18:27.845252 636804 net.py:889] add-flow
I1209 21:18:27.845324 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:169,output=1
I1209 21:18:27.849260 636804 net.py:893] add-flow in switch: dc21.s1 in_port: 5 out_port: 1
I1209 21:18:27.849438 636804 net.py:889] add-flow
I1209 21:18:27.849524 636804 net.py:890] in_port=50,dl_vlan=169,action=28
I1209 21:18:27.863446 636804 net.py:893] add-flow in switch: gsw0 in_port: 50 out_port: 28
I1209 21:18:27.863692 636804 net.py:694] end node reached: chain14-nat
I1209 21:18:27.863847 636804 net.py:889] add-flow
I1209 21:18:27.863956 636804 net.py:890] in_port=1,dl_vlan=169,action=strip_vlan,output=7
I1209 21:18:27.878226 636804 net.py:893] add-flow in switch: dc9.s1 in_port: 1 out_port: 7
D1209 21:18:27.878521 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain14-nat', vnf_src_interface='input', vnf_dst_name=u'chain14-source', vnf_dst_interface='intf1'
I1209 21:18:27.878700 636804 net.py:665] Path between chain14-nat and chain14-source: ['dc9.s1', u'gsw0', 'dc21.s1']
I1209 21:18:27.878824 636804 net.py:889] add-flow
I1209 21:18:27.878916 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:170,output=1
I1209 21:18:27.892141 636804 net.py:893] add-flow in switch: dc9.s1 in_port: 7 out_port: 1
I1209 21:18:27.892287 636804 net.py:889] add-flow
I1209 21:18:27.892412 636804 net.py:890] in_port=28,dl_vlan=170,action=50
I1209 21:18:27.906017 636804 net.py:893] add-flow in switch: gsw0 in_port: 28 out_port: 50
I1209 21:18:27.906224 636804 net.py:694] end node reached: chain14-source
I1209 21:18:27.906342 636804 net.py:889] add-flow
I1209 21:18:27.906450 636804 net.py:890] in_port=1,dl_vlan=170,action=strip_vlan,output=5
I1209 21:18:27.921906 636804 net.py:893] add-flow in switch: dc21.s1 in_port: 1 out_port: 5
I1209 21:18:27.922178 636804 daisy.py:322] chain(chain14-source, chain14-nat) output: success: add-flow between chain14-source and chain14-nat with options: {
 "priority": 1000, 
 "path": [
  "dc21.s1", 
  "gsw0", 
  "dc9.s1"
 ], 
 "vlan": 169, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain14-nat and chain14-source with options: {
 "priority": 1000, 
 "path": [
  "dc9.s1", 
  "gsw0", 
  "dc21.s1"
 ], 
 "vlan": 170, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:18:27.922344 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain14-nat', vnf_src_interface='output', vnf_dst_name=u'chain14-fw', vnf_dst_interface='input'
I1209 21:18:27.922517 636804 net.py:665] Path between chain14-nat and chain14-fw: ['dc9.s1']
I1209 21:18:27.922633 636804 net.py:694] end node reached: chain14-fw
I1209 21:18:27.922750 636804 net.py:889] add-flow
I1209 21:18:27.922835 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:171,output=2
I1209 21:18:27.935501 636804 net.py:893] add-flow in switch: dc9.s1 in_port: 8 out_port: 2
I1209 21:18:27.935630 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc9.s1 in_port: 8 out_port: 2
I1209 21:18:27.935718 636804 net.py:931] add-flow
I1209 21:18:27.935796 636804 net.py:932] in_port=8,action=strip_vlan,output=2
I1209 21:18:27.949022 636804 net.py:935] add-flow in switch: dc9.s1 in_port: 8 out_port: 2
D1209 21:18:27.949213 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain14-fw', vnf_src_interface='input', vnf_dst_name=u'chain14-nat', vnf_dst_interface='output'
I1209 21:18:27.949352 636804 net.py:665] Path between chain14-fw and chain14-nat: ['dc9.s1']
I1209 21:18:27.949470 636804 net.py:694] end node reached: chain14-nat
I1209 21:18:27.949573 636804 net.py:889] add-flow
I1209 21:18:27.949660 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:172,output=8
I1209 21:18:27.975965 636804 net.py:893] add-flow in switch: dc9.s1 in_port: 2 out_port: 8
I1209 21:18:27.976097 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc9.s1 in_port: 2 out_port: 8
I1209 21:18:27.976274 636804 net.py:931] add-flow
I1209 21:18:27.976361 636804 net.py:932] in_port=2,action=strip_vlan,output=8
I1209 21:18:27.990483 636804 net.py:935] add-flow in switch: dc9.s1 in_port: 2 out_port: 8
I1209 21:18:27.990675 636804 daisy.py:329] chain(chain14-nat, chain14-fw) output: success: add-flow between chain14-nat and chain14-fw with options: {
 "priority": 1000, 
 "path": [
  "dc9.s1"
 ], 
 "vlan": 171, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain14-fw and chain14-nat with options: {
 "priority": 1000, 
 "path": [
  "dc9.s1"
 ], 
 "vlan": 172, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:18:27.990813 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain14-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain14-ids', vnf_dst_interface='input'
I1209 21:18:27.990947 636804 net.py:665] Path between chain14-fw and chain14-ids: ['dc9.s1']
I1209 21:18:27.991049 636804 net.py:694] end node reached: chain14-ids
I1209 21:18:27.991147 636804 net.py:889] add-flow
I1209 21:18:27.991230 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:173,output=5
I1209 21:18:28.003958 636804 net.py:893] add-flow in switch: dc9.s1 in_port: 3 out_port: 5
D1209 21:18:28.004210 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain14-ids', vnf_src_interface='input', vnf_dst_name=u'chain14-fw', vnf_dst_interface='output-ids'
I1209 21:18:28.004374 636804 net.py:665] Path between chain14-ids and chain14-fw: ['dc9.s1']
I1209 21:18:28.004475 636804 net.py:694] end node reached: chain14-fw
I1209 21:18:28.004553 636804 net.py:889] add-flow
I1209 21:18:28.004612 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:174,output=3
I1209 21:18:28.017447 636804 net.py:893] add-flow in switch: dc9.s1 in_port: 5 out_port: 3
I1209 21:18:28.017594 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc9.s1 in_port: 5 out_port: 3
I1209 21:18:28.017692 636804 net.py:931] add-flow
I1209 21:18:28.017744 636804 net.py:932] in_port=5,action=strip_vlan,output=3
I1209 21:18:28.030900 636804 net.py:935] add-flow in switch: dc9.s1 in_port: 5 out_port: 3
I1209 21:18:28.031125 636804 daisy.py:336] chain(chain14-fw, chain14-ids) output: success: add-flow between chain14-fw and chain14-ids with options: {
 "priority": 1000, 
 "path": [
  "dc9.s1"
 ], 
 "vlan": 173, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain14-ids and chain14-fw with options: {
 "priority": 1000, 
 "path": [
  "dc9.s1"
 ], 
 "vlan": 174, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:18:28.031292 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain14-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain14-vpn', vnf_dst_interface='input-fw'
I1209 21:18:28.031488 636804 net.py:665] Path between chain14-fw and chain14-vpn: ['dc9.s1']
I1209 21:18:28.031605 636804 net.py:694] end node reached: chain14-vpn
I1209 21:18:28.031723 636804 net.py:889] add-flow
I1209 21:18:28.031837 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:175,output=10
I1209 21:18:28.057480 636804 net.py:893] add-flow in switch: dc9.s1 in_port: 4 out_port: 10
D1209 21:18:28.057668 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain14-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain14-fw', vnf_dst_interface='output-vpn'
I1209 21:18:28.057826 636804 net.py:665] Path between chain14-vpn and chain14-fw: ['dc9.s1']
I1209 21:18:28.057941 636804 net.py:694] end node reached: chain14-fw
I1209 21:18:28.058057 636804 net.py:889] add-flow
I1209 21:18:28.058177 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:176,output=4
I1209 21:18:28.071350 636804 net.py:893] add-flow in switch: dc9.s1 in_port: 10 out_port: 4
I1209 21:18:28.071513 636804 daisy.py:343] chain(chain14-fw, chain14-vpn) output: success: add-flow between chain14-fw and chain14-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc9.s1"
 ], 
 "vlan": 175, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain14-vpn and chain14-fw with options: {
 "priority": 1000, 
 "path": [
  "dc9.s1"
 ], 
 "vlan": 176, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:18:28.071616 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain14-ids', vnf_src_interface='output', vnf_dst_name=u'chain14-vpn', vnf_dst_interface='input-ids'
I1209 21:18:28.071708 636804 net.py:665] Path between chain14-ids and chain14-vpn: ['dc9.s1']
I1209 21:18:28.071775 636804 net.py:694] end node reached: chain14-vpn
I1209 21:18:28.071844 636804 net.py:889] add-flow
I1209 21:18:28.071913 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:177,output=9
I1209 21:18:28.085298 636804 net.py:893] add-flow in switch: dc9.s1 in_port: 6 out_port: 9
I1209 21:18:28.085442 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc9.s1 in_port: 6 out_port: 9
I1209 21:18:28.085515 636804 net.py:931] add-flow
I1209 21:18:28.085568 636804 net.py:932] in_port=6,action=strip_vlan,output=9
I1209 21:18:28.099258 636804 net.py:935] add-flow in switch: dc9.s1 in_port: 6 out_port: 9
D1209 21:18:28.099484 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain14-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain14-ids', vnf_dst_interface='output'
I1209 21:18:28.099613 636804 net.py:665] Path between chain14-vpn and chain14-ids: ['dc9.s1']
I1209 21:18:28.099701 636804 net.py:694] end node reached: chain14-ids
I1209 21:18:28.099791 636804 net.py:889] add-flow
I1209 21:18:28.099868 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:178,output=6
I1209 21:18:28.125421 636804 net.py:893] add-flow in switch: dc9.s1 in_port: 9 out_port: 6
I1209 21:18:28.125586 636804 daisy.py:350] chain(chain14-ids, chain14-vpn) output: success: add-flow between chain14-ids and chain14-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc9.s1"
 ], 
 "vlan": 177, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain14-vpn and chain14-ids with options: {
 "priority": 1000, 
 "path": [
  "dc9.s1"
 ], 
 "vlan": 178, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:18:28.125720 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain14-vpn', vnf_src_interface='output', vnf_dst_name=u'chain14-sink', vnf_dst_interface='intf2'
I1209 21:18:28.125876 636804 net.py:665] Path between chain14-vpn and chain14-sink: ['dc9.s1', u'gsw0', 'dc20.s1']
I1209 21:18:28.126000 636804 net.py:889] add-flow
I1209 21:18:28.126064 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:179,output=1
I1209 21:18:28.145813 636804 net.py:893] add-flow in switch: dc9.s1 in_port: 11 out_port: 1
I1209 21:18:28.145972 636804 net.py:889] add-flow
I1209 21:18:28.146079 636804 net.py:890] in_port=28,dl_vlan=179,action=45
I1209 21:18:28.160062 636804 net.py:893] add-flow in switch: gsw0 in_port: 28 out_port: 45
I1209 21:18:28.160171 636804 net.py:694] end node reached: chain14-sink
I1209 21:18:28.160290 636804 net.py:889] add-flow
I1209 21:18:28.160392 636804 net.py:890] in_port=1,dl_vlan=179,action=strip_vlan,output=3
I1209 21:18:28.173629 636804 net.py:893] add-flow in switch: dc20.s1 in_port: 1 out_port: 3
D1209 21:18:28.173780 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain14-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain14-vpn', vnf_dst_interface='output'
I1209 21:18:28.173911 636804 net.py:665] Path between chain14-sink and chain14-vpn: ['dc20.s1', u'gsw0', 'dc9.s1']
I1209 21:18:28.174087 636804 net.py:889] add-flow
I1209 21:18:28.174201 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:180,output=1
I1209 21:18:28.186872 636804 net.py:893] add-flow in switch: dc20.s1 in_port: 3 out_port: 1
I1209 21:18:28.187078 636804 net.py:889] add-flow
I1209 21:18:28.187177 636804 net.py:890] in_port=45,dl_vlan=180,action=28
I1209 21:18:28.200537 636804 net.py:893] add-flow in switch: gsw0 in_port: 45 out_port: 28
I1209 21:18:28.200654 636804 net.py:694] end node reached: chain14-vpn
I1209 21:18:28.200725 636804 net.py:889] add-flow
I1209 21:18:28.200797 636804 net.py:890] in_port=1,dl_vlan=180,action=strip_vlan,output=11
I1209 21:18:28.213805 636804 net.py:893] add-flow in switch: dc9.s1 in_port: 1 out_port: 11
I1209 21:18:28.214005 636804 daisy.py:357] chain(chain14-vpn, chain14-sink) output: success: add-flow between chain14-vpn and chain14-sink with options: {
 "priority": 1000, 
 "path": [
  "dc9.s1", 
  "gsw0", 
  "dc20.s1"
 ], 
 "vlan": 179, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain14-sink and chain14-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc20.s1", 
  "gsw0", 
  "dc9.s1"
 ], 
 "vlan": 180, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:18:29 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:18:29 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:18:29 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:18:29 2017 UDPv4 link local: [undef]
Sat Dec  9 21:18:29 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:18:29 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=7d4ee8ea 30d4816a
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:18:29 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:18:29 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:18:29 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:18:29 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:18:29 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:18:29 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:18:29 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:18:29 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:18:29 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:18:29 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:18:29 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:18:31 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:18:31 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:18:31 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:18:31 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:18:31 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:18:31 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:18:31 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:59
Sat Dec  9 21:18:31 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:18:31 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:18:31 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:18:31 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:18:31 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:18:31 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:18:31 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:18:31 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:18:31 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:18:31 2017 GID set to nogroup
Sat Dec  9 21:18:31 2017 UID set to nobody
Sat Dec  9 21:18:31 2017 Initialization Sequence Completed
I1209 21:18:34.765621 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:18:39.770958 636804 daisy.py:443] < 5s wait complete
I1209 21:18:39.771135 636804 daisy.py:444] VPN client VNF started
chain14-source -> chain14-sink 
chain14-sink -> chain14-source 
*** Results: 0% dropped (2/2 received)
I1209 21:18:42.166656 636804 daisy.py:369] ping chain14-source -> chain14-sink. Packet drop 0.0%
I1209 21:18:42.216801 636804 bench.py:19] Copying traces into the containers...
I1209 21:18:43.358176 636804 bench.py:29] Running dstat...
I1209 21:18:45.592705 636804 iter-e2-allocation.py:17] started allocating chain: 15
rom sudo docker exec -d mn.chain13-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain13-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.02328600000000014, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server27'], [u'ids', u'chain-server27'], [u'nat', u'chain-server27'], [u'vpn', u'chain-server27'], [u'sink', u'off-cloud4'], [u'source', u'off-cloud9']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 2.419636, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud9', 2], [u'chain-server27', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server27', 2], [u'off-cloud4', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain14-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain14-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain14-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain14-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain14-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain14-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain14-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain14-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain14-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain14-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain14-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain14-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain14-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain14-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain14-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain14-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain14-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain14-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain14-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain14-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain14-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain14-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain14-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain14-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain14-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain14-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.4384459999999999, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server30'], [u'nat', u'chain-server30'], [u'ids', u'chain-server9'], [u'vpn', u'chain-server9'], [u'sink', u'off-cloud2'], [u'source', u'off-cloud9']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 0.962645, u'bandwidth': [[u'fw', u'ids', 1, [[u'gsw', u'chain-server9', 2], [u'chain-server30', u'gsw', 2]]], [u'fw', u'vpn', 1, [[u'gsw', u'chain-server9', 2], [u'chain-server30', u'gsw', 2]]], [u'nat', u'source', 2, [[u'gsw', u'off-cloud9', 2], [u'I1209 21:18:45.593172 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server30']
I1209 21:18:45.593302 636804 daisy.py:240] creating chain15-fw on chain-server30
D1209 21:18:45.594023 636804 node.py:55] Starting compute instance u'chain15-fw' in data center 'chain-server30'
D1209 21:18:46.229206 636804 simple.py:169] Setting CPU limit for u'chain15-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:18:46.265636 636804 simple.py:215] Setting MEM limit for u'chain15-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:18:46.446913 636804 net.py:233] addLink: n1=chain15-fw intf1=input -- n2=dc43.s1 intf2=dc43.s1-eth2
D1209 21:18:46.609312 636804 net.py:233] addLink: n1=chain15-fw intf1=output-ids -- n2=dc43.s1 intf2=dc43.s1-eth3
D1209 21:18:46.771409 636804 net.py:233] addLink: n1=chain15-fw intf1=output-vpn -- n2=dc43.s1 intf2=dc43.s1-eth4
I1209 21:18:46.771589 636804 daisy.py:310] successfully created VNF: chain15-fw
I1209 21:18:46.771687 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server30']
I1209 21:18:46.771768 636804 daisy.py:240] creating chain15-nat on chain-server30
D1209 21:18:46.772269 636804 node.py:55] Starting compute instance u'chain15-nat' in data center 'chain-server30'
D1209 21:18:47.433402 636804 simple.py:169] Setting CPU limit for u'chain15-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:18:47.473253 636804 simple.py:215] Setting MEM limit for u'chain15-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:18:47.490308 636804 simple.py:169] Setting CPU limit for u'chain15-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:18:47.523852 636804 simple.py:215] Setting MEM limit for u'chain15-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:18:47.702464 636804 net.py:233] addLink: n1=chain15-nat intf1=input -- n2=dc43.s1 intf2=dc43.s1-eth5
D1209 21:18:47.864303 636804 net.py:233] addLink: n1=chain15-nat intf1=output -- n2=dc43.s1 intf2=dc43.s1-eth6
I1209 21:18:47.864545 636804 daisy.py:310] successfully created VNF: chain15-nat
I1209 21:18:47.864669 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server9']
I1209 21:18:47.864780 636804 daisy.py:240] creating chain15-ids on chain-server9
D1209 21:18:47.865411 636804 node.py:55] Starting compute instance u'chain15-ids' in data center 'chain-server9'
D1209 21:18:48.528201 636804 simple.py:169] Setting CPU limit for u'chain15-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:18:48.565443 636804 simple.py:215] Setting MEM limit for u'chain15-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:18:48.721487 636804 net.py:233] addLink: n1=chain15-ids intf1=input -- n2=dc32.s1 intf2=dc32.s1-eth2
D1209 21:18:48.873503 636804 net.py:233] addLink: n1=chain15-ids intf1=output -- n2=dc32.s1 intf2=dc32.s1-eth3
I1209 21:18:48.873714 636804 daisy.py:310] successfully created VNF: chain15-ids
I1209 21:18:48.873832 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server9']
I1209 21:18:48.873964 636804 daisy.py:240] creating chain15-vpn on chain-server9
D1209 21:18:48.874640 636804 node.py:55] Starting compute instance u'chain15-vpn' in data center 'chain-server9'
D1209 21:18:49.549983 636804 simple.py:215] Setting MEM limit for u'chain15-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:18:49.569771 636804 simple.py:169] Setting CPU limit for u'chain15-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:18:49.605063 636804 simple.py:215] Setting MEM limit for u'chain15-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:18:49.778289 636804 net.py:233] addLink: n1=chain15-vpn intf1=input-ids -- n2=dc32.s1 intf2=dc32.s1-eth4
D1209 21:18:49.950434 636804 net.py:233] addLink: n1=chain15-vpn intf1=input-fw -- n2=dc32.s1 intf2=dc32.s1-eth5
D1209 21:18:50.099742 636804 net.py:233] addLink: n1=chain15-vpn intf1=output -- n2=dc32.s1 intf2=dc32.s1-eth6
I1209 21:18:50.099960 636804 daisy.py:310] successfully created VNF: chain15-vpn
I1209 21:18:50.100105 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud2']
I1209 21:18:50.100219 636804 daisy.py:240] creating chain15-sink on off-cloud2
D1209 21:18:50.101094 636804 node.py:55] Starting compute instance u'chain15-sink' in data center 'off-cloud2'
D1209 21:18:50.750411 636804 simple.py:169] Setting CPU limit for u'chain15-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:18:50.789349 636804 simple.py:215] Setting MEM limit for u'chain15-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:18:50.809722 636804 simple.py:215] Setting MEM limit for u'chain1-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:18:50.827126 636804 simple.py:215] Setting MEM limit for u'chain1-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:18:51.010720 636804 net.py:233] addLink: n1=chain15-sink intf1=intf2 -- n2=dc14.s1 intf2=dc14.s1-eth4
I1209 21:18:51.010883 636804 daisy.py:310] successfully created VNF: chain15-sink
I1209 21:18:51.010979 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud9']
I1209 21:18:51.011089 636804 daisy.py:240] creating chain15-source on off-cloud9
D1209 21:18:51.011668 636804 node.py:55] Starting compute instance u'chain15-source' in data center 'off-cloud9'
D1209 21:18:51.647236 636804 simple.py:169] Setting CPU limit for u'chain15-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:18:51.685872 636804 simple.py:215] Setting MEM limit for u'chain15-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:18:51.703114 636804 simple.py:215] Setting MEM limit for u'chain14-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:18:51.719578 636804 simple.py:215] Setting MEM limit for u'chain2-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:18:51.740120 636804 simple.py:215] Setting MEM limit for u'chain2-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:18:51.759282 636804 simple.py:215] Setting MEM limit for u'chain13-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:18:51.921222 636804 net.py:233] addLink: n1=chain15-source intf1=intf1 -- n2=dc21.s1 intf2=dc21.s1-eth6
I1209 21:18:51.921463 636804 daisy.py:310] successfully created VNF: chain15-source
I1209 21:18:51.921595 636804 daisy.py:311] successfully created chain: 15
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:18:53.933805 636804 daisy.py:401] source, nat, and fw start done
I1209 21:18:53.933999 636804 daisy.py:402] My commands
I1209 21:18:54.035207 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:18:56.037476 636804 daisy.py:419] < 2s wait complete
I1209 21:18:56.037657 636804 daisy.py:420] start VNF chaining
D1209 21:18:56.037862 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain15-source', vnf_src_interface='intf1', vnf_dst_name=u'chain15-nat', vnf_dst_interface='input'
I1209 21:18:56.038219 636804 net.py:665] Path between chain15-source and chain15-nat: ['dc21.s1', u'gsw0', 'dc43.s1']
I1209 21:18:56.038474 636804 net.py:889] add-flow
I1209 21:18:56.038609 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:181,output=1
I1209 21:18:56.044229 636804 net.py:893] add-flow in switch: dc21.s1 in_port: 6 out_port: 1
I1209 21:18:56.044397 636804 net.py:889] add-flow
I1209 21:18:56.044540 636804 net.py:890] in_port=50,dl_vlan=181,action=31
I1209 21:18:56.060436 636804 net.py:893] add-flow in switch: gsw0 in_port: 50 out_port: 31
I1209 21:18:56.060561 636804 net.py:694] end node reached: chain15-nat
I1209 21:18:56.060709 636804 net.py:889] add-flow
I1209 21:18:56.060852 636804 net.py:890] in_port=1,dl_vlan=181,action=strip_vlan,output=5
I1209 21:18:56.076113 636804 net.py:893] add-flow in switch: dc43.s1 in_port: 1 out_port: 5
D1209 21:18:56.076464 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain15-nat', vnf_src_interface='input', vnf_dst_name=u'chain15-source', vnf_dst_interface='intf1'
I1209 21:18:56.076688 636804 net.py:665] Path between chain15-nat and chain15-source: ['dc43.s1', u'gsw0', 'dc21.s1']
I1209 21:18:56.076838 636804 net.py:889] add-flow
I1209 21:18:56.076960 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:182,output=1
I1209 21:18:56.092528 636804 net.py:893] add-flow in switch: dc43.s1 in_port: 5 out_port: 1
I1209 21:18:56.092663 636804 net.py:889] add-flow
I1209 21:18:56.092843 636804 net.py:890] in_port=31,dl_vlan=182,action=50
I1209 21:18:56.109416 636804 net.py:893] add-flow in switch: gsw0 in_port: 31 out_port: 50
I1209 21:18:56.109534 636804 net.py:694] end node reached: chain15-source
I1209 21:18:56.109685 636804 net.py:889] add-flow
I1209 21:18:56.109817 636804 net.py:890] in_port=1,dl_vlan=182,action=strip_vlan,output=6
I1209 21:18:56.124505 636804 net.py:893] add-flow in switch: dc21.s1 in_port: 1 out_port: 6
I1209 21:18:56.124736 636804 daisy.py:322] chain(chain15-source, chain15-nat) output: success: add-flow between chain15-source and chain15-nat with options: {
 "priority": 1000, 
 "path": [
  "dc21.s1", 
  "gsw0", 
  "dc43.s1"
 ], 
 "vlan": 181, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain15-nat and chain15-source with options: {
 "priority": 1000, 
 "path": [
  "dc43.s1", 
  "gsw0", 
  "dc21.s1"
 ], 
 "vlan": 182, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:18:56.124929 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain15-nat', vnf_src_interface='output', vnf_dst_name=u'chain15-fw', vnf_dst_interface='input'
I1209 21:18:56.125087 636804 net.py:665] Path between chain15-nat and chain15-fw: ['dc43.s1']
I1209 21:18:56.125210 636804 net.py:694] end node reached: chain15-fw
I1209 21:18:56.125391 636804 net.py:889] add-flow
I1209 21:18:56.125513 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:183,output=2
I1209 21:18:56.139199 636804 net.py:893] add-flow in switch: dc43.s1 in_port: 6 out_port: 2
I1209 21:18:56.139401 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc43.s1 in_port: 6 out_port: 2
I1209 21:18:56.139533 636804 net.py:931] add-flow
I1209 21:18:56.139673 636804 net.py:932] in_port=6,action=strip_vlan,output=2
I1209 21:18:56.154450 636804 net.py:935] add-flow in switch: dc43.s1 in_port: 6 out_port: 2
D1209 21:18:56.154654 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain15-fw', vnf_src_interface='input', vnf_dst_name=u'chain15-nat', vnf_dst_interface='output'
I1209 21:18:56.154814 636804 net.py:665] Path between chain15-fw and chain15-nat: ['dc43.s1']
I1209 21:18:56.154946 636804 net.py:694] end node reached: chain15-nat
I1209 21:18:56.155085 636804 net.py:889] add-flow
I1209 21:18:56.155199 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:184,output=6
I1209 21:18:56.170185 636804 net.py:893] add-flow in switch: dc43.s1 in_port: 2 out_port: 6
I1209 21:18:56.170303 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc43.s1 in_port: 2 out_port: 6
I1209 21:18:56.170439 636804 net.py:931] add-flow
I1209 21:18:56.170577 636804 net.py:932] in_port=2,action=strip_vlan,output=6
I1209 21:18:56.185314 636804 net.py:935] add-flow in switch: dc43.s1 in_port: 2 out_port: 6
I1209 21:18:56.185511 636804 daisy.py:329] chain(chain15-nat, chain15-fw) output: success: add-flow between chain15-nat and chain15-fw with options: {
 "priority": 1000, 
 "path": [
  "dc43.s1"
 ], 
 "vlan": 183, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain15-fw and chain15-nat with options: {
 "priority": 1000, 
 "path": [
  "dc43.s1"
 ], 
 "vlan": 184, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:18:56.185705 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain15-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain15-ids', vnf_dst_interface='input'
I1209 21:18:56.185933 636804 net.py:665] Path between chain15-fw and chain15-ids: ['dc43.s1', u'gsw0', 'dc32.s1']
I1209 21:18:56.186189 636804 net.py:889] add-flow
I1209 21:18:56.186321 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:185,output=1
I1209 21:18:56.200822 636804 net.py:893] add-flow in switch: dc43.s1 in_port: 3 out_port: 1
I1209 21:18:56.201076 636804 net.py:889] add-flow
I1209 21:18:56.201211 636804 net.py:890] in_port=31,dl_vlan=185,action=10
I1209 21:18:56.217113 636804 net.py:893] add-flow in switch: gsw0 in_port: 31 out_port: 10
I1209 21:18:56.217242 636804 net.py:694] end node reached: chain15-ids
I1209 21:18:56.217436 636804 net.py:889] add-flow
I1209 21:18:56.217598 636804 net.py:890] in_port=1,dl_vlan=185,action=strip_vlan,output=2
I1209 21:18:56.232327 636804 net.py:893] add-flow in switch: dc32.s1 in_port: 1 out_port: 2
D1209 21:18:56.232696 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain15-ids', vnf_src_interface='input', vnf_dst_name=u'chain15-fw', vnf_dst_interface='output-ids'
I1209 21:18:56.232883 636804 net.py:665] Path between chain15-ids and chain15-fw: ['dc32.s1', u'gsw0', 'dc43.s1']
I1209 21:18:56.233019 636804 net.py:889] add-flow
I1209 21:18:56.233109 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:186,output=1
I1209 21:18:56.247515 636804 net.py:893] add-flow in switch: dc32.s1 in_port: 2 out_port: 1
I1209 21:18:56.247663 636804 net.py:889] add-flow
I1209 21:18:56.247761 636804 net.py:890] in_port=10,dl_vlan=186,action=31
I1209 21:18:56.266499 636804 net.py:893] add-flow in switch: gsw0 in_port: 10 out_port: 31
I1209 21:18:56.266624 636804 net.py:920] Detected IDS->FW Path(2) in switch: gsw0 in_port: 10 out_port: 31
I1209 21:18:56.266712 636804 net.py:931] add-flow
I1209 21:18:56.266792 636804 net.py:932] in_port=10,action=strip_vlan,output=31
I1209 21:18:56.278561 636804 net.py:935] add-flow in switch: gsw0 in_port: 10 out_port: 31
I1209 21:18:56.278680 636804 net.py:694] end node reached: chain15-fw
I1209 21:18:56.278790 636804 net.py:889] add-flow
I1209 21:18:56.278879 636804 net.py:890] in_port=1,dl_vlan=186,action=strip_vlan,output=3
I1209 21:18:56.292262 636804 net.py:893] add-flow in switch: dc43.s1 in_port: 1 out_port: 3
I1209 21:18:56.292417 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc43.s1 in_port: 1 out_port: 3
I1209 21:18:56.292507 636804 net.py:931] add-flow
I1209 21:18:56.292586 636804 net.py:932] in_port=1,action=strip_vlan,output=3
I1209 21:18:56.306344 636804 net.py:935] add-flow in switch: dc43.s1 in_port: 1 out_port: 3
I1209 21:18:56.306545 636804 daisy.py:336] chain(chain15-fw, chain15-ids) output: success: add-flow between chain15-fw and chain15-ids with options: {
 "priority": 1000, 
 "path": [
  "dc43.s1", 
  "gsw0", 
  "dc32.s1"
 ], 
 "vlan": 185, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain15-ids and chain15-fw with options: {
 "priority": 1000, 
 "path": [
  "dc32.s1", 
  "gsw0", 
  "dc43.s1"
 ], 
 "vlan": 186, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:18:56.306715 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain15-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain15-vpn', vnf_dst_interface='input-fw'
I1209 21:18:56.306862 636804 net.py:665] Path between chain15-fw and chain15-vpn: ['dc43.s1', u'gsw0', 'dc32.s1']
I1209 21:18:56.306981 636804 net.py:889] add-flow
I1209 21:18:56.307069 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:187,output=1
I1209 21:18:56.320566 636804 net.py:893] add-flow in switch: dc43.s1 in_port: 4 out_port: 1
I1209 21:18:56.320705 636804 net.py:889] add-flow
I1209 21:18:56.320796 636804 net.py:890] in_port=31,dl_vlan=187,action=10
I1209 21:18:56.334959 636804 net.py:893] add-flow in switch: gsw0 in_port: 31 out_port: 10
I1209 21:18:56.335082 636804 net.py:694] end node reached: chain15-vpn
I1209 21:18:56.335181 636804 net.py:889] add-flow
I1209 21:18:56.335259 636804 net.py:890] in_port=1,dl_vlan=187,action=strip_vlan,output=5
I1209 21:18:56.348737 636804 net.py:893] add-flow in switch: dc32.s1 in_port: 1 out_port: 5
D1209 21:18:56.348956 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain15-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain15-fw', vnf_dst_interface='output-vpn'
I1209 21:18:56.349121 636804 net.py:665] Path between chain15-vpn and chain15-fw: ['dc32.s1', u'gsw0', 'dc43.s1']
I1209 21:18:56.349239 636804 net.py:889] add-flow
I1209 21:18:56.349340 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:188,output=1
I1209 21:18:56.363441 636804 net.py:893] add-flow in switch: dc32.s1 in_port: 5 out_port: 1
I1209 21:18:56.363581 636804 net.py:889] add-flow
I1209 21:18:56.363668 636804 net.py:890] in_port=10,dl_vlan=188,action=31
I1209 21:18:56.377480 636804 net.py:893] add-flow in switch: gsw0 in_port: 10 out_port: 31
I1209 21:18:56.377600 636804 net.py:694] end node reached: chain15-fw
I1209 21:18:56.377708 636804 net.py:889] add-flow
I1209 21:18:56.377796 636804 net.py:890] in_port=1,dl_vlan=188,action=strip_vlan,output=4
I1209 21:18:56.391335 636804 net.py:893] add-flow in switch: dc43.s1 in_port: 1 out_port: 4
I1209 21:18:56.391552 636804 daisy.py:343] chain(chain15-fw, chain15-vpn) output: success: add-flow between chain15-fw and chain15-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc43.s1", 
  "gsw0", 
  "dc32.s1"
 ], 
 "vlan": 187, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain15-vpn and chain15-fw with options: {
 "priority": 1000, 
 "path": [
  "dc32.s1", 
  "gsw0", 
  "dc43.s1"
 ], 
 "vlan": 188, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:18:56.391702 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain15-ids', vnf_src_interface='output', vnf_dst_name=u'chain15-vpn', vnf_dst_interface='input-ids'
I1209 21:18:56.391846 636804 net.py:665] Path between chain15-ids and chain15-vpn: ['dc32.s1']
I1209 21:18:56.391961 636804 net.py:694] end node reached: chain15-vpn
I1209 21:18:56.392061 636804 net.py:889] add-flow
I1209 21:18:56.392142 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:189,output=4
I1209 21:18:56.405369 636804 net.py:893] add-flow in switch: dc32.s1 in_port: 3 out_port: 4
I1209 21:18:56.405491 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc32.s1 in_port: 3 out_port: 4
I1209 21:18:56.405576 636804 net.py:931] add-flow
I1209 21:18:56.405656 636804 net.py:932] in_port=3,action=strip_vlan,output=4
I1209 21:18:56.418608 636804 net.py:935] add-flow in switch: dc32.s1 in_port: 3 out_port: 4
D1209 21:18:56.418826 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain15-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain15-ids', vnf_dst_interface='output'
I1209 21:18:56.418991 636804 net.py:665] Path between chain15-vpn and chain15-ids: ['dc32.s1']
I1209 21:18:56.419131 636804 net.py:694] end node reached: chain15-ids
I1209 21:18:56.419262 636804 net.py:889] add-flow
I1209 21:18:56.419393 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:190,output=3
I1209 21:18:56.445909 636804 net.py:893] add-flow in switch: dc32.s1 in_port: 4 out_port: 3
I1209 21:18:56.446168 636804 daisy.py:350] chain(chain15-ids, chain15-vpn) output: success: add-flow between chain15-ids and chain15-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc32.s1"
 ], 
 "vlan": 189, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain15-vpn and chain15-ids with options: {
 "priority": 1000, 
 "path": [
  "dc32.s1"
 ], 
 "vlan": 190, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:18:56.446402 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain15-vpn', vnf_src_interface='output', vnf_dst_name=u'chain15-sink', vnf_dst_interface='intf2'
I1209 21:18:56.446578 636804 net.py:665] Path between chain15-vpn and chain15-sink: ['dc32.s1', u'gsw0', 'dc14.s1']
I1209 21:18:56.446676 636804 net.py:889] add-flow
I1209 21:18:56.447380 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:191,output=1
I1209 21:18:56.460238 636804 net.py:893] add-flow in switch: dc32.s1 in_port: 6 out_port: 1
I1209 21:18:56.460422 636804 net.py:889] add-flow
I1209 21:18:56.460531 636804 net.py:890] in_port=10,dl_vlan=191,action=43
I1209 21:18:56.474076 636804 net.py:893] add-flow in switch: gsw0 in_port: 10 out_port: 43
I1209 21:18:56.474241 636804 net.py:694] end node reached: chain15-sink
I1209 21:18:56.474376 636804 net.py:889] add-flow
I1209 21:18:56.474452 636804 net.py:890] in_port=1,dl_vlan=191,action=strip_vlan,output=4
I1209 21:18:56.487219 636804 net.py:893] add-flow in switch: dc14.s1 in_port: 1 out_port: 4
D1209 21:18:56.487504 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain15-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain15-vpn', vnf_dst_interface='output'
I1209 21:18:56.487684 636804 net.py:665] Path between chain15-sink and chain15-vpn: ['dc14.s1', u'gsw0', 'dc32.s1']
I1209 21:18:56.487823 636804 net.py:889] add-flow
I1209 21:18:56.487893 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:192,output=1
I1209 21:18:56.501573 636804 net.py:893] add-flow in switch: dc14.s1 in_port: 4 out_port: 1
I1209 21:18:56.501705 636804 net.py:889] add-flow
I1209 21:18:56.501821 636804 net.py:890] in_port=43,dl_vlan=192,action=10
I1209 21:18:56.516365 636804 net.py:893] add-flow in switch: gsw0 in_port: 43 out_port: 10
I1209 21:18:56.516511 636804 net.py:694] end node reached: chain15-vpn
I1209 21:18:56.516596 636804 net.py:889] add-flow
I1209 21:18:56.516674 636804 net.py:890] in_port=1,dl_vlan=192,action=strip_vlan,output=6
I1209 21:18:56.530462 636804 net.py:893] add-flow in switch: dc32.s1 in_port: 1 out_port: 6
I1209 21:18:56.530638 636804 daisy.py:357] chain(chain15-vpn, chain15-sink) output: success: add-flow between chain15-vpn and chain15-sink with options: {
 "priority": 1000, 
 "path": [
  "dc32.s1", 
  "gsw0", 
  "dc14.s1"
 ], 
 "vlan": 191, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain15-sink and chain15-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc14.s1", 
  "gsw0", 
  "dc32.s1"
 ], 
 "vlan": 192, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:18:57 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:18:57 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:18:57 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:18:57 2017 UDPv4 link local: [undef]
Sat Dec  9 21:18:57 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:18:57 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=59637d88 5b6f48be
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:18:57 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:18:57 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:18:57 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:18:57 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:18:57 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:18:57 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:18:57 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:18:57 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:18:57 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:18:57 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:18:57 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:18:59 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:18:59 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:18:59 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:18:59 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:18:59 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:18:59 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:18:59 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:5f
Sat Dec  9 21:18:59 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:18:59 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:18:59 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:18:59 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:18:59 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:18:59 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:18:59 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:18:59 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:18:59 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:18:59 2017 GID set to nogroup
Sat Dec  9 21:18:59 2017 UID set to nobody
Sat Dec  9 21:18:59 2017 Initialization Sequence Completed
I1209 21:19:02.797043 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:19:07.802376 636804 daisy.py:443] < 5s wait complete
I1209 21:19:07.802544 636804 daisy.py:444] VPN client VNF started
chain15-source -> chain15-sink 
chain15-sink -> chain15-source 
*** Results: 0% dropped (2/2 received)
I1209 21:19:09.915780 636804 daisy.py:369] ping chain15-source -> chain15-sink. Packet drop 0.0%
I1209 21:19:09.972148 636804 bench.py:19] Copying traces into the containers...
I1209 21:19:11.050657 636804 bench.py:29] Running dstat...
I1209 21:19:13.301481 636804 iter-e2-allocation.py:17] started allocating chain: 16
I1209 21:19:13.301860 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server30']
I1209 21:19:13.302180 636804 daisy.py:240] creating chain16-fw on chain-server30
D1209 21:19:13.304958 636804 node.py:55] Starting compute instance u'chain16-fw' in data center 'chain-server30'
D1209 21:19:13.936330 636804 simple.py:169] Setting CPU limit for u'chain16-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:19:13.980741 636804 simple.py:215] Setting MEM limit for u'chain16-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:14.001436 636804 simple.py:215] Setting MEM limit for u'chain15-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:14.020889 636804 simple.py:169] Setting CPU limit for u'chain15-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:19:14.056070 636804 simple.py:215] Setting MEM limit for u'chain15-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:14.221664 636804 net.py:233] addLink: n1=chain16-fw intf1=input -- n2=dc43.s1 intf2=dc43.s1-eth7
D1209 21:19:14.373650 636804 net.py:233] addLink: n1=chain16-fw intf1=output-ids -- n2=dc43.s1 intf2=dc43.s1-eth8
D1209 21:19:14.585532 636804 net.py:233] addLink: n1=chain16-fw intf1=output-vpn -- n2=dc43.s1 intf2=dc43.s1-eth9
I1209 21:19:14.585817 636804 daisy.py:310] successfully created VNF: chain16-fw
I1209 21:19:14.585993 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server30']
I1209 21:19:14.586173 636804 daisy.py:240] creating chain16-ids on chain-server30
D1209 21:19:14.586987 636804 node.py:55] Starting compute instance u'chain16-ids' in data center 'chain-server30'
D1209 21:19:15.653274 636804 simple.py:169] Setting CPU limit for u'chain16-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:19:15.691442 636804 simple.py:215] Setting MEM limit for u'chain16-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:19:15.708992 636804 simple.py:169] Setting CPU limit for u'chain16-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:19:15.747874 636804 simple.py:215] Setting MEM limit for u'chain16-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:15.765388 636804 simple.py:215] Setting MEM limit for u'chain15-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:15.785269 636804 simple.py:169] Setting CPU limit for u'chain15-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:19:15.821826 636804 simple.py:215] Setting MEM limit for u'chain15-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:16.018568 636804 net.py:233] addLink: n1=chain16-ids intf1=input -- n2=dc43.s1 intf2=dc43.s1-eth10
D1209 21:19:16.175955 636804 net.py:233] addLink: n1=chain16-ids intf1=output -- n2=dc43.s1 intf2=dc43.s1-eth11
I1209 21:19:16.176131 636804 daisy.py:310] successfully created VNF: chain16-ids
I1209 21:19:16.176225 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server30']
I1209 21:19:16.176367 636804 daisy.py:240] creating chain16-nat on chain-server30
D1209 21:19:16.177001 636804 node.py:55] Starting compute instance u'chain16-nat' in data center 'chain-server30'
D1209 21:19:16.869615 636804 simple.py:215] Setting MEM limit for u'chain16-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:19:16.890999 636804 simple.py:169] Setting CPU limit for u'chain16-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:19:16.925661 636804 simple.py:215] Setting MEM limit for u'chain16-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:16.943789 636804 simple.py:215] Setting MEM limit for u'chain15-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:16.962193 636804 simple.py:169] Setting CPU limit for u'chain15-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:19:16.996999 636804 simple.py:215] Setting MEM limit for u'chain15-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:17.014405 636804 simple.py:169] Setting CPU limit for u'chain16-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:19:17.047782 636804 simple.py:215] Setting MEM limit for u'chain16-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:17.256490 636804 net.py:233] addLink: n1=chain16-nat intf1=input -- n2=dc43.s1 intf2=dc43.s1-eth12
D1209 21:19:17.417929 636804 net.py:233] addLink: n1=chain16-nat intf1=output -- n2=dc43.s1 intf2=dc43.s1-eth13
I1209 21:19:17.418174 636804 daisy.py:310] successfully created VNF: chain16-nat
I1209 21:19:17.418319 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server30']
I1209 21:19:17.418406 636804 daisy.py:240] creating chain16-vpn on chain-server30
D1209 21:19:17.419003 636804 node.py:55] Starting compute instance u'chain16-vpn' in data center 'chain-server30'
D1209 21:19:18.048207 636804 simple.py:169] Setting CPU limit for u'chain15-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:19:18.088238 636804 simple.py:215] Setting MEM limit for u'chain15-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:18.105886 636804 simple.py:169] Setting CPU limit for u'chain16-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:19:18.142616 636804 simple.py:215] Setting MEM limit for u'chain16-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:18.159840 636804 simple.py:215] Setting MEM limit for u'chain16-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:19:18.178000 636804 simple.py:215] Setting MEM limit for u'chain15-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:18.195380 636804 simple.py:169] Setting CPU limit for u'chain16-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:19:18.231189 636804 simple.py:215] Setting MEM limit for u'chain16-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:18.249017 636804 simple.py:215] Setting MEM limit for u'chain16-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:18.435440 636804 net.py:233] addLink: n1=chain16-vpn intf1=input-ids -- n2=dc43.s1 intf2=dc43.s1-eth14
D1209 21:19:18.605133 636804 net.py:233] addLink: n1=chain16-vpn intf1=input-fw -- n2=dc43.s1 intf2=dc43.s1-eth15
D1209 21:19:18.752993 636804 net.py:233] addLink: n1=chain16-vpn intf1=output -- n2=dc43.s1 intf2=dc43.s1-eth16
I1209 21:19:18.753209 636804 daisy.py:310] successfully created VNF: chain16-vpn
I1209 21:19:18.753370 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud2']
I1209 21:19:18.753452 636804 daisy.py:240] creating chain16-sink on off-cloud2
D1209 21:19:18.754239 636804 node.py:55] Starting compute instance u'chain16-sink' in data center 'off-cloud2'
D1209 21:19:19.427894 636804 simple.py:215] Setting MEM limit for u'chain15-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:19.451581 636804 simple.py:215] Setting MEM limit for u'chain1-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:19.470626 636804 simple.py:169] Setting CPU limit for u'chain16-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:19:19.510519 636804 simple.py:215] Setting MEM limit for u'chain16-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:19.529808 636804 simple.py:215] Setting MEM limit for u'chain1-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:19.695249 636804 net.py:233] addLink: n1=chain16-sink intf1=intf2 -- n2=dc14.s1 intf2=dc14.s1-eth5
I1209 21:19:19.695528 636804 daisy.py:310] successfully created VNF: chain16-sink
I1209 21:19:19.695708 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud7']
I1209 21:19:19.695823 636804 daisy.py:240] creating chain16-source on off-cloud7
D1209 21:19:19.696604 636804 node.py:55] Starting compute instance u'chain16-source' in data center 'off-cloud7'
D1209 21:19:20.406784 636804 simple.py:215] Setting MEM limit for u'chain0-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:20.428169 636804 simple.py:169] Setting CPU limit for u'chain16-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:19:20.466432 636804 simple.py:215] Setting MEM limit for u'chain16-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:20.484644 636804 simple.py:215] Setting MEM limit for u'chain11-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:20.692199 636804 net.py:233] addLink: n1=chain16-source intf1=intf1 -- n2=dc17.s1 intf2=dc17.s1-eth4
I1209 21:19:20.692503 636804 daisy.py:310] successfully created VNF: chain16-source
I1209 21:19:20.692616 636804 daisy.py:311] successfully created chain: 16
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
chain-server30', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'off-cloud2', u'gsw', 2], [u'gsw', u'chain-server9', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain15-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain15-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain15-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain15-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain15-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain15-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain15-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain15-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain15-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain15-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain15-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain15-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain15-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain15-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain15-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain15-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain15-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain15-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain15-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain15-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain15-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain15-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain15-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain15-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain15-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain15-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.02292000000000005, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server30'], [u'ids', u'chain-server30'], [u'nat', u'chain-server30'], [u'vpn', u'chain-server30'], [u'sink', u'off-cloud2'], [u'source', u'off-cloud7']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 0.999031, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud7', 2], [u'chain-server30', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'off-cloud2', u'gsw', 2], [u'gsw', u'chain-server30', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain16-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain16-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain16-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain16-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain16-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain16-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain16-nat ./Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:19:23.611459 636804 daisy.py:401] source, nat, and fw start done
I1209 21:19:23.611705 636804 daisy.py:402] My commands
I1209 21:19:23.729526 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:19:25.731956 636804 daisy.py:419] < 2s wait complete
I1209 21:19:25.732251 636804 daisy.py:420] start VNF chaining
D1209 21:19:25.732407 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain16-source', vnf_src_interface='intf1', vnf_dst_name=u'chain16-nat', vnf_dst_interface='input'
I1209 21:19:25.732758 636804 net.py:665] Path between chain16-source and chain16-nat: ['dc17.s1', u'gsw0', 'dc43.s1']
I1209 21:19:25.732958 636804 net.py:889] add-flow
I1209 21:19:25.733074 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:193,output=1
I1209 21:19:25.737123 636804 net.py:893] add-flow in switch: dc17.s1 in_port: 4 out_port: 1
I1209 21:19:25.737303 636804 net.py:889] add-flow
I1209 21:19:25.737437 636804 net.py:890] in_port=48,dl_vlan=193,action=31
I1209 21:19:25.750415 636804 net.py:893] add-flow in switch: gsw0 in_port: 48 out_port: 31
I1209 21:19:25.750718 636804 net.py:694] end node reached: chain16-nat
I1209 21:19:25.750840 636804 net.py:889] add-flow
I1209 21:19:25.750924 636804 net.py:890] in_port=1,dl_vlan=193,action=strip_vlan,output=12
I1209 21:19:25.765083 636804 net.py:893] add-flow in switch: dc43.s1 in_port: 1 out_port: 12
D1209 21:19:25.765465 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain16-nat', vnf_src_interface='input', vnf_dst_name=u'chain16-source', vnf_dst_interface='intf1'
I1209 21:19:25.765664 636804 net.py:665] Path between chain16-nat and chain16-source: ['dc43.s1', u'gsw0', 'dc17.s1']
I1209 21:19:25.765786 636804 net.py:889] add-flow
I1209 21:19:25.765871 636804 net.py:890] -O OpenFlow13 in_port=12,action=mod_vlan_vid:194,output=1
I1209 21:19:25.779395 636804 net.py:893] add-flow in switch: dc43.s1 in_port: 12 out_port: 1
I1209 21:19:25.779540 636804 net.py:889] add-flow
I1209 21:19:25.779627 636804 net.py:890] in_port=31,dl_vlan=194,action=48
I1209 21:19:25.793553 636804 net.py:893] add-flow in switch: gsw0 in_port: 31 out_port: 48
I1209 21:19:25.793673 636804 net.py:694] end node reached: chain16-source
I1209 21:19:25.793787 636804 net.py:889] add-flow
I1209 21:19:25.793879 636804 net.py:890] in_port=1,dl_vlan=194,action=strip_vlan,output=4
I1209 21:19:25.808393 636804 net.py:893] add-flow in switch: dc17.s1 in_port: 1 out_port: 4
I1209 21:19:25.808634 636804 daisy.py:322] chain(chain16-source, chain16-nat) output: success: add-flow between chain16-source and chain16-nat with options: {
 "priority": 1000, 
 "path": [
  "dc17.s1", 
  "gsw0", 
  "dc43.s1"
 ], 
 "vlan": 193, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain16-nat and chain16-source with options: {
 "priority": 1000, 
 "path": [
  "dc43.s1", 
  "gsw0", 
  "dc17.s1"
 ], 
 "vlan": 194, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:19:25.808800 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain16-nat', vnf_src_interface='output', vnf_dst_name=u'chain16-fw', vnf_dst_interface='input'
I1209 21:19:25.808908 636804 net.py:665] Path between chain16-nat and chain16-fw: ['dc43.s1']
I1209 21:19:25.808988 636804 net.py:694] end node reached: chain16-fw
I1209 21:19:25.809067 636804 net.py:889] add-flow
I1209 21:19:25.809127 636804 net.py:890] -O OpenFlow13 in_port=13,action=mod_vlan_vid:195,output=7
I1209 21:19:25.822237 636804 net.py:893] add-flow in switch: dc43.s1 in_port: 13 out_port: 7
I1209 21:19:25.822468 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc43.s1 in_port: 13 out_port: 7
I1209 21:19:25.822638 636804 net.py:931] add-flow
I1209 21:19:25.822731 636804 net.py:932] in_port=13,action=strip_vlan,output=7
I1209 21:19:25.839662 636804 net.py:935] add-flow in switch: dc43.s1 in_port: 13 out_port: 7
D1209 21:19:25.839900 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain16-fw', vnf_src_interface='input', vnf_dst_name=u'chain16-nat', vnf_dst_interface='output'
I1209 21:19:25.840029 636804 net.py:665] Path between chain16-fw and chain16-nat: ['dc43.s1']
I1209 21:19:25.840121 636804 net.py:694] end node reached: chain16-nat
I1209 21:19:25.840251 636804 net.py:889] add-flow
I1209 21:19:25.840361 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:196,output=13
I1209 21:19:25.864608 636804 net.py:893] add-flow in switch: dc43.s1 in_port: 7 out_port: 13
I1209 21:19:25.864741 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc43.s1 in_port: 7 out_port: 13
I1209 21:19:25.864888 636804 net.py:931] add-flow
I1209 21:19:25.864984 636804 net.py:932] in_port=7,action=strip_vlan,output=13
I1209 21:19:25.879903 636804 net.py:935] add-flow in switch: dc43.s1 in_port: 7 out_port: 13
I1209 21:19:25.880143 636804 daisy.py:329] chain(chain16-nat, chain16-fw) output: success: add-flow between chain16-nat and chain16-fw with options: {
 "priority": 1000, 
 "path": [
  "dc43.s1"
 ], 
 "vlan": 195, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain16-fw and chain16-nat with options: {
 "priority": 1000, 
 "path": [
  "dc43.s1"
 ], 
 "vlan": 196, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:19:25.880366 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain16-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain16-ids', vnf_dst_interface='input'
I1209 21:19:25.880512 636804 net.py:665] Path between chain16-fw and chain16-ids: ['dc43.s1']
I1209 21:19:25.880620 636804 net.py:694] end node reached: chain16-ids
I1209 21:19:25.880707 636804 net.py:889] add-flow
I1209 21:19:25.880789 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:197,output=10
I1209 21:19:25.909214 636804 net.py:893] add-flow in switch: dc43.s1 in_port: 8 out_port: 10
D1209 21:19:25.909449 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain16-ids', vnf_src_interface='input', vnf_dst_name=u'chain16-fw', vnf_dst_interface='output-ids'
I1209 21:19:25.909579 636804 net.py:665] Path between chain16-ids and chain16-fw: ['dc43.s1']
I1209 21:19:25.909691 636804 net.py:694] end node reached: chain16-fw
I1209 21:19:25.909782 636804 net.py:889] add-flow
I1209 21:19:25.909879 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:198,output=8
I1209 21:19:25.926884 636804 net.py:893] add-flow in switch: dc43.s1 in_port: 10 out_port: 8
I1209 21:19:25.927017 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc43.s1 in_port: 10 out_port: 8
I1209 21:19:25.927129 636804 net.py:931] add-flow
I1209 21:19:25.927220 636804 net.py:932] in_port=10,action=strip_vlan,output=8
I1209 21:19:25.941436 636804 net.py:935] add-flow in switch: dc43.s1 in_port: 10 out_port: 8
I1209 21:19:25.941638 636804 daisy.py:336] chain(chain16-fw, chain16-ids) output: success: add-flow between chain16-fw and chain16-ids with options: {
 "priority": 1000, 
 "path": [
  "dc43.s1"
 ], 
 "vlan": 197, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain16-ids and chain16-fw with options: {
 "priority": 1000, 
 "path": [
  "dc43.s1"
 ], 
 "vlan": 198, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:19:25.941766 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain16-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain16-vpn', vnf_dst_interface='input-fw'
I1209 21:19:25.941893 636804 net.py:665] Path between chain16-fw and chain16-vpn: ['dc43.s1']
I1209 21:19:25.942008 636804 net.py:694] end node reached: chain16-vpn
I1209 21:19:25.942193 636804 net.py:889] add-flow
I1209 21:19:25.942296 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:199,output=15
I1209 21:19:25.970606 636804 net.py:893] add-flow in switch: dc43.s1 in_port: 9 out_port: 15
D1209 21:19:25.970788 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain16-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain16-fw', vnf_dst_interface='output-vpn'
I1209 21:19:25.970896 636804 net.py:665] Path between chain16-vpn and chain16-fw: ['dc43.s1']
I1209 21:19:25.970972 636804 net.py:694] end node reached: chain16-fw
I1209 21:19:25.971048 636804 net.py:889] add-flow
I1209 21:19:25.971106 636804 net.py:890] -O OpenFlow13 in_port=15,action=mod_vlan_vid:200,output=9
I1209 21:19:25.985388 636804 net.py:893] add-flow in switch: dc43.s1 in_port: 15 out_port: 9
I1209 21:19:25.985582 636804 daisy.py:343] chain(chain16-fw, chain16-vpn) output: success: add-flow between chain16-fw and chain16-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc43.s1"
 ], 
 "vlan": 199, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain16-vpn and chain16-fw with options: {
 "priority": 1000, 
 "path": [
  "dc43.s1"
 ], 
 "vlan": 200, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:19:25.985698 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain16-ids', vnf_src_interface='output', vnf_dst_name=u'chain16-vpn', vnf_dst_interface='input-ids'
I1209 21:19:25.985795 636804 net.py:665] Path between chain16-ids and chain16-vpn: ['dc43.s1']
I1209 21:19:25.985868 636804 net.py:694] end node reached: chain16-vpn
I1209 21:19:25.985928 636804 net.py:889] add-flow
I1209 21:19:25.985996 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:201,output=14
I1209 21:19:26.002154 636804 net.py:893] add-flow in switch: dc43.s1 in_port: 11 out_port: 14
I1209 21:19:26.002310 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc43.s1 in_port: 11 out_port: 14
I1209 21:19:26.002381 636804 net.py:931] add-flow
I1209 21:19:26.002439 636804 net.py:932] in_port=11,action=strip_vlan,output=14
I1209 21:19:26.016848 636804 net.py:935] add-flow in switch: dc43.s1 in_port: 11 out_port: 14
D1209 21:19:26.017010 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain16-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain16-ids', vnf_dst_interface='output'
I1209 21:19:26.017119 636804 net.py:665] Path between chain16-vpn and chain16-ids: ['dc43.s1']
I1209 21:19:26.017189 636804 net.py:694] end node reached: chain16-ids
I1209 21:19:26.017292 636804 net.py:889] add-flow
I1209 21:19:26.017357 636804 net.py:890] -O OpenFlow13 in_port=14,action=mod_vlan_vid:202,output=11
I1209 21:19:26.048413 636804 net.py:893] add-flow in switch: dc43.s1 in_port: 14 out_port: 11
I1209 21:19:26.048578 636804 daisy.py:350] chain(chain16-ids, chain16-vpn) output: success: add-flow between chain16-ids and chain16-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc43.s1"
 ], 
 "vlan": 201, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain16-vpn and chain16-ids with options: {
 "priority": 1000, 
 "path": [
  "dc43.s1"
 ], 
 "vlan": 202, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:19:26.048691 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain16-vpn', vnf_src_interface='output', vnf_dst_name=u'chain16-sink', vnf_dst_interface='intf2'
I1209 21:19:26.048867 636804 net.py:665] Path between chain16-vpn and chain16-sink: ['dc43.s1', u'gsw0', 'dc14.s1']
I1209 21:19:26.048978 636804 net.py:889] add-flow
I1209 21:19:26.049041 636804 net.py:890] -O OpenFlow13 in_port=16,action=mod_vlan_vid:203,output=1
I1209 21:19:26.063915 636804 net.py:893] add-flow in switch: dc43.s1 in_port: 16 out_port: 1
I1209 21:19:26.064157 636804 net.py:889] add-flow
I1209 21:19:26.064294 636804 net.py:890] in_port=31,dl_vlan=203,action=43
I1209 21:19:26.079336 636804 net.py:893] add-flow in switch: gsw0 in_port: 31 out_port: 43
I1209 21:19:26.079432 636804 net.py:694] end node reached: chain16-sink
I1209 21:19:26.079505 636804 net.py:889] add-flow
I1209 21:19:26.079560 636804 net.py:890] in_port=1,dl_vlan=203,action=strip_vlan,output=5
I1209 21:19:26.094907 636804 net.py:893] add-flow in switch: dc14.s1 in_port: 1 out_port: 5
D1209 21:19:26.095072 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain16-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain16-vpn', vnf_dst_interface='output'
I1209 21:19:26.095345 636804 net.py:665] Path between chain16-sink and chain16-vpn: ['dc14.s1', u'gsw0', 'dc43.s1']
I1209 21:19:26.095438 636804 net.py:889] add-flow
I1209 21:19:26.095524 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:204,output=1
I1209 21:19:26.110027 636804 net.py:893] add-flow in switch: dc14.s1 in_port: 5 out_port: 1
I1209 21:19:26.110234 636804 net.py:889] add-flow
I1209 21:19:26.110305 636804 net.py:890] in_port=43,dl_vlan=204,action=31
I1209 21:19:26.125793 636804 net.py:893] add-flow in switch: gsw0 in_port: 43 out_port: 31
I1209 21:19:26.125899 636804 net.py:694] end node reached: chain16-vpn
I1209 21:19:26.125992 636804 net.py:889] add-flow
I1209 21:19:26.126049 636804 net.py:890] in_port=1,dl_vlan=204,action=strip_vlan,output=16
I1209 21:19:26.141469 636804 net.py:893] add-flow in switch: dc43.s1 in_port: 1 out_port: 16
I1209 21:19:26.141633 636804 daisy.py:357] chain(chain16-vpn, chain16-sink) output: success: add-flow between chain16-vpn and chain16-sink with options: {
 "priority": 1000, 
 "path": [
  "dc43.s1", 
  "gsw0", 
  "dc14.s1"
 ], 
 "vlan": 203, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain16-sink and chain16-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc14.s1", 
  "gsw0", 
  "dc43.s1"
 ], 
 "vlan": 204, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:19:27 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:19:27 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:19:27 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:19:27 2017 UDPv4 link local: [undef]
Sat Dec  9 21:19:27 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:19:27 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=daa3bd41 d048e0ff
VPN client VNF ready.
SIOCDELRT: No such process
Sat Dec  9 21:19:27 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:19:27 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:19:27 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:19:27 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:19:27 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:19:27 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:19:27 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:19:27 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:19:27 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:19:27 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:19:27 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:19:29 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:19:29 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:19:29 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:19:29 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:19:29 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:19:29 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:19:29 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:65
Sat Dec  9 21:19:29 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:19:29 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:19:29 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:19:29 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:19:29 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:19:29 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:19:29 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:19:29 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:19:29 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:19:29 2017 GID set to nogroup
Sat Dec  9 21:19:29 2017 UID set to nobody
Sat Dec  9 21:19:29 2017 Initialization Sequence Completed
I1209 21:19:33.248594 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:19:38.250226 636804 daisy.py:443] < 5s wait complete
I1209 21:19:38.250468 636804 daisy.py:444] VPN client VNF started
chain16-source -> chain16-sink 
chain16-sink -> chain16-source 
*** Results: 0% dropped (2/2 received)
I1209 21:19:40.759725 636804 daisy.py:369] ping chain16-source -> chain16-sink. Packet drop 0.0%
I1209 21:19:40.808310 636804 bench.py:19] Copying traces into the containers...
I1209 21:19:41.974558 636804 bench.py:29] Running dstat...
I1209 21:19:44.189847 636804 iter-e2-allocation.py:17] started allocating chain: 17
I1209 21:19:44.190264 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server30']
I1209 21:19:44.190387 636804 daisy.py:240] creating chain17-fw on chain-server30
D1209 21:19:44.191143 636804 node.py:55] Starting compute instance u'chain17-fw' in data center 'chain-server30'
D1209 21:19:44.871890 636804 simple.py:169] Setting CPU limit for u'chain15-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:19:44.912003 636804 simple.py:215] Setting MEM limit for u'chain15-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:44.929861 636804 simple.py:169] Setting CPU limit for u'chain16-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:19:44.965308 636804 simple.py:215] Setting MEM limit for u'chain16-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:44.981547 636804 simple.py:215] Setting MEM limit for u'chain16-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:19:44.998852 636804 simple.py:169] Setting CPU limit for u'chain17-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:19:45.037278 636804 simple.py:215] Setting MEM limit for u'chain17-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:45.054043 636804 simple.py:215] Setting MEM limit for u'chain15-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:45.072654 636804 simple.py:215] Setting MEM limit for u'chain16-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:45.090850 636804 simple.py:215] Setting MEM limit for u'chain16-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:45.272623 636804 net.py:233] addLink: n1=chain17-fw intf1=input -- n2=dc43.s1 intf2=dc43.s1-eth17
D1209 21:19:45.489339 636804 net.py:233] addLink: n1=chain17-fw intf1=output-ids -- n2=dc43.s1 intf2=dc43.s1-eth18
D1209 21:19:45.645472 636804 net.py:233] addLink: n1=chain17-fw intf1=output-vpn -- n2=dc43.s1 intf2=dc43.s1-eth19
I1209 21:19:45.645704 636804 daisy.py:310] successfully created VNF: chain17-fw
I1209 21:19:45.645804 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server30']
I1209 21:19:45.645904 636804 daisy.py:240] creating chain17-nat on chain-server30
D1209 21:19:45.646505 636804 node.py:55] Starting compute instance u'chain17-nat' in data center 'chain-server30'
D1209 21:19:46.449047 636804 simple.py:169] Setting CPU limit for u'chain15-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:19:46.487673 636804 simple.py:215] Setting MEM limit for u'chain15-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:46.505454 636804 simple.py:169] Setting CPU limit for u'chain17-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:19:46.541158 636804 simple.py:215] Setting MEM limit for u'chain17-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:46.563424 636804 simple.py:169] Setting CPU limit for u'chain16-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:19:46.599447 636804 simple.py:215] Setting MEM limit for u'chain16-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:46.619096 636804 simple.py:215] Setting MEM limit for u'chain16-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:19:46.639370 636804 simple.py:169] Setting CPU limit for u'chain17-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:19:46.675453 636804 simple.py:215] Setting MEM limit for u'chain17-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:46.693995 636804 simple.py:215] Setting MEM limit for u'chain15-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:46.713861 636804 simple.py:215] Setting MEM limit for u'chain16-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:46.732537 636804 simple.py:215] Setting MEM limit for u'chain16-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:46.898509 636804 net.py:233] addLink: n1=chain17-nat intf1=input -- n2=dc43.s1 intf2=dc43.s1-eth20
D1209 21:19:47.062551 636804 net.py:233] addLink: n1=chain17-nat intf1=output -- n2=dc43.s1 intf2=dc43.s1-eth21
I1209 21:19:47.062782 636804 daisy.py:310] successfully created VNF: chain17-nat
I1209 21:19:47.062968 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server30']
I1209 21:19:47.063118 636804 daisy.py:240] creating chain17-vpn on chain-server30
D1209 21:19:47.064444 636804 node.py:55] Starting compute instance u'chain17-vpn' in data center 'chain-server30'
D1209 21:19:47.701575 636804 simple.py:169] Setting CPU limit for u'chain17-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:19:47.742022 636804 simple.py:215] Setting MEM limit for u'chain17-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:47.761008 636804 simple.py:169] Setting CPU limit for u'chain15-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:19:47.795897 636804 simple.py:215] Setting MEM limit for u'chain15-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:47.815521 636804 simple.py:215] Setting MEM limit for u'chain17-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:47.834068 636804 simple.py:169] Setting CPU limit for u'chain16-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:19:47.870414 636804 simple.py:215] Setting MEM limit for u'chain16-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:47.888212 636804 simple.py:215] Setting MEM limit for u'chain16-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:19:47.906739 636804 simple.py:169] Setting CPU limit for u'chain17-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:19:47.944174 636804 simple.py:215] Setting MEM limit for u'chain17-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:47.963206 636804 simple.py:215] Setting MEM limit for u'chain15-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:47.981671 636804 simple.py:215] Setting MEM limit for u'chain16-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:48.000756 636804 simple.py:215] Setting MEM limit for u'chain16-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:48.166310 636804 net.py:233] addLink: n1=chain17-vpn intf1=input-ids -- n2=dc43.s1 intf2=dc43.s1-eth22
D1209 21:19:48.322732 636804 net.py:233] addLink: n1=chain17-vpn intf1=input-fw -- n2=dc43.s1 intf2=dc43.s1-eth23
D1209 21:19:48.490308 636804 net.py:233] addLink: n1=chain17-vpn intf1=output -- n2=dc43.s1 intf2=dc43.s1-eth24
I1209 21:19:48.490492 636804 daisy.py:310] successfully created VNF: chain17-vpn
I1209 21:19:48.490597 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server9']
I1209 21:19:48.490675 636804 daisy.py:240] creating chain17-ids on chain-server9
D1209 21:19:48.491369 636804 node.py:55] Starting compute instance u'chain17-ids' in data center 'chain-server9'
D1209 21:19:49.152276 636804 simple.py:215] Setting MEM limit for u'chain15-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:19:49.172158 636804 simple.py:215] Setting MEM limit for u'chain15-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:49.194430 636804 simple.py:169] Setting CPU limit for u'chain17-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:19:49.231062 636804 simple.py:215] Setting MEM limit for u'chain17-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:19:49.391392 636804 net.py:233] addLink: n1=chain17-ids intf1=input -- n2=dc32.s1 intf2=dc32.s1-eth7
D1209 21:19:49.561925 636804 net.py:233] addLink: n1=chain17-ids intf1=output -- n2=dc32.s1 intf2=dc32.s1-eth8
I1209 21:19:49.562246 636804 daisy.py:310] successfully created VNF: chain17-ids
I1209 21:19:49.562418 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud2']
I1209 21:19:49.562537 636804 daisy.py:240] creating chain17-sink on off-cloud2
D1209 21:19:49.563389 636804 node.py:55] Starting compute instance u'chain17-sink' in data center 'off-cloud2'
D1209 21:19:50.197660 636804 simple.py:215] Setting MEM limit for u'chain15-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:50.220807 636804 simple.py:215] Setting MEM limit for u'chain1-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:50.240441 636804 simple.py:215] Setting MEM limit for u'chain16-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:50.260092 636804 simple.py:215] Setting MEM limit for u'chain1-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:50.278464 636804 simple.py:169] Setting CPU limit for u'chain17-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:19:50.316451 636804 simple.py:215] Setting MEM limit for u'chain17-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:50.480175 636804 net.py:233] addLink: n1=chain17-sink intf1=intf2 -- n2=dc14.s1 intf2=dc14.s1-eth6
I1209 21:19:50.480413 636804 daisy.py:310] successfully created VNF: chain17-sink
I1209 21:19:50.480519 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud6']
I1209 21:19:50.480603 636804 daisy.py:240] creating chain17-source on off-cloud6
D1209 21:19:50.481157 636804 node.py:55] Starting compute instance u'chain17-source' in data center 'off-cloud6'
D1209 21:19:51.145798 636804 simple.py:215] Setting MEM limit for u'chain8-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:51.169011 636804 simple.py:169] Setting CPU limit for u'chain17-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:19:51.207441 636804 simple.py:215] Setting MEM limit for u'chain17-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:51.225050 636804 simple.py:215] Setting MEM limit for u'chain9-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:51.242285 636804 simple.py:215] Setting MEM limit for u'chain11-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:19:51.425110 636804 net.py:233] addLink: n1=chain17-source intf1=intf1 -- n2=dc18.s1 intf2=dc18.s1-eth5
I1209 21:19:51.425455 636804 daisy.py:310] successfully created VNF: chain17-source
I1209 21:19:51.425614 636804 daisy.py:311] successfully created chain: 17
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
start.sh (0 is success)
returned 0 from sudo docker exec mn.chain16-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain16-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain16-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain16-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain16-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain16-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain16-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain16-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain16-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain16-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain16-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain16-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain16-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain16-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain16-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain16-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain16-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain16-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain16-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.0212190000000001, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server30'], [u'nat', u'chain-server30'], [u'vpn', u'chain-server30'], [u'ids', u'chain-server9'], [u'sink', u'off-cloud2'], [u'source', u'off-cloud6']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 1.0338580000000002, u'bandwidth': [[u'fw', u'ids', 1, [[u'gsw', u'chain-server9', 1], [u'chain-server30', u'gsw', 1]]], [u'nat', u'source', 2, [[u'gsw', u'off-cloud6', 2], [u'chain-server30', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'off-cloud2', u'gsw', 2], [u'gsw', u'chain-server30', 2]]], [u'vpn', u'ids', 1, [[u'gsw', u'chain-server9', 1], [u'chain-server30', u'gsw', 1]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain17-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain17-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain17-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain17-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain17-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain17-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain17-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain17-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain17-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain17-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain17-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain17-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain17-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain17-fw route add -net 10.0.I1209 21:19:53.877815 636804 daisy.py:401] source, nat, and fw start done
I1209 21:19:53.878015 636804 daisy.py:402] My commands
I1209 21:19:53.984636 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:19:55.986233 636804 daisy.py:419] < 2s wait complete
I1209 21:19:55.986413 636804 daisy.py:420] start VNF chaining
D1209 21:19:55.986586 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain17-source', vnf_src_interface='intf1', vnf_dst_name=u'chain17-nat', vnf_dst_interface='input'
I1209 21:19:55.986825 636804 net.py:665] Path between chain17-source and chain17-nat: ['dc18.s1', u'gsw0', 'dc43.s1']
I1209 21:19:55.987015 636804 net.py:889] add-flow
I1209 21:19:55.987113 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:205,output=1
I1209 21:19:55.990849 636804 net.py:893] add-flow in switch: dc18.s1 in_port: 5 out_port: 1
I1209 21:19:55.991014 636804 net.py:889] add-flow
I1209 21:19:55.991106 636804 net.py:890] in_port=47,dl_vlan=205,action=31
I1209 21:19:56.005289 636804 net.py:893] add-flow in switch: gsw0 in_port: 47 out_port: 31
I1209 21:19:56.005412 636804 net.py:694] end node reached: chain17-nat
I1209 21:19:56.005533 636804 net.py:889] add-flow
I1209 21:19:56.005640 636804 net.py:890] in_port=1,dl_vlan=205,action=strip_vlan,output=20
I1209 21:19:56.021080 636804 net.py:893] add-flow in switch: dc43.s1 in_port: 1 out_port: 20
D1209 21:19:56.021373 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain17-nat', vnf_src_interface='input', vnf_dst_name=u'chain17-source', vnf_dst_interface='intf1'
I1209 21:19:56.021543 636804 net.py:665] Path between chain17-nat and chain17-source: ['dc43.s1', u'gsw0', 'dc18.s1']
I1209 21:19:56.021656 636804 net.py:889] add-flow
I1209 21:19:56.021732 636804 net.py:890] -O OpenFlow13 in_port=20,action=mod_vlan_vid:206,output=1
I1209 21:19:56.035432 636804 net.py:893] add-flow in switch: dc43.s1 in_port: 20 out_port: 1
I1209 21:19:56.035579 636804 net.py:889] add-flow
I1209 21:19:56.035666 636804 net.py:890] in_port=31,dl_vlan=206,action=47
I1209 21:19:56.050318 636804 net.py:893] add-flow in switch: gsw0 in_port: 31 out_port: 47
I1209 21:19:56.050441 636804 net.py:694] end node reached: chain17-source
I1209 21:19:56.050563 636804 net.py:889] add-flow
I1209 21:19:56.050658 636804 net.py:890] in_port=1,dl_vlan=206,action=strip_vlan,output=5
I1209 21:19:56.064738 636804 net.py:893] add-flow in switch: dc18.s1 in_port: 1 out_port: 5
I1209 21:19:56.064977 636804 daisy.py:322] chain(chain17-source, chain17-nat) output: success: add-flow between chain17-source and chain17-nat with options: {
 "priority": 1000, 
 "path": [
  "dc18.s1", 
  "gsw0", 
  "dc43.s1"
 ], 
 "vlan": 205, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain17-nat and chain17-source with options: {
 "priority": 1000, 
 "path": [
  "dc43.s1", 
  "gsw0", 
  "dc18.s1"
 ], 
 "vlan": 206, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:19:56.065124 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain17-nat', vnf_src_interface='output', vnf_dst_name=u'chain17-fw', vnf_dst_interface='input'
I1209 21:19:56.065321 636804 net.py:665] Path between chain17-nat and chain17-fw: ['dc43.s1']
I1209 21:19:56.065423 636804 net.py:694] end node reached: chain17-fw
I1209 21:19:56.065519 636804 net.py:889] add-flow
I1209 21:19:56.065593 636804 net.py:890] -O OpenFlow13 in_port=21,action=mod_vlan_vid:207,output=17
I1209 21:19:56.079802 636804 net.py:893] add-flow in switch: dc43.s1 in_port: 21 out_port: 17
I1209 21:19:56.079955 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc43.s1 in_port: 21 out_port: 17
I1209 21:19:56.080064 636804 net.py:931] add-flow
I1209 21:19:56.080147 636804 net.py:932] in_port=21,action=strip_vlan,output=17
I1209 21:19:56.094604 636804 net.py:935] add-flow in switch: dc43.s1 in_port: 21 out_port: 17
D1209 21:19:56.095624 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain17-fw', vnf_src_interface='input', vnf_dst_name=u'chain17-nat', vnf_dst_interface='output'
I1209 21:19:56.095803 636804 net.py:665] Path between chain17-fw and chain17-nat: ['dc43.s1']
I1209 21:19:56.095993 636804 net.py:694] end node reached: chain17-nat
I1209 21:19:56.096184 636804 net.py:889] add-flow
I1209 21:19:56.096293 636804 net.py:890] -O OpenFlow13 in_port=17,action=mod_vlan_vid:208,output=21
I1209 21:19:56.125346 636804 net.py:893] add-flow in switch: dc43.s1 in_port: 17 out_port: 21
I1209 21:19:56.125489 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc43.s1 in_port: 17 out_port: 21
I1209 21:19:56.125585 636804 net.py:931] add-flow
I1209 21:19:56.125674 636804 net.py:932] in_port=17,action=strip_vlan,output=21
I1209 21:19:56.140420 636804 net.py:935] add-flow in switch: dc43.s1 in_port: 17 out_port: 21
I1209 21:19:56.140599 636804 daisy.py:329] chain(chain17-nat, chain17-fw) output: success: add-flow between chain17-nat and chain17-fw with options: {
 "priority": 1000, 
 "path": [
  "dc43.s1"
 ], 
 "vlan": 207, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain17-fw and chain17-nat with options: {
 "priority": 1000, 
 "path": [
  "dc43.s1"
 ], 
 "vlan": 208, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:19:56.140712 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain17-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain17-ids', vnf_dst_interface='input'
I1209 21:19:56.140830 636804 net.py:665] Path between chain17-fw and chain17-ids: ['dc43.s1', u'gsw0', 'dc32.s1']
I1209 21:19:56.140908 636804 net.py:889] add-flow
I1209 21:19:56.140966 636804 net.py:890] -O OpenFlow13 in_port=18,action=mod_vlan_vid:209,output=1
I1209 21:19:56.170419 636804 net.py:893] add-flow in switch: dc43.s1 in_port: 18 out_port: 1
I1209 21:19:56.170547 636804 net.py:889] add-flow
I1209 21:19:56.170615 636804 net.py:890] in_port=31,dl_vlan=209,action=10
I1209 21:19:56.186150 636804 net.py:893] add-flow in switch: gsw0 in_port: 31 out_port: 10
I1209 21:19:56.186285 636804 net.py:694] end node reached: chain17-ids
I1209 21:19:56.186378 636804 net.py:889] add-flow
I1209 21:19:56.186439 636804 net.py:890] in_port=1,dl_vlan=209,action=strip_vlan,output=7
I1209 21:19:56.200685 636804 net.py:893] add-flow in switch: dc32.s1 in_port: 1 out_port: 7
D1209 21:19:56.200845 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain17-ids', vnf_src_interface='input', vnf_dst_name=u'chain17-fw', vnf_dst_interface='output-ids'
I1209 21:19:56.200988 636804 net.py:665] Path between chain17-ids and chain17-fw: ['dc32.s1', u'gsw0', 'dc43.s1']
I1209 21:19:56.201082 636804 net.py:889] add-flow
I1209 21:19:56.201143 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:210,output=1
I1209 21:19:56.221512 636804 net.py:893] add-flow in switch: dc32.s1 in_port: 7 out_port: 1
I1209 21:19:56.221671 636804 net.py:889] add-flow
I1209 21:19:56.221739 636804 net.py:890] in_port=10,dl_vlan=210,action=31
I1209 21:19:56.247467 636804 net.py:893] add-flow in switch: gsw0 in_port: 10 out_port: 31
I1209 21:19:56.247591 636804 net.py:920] Detected IDS->FW Path(2) in switch: gsw0 in_port: 10 out_port: 31
I1209 21:19:56.247673 636804 net.py:931] add-flow
I1209 21:19:56.247726 636804 net.py:932] in_port=10,action=strip_vlan,output=31
I1209 21:19:56.261830 636804 net.py:935] add-flow in switch: gsw0 in_port: 10 out_port: 31
I1209 21:19:56.261967 636804 net.py:694] end node reached: chain17-fw
I1209 21:19:56.262206 636804 net.py:889] add-flow
I1209 21:19:56.262294 636804 net.py:890] in_port=1,dl_vlan=210,action=strip_vlan,output=18
I1209 21:19:56.291547 636804 net.py:893] add-flow in switch: dc43.s1 in_port: 1 out_port: 18
I1209 21:19:56.291731 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc43.s1 in_port: 1 out_port: 18
I1209 21:19:56.291882 636804 net.py:931] add-flow
I1209 21:19:56.292013 636804 net.py:932] in_port=1,action=strip_vlan,output=18
I1209 21:19:56.307291 636804 net.py:935] add-flow in switch: dc43.s1 in_port: 1 out_port: 18
I1209 21:19:56.307491 636804 daisy.py:336] chain(chain17-fw, chain17-ids) output: success: add-flow between chain17-fw and chain17-ids with options: {
 "priority": 1000, 
 "path": [
  "dc43.s1", 
  "gsw0", 
  "dc32.s1"
 ], 
 "vlan": 209, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain17-ids and chain17-fw with options: {
 "priority": 1000, 
 "path": [
  "dc32.s1", 
  "gsw0", 
  "dc43.s1"
 ], 
 "vlan": 210, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:19:56.307620 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain17-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain17-vpn', vnf_dst_interface='input-fw'
I1209 21:19:56.307766 636804 net.py:665] Path between chain17-fw and chain17-vpn: ['dc43.s1']
I1209 21:19:56.307863 636804 net.py:694] end node reached: chain17-vpn
I1209 21:19:56.307971 636804 net.py:889] add-flow
I1209 21:19:56.308059 636804 net.py:890] -O OpenFlow13 in_port=19,action=mod_vlan_vid:211,output=23
I1209 21:19:56.336324 636804 net.py:893] add-flow in switch: dc43.s1 in_port: 19 out_port: 23
D1209 21:19:56.336550 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain17-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain17-fw', vnf_dst_interface='output-vpn'
I1209 21:19:56.336708 636804 net.py:665] Path between chain17-vpn and chain17-fw: ['dc43.s1']
I1209 21:19:56.336807 636804 net.py:694] end node reached: chain17-fw
I1209 21:19:56.336920 636804 net.py:889] add-flow
I1209 21:19:56.337038 636804 net.py:890] -O OpenFlow13 in_port=23,action=mod_vlan_vid:212,output=19
I1209 21:19:56.352993 636804 net.py:893] add-flow in switch: dc43.s1 in_port: 23 out_port: 19
I1209 21:19:56.353238 636804 daisy.py:343] chain(chain17-fw, chain17-vpn) output: success: add-flow between chain17-fw and chain17-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc43.s1"
 ], 
 "vlan": 211, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain17-vpn and chain17-fw with options: {
 "priority": 1000, 
 "path": [
  "dc43.s1"
 ], 
 "vlan": 212, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:19:56.353372 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain17-ids', vnf_src_interface='output', vnf_dst_name=u'chain17-vpn', vnf_dst_interface='input-ids'
I1209 21:19:56.353534 636804 net.py:665] Path between chain17-ids and chain17-vpn: ['dc32.s1', u'gsw0', 'dc43.s1']
I1209 21:19:56.353677 636804 net.py:889] add-flow
I1209 21:19:56.353761 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:213,output=1
I1209 21:19:56.368196 636804 net.py:893] add-flow in switch: dc32.s1 in_port: 8 out_port: 1
I1209 21:19:56.368347 636804 net.py:889] add-flow
I1209 21:19:56.368444 636804 net.py:890] in_port=10,dl_vlan=213,action=31
I1209 21:19:56.382803 636804 net.py:893] add-flow in switch: gsw0 in_port: 10 out_port: 31
I1209 21:19:56.382925 636804 net.py:925] Detected IDS->VPN Path(3) in switch: gsw0 in_port: 10 out_port: 31
I1209 21:19:56.383022 636804 net.py:931] add-flow
I1209 21:19:56.383111 636804 net.py:932] in_port=10,action=strip_vlan,output=31
I1209 21:19:56.397396 636804 net.py:935] add-flow in switch: gsw0 in_port: 10 out_port: 31
I1209 21:19:56.397516 636804 net.py:694] end node reached: chain17-vpn
I1209 21:19:56.397628 636804 net.py:889] add-flow
I1209 21:19:56.397722 636804 net.py:890] in_port=1,dl_vlan=213,action=strip_vlan,output=22
I1209 21:19:56.428225 636804 net.py:893] add-flow in switch: dc43.s1 in_port: 1 out_port: 22
I1209 21:19:56.428345 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc43.s1 in_port: 1 out_port: 22
I1209 21:19:56.428442 636804 net.py:931] add-flow
I1209 21:19:56.428539 636804 net.py:932] in_port=1,action=strip_vlan,output=22
I1209 21:19:56.442997 636804 net.py:935] add-flow in switch: dc43.s1 in_port: 1 out_port: 22
D1209 21:19:56.443248 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain17-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain17-ids', vnf_dst_interface='output'
I1209 21:19:56.443412 636804 net.py:665] Path between chain17-vpn and chain17-ids: ['dc43.s1', u'gsw0', 'dc32.s1']
I1209 21:19:56.443535 636804 net.py:889] add-flow
I1209 21:19:56.443644 636804 net.py:890] -O OpenFlow13 in_port=22,action=mod_vlan_vid:214,output=1
I1209 21:19:56.472948 636804 net.py:893] add-flow in switch: dc43.s1 in_port: 22 out_port: 1
I1209 21:19:56.473131 636804 net.py:889] add-flow
I1209 21:19:56.473298 636804 net.py:890] in_port=31,dl_vlan=214,action=10
I1209 21:19:56.488939 636804 net.py:893] add-flow in switch: gsw0 in_port: 31 out_port: 10
I1209 21:19:56.489074 636804 net.py:694] end node reached: chain17-ids
I1209 21:19:56.489207 636804 net.py:889] add-flow
I1209 21:19:56.489284 636804 net.py:890] in_port=1,dl_vlan=214,action=strip_vlan,output=8
I1209 21:19:56.503957 636804 net.py:893] add-flow in switch: dc32.s1 in_port: 1 out_port: 8
I1209 21:19:56.504153 636804 daisy.py:350] chain(chain17-ids, chain17-vpn) output: success: add-flow between chain17-ids and chain17-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc32.s1", 
  "gsw0", 
  "dc43.s1"
 ], 
 "vlan": 213, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain17-vpn and chain17-ids with options: {
 "priority": 1000, 
 "path": [
  "dc43.s1", 
  "gsw0", 
  "dc32.s1"
 ], 
 "vlan": 214, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:19:56.504334 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain17-vpn', vnf_src_interface='output', vnf_dst_name=u'chain17-sink', vnf_dst_interface='intf2'
I1209 21:19:56.504507 636804 net.py:665] Path between chain17-vpn and chain17-sink: ['dc43.s1', u'gsw0', 'dc14.s1']
I1209 21:19:56.504616 636804 net.py:889] add-flow
I1209 21:19:56.504690 636804 net.py:890] -O OpenFlow13 in_port=24,action=mod_vlan_vid:215,output=1
I1209 21:19:56.519206 636804 net.py:893] add-flow in switch: dc43.s1 in_port: 24 out_port: 1
I1209 21:19:56.519355 636804 net.py:889] add-flow
I1209 21:19:56.519438 636804 net.py:890] in_port=31,dl_vlan=215,action=43
I1209 21:19:56.534045 636804 net.py:893] add-flow in switch: gsw0 in_port: 31 out_port: 43
I1209 21:19:56.534252 636804 net.py:694] end node reached: chain17-sink
I1209 21:19:56.534365 636804 net.py:889] add-flow
I1209 21:19:56.534460 636804 net.py:890] in_port=1,dl_vlan=215,action=strip_vlan,output=6
I1209 21:19:56.549087 636804 net.py:893] add-flow in switch: dc14.s1 in_port: 1 out_port: 6
D1209 21:19:56.549299 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain17-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain17-vpn', vnf_dst_interface='output'
I1209 21:19:56.549463 636804 net.py:665] Path between chain17-sink and chain17-vpn: ['dc14.s1', u'gsw0', 'dc43.s1']
I1209 21:19:56.549588 636804 net.py:889] add-flow
I1209 21:19:56.549699 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:216,output=1
I1209 21:19:56.564237 636804 net.py:893] add-flow in switch: dc14.s1 in_port: 6 out_port: 1
I1209 21:19:56.564376 636804 net.py:889] add-flow
I1209 21:19:56.564476 636804 net.py:890] in_port=43,dl_vlan=216,action=31
I1209 21:19:56.579724 636804 net.py:893] add-flow in switch: gsw0 in_port: 43 out_port: 31
I1209 21:19:56.579844 636804 net.py:694] end node reached: chain17-vpn
I1209 21:19:56.579965 636804 net.py:889] add-flow
I1209 21:19:56.580101 636804 net.py:890] in_port=1,dl_vlan=216,action=strip_vlan,output=24
I1209 21:19:56.595302 636804 net.py:893] add-flow in switch: dc43.s1 in_port: 1 out_port: 24
I1209 21:19:56.595491 636804 daisy.py:357] chain(chain17-vpn, chain17-sink) output: success: add-flow between chain17-vpn and chain17-sink with options: {
 "priority": 1000, 
 "path": [
  "dc43.s1", 
  "gsw0", 
  "dc14.s1"
 ], 
 "vlan": 215, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain17-sink and chain17-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc14.s1", 
  "gsw0", 
  "dc43.s1"
 ], 
 "vlan": 216, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:19:58 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:19:58 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:19:58 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:19:58 2017 UDPv4 link local: [undef]
Sat Dec  9 21:19:58 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:19:58 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=2a6c1f3c 17d7d1f3
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:19:58 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:19:58 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:19:58 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:19:58 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:19:58 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:19:58 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:19:58 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:19:58 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:19:58 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:19:58 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:19:58 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:20:00 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:20:00 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:20:00 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:20:00 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:20:00 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:20:00 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:20:00 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:6a
Sat Dec  9 21:20:00 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:20:00 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:20:00 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:20:00 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:20:00 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:20:00 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:20:00 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:20:00 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:20:00 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:20:00 2017 GID set to nogroup
Sat Dec  9 21:20:00 2017 UID set to nobody
Sat Dec  9 21:20:00 2017 Initialization Sequence Completed
I1209 21:20:03.848485 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:20:08.850251 636804 daisy.py:443] < 5s wait complete
I1209 21:20:08.850456 636804 daisy.py:444] VPN client VNF started
chain17-source -> chain17-sink 
chain17-sink -> chain17-source 
*** Results: 0% dropped (2/2 received)
I1209 21:20:11.899698 636804 daisy.py:369] ping chain17-source -> chain17-sink. Packet drop 0.0%
I1209 21:20:11.961519 636804 bench.py:19] Copying traces into the containers...
I1209 21:20:13.164899 636804 bench.py:29] Running dstat...
I1209 21:20:15.403642 636804 iter-e2-allocation.py:17] started allocating chain: 18
I1209 21:20:15.404022 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server9']
I1209 21:20:15.404222 636804 daisy.py:240] creating chain18-fw on chain-server9
D1209 21:20:15.406014 636804 node.py:55] Starting compute instance u'chain18-fw' in data center 'chain-server9'
D1209 21:20:16.118755 636804 simple.py:215] Setting MEM limit for u'chain15-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:20:16.139589 636804 simple.py:215] Setting MEM limit for u'chain15-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:16.157052 636804 simple.py:169] Setting CPU limit for u'chain18-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:20:16.199769 636804 simple.py:215] Setting MEM limit for u'chain18-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:16.219209 636804 simple.py:215] Setting MEM limit for u'chain17-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:20:16.401791 636804 net.py:233] addLink: n1=chain18-fw intf1=input -- n2=dc32.s1 intf2=dc32.s1-eth9
D1209 21:20:16.573729 636804 net.py:233] addLink: n1=chain18-fw intf1=output-ids -- n2=dc32.s1 intf2=dc32.s1-eth10
D1209 21:20:16.771661 636804 net.py:233] addLink: n1=chain18-fw intf1=output-vpn -- n2=dc32.s1 intf2=dc32.s1-eth11
I1209 21:20:16.771909 636804 daisy.py:310] successfully created VNF: chain18-fw
I1209 21:20:16.772006 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server9']
I1209 21:20:16.772084 636804 daisy.py:240] creating chain18-ids on chain-server9
D1209 21:20:16.772829 636804 node.py:55] Starting compute instance u'chain18-ids' in data center 'chain-server9'
D1209 21:20:17.468084 636804 simple.py:169] Setting CPU limit for u'chain18-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:20:17.510463 636804 simple.py:215] Setting MEM limit for u'chain18-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:20:17.530905 636804 simple.py:215] Setting MEM limit for u'chain15-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:20:17.551565 636804 simple.py:215] Setting MEM limit for u'chain15-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:17.571835 636804 simple.py:169] Setting CPU limit for u'chain18-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:20:17.613972 636804 simple.py:215] Setting MEM limit for u'chain18-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:17.634255 636804 simple.py:215] Setting MEM limit for u'chain17-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:20:17.814450 636804 net.py:233] addLink: n1=chain18-ids intf1=input -- n2=dc32.s1 intf2=dc32.s1-eth12
D1209 21:20:17.989120 636804 net.py:233] addLink: n1=chain18-ids intf1=output -- n2=dc32.s1 intf2=dc32.s1-eth13
I1209 21:20:17.989350 636804 daisy.py:310] successfully created VNF: chain18-ids
I1209 21:20:17.989455 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server9']
I1209 21:20:17.989533 636804 daisy.py:240] creating chain18-nat on chain-server9
D1209 21:20:17.990264 636804 node.py:55] Starting compute instance u'chain18-nat' in data center 'chain-server9'
D1209 21:20:18.659781 636804 simple.py:169] Setting CPU limit for u'chain18-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:20:18.700853 636804 simple.py:215] Setting MEM limit for u'chain18-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:18.719142 636804 simple.py:215] Setting MEM limit for u'chain18-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:20:18.739078 636804 simple.py:215] Setting MEM limit for u'chain15-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:20:18.762567 636804 simple.py:215] Setting MEM limit for u'chain15-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:18.781501 636804 simple.py:169] Setting CPU limit for u'chain18-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:20:18.818985 636804 simple.py:215] Setting MEM limit for u'chain18-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:18.839160 636804 simple.py:215] Setting MEM limit for u'chain17-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:20:19.008162 636804 net.py:233] addLink: n1=chain18-nat intf1=input -- n2=dc32.s1 intf2=dc32.s1-eth14
D1209 21:20:19.184257 636804 net.py:233] addLink: n1=chain18-nat intf1=output -- n2=dc32.s1 intf2=dc32.s1-eth15
I1209 21:20:19.184478 636804 daisy.py:310] successfully created VNF: chain18-nat
I1209 21:20:19.184653 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server9']
I1209 21:20:19.184783 636804 daisy.py:240] creating chain18-vpn on chain-server9
D1209 21:20:19.185508 636804 node.py:55] Starting compute instance u'chain18-vpn' in data center 'chain-server9'
D1209 21:20:19.873526 636804 simple.py:215] Setting MEM limit for u'chain18-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:19.897207 636804 simple.py:215] Setting MEM limit for u'chain18-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:20:19.917056 636804 simple.py:215] Setting MEM limit for u'chain15-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:20:19.937536 636804 simple.py:215] Setting MEM limit for u'chain15-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:19.958256 636804 simple.py:169] Setting CPU limit for u'chain18-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:20:19.999469 636804 simple.py:215] Setting MEM limit for u'chain18-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:20.018841 636804 simple.py:215] Setting MEM limit for u'chain17-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:20:20.040436 636804 simple.py:169] Setting CPU limit for u'chain18-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:20:20.077688 636804 simple.py:215] Setting MEM limit for u'chain18-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:20.270518 636804 net.py:233] addLink: n1=chain18-vpn intf1=input-ids -- n2=dc32.s1 intf2=dc32.s1-eth16
D1209 21:20:20.453968 636804 net.py:233] addLink: n1=chain18-vpn intf1=input-fw -- n2=dc32.s1 intf2=dc32.s1-eth17
D1209 21:20:20.617619 636804 net.py:233] addLink: n1=chain18-vpn intf1=output -- n2=dc32.s1 intf2=dc32.s1-eth18
I1209 21:20:20.617844 636804 daisy.py:310] successfully created VNF: chain18-vpn
I1209 21:20:20.617949 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud0']
I1209 21:20:20.618042 636804 daisy.py:240] creating chain18-sink on off-cloud0
D1209 21:20:20.618823 636804 node.py:55] Starting compute instance u'chain18-sink' in data center 'off-cloud0'
D1209 21:20:21.281126 636804 simple.py:215] Setting MEM limit for u'chain3-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:21.330351 636804 simple.py:215] Setting MEM limit for u'chain6-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:21.347791 636804 simple.py:215] Setting MEM limit for u'chain4-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:21.368592 636804 simple.py:169] Setting CPU limit for u'chain18-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:20:21.410938 636804 simple.py:215] Setting MEM limit for u'chain18-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:21.434592 636804 simple.py:215] Setting MEM limit for u'chain5-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:21.602873 636804 net.py:233] addLink: n1=chain18-sink intf1=intf2 -- n2=dc16.s1 intf2=dc16.s1-eth6
I1209 21:20:21.603070 636804 daisy.py:310] successfully created VNF: chain18-sink
I1209 21:20:21.603240 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud6']
I1209 21:20:21.603357 636804 daisy.py:240] creating chain18-source on off-cloud6
D1209 21:20:21.603976 636804 node.py:55] Starting compute instance u'chain18-source' in data center 'off-cloud6'
D1209 21:20:22.296506 636804 simple.py:215] Setting MEM limit for u'chain8-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:22.318809 636804 simple.py:215] Setting MEM limit for u'chain17-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:22.345329 636804 simple.py:169] Setting CPU limit for u'chain18-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:20:22.384613 636804 simple.py:215] Setting MEM limit for u'chain18-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:22.407783 636804 simple.py:215] Setting MEM limit for u'chain9-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:22.426390 636804 simple.py:215] Setting MEM limit for u'chain11-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:22.609786 636804 net.py:233] addLink: n1=chain18-source intf1=intf1 -- n2=dc18.s1 intf2=dc18.s1-eth6
I1209 21:20:22.609977 636804 daisy.py:310] successfully created VNF: chain18-source
I1209 21:20:22.610197 636804 daisy.py:311] successfully created chain: 18
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:20:24.990880 636804 daisy.py:401] source, nat, and fw start done
I1209 21:20:24.991076 636804 daisy.py:402] My commands
I1209 21:20:25.113254 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:20:27.115540 636804 daisy.py:419] < 2s wait complete
I1209 21:20:27.117744 636804 daisy.py:420] start VNF chaining
D1209 21:20:27.117933 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain18-source', vnf_src_interface='intf1', vnf_dst_name=u'chain18-nat', vnf_dst_interface='input'
I1209 21:20:27.118326 636804 net.py:665] Path between chain18-source and chain18-nat: ['dc18.s1', u'gsw0', 'dc32.s1']
I1209 21:20:27.118545 636804 net.py:889] add-flow
I1209 21:20:27.118645 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:217,output=1
I1209 21:20:27.122581 636804 net.py:893] add-flow in switch: dc18.s1 in_port: 6 out_port: 1
I1209 21:20:27.122766 636804 net.py:889] add-flow
I1209 21:20:27.122952 636804 net.py:890] in_port=47,dl_vlan=217,action=10
I1209 21:20:27.141789 636804 net.py:893] add-flow in switch: gsw0 in_port: 47 out_port: 10
I1209 21:20:27.142013 636804 net.py:694] end node reached: chain18-nat
I1209 21:20:27.142234 636804 net.py:889] add-flow
I1209 21:20:27.142352 636804 net.py:890] in_port=1,dl_vlan=217,action=strip_vlan,output=14
I1209 21:20:27.156749 636804 net.py:893] add-flow in switch: dc32.s1 in_port: 1 out_port: 14
D1209 21:20:27.157067 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain18-nat', vnf_src_interface='input', vnf_dst_name=u'chain18-source', vnf_dst_interface='intf1'
I1209 21:20:27.157377 636804 net.py:665] Path between chain18-nat and chain18-source: ['dc32.s1', u'gsw0', 'dc18.s1']
I1209 21:20:27.157572 636804 net.py:889] add-flow
I1209 21:20:27.157694 636804 net.py:890] -O OpenFlow13 in_port=14,action=mod_vlan_vid:218,output=1
I1209 21:20:27.172949 636804 net.py:893] add-flow in switch: dc32.s1 in_port: 14 out_port: 1
I1209 21:20:27.173216 636804 net.py:889] add-flow
I1209 21:20:27.173306 636804 net.py:890] in_port=10,dl_vlan=218,action=47
I1209 21:20:27.188462 636804 net.py:893] add-flow in switch: gsw0 in_port: 10 out_port: 47
I1209 21:20:27.188565 636804 net.py:694] end node reached: chain18-source
I1209 21:20:27.188651 636804 net.py:889] add-flow
I1209 21:20:27.188708 636804 net.py:890] in_port=1,dl_vlan=218,action=strip_vlan,output=6
I1209 21:20:27.204847 636804 net.py:893] add-flow in switch: dc18.s1 in_port: 1 out_port: 6
I1209 21:20:27.205012 636804 daisy.py:322] chain(chain18-source, chain18-nat) output: success: add-flow between chain18-source and chain18-nat with options: {
 "priority": 1000, 
 "path": [
  "dc18.s1", 
  "gsw0", 
  "dc32.s1"
 ], 
 "vlan": 217, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain18-nat and chain18-source with options: {
 "priority": 1000, 
 "path": [
  "dc32.s1", 
  "gsw0", 
  "dc18.s1"
 ], 
 "vlan": 218, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:20:27.205158 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain18-nat', vnf_src_interface='output', vnf_dst_name=u'chain18-fw', vnf_dst_interface='input'
I1209 21:20:27.205265 636804 net.py:665] Path between chain18-nat and chain18-fw: ['dc32.s1']
I1209 21:20:27.205338 636804 net.py:694] end node reached: chain18-fw
I1209 21:20:27.205410 636804 net.py:889] add-flow
I1209 21:20:27.205468 636804 net.py:890] -O OpenFlow13 in_port=15,action=mod_vlan_vid:219,output=9
I1209 21:20:27.220278 636804 net.py:893] add-flow in switch: dc32.s1 in_port: 15 out_port: 9
I1209 21:20:27.220392 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc32.s1 in_port: 15 out_port: 9
I1209 21:20:27.220463 636804 net.py:931] add-flow
I1209 21:20:27.220520 636804 net.py:932] in_port=15,action=strip_vlan,output=9
I1209 21:20:27.236258 636804 net.py:935] add-flow in switch: dc32.s1 in_port: 15 out_port: 9
D1209 21:20:27.236428 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain18-fw', vnf_src_interface='input', vnf_dst_name=u'chain18-nat', vnf_dst_interface='output'
I1209 21:20:27.236541 636804 net.py:665] Path between chain18-fw and chain18-nat: ['dc32.s1']
I1209 21:20:27.236618 636804 net.py:694] end node reached: chain18-nat
I1209 21:20:27.236696 636804 net.py:889] add-flow
I1209 21:20:27.236752 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:220,output=15
I1209 21:20:27.268793 636804 net.py:893] add-flow in switch: dc32.s1 in_port: 9 out_port: 15
I1209 21:20:27.268914 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc32.s1 in_port: 9 out_port: 15
I1209 21:20:27.269037 636804 net.py:931] add-flow
I1209 21:20:27.269157 636804 net.py:932] in_port=9,action=strip_vlan,output=15
I1209 21:20:27.284737 636804 net.py:935] add-flow in switch: dc32.s1 in_port: 9 out_port: 15
I1209 21:20:27.284945 636804 daisy.py:329] chain(chain18-nat, chain18-fw) output: success: add-flow between chain18-nat and chain18-fw with options: {
 "priority": 1000, 
 "path": [
  "dc32.s1"
 ], 
 "vlan": 219, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain18-fw and chain18-nat with options: {
 "priority": 1000, 
 "path": [
  "dc32.s1"
 ], 
 "vlan": 220, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:20:27.285053 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain18-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain18-ids', vnf_dst_interface='input'
I1209 21:20:27.285176 636804 net.py:665] Path between chain18-fw and chain18-ids: ['dc32.s1']
I1209 21:20:27.285259 636804 net.py:694] end node reached: chain18-ids
I1209 21:20:27.285376 636804 net.py:889] add-flow
I1209 21:20:27.285440 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:221,output=12
I1209 21:20:27.316291 636804 net.py:893] add-flow in switch: dc32.s1 in_port: 10 out_port: 12
D1209 21:20:27.316447 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain18-ids', vnf_src_interface='input', vnf_dst_name=u'chain18-fw', vnf_dst_interface='output-ids'
I1209 21:20:27.316549 636804 net.py:665] Path between chain18-ids and chain18-fw: ['dc32.s1']
I1209 21:20:27.316621 636804 net.py:694] end node reached: chain18-fw
I1209 21:20:27.316688 636804 net.py:889] add-flow
I1209 21:20:27.316744 636804 net.py:890] -O OpenFlow13 in_port=12,action=mod_vlan_vid:222,output=10
I1209 21:20:27.331980 636804 net.py:893] add-flow in switch: dc32.s1 in_port: 12 out_port: 10
I1209 21:20:27.332093 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc32.s1 in_port: 12 out_port: 10
I1209 21:20:27.332176 636804 net.py:931] add-flow
I1209 21:20:27.332267 636804 net.py:932] in_port=12,action=strip_vlan,output=10
I1209 21:20:27.347178 636804 net.py:935] add-flow in switch: dc32.s1 in_port: 12 out_port: 10
I1209 21:20:27.347346 636804 daisy.py:336] chain(chain18-fw, chain18-ids) output: success: add-flow between chain18-fw and chain18-ids with options: {
 "priority": 1000, 
 "path": [
  "dc32.s1"
 ], 
 "vlan": 221, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain18-ids and chain18-fw with options: {
 "priority": 1000, 
 "path": [
  "dc32.s1"
 ], 
 "vlan": 222, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:20:27.347457 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain18-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain18-vpn', vnf_dst_interface='input-fw'
I1209 21:20:27.347577 636804 net.py:665] Path between chain18-fw and chain18-vpn: ['dc32.s1']
I1209 21:20:27.347692 636804 net.py:694] end node reached: chain18-vpn
I1209 21:20:27.347805 636804 net.py:889] add-flow
I1209 21:20:27.347871 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:223,output=17
I1209 21:20:27.381968 636804 net.py:893] add-flow in switch: dc32.s1 in_port: 11 out_port: 17
D1209 21:20:27.382241 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain18-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain18-fw', vnf_dst_interface='output-vpn'
I1209 21:20:27.382370 636804 net.py:665] Path between chain18-vpn and chain18-fw: ['dc32.s1']
I1209 21:20:27.382471 636804 net.py:694] end node reached: chain18-fw
I1209 21:20:27.382574 636804 net.py:889] add-flow
I1209 21:20:27.382641 636804 net.py:890] -O OpenFlow13 in_port=17,action=mod_vlan_vid:224,output=11
I1209 21:20:27.397293 636804 net.py:893] add-flow in switch: dc32.s1 in_port: 17 out_port: 11
I1209 21:20:27.397473 636804 daisy.py:343] chain(chain18-fw, chain18-vpn) output: success: add-flow between chain18-fw and chain18-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc32.s1"
 ], 
 "vlan": 223, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain18-vpn and chain18-fw with options: {
 "priority": 1000, 
 "path": [
  "dc32.s1"
 ], 
 "vlan": 224, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:20:27.397623 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain18-ids', vnf_src_interface='output', vnf_dst_name=u'chain18-vpn', vnf_dst_interface='input-ids'
I1209 21:20:27.397761 636804 net.py:665] Path between chain18-ids and chain18-vpn: ['dc32.s1']
I1209 21:20:27.397839 636804 net.py:694] end node reached: chain18-vpn
I1209 21:20:27.397922 636804 net.py:889] add-flow
I1209 21:20:27.397989 636804 net.py:890] -O OpenFlow13 in_port=13,action=mod_vlan_vid:225,output=16
I1209 21:20:27.412558 636804 net.py:893] add-flow in switch: dc32.s1 in_port: 13 out_port: 16
I1209 21:20:27.412662 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc32.s1 in_port: 13 out_port: 16
I1209 21:20:27.412755 636804 net.py:931] add-flow
I1209 21:20:27.412851 636804 net.py:932] in_port=13,action=strip_vlan,output=16
I1209 21:20:27.427926 636804 net.py:935] add-flow in switch: dc32.s1 in_port: 13 out_port: 16
D1209 21:20:27.428483 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain18-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain18-ids', vnf_dst_interface='output'
I1209 21:20:27.428602 636804 net.py:665] Path between chain18-vpn and chain18-ids: ['dc32.s1']
I1209 21:20:27.428697 636804 net.py:694] end node reached: chain18-ids
I1209 21:20:27.428785 636804 net.py:889] add-flow
I1209 21:20:27.428869 636804 net.py:890] -O OpenFlow13 in_port=16,action=mod_vlan_vid:226,output=13
I1209 21:20:27.457344 636804 net.py:893] add-flow in switch: dc32.s1 in_port: 16 out_port: 13
I1209 21:20:27.457545 636804 daisy.py:350] chain(chain18-ids, chain18-vpn) output: success: add-flow between chain18-ids and chain18-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc32.s1"
 ], 
 "vlan": 225, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain18-vpn and chain18-ids with options: {
 "priority": 1000, 
 "path": [
  "dc32.s1"
 ], 
 "vlan": 226, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:20:27.457701 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain18-vpn', vnf_src_interface='output', vnf_dst_name=u'chain18-sink', vnf_dst_interface='intf2'
I1209 21:20:27.457894 636804 net.py:665] Path between chain18-vpn and chain18-sink: ['dc32.s1', u'gsw0', 'dc16.s1']
I1209 21:20:27.457983 636804 net.py:889] add-flow
I1209 21:20:27.458070 636804 net.py:890] -O OpenFlow13 in_port=18,action=mod_vlan_vid:227,output=1
I1209 21:20:27.472824 636804 net.py:893] add-flow in switch: dc32.s1 in_port: 18 out_port: 1
I1209 21:20:27.472954 636804 net.py:889] add-flow
I1209 21:20:27.473050 636804 net.py:890] in_port=10,dl_vlan=227,action=41
I1209 21:20:27.488183 636804 net.py:893] add-flow in switch: gsw0 in_port: 10 out_port: 41
I1209 21:20:27.488307 636804 net.py:694] end node reached: chain18-sink
I1209 21:20:27.488416 636804 net.py:889] add-flow
I1209 21:20:27.488492 636804 net.py:890] in_port=1,dl_vlan=227,action=strip_vlan,output=6
I1209 21:20:27.502993 636804 net.py:893] add-flow in switch: dc16.s1 in_port: 1 out_port: 6
D1209 21:20:27.503199 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain18-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain18-vpn', vnf_dst_interface='output'
I1209 21:20:27.503346 636804 net.py:665] Path between chain18-sink and chain18-vpn: ['dc16.s1', u'gsw0', 'dc32.s1']
I1209 21:20:27.503444 636804 net.py:889] add-flow
I1209 21:20:27.503528 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:228,output=1
I1209 21:20:27.519236 636804 net.py:893] add-flow in switch: dc16.s1 in_port: 6 out_port: 1
I1209 21:20:27.519355 636804 net.py:889] add-flow
I1209 21:20:27.519452 636804 net.py:890] in_port=41,dl_vlan=228,action=10
I1209 21:20:27.534337 636804 net.py:893] add-flow in switch: gsw0 in_port: 41 out_port: 10
I1209 21:20:27.534442 636804 net.py:694] end node reached: chain18-vpn
I1209 21:20:27.534539 636804 net.py:889] add-flow
I1209 21:20:27.534668 636804 net.py:890] in_port=1,dl_vlan=228,action=strip_vlan,output=18
I1209 21:20:27.549365 636804 net.py:893] add-flow in switch: dc32.s1 in_port: 1 out_port: 18
I1209 21:20:27.549552 636804 daisy.py:357] chain(chain18-vpn, chain18-sink) output: success: add-flow between chain18-vpn and chain18-sink with options: {
 "priority": 1000, 
 "path": [
  "dc32.s1", 
  "gsw0", 
  "dc16.s1"
 ], 
 "vlan": 227, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain18-sink and chain18-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc16.s1", 
  "gsw0", 
  "dc32.s1"
 ], 
 "vlan": 228, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:20:29 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:20:29 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:20:29 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:20:29 2017 UDPv4 link local: [undef]
Sat Dec  9 21:20:29 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:20:29 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=2c42e237 1b5102a7
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:20:29 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:20:29 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:20:29 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:20:30 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:20:30 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:20:30 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:20:30 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:20:30 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:20:30 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:20:30 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:20:30 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:20:32 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:20:32 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:20:32 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:20:32 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:20:32 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:20:32 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:20:32 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:71
Sat Dec  9 21:20:32 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:20:32 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:20:32 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:20:32 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:20:32 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:20:32 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:20:32 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:20:32 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:20:32 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:20:32 2017 GID set to nogroup
Sat Dec  9 21:20:32 2017 UID set to nobody
Sat Dec  9 21:20:32 2017 Initialization Sequence Completed
I1209 21:20:35.148740 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:20:40.154083 636804 daisy.py:443] < 5s wait complete
I1209 21:20:40.154309 636804 daisy.py:444] VPN client VNF started
chain18-source -> chain18-sink 
chain18-sink -> chain18-source 
*** Results: 0% dropped (2/2 received)
I1209 21:20:42.299803 636804 daisy.py:369] ping chain18-source -> chain18-sink. Packet drop 0.0%
1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain17-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain17-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain17-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain17-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain17-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain17-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain17-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain17-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain17-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain17-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain17-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain17-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.021187000000000067, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server9'], [u'ids', u'chain-server9'], [u'nat', u'chain-server9'], [u'vpn', u'chain-server9'], [u'sink', u'off-cloud0'], [u'source', u'off-cloud6']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 1.067803, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud6', 2], [u'chain-server9', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server9', 2], [u'off-cloud0', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain18-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain18-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain18-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain18-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain18-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain18-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain18-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain18-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain18-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain18-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain18-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain18-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain18-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain18-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain18-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain18-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain18-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain18-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain18-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain18-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain18-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain18-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain18-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 I1209 21:20:42.349982 636804 bench.py:19] Copying traces into the containers...
I1209 21:20:43.607491 636804 bench.py:29] Running dstat...
I1209 21:20:45.864968 636804 iter-e2-allocation.py:17] started allocating chain: 19
I1209 21:20:45.865365 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server8']
I1209 21:20:45.865499 636804 daisy.py:240] creating chain19-fw on chain-server8
D1209 21:20:45.866413 636804 node.py:55] Starting compute instance u'chain19-fw' in data center 'chain-server8'
D1209 21:20:46.543239 636804 simple.py:169] Setting CPU limit for u'chain19-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:20:46.590713 636804 simple.py:215] Setting MEM limit for u'chain19-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:46.855617 636804 net.py:233] addLink: n1=chain19-fw intf1=input -- n2=dc31.s1 intf2=dc31.s1-eth2
D1209 21:20:47.020916 636804 net.py:233] addLink: n1=chain19-fw intf1=output-ids -- n2=dc31.s1 intf2=dc31.s1-eth3
D1209 21:20:47.210445 636804 net.py:233] addLink: n1=chain19-fw intf1=output-vpn -- n2=dc31.s1 intf2=dc31.s1-eth4
I1209 21:20:47.210638 636804 daisy.py:310] successfully created VNF: chain19-fw
I1209 21:20:47.210762 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server8']
I1209 21:20:47.210841 636804 daisy.py:240] creating chain19-ids on chain-server8
D1209 21:20:47.211467 636804 node.py:55] Starting compute instance u'chain19-ids' in data center 'chain-server8'
D1209 21:20:47.932917 636804 simple.py:169] Setting CPU limit for u'chain19-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:20:47.980360 636804 simple.py:215] Setting MEM limit for u'chain19-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:48.000189 636804 simple.py:169] Setting CPU limit for u'chain19-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:20:48.040538 636804 simple.py:215] Setting MEM limit for u'chain19-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:20:48.225241 636804 net.py:233] addLink: n1=chain19-ids intf1=input -- n2=dc31.s1 intf2=dc31.s1-eth5
D1209 21:20:48.401876 636804 net.py:233] addLink: n1=chain19-ids intf1=output -- n2=dc31.s1 intf2=dc31.s1-eth6
I1209 21:20:48.402127 636804 daisy.py:310] successfully created VNF: chain19-ids
I1209 21:20:48.402254 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server8']
I1209 21:20:48.402358 636804 daisy.py:240] creating chain19-nat on chain-server8
D1209 21:20:48.402952 636804 node.py:55] Starting compute instance u'chain19-nat' in data center 'chain-server8'
D1209 21:20:49.074826 636804 simple.py:169] Setting CPU limit for u'chain19-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:20:49.118628 636804 simple.py:215] Setting MEM limit for u'chain19-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:49.138380 636804 simple.py:169] Setting CPU limit for u'chain19-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:20:49.176506 636804 simple.py:215] Setting MEM limit for u'chain19-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:49.196439 636804 simple.py:215] Setting MEM limit for u'chain19-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:20:49.380772 636804 net.py:233] addLink: n1=chain19-nat intf1=input -- n2=dc31.s1 intf2=dc31.s1-eth7
D1209 21:20:49.575896 636804 net.py:233] addLink: n1=chain19-nat intf1=output -- n2=dc31.s1 intf2=dc31.s1-eth8
I1209 21:20:49.576201 636804 daisy.py:310] successfully created VNF: chain19-nat
I1209 21:20:49.576353 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server8']
I1209 21:20:49.576463 636804 daisy.py:240] creating chain19-vpn on chain-server8
D1209 21:20:49.577394 636804 node.py:55] Starting compute instance u'chain19-vpn' in data center 'chain-server8'
D1209 21:20:50.273999 636804 simple.py:215] Setting MEM limit for u'chain19-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:50.296667 636804 simple.py:169] Setting CPU limit for u'chain19-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:20:50.338073 636804 simple.py:215] Setting MEM limit for u'chain19-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:50.359534 636804 simple.py:169] Setting CPU limit for u'chain19-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:20:50.399547 636804 simple.py:215] Setting MEM limit for u'chain19-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:50.418709 636804 simple.py:215] Setting MEM limit for u'chain19-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:20:50.591577 636804 net.py:233] addLink: n1=chain19-vpn intf1=input-ids -- n2=dc31.s1 intf2=dc31.s1-eth9
D1209 21:20:50.774677 636804 net.py:233] addLink: n1=chain19-vpn intf1=input-fw -- n2=dc31.s1 intf2=dc31.s1-eth10
D1209 21:20:50.928771 636804 net.py:233] addLink: n1=chain19-vpn intf1=output -- n2=dc31.s1 intf2=dc31.s1-eth11
I1209 21:20:50.929111 636804 daisy.py:310] successfully created VNF: chain19-vpn
I1209 21:20:50.929229 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud0']
I1209 21:20:50.929311 636804 daisy.py:240] creating chain19-sink on off-cloud0
D1209 21:20:50.930005 636804 node.py:55] Starting compute instance u'chain19-sink' in data center 'off-cloud0'
D1209 21:20:51.625228 636804 simple.py:215] Setting MEM limit for u'chain18-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:51.649307 636804 simple.py:215] Setting MEM limit for u'chain5-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:51.671405 636804 simple.py:215] Setting MEM limit for u'chain6-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:51.692917 636804 simple.py:169] Setting CPU limit for u'chain19-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:20:51.730756 636804 simple.py:215] Setting MEM limit for u'chain19-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:51.749834 636804 simple.py:215] Setting MEM limit for u'chain3-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:51.770318 636804 simple.py:215] Setting MEM limit for u'chain4-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:52.064985 636804 net.py:233] addLink: n1=chain19-sink intf1=intf2 -- n2=dc16.s1 intf2=dc16.s1-eth7
I1209 21:20:52.065208 636804 daisy.py:310] successfully created VNF: chain19-sink
I1209 21:20:52.065330 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud6']
I1209 21:20:52.065445 636804 daisy.py:240] creating chain19-source on off-cloud6
D1209 21:20:52.066210 636804 node.py:55] Starting compute instance u'chain19-source' in data center 'off-cloud6'
D1209 21:20:52.749944 636804 simple.py:215] Setting MEM limit for u'chain8-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:52.771554 636804 simple.py:215] Setting MEM limit for u'chain9-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:52.790441 636804 simple.py:215] Setting MEM limit for u'chain17-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:52.813761 636804 simple.py:215] Setting MEM limit for u'chain11-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:52.835882 636804 simple.py:169] Setting CPU limit for u'chain19-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:20:52.874551 636804 simple.py:215] Setting MEM limit for u'chain19-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:52.894627 636804 simple.py:215] Setting MEM limit for u'chain18-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:20:53.077899 636804 net.py:233] addLink: n1=chain19-source intf1=intf1 -- n2=dc18.s1 intf2=dc18.s1-eth7
I1209 21:20:53.078208 636804 daisy.py:310] successfully created VNF: chain19-source
I1209 21:20:53.078341 636804 daisy.py:311] successfully created chain: 19
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:20:55.458295 636804 daisy.py:401] source, nat, and fw start done
I1209 21:20:55.458508 636804 daisy.py:402] My commands
I1209 21:20:55.601156 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:20:57.602190 636804 daisy.py:419] < 2s wait complete
I1209 21:20:57.602377 636804 daisy.py:420] start VNF chaining
D1209 21:20:57.602571 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain19-source', vnf_src_interface='intf1', vnf_dst_name=u'chain19-nat', vnf_dst_interface='input'
I1209 21:20:57.602773 636804 net.py:665] Path between chain19-source and chain19-nat: ['dc18.s1', u'gsw0', 'dc31.s1']
I1209 21:20:57.602911 636804 net.py:889] add-flow
I1209 21:20:57.603034 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:229,output=1
I1209 21:20:57.606759 636804 net.py:893] add-flow in switch: dc18.s1 in_port: 7 out_port: 1
I1209 21:20:57.606913 636804 net.py:889] add-flow
I1209 21:20:57.607011 636804 net.py:890] in_port=47,dl_vlan=229,action=9
I1209 21:20:57.628459 636804 net.py:893] add-flow in switch: gsw0 in_port: 47 out_port: 9
I1209 21:20:57.628596 636804 net.py:694] end node reached: chain19-nat
I1209 21:20:57.628700 636804 net.py:889] add-flow
I1209 21:20:57.628793 636804 net.py:890] in_port=1,dl_vlan=229,action=strip_vlan,output=7
I1209 21:20:57.646586 636804 net.py:893] add-flow in switch: dc31.s1 in_port: 1 out_port: 7
D1209 21:20:57.646855 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain19-nat', vnf_src_interface='input', vnf_dst_name=u'chain19-source', vnf_dst_interface='intf1'
I1209 21:20:57.647003 636804 net.py:665] Path between chain19-nat and chain19-source: ['dc31.s1', u'gsw0', 'dc18.s1']
I1209 21:20:57.647196 636804 net.py:889] add-flow
I1209 21:20:57.647290 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:230,output=1
I1209 21:20:57.664858 636804 net.py:893] add-flow in switch: dc31.s1 in_port: 7 out_port: 1
I1209 21:20:57.665004 636804 net.py:889] add-flow
I1209 21:20:57.665105 636804 net.py:890] in_port=9,dl_vlan=230,action=47
I1209 21:20:57.682843 636804 net.py:893] add-flow in switch: gsw0 in_port: 9 out_port: 47
I1209 21:20:57.682964 636804 net.py:694] end node reached: chain19-source
I1209 21:20:57.683105 636804 net.py:889] add-flow
I1209 21:20:57.683217 636804 net.py:890] in_port=1,dl_vlan=230,action=strip_vlan,output=7
I1209 21:20:57.700532 636804 net.py:893] add-flow in switch: dc18.s1 in_port: 1 out_port: 7
I1209 21:20:57.700720 636804 daisy.py:322] chain(chain19-source, chain19-nat) output: success: add-flow between chain19-source and chain19-nat with options: {
 "priority": 1000, 
 "path": [
  "dc18.s1", 
  "gsw0", 
  "dc31.s1"
 ], 
 "vlan": 229, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain19-nat and chain19-source with options: {
 "priority": 1000, 
 "path": [
  "dc31.s1", 
  "gsw0", 
  "dc18.s1"
 ], 
 "vlan": 230, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:20:57.700901 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain19-nat', vnf_src_interface='output', vnf_dst_name=u'chain19-fw', vnf_dst_interface='input'
I1209 21:20:57.701066 636804 net.py:665] Path between chain19-nat and chain19-fw: ['dc31.s1']
I1209 21:20:57.701189 636804 net.py:694] end node reached: chain19-fw
I1209 21:20:57.701277 636804 net.py:889] add-flow
I1209 21:20:57.701348 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:231,output=2
I1209 21:20:57.718499 636804 net.py:893] add-flow in switch: dc31.s1 in_port: 8 out_port: 2
I1209 21:20:57.718621 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc31.s1 in_port: 8 out_port: 2
I1209 21:20:57.718740 636804 net.py:931] add-flow
I1209 21:20:57.718826 636804 net.py:932] in_port=8,action=strip_vlan,output=2
I1209 21:20:57.735728 636804 net.py:935] add-flow in switch: dc31.s1 in_port: 8 out_port: 2
D1209 21:20:57.735951 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain19-fw', vnf_src_interface='input', vnf_dst_name=u'chain19-nat', vnf_dst_interface='output'
I1209 21:20:57.736154 636804 net.py:665] Path between chain19-fw and chain19-nat: ['dc31.s1']
I1209 21:20:57.736260 636804 net.py:694] end node reached: chain19-nat
I1209 21:20:57.736373 636804 net.py:889] add-flow
I1209 21:20:57.736485 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:232,output=8
I1209 21:20:57.769856 636804 net.py:893] add-flow in switch: dc31.s1 in_port: 2 out_port: 8
I1209 21:20:57.769977 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc31.s1 in_port: 2 out_port: 8
I1209 21:20:57.770162 636804 net.py:931] add-flow
I1209 21:20:57.770276 636804 net.py:932] in_port=2,action=strip_vlan,output=8
I1209 21:20:57.788005 636804 net.py:935] add-flow in switch: dc31.s1 in_port: 2 out_port: 8
I1209 21:20:57.788202 636804 daisy.py:329] chain(chain19-nat, chain19-fw) output: success: add-flow between chain19-nat and chain19-fw with options: {
 "priority": 1000, 
 "path": [
  "dc31.s1"
 ], 
 "vlan": 231, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain19-fw and chain19-nat with options: {
 "priority": 1000, 
 "path": [
  "dc31.s1"
 ], 
 "vlan": 232, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:20:57.788333 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain19-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain19-ids', vnf_dst_interface='input'
I1209 21:20:57.788436 636804 net.py:665] Path between chain19-fw and chain19-ids: ['dc31.s1']
I1209 21:20:57.788508 636804 net.py:694] end node reached: chain19-ids
I1209 21:20:57.788578 636804 net.py:889] add-flow
I1209 21:20:57.788638 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:233,output=5
I1209 21:20:57.821244 636804 net.py:893] add-flow in switch: dc31.s1 in_port: 3 out_port: 5
D1209 21:20:57.821427 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain19-ids', vnf_src_interface='input', vnf_dst_name=u'chain19-fw', vnf_dst_interface='output-ids'
I1209 21:20:57.821552 636804 net.py:665] Path between chain19-ids and chain19-fw: ['dc31.s1']
I1209 21:20:57.821655 636804 net.py:694] end node reached: chain19-fw
I1209 21:20:57.821780 636804 net.py:889] add-flow
I1209 21:20:57.821883 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:234,output=3
I1209 21:20:57.838131 636804 net.py:893] add-flow in switch: dc31.s1 in_port: 5 out_port: 3
I1209 21:20:57.838274 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc31.s1 in_port: 5 out_port: 3
I1209 21:20:57.838372 636804 net.py:931] add-flow
I1209 21:20:57.838459 636804 net.py:932] in_port=5,action=strip_vlan,output=3
I1209 21:20:57.855335 636804 net.py:935] add-flow in switch: dc31.s1 in_port: 5 out_port: 3
I1209 21:20:57.855509 636804 daisy.py:336] chain(chain19-fw, chain19-ids) output: success: add-flow between chain19-fw and chain19-ids with options: {
 "priority": 1000, 
 "path": [
  "dc31.s1"
 ], 
 "vlan": 233, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain19-ids and chain19-fw with options: {
 "priority": 1000, 
 "path": [
  "dc31.s1"
 ], 
 "vlan": 234, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:20:57.855628 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain19-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain19-vpn', vnf_dst_interface='input-fw'
I1209 21:20:57.855777 636804 net.py:665] Path between chain19-fw and chain19-vpn: ['dc31.s1']
I1209 21:20:57.855849 636804 net.py:694] end node reached: chain19-vpn
I1209 21:20:57.855921 636804 net.py:889] add-flow
I1209 21:20:57.856014 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:235,output=10
I1209 21:20:57.891235 636804 net.py:893] add-flow in switch: dc31.s1 in_port: 4 out_port: 10
D1209 21:20:57.891395 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain19-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain19-fw', vnf_dst_interface='output-vpn'
I1209 21:20:57.891535 636804 net.py:665] Path between chain19-vpn and chain19-fw: ['dc31.s1']
I1209 21:20:57.891666 636804 net.py:694] end node reached: chain19-fw
I1209 21:20:57.891805 636804 net.py:889] add-flow
I1209 21:20:57.891952 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:236,output=4
I1209 21:20:57.909373 636804 net.py:893] add-flow in switch: dc31.s1 in_port: 10 out_port: 4
I1209 21:20:57.909620 636804 daisy.py:343] chain(chain19-fw, chain19-vpn) output: success: add-flow between chain19-fw and chain19-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc31.s1"
 ], 
 "vlan": 235, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain19-vpn and chain19-fw with options: {
 "priority": 1000, 
 "path": [
  "dc31.s1"
 ], 
 "vlan": 236, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:20:57.909746 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain19-ids', vnf_src_interface='output', vnf_dst_name=u'chain19-vpn', vnf_dst_interface='input-ids'
I1209 21:20:57.909885 636804 net.py:665] Path between chain19-ids and chain19-vpn: ['dc31.s1']
I1209 21:20:57.909986 636804 net.py:694] end node reached: chain19-vpn
I1209 21:20:57.910198 636804 net.py:889] add-flow
I1209 21:20:57.910274 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:237,output=9
I1209 21:20:57.926811 636804 net.py:893] add-flow in switch: dc31.s1 in_port: 6 out_port: 9
I1209 21:20:57.926939 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc31.s1 in_port: 6 out_port: 9
I1209 21:20:57.927064 636804 net.py:931] add-flow
I1209 21:20:57.927154 636804 net.py:932] in_port=6,action=strip_vlan,output=9
I1209 21:20:57.943624 636804 net.py:935] add-flow in switch: dc31.s1 in_port: 6 out_port: 9
D1209 21:20:57.943828 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain19-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain19-ids', vnf_dst_interface='output'
I1209 21:20:57.943950 636804 net.py:665] Path between chain19-vpn and chain19-ids: ['dc31.s1']
I1209 21:20:57.944053 636804 net.py:694] end node reached: chain19-ids
I1209 21:20:57.944161 636804 net.py:889] add-flow
I1209 21:20:57.944242 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:238,output=6
I1209 21:20:57.975697 636804 net.py:893] add-flow in switch: dc31.s1 in_port: 9 out_port: 6
I1209 21:20:57.975918 636804 daisy.py:350] chain(chain19-ids, chain19-vpn) output: success: add-flow between chain19-ids and chain19-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc31.s1"
 ], 
 "vlan": 237, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain19-vpn and chain19-ids with options: {
 "priority": 1000, 
 "path": [
  "dc31.s1"
 ], 
 "vlan": 238, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:20:57.976083 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain19-vpn', vnf_src_interface='output', vnf_dst_name=u'chain19-sink', vnf_dst_interface='intf2'
I1209 21:20:57.976249 636804 net.py:665] Path between chain19-vpn and chain19-sink: ['dc31.s1', u'gsw0', 'dc16.s1']
I1209 21:20:57.976356 636804 net.py:889] add-flow
I1209 21:20:57.976460 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:239,output=1
I1209 21:20:57.992265 636804 net.py:893] add-flow in switch: dc31.s1 in_port: 11 out_port: 1
I1209 21:20:57.992418 636804 net.py:889] add-flow
I1209 21:20:57.992496 636804 net.py:890] in_port=9,dl_vlan=239,action=41
I1209 21:20:58.009857 636804 net.py:893] add-flow in switch: gsw0 in_port: 9 out_port: 41
I1209 21:20:58.009977 636804 net.py:694] end node reached: chain19-sink
I1209 21:20:58.010134 636804 net.py:889] add-flow
I1209 21:20:58.010212 636804 net.py:890] in_port=1,dl_vlan=239,action=strip_vlan,output=7
I1209 21:20:58.027462 636804 net.py:893] add-flow in switch: dc16.s1 in_port: 1 out_port: 7
D1209 21:20:58.027637 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain19-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain19-vpn', vnf_dst_interface='output'
I1209 21:20:58.027779 636804 net.py:665] Path between chain19-sink and chain19-vpn: ['dc16.s1', u'gsw0', 'dc31.s1']
I1209 21:20:58.027898 636804 net.py:889] add-flow
I1209 21:20:58.028000 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:240,output=1
I1209 21:20:58.044178 636804 net.py:893] add-flow in switch: dc16.s1 in_port: 7 out_port: 1
I1209 21:20:58.044317 636804 net.py:889] add-flow
I1209 21:20:58.044410 636804 net.py:890] in_port=41,dl_vlan=240,action=9
I1209 21:20:58.060867 636804 net.py:893] add-flow in switch: gsw0 in_port: 41 out_port: 9
I1209 21:20:58.061000 636804 net.py:694] end node reached: chain19-vpn
I1209 21:20:58.061146 636804 net.py:889] add-flow
I1209 21:20:58.061245 636804 net.py:890] in_port=1,dl_vlan=240,action=strip_vlan,output=11
I1209 21:20:58.077254 636804 net.py:893] add-flow in switch: dc31.s1 in_port: 1 out_port: 11
I1209 21:20:58.077441 636804 daisy.py:357] chain(chain19-vpn, chain19-sink) output: success: add-flow between chain19-vpn and chain19-sink with options: {
 "priority": 1000, 
 "path": [
  "dc31.s1", 
  "gsw0", 
  "dc16.s1"
 ], 
 "vlan": 239, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain19-sink and chain19-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc16.s1", 
  "gsw0", 
  "dc31.s1"
 ], 
 "vlan": 240, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:20:59 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:20:59 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:20:59 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:20:59 2017 UDPv4 link local: [undef]
Sat Dec  9 21:20:59 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:20:59 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=c1a35d0c 69166d37
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:20:59 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:20:59 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:20:59 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:21:00 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:21:00 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:21:00 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:21:00 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:21:00 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:21:00 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:21:00 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:21:00 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:21:02 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:21:02 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:21:02 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:21:02 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:21:02 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:21:02 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:21:02 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:77
Sat Dec  9 21:21:02 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:21:02 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:21:02 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:21:02 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:21:02 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:21:02 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:21:02 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:21:02 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:21:02 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:21:02 2017 GID set to nogroup
Sat Dec  9 21:21:02 2017 UID set to nobody
Sat Dec  9 21:21:02 2017 Initialization Sequence Completed
I1209 21:21:05.565515 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:21:10.570174 636804 daisy.py:443] < 5s wait complete
I1209 21:21:10.570389 636804 daisy.py:444] VPN client VNF started
chain19-source -> chain19-sink 
chain19-sink -> chain19-source 
*** Results: 0% dropped (2/2 received)
I1209 21:21:13.319300 636804 daisy.py:369] ping chain19-source -> chain19-sink. Packet drop 0.0%
I1209 21:21:13.375365 636804 bench.py:19] Copying traces into the containers...
I1209 21:21:14.619908 636804 bench.py:29] Running dstat...
I1209 21:21:16.905257 636804 iter-e2-allocation.py:17] started allocating chain: 20
from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain18-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain18-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain18-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.02133800000000008, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server8'], [u'ids', u'chain-server8'], [u'nat', u'chain-server8'], [u'vpn', u'chain-server8'], [u'sink', u'off-cloud0'], [u'source', u'off-cloud6']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 1.1024, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud6', 2], [u'chain-server8', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server8', 2], [u'off-cloud0', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain19-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain19-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain19-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain19-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain19-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain19-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain19-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain19-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain19-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain19-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain19-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain19-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain19-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain19-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain19-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain19-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain19-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain19-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain19-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain19-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain19-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain19-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain19-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain19-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain19-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain19-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.021676999999999946, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server7'], [u'ids', u'chain-server7'], [u'nat', u'chain-server7'], [u'vpn', u'chain-server7'], [u'sink', u'off-cloud0'], [u'source', u'off-cloud6']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 1.137119, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud6', 2], [u'chain-serverI1209 21:21:16.905627 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server7']
I1209 21:21:16.905752 636804 daisy.py:240] creating chain20-fw on chain-server7
D1209 21:21:16.906656 636804 node.py:55] Starting compute instance u'chain20-fw' in data center 'chain-server7'
D1209 21:21:17.593705 636804 simple.py:169] Setting CPU limit for u'chain20-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:21:17.634864 636804 simple.py:215] Setting MEM limit for u'chain20-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:17.819444 636804 net.py:233] addLink: n1=chain20-fw intf1=input -- n2=dc28.s1 intf2=dc28.s1-eth2
D1209 21:21:17.995764 636804 net.py:233] addLink: n1=chain20-fw intf1=output-ids -- n2=dc28.s1 intf2=dc28.s1-eth3
D1209 21:21:18.156080 636804 net.py:233] addLink: n1=chain20-fw intf1=output-vpn -- n2=dc28.s1 intf2=dc28.s1-eth4
I1209 21:21:18.156261 636804 daisy.py:310] successfully created VNF: chain20-fw
I1209 21:21:18.156389 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server7']
I1209 21:21:18.156507 636804 daisy.py:240] creating chain20-ids on chain-server7
D1209 21:21:18.157592 636804 node.py:55] Starting compute instance u'chain20-ids' in data center 'chain-server7'
D1209 21:21:18.859671 636804 simple.py:169] Setting CPU limit for u'chain20-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:21:18.902555 636804 simple.py:215] Setting MEM limit for u'chain20-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:18.920250 636804 simple.py:169] Setting CPU limit for u'chain20-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:21:18.958317 636804 simple.py:215] Setting MEM limit for u'chain20-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:21:19.184473 636804 net.py:233] addLink: n1=chain20-ids intf1=input -- n2=dc28.s1 intf2=dc28.s1-eth5
D1209 21:21:19.354933 636804 net.py:233] addLink: n1=chain20-ids intf1=output -- n2=dc28.s1 intf2=dc28.s1-eth6
I1209 21:21:19.355205 636804 daisy.py:310] successfully created VNF: chain20-ids
I1209 21:21:19.355423 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server7']
I1209 21:21:19.355612 636804 daisy.py:240] creating chain20-nat on chain-server7
D1209 21:21:19.356324 636804 node.py:55] Starting compute instance u'chain20-nat' in data center 'chain-server7'
D1209 21:21:20.094352 636804 simple.py:169] Setting CPU limit for u'chain20-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:21:20.138564 636804 simple.py:215] Setting MEM limit for u'chain20-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:20.158498 636804 simple.py:169] Setting CPU limit for u'chain20-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:21:20.201941 636804 simple.py:215] Setting MEM limit for u'chain20-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:20.221352 636804 simple.py:215] Setting MEM limit for u'chain20-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:21:20.395154 636804 net.py:233] addLink: n1=chain20-nat intf1=input -- n2=dc28.s1 intf2=dc28.s1-eth7
D1209 21:21:20.553097 636804 net.py:233] addLink: n1=chain20-nat intf1=output -- n2=dc28.s1 intf2=dc28.s1-eth8
I1209 21:21:20.553296 636804 daisy.py:310] successfully created VNF: chain20-nat
I1209 21:21:20.553421 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server7']
I1209 21:21:20.553594 636804 daisy.py:240] creating chain20-vpn on chain-server7
D1209 21:21:20.554378 636804 node.py:55] Starting compute instance u'chain20-vpn' in data center 'chain-server7'
D1209 21:21:21.265177 636804 simple.py:215] Setting MEM limit for u'chain20-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:21.286634 636804 simple.py:169] Setting CPU limit for u'chain20-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:21:21.330044 636804 simple.py:215] Setting MEM limit for u'chain20-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:21.356112 636804 simple.py:169] Setting CPU limit for u'chain20-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:21:21.399750 636804 simple.py:215] Setting MEM limit for u'chain20-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:21.419236 636804 simple.py:215] Setting MEM limit for u'chain20-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:21:21.599111 636804 net.py:233] addLink: n1=chain20-vpn intf1=input-ids -- n2=dc28.s1 intf2=dc28.s1-eth9
D1209 21:21:21.803210 636804 net.py:233] addLink: n1=chain20-vpn intf1=input-fw -- n2=dc28.s1 intf2=dc28.s1-eth10
D1209 21:21:21.961379 636804 net.py:233] addLink: n1=chain20-vpn intf1=output -- n2=dc28.s1 intf2=dc28.s1-eth11
I1209 21:21:21.961564 636804 daisy.py:310] successfully created VNF: chain20-vpn
I1209 21:21:21.961662 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud0']
I1209 21:21:21.961745 636804 daisy.py:240] creating chain20-sink on off-cloud0
D1209 21:21:21.962552 636804 node.py:55] Starting compute instance u'chain20-sink' in data center 'off-cloud0'
D1209 21:21:22.680088 636804 simple.py:215] Setting MEM limit for u'chain18-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:22.701466 636804 simple.py:215] Setting MEM limit for u'chain5-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:22.722395 636804 simple.py:215] Setting MEM limit for u'chain6-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:22.741559 636804 simple.py:215] Setting MEM limit for u'chain19-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:22.760611 636804 simple.py:215] Setting MEM limit for u'chain3-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:22.786552 636804 simple.py:215] Setting MEM limit for u'chain4-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:22.806683 636804 simple.py:169] Setting CPU limit for u'chain20-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:21:22.851730 636804 simple.py:215] Setting MEM limit for u'chain20-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:23.047733 636804 net.py:233] addLink: n1=chain20-sink intf1=intf2 -- n2=dc16.s1 intf2=dc16.s1-eth8
I1209 21:21:23.047993 636804 daisy.py:310] successfully created VNF: chain20-sink
I1209 21:21:23.048135 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud6']
I1209 21:21:23.048243 636804 daisy.py:240] creating chain20-source on off-cloud6
D1209 21:21:23.048872 636804 node.py:55] Starting compute instance u'chain20-source' in data center 'off-cloud6'
D1209 21:21:23.719468 636804 simple.py:215] Setting MEM limit for u'chain8-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:23.740741 636804 simple.py:215] Setting MEM limit for u'chain9-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:23.763201 636804 simple.py:215] Setting MEM limit for u'chain17-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:23.783858 636804 simple.py:215] Setting MEM limit for u'chain11-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:23.807750 636804 simple.py:169] Setting CPU limit for u'chain20-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:21:23.850383 636804 simple.py:215] Setting MEM limit for u'chain20-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:23.875984 636804 simple.py:215] Setting MEM limit for u'chain19-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:23.898783 636804 simple.py:215] Setting MEM limit for u'chain18-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:24.101010 636804 net.py:233] addLink: n1=chain20-source intf1=intf1 -- n2=dc18.s1 intf2=dc18.s1-eth8
I1209 21:21:24.101257 636804 daisy.py:310] successfully created VNF: chain20-source
I1209 21:21:24.101423 636804 daisy.py:311] successfully created chain: 20
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:21:26.437047 636804 daisy.py:401] source, nat, and fw start done
I1209 21:21:26.437249 636804 daisy.py:402] My commands
I1209 21:21:26.568789 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:21:28.570223 636804 daisy.py:419] < 2s wait complete
I1209 21:21:28.570394 636804 daisy.py:420] start VNF chaining
D1209 21:21:28.570579 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain20-source', vnf_src_interface='intf1', vnf_dst_name=u'chain20-nat', vnf_dst_interface='input'
I1209 21:21:28.570863 636804 net.py:665] Path between chain20-source and chain20-nat: ['dc18.s1', u'gsw0', 'dc28.s1']
I1209 21:21:28.571104 636804 net.py:889] add-flow
I1209 21:21:28.571188 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:241,output=1
I1209 21:21:28.575062 636804 net.py:893] add-flow in switch: dc18.s1 in_port: 8 out_port: 1
I1209 21:21:28.575205 636804 net.py:889] add-flow
I1209 21:21:28.575283 636804 net.py:890] in_port=47,dl_vlan=241,action=8
I1209 21:21:28.592448 636804 net.py:893] add-flow in switch: gsw0 in_port: 47 out_port: 8
I1209 21:21:28.592616 636804 net.py:694] end node reached: chain20-nat
I1209 21:21:28.592725 636804 net.py:889] add-flow
I1209 21:21:28.592799 636804 net.py:890] in_port=1,dl_vlan=241,action=strip_vlan,output=7
I1209 21:21:28.610292 636804 net.py:893] add-flow in switch: dc28.s1 in_port: 1 out_port: 7
D1209 21:21:28.610598 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain20-nat', vnf_src_interface='input', vnf_dst_name=u'chain20-source', vnf_dst_interface='intf1'
I1209 21:21:28.610765 636804 net.py:665] Path between chain20-nat and chain20-source: ['dc28.s1', u'gsw0', 'dc18.s1']
I1209 21:21:28.610871 636804 net.py:889] add-flow
I1209 21:21:28.610990 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:242,output=1
I1209 21:21:28.628374 636804 net.py:893] add-flow in switch: dc28.s1 in_port: 7 out_port: 1
I1209 21:21:28.628544 636804 net.py:889] add-flow
I1209 21:21:28.628649 636804 net.py:890] in_port=8,dl_vlan=242,action=47
I1209 21:21:28.645327 636804 net.py:893] add-flow in switch: gsw0 in_port: 8 out_port: 47
I1209 21:21:28.645452 636804 net.py:694] end node reached: chain20-source
I1209 21:21:28.645567 636804 net.py:889] add-flow
I1209 21:21:28.645648 636804 net.py:890] in_port=1,dl_vlan=242,action=strip_vlan,output=8
I1209 21:21:28.661884 636804 net.py:893] add-flow in switch: dc18.s1 in_port: 1 out_port: 8
I1209 21:21:28.662175 636804 daisy.py:322] chain(chain20-source, chain20-nat) output: success: add-flow between chain20-source and chain20-nat with options: {
 "priority": 1000, 
 "path": [
  "dc18.s1", 
  "gsw0", 
  "dc28.s1"
 ], 
 "vlan": 241, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain20-nat and chain20-source with options: {
 "priority": 1000, 
 "path": [
  "dc28.s1", 
  "gsw0", 
  "dc18.s1"
 ], 
 "vlan": 242, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:21:28.662318 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain20-nat', vnf_src_interface='output', vnf_dst_name=u'chain20-fw', vnf_dst_interface='input'
I1209 21:21:28.662462 636804 net.py:665] Path between chain20-nat and chain20-fw: ['dc28.s1']
I1209 21:21:28.662561 636804 net.py:694] end node reached: chain20-fw
I1209 21:21:28.662707 636804 net.py:889] add-flow
I1209 21:21:28.662836 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:243,output=2
I1209 21:21:28.678693 636804 net.py:893] add-flow in switch: dc28.s1 in_port: 8 out_port: 2
I1209 21:21:28.678843 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc28.s1 in_port: 8 out_port: 2
I1209 21:21:28.678966 636804 net.py:931] add-flow
I1209 21:21:28.679052 636804 net.py:932] in_port=8,action=strip_vlan,output=2
I1209 21:21:28.695709 636804 net.py:935] add-flow in switch: dc28.s1 in_port: 8 out_port: 2
D1209 21:21:28.696404 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain20-fw', vnf_src_interface='input', vnf_dst_name=u'chain20-nat', vnf_dst_interface='output'
I1209 21:21:28.696551 636804 net.py:665] Path between chain20-fw and chain20-nat: ['dc28.s1']
I1209 21:21:28.696654 636804 net.py:694] end node reached: chain20-nat
I1209 21:21:28.696748 636804 net.py:889] add-flow
I1209 21:21:28.696844 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:244,output=8
I1209 21:21:28.735889 636804 net.py:893] add-flow in switch: dc28.s1 in_port: 2 out_port: 8
I1209 21:21:28.736047 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc28.s1 in_port: 2 out_port: 8
I1209 21:21:28.736143 636804 net.py:931] add-flow
I1209 21:21:28.736228 636804 net.py:932] in_port=2,action=strip_vlan,output=8
I1209 21:21:28.755757 636804 net.py:935] add-flow in switch: dc28.s1 in_port: 2 out_port: 8
I1209 21:21:28.756004 636804 daisy.py:329] chain(chain20-nat, chain20-fw) output: success: add-flow between chain20-nat and chain20-fw with options: {
 "priority": 1000, 
 "path": [
  "dc28.s1"
 ], 
 "vlan": 243, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain20-fw and chain20-nat with options: {
 "priority": 1000, 
 "path": [
  "dc28.s1"
 ], 
 "vlan": 244, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:21:28.756128 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain20-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain20-ids', vnf_dst_interface='input'
I1209 21:21:28.756290 636804 net.py:665] Path between chain20-fw and chain20-ids: ['dc28.s1']
I1209 21:21:28.756383 636804 net.py:694] end node reached: chain20-ids
I1209 21:21:28.756481 636804 net.py:889] add-flow
I1209 21:21:28.756558 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:245,output=5
I1209 21:21:28.796511 636804 net.py:893] add-flow in switch: dc28.s1 in_port: 3 out_port: 5
D1209 21:21:28.796704 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain20-ids', vnf_src_interface='input', vnf_dst_name=u'chain20-fw', vnf_dst_interface='output-ids'
I1209 21:21:28.796859 636804 net.py:665] Path between chain20-ids and chain20-fw: ['dc28.s1']
I1209 21:21:28.796960 636804 net.py:694] end node reached: chain20-fw
I1209 21:21:28.797060 636804 net.py:889] add-flow
I1209 21:21:28.797137 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:246,output=3
I1209 21:21:28.820574 636804 net.py:893] add-flow in switch: dc28.s1 in_port: 5 out_port: 3
I1209 21:21:28.820699 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc28.s1 in_port: 5 out_port: 3
I1209 21:21:28.820804 636804 net.py:931] add-flow
I1209 21:21:28.820885 636804 net.py:932] in_port=5,action=strip_vlan,output=3
I1209 21:21:28.838469 636804 net.py:935] add-flow in switch: dc28.s1 in_port: 5 out_port: 3
I1209 21:21:28.838706 636804 daisy.py:336] chain(chain20-fw, chain20-ids) output: success: add-flow between chain20-fw and chain20-ids with options: {
 "priority": 1000, 
 "path": [
  "dc28.s1"
 ], 
 "vlan": 245, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain20-ids and chain20-fw with options: {
 "priority": 1000, 
 "path": [
  "dc28.s1"
 ], 
 "vlan": 246, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:21:28.838828 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain20-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain20-vpn', vnf_dst_interface='input-fw'
I1209 21:21:28.838954 636804 net.py:665] Path between chain20-fw and chain20-vpn: ['dc28.s1']
I1209 21:21:28.839072 636804 net.py:694] end node reached: chain20-vpn
I1209 21:21:28.839183 636804 net.py:889] add-flow
I1209 21:21:28.839272 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:247,output=10
I1209 21:21:28.870925 636804 net.py:893] add-flow in switch: dc28.s1 in_port: 4 out_port: 10
D1209 21:21:28.871140 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain20-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain20-fw', vnf_dst_interface='output-vpn'
I1209 21:21:28.871278 636804 net.py:665] Path between chain20-vpn and chain20-fw: ['dc28.s1']
I1209 21:21:28.871421 636804 net.py:694] end node reached: chain20-fw
I1209 21:21:28.871535 636804 net.py:889] add-flow
I1209 21:21:28.871623 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:248,output=4
I1209 21:21:28.888061 636804 net.py:893] add-flow in switch: dc28.s1 in_port: 10 out_port: 4
I1209 21:21:28.888268 636804 daisy.py:343] chain(chain20-fw, chain20-vpn) output: success: add-flow between chain20-fw and chain20-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc28.s1"
 ], 
 "vlan": 247, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain20-vpn and chain20-fw with options: {
 "priority": 1000, 
 "path": [
  "dc28.s1"
 ], 
 "vlan": 248, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:21:28.888385 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain20-ids', vnf_src_interface='output', vnf_dst_name=u'chain20-vpn', vnf_dst_interface='input-ids'
I1209 21:21:28.888524 636804 net.py:665] Path between chain20-ids and chain20-vpn: ['dc28.s1']
I1209 21:21:28.888622 636804 net.py:694] end node reached: chain20-vpn
I1209 21:21:28.888726 636804 net.py:889] add-flow
I1209 21:21:28.888806 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:249,output=9
I1209 21:21:28.904414 636804 net.py:893] add-flow in switch: dc28.s1 in_port: 6 out_port: 9
I1209 21:21:28.904561 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc28.s1 in_port: 6 out_port: 9
I1209 21:21:28.904670 636804 net.py:931] add-flow
I1209 21:21:28.904762 636804 net.py:932] in_port=6,action=strip_vlan,output=9
I1209 21:21:28.921760 636804 net.py:935] add-flow in switch: dc28.s1 in_port: 6 out_port: 9
D1209 21:21:28.921982 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain20-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain20-ids', vnf_dst_interface='output'
I1209 21:21:28.922157 636804 net.py:665] Path between chain20-vpn and chain20-ids: ['dc28.s1']
I1209 21:21:28.922257 636804 net.py:694] end node reached: chain20-ids
I1209 21:21:28.922354 636804 net.py:889] add-flow
I1209 21:21:28.922456 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:250,output=6
I1209 21:21:28.955312 636804 net.py:893] add-flow in switch: dc28.s1 in_port: 9 out_port: 6
I1209 21:21:28.955497 636804 daisy.py:350] chain(chain20-ids, chain20-vpn) output: success: add-flow between chain20-ids and chain20-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc28.s1"
 ], 
 "vlan": 249, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain20-vpn and chain20-ids with options: {
 "priority": 1000, 
 "path": [
  "dc28.s1"
 ], 
 "vlan": 250, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:21:28.955611 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain20-vpn', vnf_src_interface='output', vnf_dst_name=u'chain20-sink', vnf_dst_interface='intf2'
I1209 21:21:28.955758 636804 net.py:665] Path between chain20-vpn and chain20-sink: ['dc28.s1', u'gsw0', 'dc16.s1']
I1209 21:21:28.955862 636804 net.py:889] add-flow
I1209 21:21:28.955950 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:251,output=1
I1209 21:21:28.972364 636804 net.py:893] add-flow in switch: dc28.s1 in_port: 11 out_port: 1
I1209 21:21:28.972516 636804 net.py:889] add-flow
I1209 21:21:28.972609 636804 net.py:890] in_port=8,dl_vlan=251,action=41
I1209 21:21:28.988859 636804 net.py:893] add-flow in switch: gsw0 in_port: 8 out_port: 41
I1209 21:21:28.988971 636804 net.py:694] end node reached: chain20-sink
I1209 21:21:28.989068 636804 net.py:889] add-flow
I1209 21:21:28.989129 636804 net.py:890] in_port=1,dl_vlan=251,action=strip_vlan,output=8
I1209 21:21:29.005403 636804 net.py:893] add-flow in switch: dc16.s1 in_port: 1 out_port: 8
D1209 21:21:29.005565 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain20-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain20-vpn', vnf_dst_interface='output'
I1209 21:21:29.005681 636804 net.py:665] Path between chain20-sink and chain20-vpn: ['dc16.s1', u'gsw0', 'dc28.s1']
I1209 21:21:29.005767 636804 net.py:889] add-flow
I1209 21:21:29.005825 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:252,output=1
I1209 21:21:29.023971 636804 net.py:893] add-flow in switch: dc16.s1 in_port: 8 out_port: 1
I1209 21:21:29.024128 636804 net.py:889] add-flow
I1209 21:21:29.024224 636804 net.py:890] in_port=41,dl_vlan=252,action=8
I1209 21:21:29.040561 636804 net.py:893] add-flow in switch: gsw0 in_port: 41 out_port: 8
I1209 21:21:29.040695 636804 net.py:694] end node reached: chain20-vpn
I1209 21:21:29.040775 636804 net.py:889] add-flow
I1209 21:21:29.040832 636804 net.py:890] in_port=1,dl_vlan=252,action=strip_vlan,output=11
I1209 21:21:29.056828 636804 net.py:893] add-flow in switch: dc28.s1 in_port: 1 out_port: 11
I1209 21:21:29.057065 636804 daisy.py:357] chain(chain20-vpn, chain20-sink) output: success: add-flow between chain20-vpn and chain20-sink with options: {
 "priority": 1000, 
 "path": [
  "dc28.s1", 
  "gsw0", 
  "dc16.s1"
 ], 
 "vlan": 251, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain20-sink and chain20-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc16.s1", 
  "gsw0", 
  "dc28.s1"
 ], 
 "vlan": 252, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:21:30 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:21:30 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:21:30 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:21:30 2017 UDPv4 link local: [undef]
Sat Dec  9 21:21:30 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:21:30 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=d44b70b6 43960d41
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:21:30 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:21:30 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:21:30 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:21:31 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:21:31 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:21:31 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:21:31 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:21:31 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:21:31 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:21:31 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:21:31 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:21:33 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:21:33 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:21:33 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:21:33 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:21:33 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:21:33 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:21:33 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:7d
Sat Dec  9 21:21:33 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:21:33 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:21:33 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:21:33 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:21:33 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:21:33 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:21:33 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:21:33 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:21:33 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:21:33 2017 GID set to nogroup
Sat Dec  9 21:21:33 2017 UID set to nobody
Sat Dec  9 21:21:33 2017 Initialization Sequence Completed
I1209 21:21:36.573414 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:21:41.578217 636804 daisy.py:443] < 5s wait complete
I1209 21:21:41.578433 636804 daisy.py:444] VPN client VNF started
chain20-source -> chain20-sink 
chain20-sink -> chain20-source 
*** Results: 0% dropped (2/2 received)
I1209 21:21:43.543790 636804 daisy.py:369] ping chain20-source -> chain20-sink. Packet drop 0.0%
I1209 21:21:43.597007 636804 bench.py:19] Copying traces into the containers...
I1209 21:21:44.816170 636804 bench.py:29] Running dstat...
I1209 21:21:47.072700 636804 iter-e2-allocation.py:17] started allocating chain: 21
I1209 21:21:47.073056 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server7']
I1209 21:21:47.073160 636804 daisy.py:240] creating chain21-fw on chain-server7
D1209 21:21:47.073914 636804 node.py:55] Starting compute instance u'chain21-fw' in data center 'chain-server7'
D1209 21:21:47.765279 636804 simple.py:215] Setting MEM limit for u'chain20-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:47.794378 636804 simple.py:169] Setting CPU limit for u'chain20-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:21:47.843421 636804 simple.py:215] Setting MEM limit for u'chain20-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:47.863751 636804 simple.py:215] Setting MEM limit for u'chain20-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:47.887382 636804 simple.py:169] Setting CPU limit for u'chain21-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:21:47.931247 636804 simple.py:215] Setting MEM limit for u'chain21-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:47.953330 636804 simple.py:215] Setting MEM limit for u'chain20-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:21:48.261480 636804 net.py:233] addLink: n1=chain21-fw intf1=input -- n2=dc28.s1 intf2=dc28.s1-eth12
D1209 21:21:48.423520 636804 net.py:233] addLink: n1=chain21-fw intf1=output-ids -- n2=dc28.s1 intf2=dc28.s1-eth13
D1209 21:21:48.612423 636804 net.py:233] addLink: n1=chain21-fw intf1=output-vpn -- n2=dc28.s1 intf2=dc28.s1-eth14
I1209 21:21:48.612632 636804 daisy.py:310] successfully created VNF: chain21-fw
I1209 21:21:48.612783 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server7']
I1209 21:21:48.612871 636804 daisy.py:240] creating chain21-ids on chain-server7
D1209 21:21:48.613538 636804 node.py:55] Starting compute instance u'chain21-ids' in data center 'chain-server7'
D1209 21:21:49.417094 636804 simple.py:215] Setting MEM limit for u'chain20-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:49.443464 636804 simple.py:169] Setting CPU limit for u'chain21-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:21:49.491004 636804 simple.py:215] Setting MEM limit for u'chain21-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:21:49.516848 636804 simple.py:215] Setting MEM limit for u'chain20-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:49.540209 636804 simple.py:169] Setting CPU limit for u'chain20-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:21:49.587512 636804 simple.py:215] Setting MEM limit for u'chain20-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:49.607534 636804 simple.py:169] Setting CPU limit for u'chain21-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:21:49.650372 636804 simple.py:215] Setting MEM limit for u'chain21-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:49.671447 636804 simple.py:215] Setting MEM limit for u'chain20-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:21:49.900232 636804 net.py:233] addLink: n1=chain21-ids intf1=input -- n2=dc28.s1 intf2=dc28.s1-eth15
D1209 21:21:50.066787 636804 net.py:233] addLink: n1=chain21-ids intf1=output -- n2=dc28.s1 intf2=dc28.s1-eth16
I1209 21:21:50.067014 636804 daisy.py:310] successfully created VNF: chain21-ids
I1209 21:21:50.067125 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server7']
I1209 21:21:50.067203 636804 daisy.py:240] creating chain21-nat on chain-server7
D1209 21:21:50.067853 636804 node.py:55] Starting compute instance u'chain21-nat' in data center 'chain-server7'
D1209 21:21:50.807178 636804 simple.py:215] Setting MEM limit for u'chain20-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:50.829983 636804 simple.py:169] Setting CPU limit for u'chain21-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:21:50.872224 636804 simple.py:215] Setting MEM limit for u'chain21-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:50.893830 636804 simple.py:215] Setting MEM limit for u'chain21-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:21:50.912992 636804 simple.py:215] Setting MEM limit for u'chain20-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:50.933825 636804 simple.py:169] Setting CPU limit for u'chain20-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:21:50.983447 636804 simple.py:215] Setting MEM limit for u'chain20-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:51.005630 636804 simple.py:169] Setting CPU limit for u'chain21-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:21:51.049057 636804 simple.py:215] Setting MEM limit for u'chain21-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:51.070514 636804 simple.py:215] Setting MEM limit for u'chain20-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:21:51.269021 636804 net.py:233] addLink: n1=chain21-nat intf1=input -- n2=dc28.s1 intf2=dc28.s1-eth17
D1209 21:21:51.469034 636804 net.py:233] addLink: n1=chain21-nat intf1=output -- n2=dc28.s1 intf2=dc28.s1-eth18
I1209 21:21:51.469243 636804 daisy.py:310] successfully created VNF: chain21-nat
I1209 21:21:51.469381 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server7']
I1209 21:21:51.469475 636804 daisy.py:240] creating chain21-vpn on chain-server7
D1209 21:21:51.470204 636804 node.py:55] Starting compute instance u'chain21-vpn' in data center 'chain-server7'
D1209 21:21:52.165241 636804 simple.py:215] Setting MEM limit for u'chain20-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:52.191381 636804 simple.py:169] Setting CPU limit for u'chain21-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:21:52.231760 636804 simple.py:215] Setting MEM limit for u'chain21-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:52.253246 636804 simple.py:215] Setting MEM limit for u'chain21-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:52.274154 636804 simple.py:215] Setting MEM limit for u'chain21-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:21:52.297518 636804 simple.py:215] Setting MEM limit for u'chain20-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:52.321451 636804 simple.py:169] Setting CPU limit for u'chain20-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:21:52.368519 636804 simple.py:215] Setting MEM limit for u'chain20-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:52.392008 636804 simple.py:169] Setting CPU limit for u'chain21-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:21:52.438805 636804 simple.py:215] Setting MEM limit for u'chain21-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:52.463852 636804 simple.py:215] Setting MEM limit for u'chain20-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:21:52.694617 636804 net.py:233] addLink: n1=chain21-vpn intf1=input-ids -- n2=dc28.s1 intf2=dc28.s1-eth19
D1209 21:21:52.885613 636804 net.py:233] addLink: n1=chain21-vpn intf1=input-fw -- n2=dc28.s1 intf2=dc28.s1-eth20
D1209 21:21:53.043890 636804 net.py:233] addLink: n1=chain21-vpn intf1=output -- n2=dc28.s1 intf2=dc28.s1-eth21
I1209 21:21:53.044153 636804 daisy.py:310] successfully created VNF: chain21-vpn
I1209 21:21:53.044265 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud0']
I1209 21:21:53.044373 636804 daisy.py:240] creating chain21-sink on off-cloud0
D1209 21:21:53.045655 636804 node.py:55] Starting compute instance u'chain21-sink' in data center 'off-cloud0'
D1209 21:21:53.759912 636804 simple.py:215] Setting MEM limit for u'chain18-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:53.785645 636804 simple.py:215] Setting MEM limit for u'chain5-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:53.810518 636804 simple.py:215] Setting MEM limit for u'chain6-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:53.833811 636804 simple.py:215] Setting MEM limit for u'chain19-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:53.864742 636804 simple.py:215] Setting MEM limit for u'chain3-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:53.895524 636804 simple.py:169] Setting CPU limit for u'chain21-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:21:53.940144 636804 simple.py:215] Setting MEM limit for u'chain21-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:53.962781 636804 simple.py:215] Setting MEM limit for u'chain4-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:53.984153 636804 simple.py:215] Setting MEM limit for u'chain20-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:54.174742 636804 net.py:233] addLink: n1=chain21-sink intf1=intf2 -- n2=dc16.s1 intf2=dc16.s1-eth9
I1209 21:21:54.175009 636804 daisy.py:310] successfully created VNF: chain21-sink
I1209 21:21:54.175151 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud6']
I1209 21:21:54.175236 636804 daisy.py:240] creating chain21-source on off-cloud6
D1209 21:21:54.175910 636804 node.py:55] Starting compute instance u'chain21-source' in data center 'off-cloud6'
D1209 21:21:54.904614 636804 simple.py:215] Setting MEM limit for u'chain8-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:54.932758 636804 simple.py:215] Setting MEM limit for u'chain9-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:54.961123 636804 simple.py:169] Setting CPU limit for u'chain21-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:21:55.007540 636804 simple.py:215] Setting MEM limit for u'chain21-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:55.031102 636804 simple.py:215] Setting MEM limit for u'chain17-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:55.056183 636804 simple.py:215] Setting MEM limit for u'chain11-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:55.077817 636804 simple.py:215] Setting MEM limit for u'chain20-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:55.099076 636804 simple.py:215] Setting MEM limit for u'chain19-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:55.119204 636804 simple.py:215] Setting MEM limit for u'chain18-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:21:55.319051 636804 net.py:233] addLink: n1=chain21-source intf1=intf1 -- n2=dc18.s1 intf2=dc18.s1-eth9
I1209 21:21:55.319289 636804 daisy.py:310] successfully created VNF: chain21-source
I1209 21:21:55.319396 636804 daisy.py:311] successfully created chain: 21
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
7', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server7', 2], [u'off-cloud0', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain20-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain20-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain20-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain20-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain20-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain20-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain20-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain20-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain20-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain20-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain20-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain20-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain20-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain20-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain20-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain20-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain20-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain20-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain20-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain20-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain20-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain20-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain20-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain20-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain20-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain20-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.02201900000000001, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server7'], [u'ids', u'chain-server7'], [u'nat', u'chain-server7'], [u'vpn', u'chain-server7'], [u'sink', u'off-cloud0'], [u'source', u'off-cloud6']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 1.172307, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud6', 2], [u'chain-server7', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server7', 2], [u'off-cloud0', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain21-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain21-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain21-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain21-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain21-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain21-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain21-nat ./start.sh (0 is succFixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:21:57.594410 636804 daisy.py:401] source, nat, and fw start done
I1209 21:21:57.594680 636804 daisy.py:402] My commands
I1209 21:21:57.721642 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:21:59.722167 636804 daisy.py:419] < 2s wait complete
I1209 21:21:59.722429 636804 daisy.py:420] start VNF chaining
D1209 21:21:59.722615 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain21-source', vnf_src_interface='intf1', vnf_dst_name=u'chain21-nat', vnf_dst_interface='input'
I1209 21:21:59.722985 636804 net.py:665] Path between chain21-source and chain21-nat: ['dc18.s1', u'gsw0', 'dc28.s1']
I1209 21:21:59.723206 636804 net.py:889] add-flow
I1209 21:21:59.723330 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:253,output=1
I1209 21:21:59.727116 636804 net.py:893] add-flow in switch: dc18.s1 in_port: 9 out_port: 1
I1209 21:21:59.727304 636804 net.py:889] add-flow
I1209 21:21:59.727431 636804 net.py:890] in_port=47,dl_vlan=253,action=8
I1209 21:21:59.743674 636804 net.py:893] add-flow in switch: gsw0 in_port: 47 out_port: 8
I1209 21:21:59.743933 636804 net.py:694] end node reached: chain21-nat
I1209 21:21:59.744061 636804 net.py:889] add-flow
I1209 21:21:59.744148 636804 net.py:890] in_port=1,dl_vlan=253,action=strip_vlan,output=17
I1209 21:21:59.762506 636804 net.py:893] add-flow in switch: dc28.s1 in_port: 1 out_port: 17
D1209 21:21:59.762917 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain21-nat', vnf_src_interface='input', vnf_dst_name=u'chain21-source', vnf_dst_interface='intf1'
I1209 21:21:59.763125 636804 net.py:665] Path between chain21-nat and chain21-source: ['dc28.s1', u'gsw0', 'dc18.s1']
I1209 21:21:59.763254 636804 net.py:889] add-flow
I1209 21:21:59.763345 636804 net.py:890] -O OpenFlow13 in_port=17,action=mod_vlan_vid:254,output=1
I1209 21:21:59.780910 636804 net.py:893] add-flow in switch: dc28.s1 in_port: 17 out_port: 1
I1209 21:21:59.781107 636804 net.py:889] add-flow
I1209 21:21:59.781214 636804 net.py:890] in_port=8,dl_vlan=254,action=47
I1209 21:21:59.798618 636804 net.py:893] add-flow in switch: gsw0 in_port: 8 out_port: 47
I1209 21:21:59.798753 636804 net.py:694] end node reached: chain21-source
I1209 21:21:59.798876 636804 net.py:889] add-flow
I1209 21:21:59.798993 636804 net.py:890] in_port=1,dl_vlan=254,action=strip_vlan,output=9
I1209 21:21:59.816128 636804 net.py:893] add-flow in switch: dc18.s1 in_port: 1 out_port: 9
I1209 21:21:59.816426 636804 daisy.py:322] chain(chain21-source, chain21-nat) output: success: add-flow between chain21-source and chain21-nat with options: {
 "priority": 1000, 
 "path": [
  "dc18.s1", 
  "gsw0", 
  "dc28.s1"
 ], 
 "vlan": 253, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain21-nat and chain21-source with options: {
 "priority": 1000, 
 "path": [
  "dc28.s1", 
  "gsw0", 
  "dc18.s1"
 ], 
 "vlan": 254, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:21:59.816795 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain21-nat', vnf_src_interface='output', vnf_dst_name=u'chain21-fw', vnf_dst_interface='input'
I1209 21:21:59.817009 636804 net.py:665] Path between chain21-nat and chain21-fw: ['dc28.s1']
I1209 21:21:59.817140 636804 net.py:694] end node reached: chain21-fw
I1209 21:21:59.817264 636804 net.py:889] add-flow
I1209 21:21:59.817363 636804 net.py:890] -O OpenFlow13 in_port=18,action=mod_vlan_vid:255,output=12
I1209 21:21:59.833738 636804 net.py:893] add-flow in switch: dc28.s1 in_port: 18 out_port: 12
I1209 21:21:59.833926 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc28.s1 in_port: 18 out_port: 12
I1209 21:21:59.834055 636804 net.py:931] add-flow
I1209 21:21:59.834237 636804 net.py:932] in_port=18,action=strip_vlan,output=12
I1209 21:21:59.851048 636804 net.py:935] add-flow in switch: dc28.s1 in_port: 18 out_port: 12
D1209 21:21:59.851286 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain21-fw', vnf_src_interface='input', vnf_dst_name=u'chain21-nat', vnf_dst_interface='output'
I1209 21:21:59.851464 636804 net.py:665] Path between chain21-fw and chain21-nat: ['dc28.s1']
I1209 21:21:59.851597 636804 net.py:694] end node reached: chain21-nat
I1209 21:21:59.851727 636804 net.py:889] add-flow
I1209 21:21:59.851856 636804 net.py:890] -O OpenFlow13 in_port=12,action=mod_vlan_vid:256,output=18
I1209 21:21:59.887833 636804 net.py:893] add-flow in switch: dc28.s1 in_port: 12 out_port: 18
I1209 21:21:59.888011 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc28.s1 in_port: 12 out_port: 18
I1209 21:21:59.888134 636804 net.py:931] add-flow
I1209 21:21:59.888258 636804 net.py:932] in_port=12,action=strip_vlan,output=18
I1209 21:21:59.906205 636804 net.py:935] add-flow in switch: dc28.s1 in_port: 12 out_port: 18
I1209 21:21:59.906436 636804 daisy.py:329] chain(chain21-nat, chain21-fw) output: success: add-flow between chain21-nat and chain21-fw with options: {
 "priority": 1000, 
 "path": [
  "dc28.s1"
 ], 
 "vlan": 255, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain21-fw and chain21-nat with options: {
 "priority": 1000, 
 "path": [
  "dc28.s1"
 ], 
 "vlan": 256, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:21:59.906621 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain21-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain21-ids', vnf_dst_interface='input'
I1209 21:21:59.906771 636804 net.py:665] Path between chain21-fw and chain21-ids: ['dc28.s1']
I1209 21:21:59.906959 636804 net.py:694] end node reached: chain21-ids
I1209 21:21:59.907074 636804 net.py:889] add-flow
I1209 21:21:59.907171 636804 net.py:890] -O OpenFlow13 in_port=13,action=mod_vlan_vid:257,output=15
I1209 21:21:59.939788 636804 net.py:893] add-flow in switch: dc28.s1 in_port: 13 out_port: 15
D1209 21:21:59.940023 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain21-ids', vnf_src_interface='input', vnf_dst_name=u'chain21-fw', vnf_dst_interface='output-ids'
I1209 21:21:59.940193 636804 net.py:665] Path between chain21-ids and chain21-fw: ['dc28.s1']
I1209 21:21:59.940327 636804 net.py:694] end node reached: chain21-fw
I1209 21:21:59.940459 636804 net.py:889] add-flow
I1209 21:21:59.940571 636804 net.py:890] -O OpenFlow13 in_port=15,action=mod_vlan_vid:258,output=13
I1209 21:21:59.958113 636804 net.py:893] add-flow in switch: dc28.s1 in_port: 15 out_port: 13
I1209 21:21:59.958259 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc28.s1 in_port: 15 out_port: 13
I1209 21:21:59.958380 636804 net.py:931] add-flow
I1209 21:21:59.958492 636804 net.py:932] in_port=15,action=strip_vlan,output=13
I1209 21:21:59.977089 636804 net.py:935] add-flow in switch: dc28.s1 in_port: 15 out_port: 13
I1209 21:21:59.977324 636804 daisy.py:336] chain(chain21-fw, chain21-ids) output: success: add-flow between chain21-fw and chain21-ids with options: {
 "priority": 1000, 
 "path": [
  "dc28.s1"
 ], 
 "vlan": 257, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain21-ids and chain21-fw with options: {
 "priority": 1000, 
 "path": [
  "dc28.s1"
 ], 
 "vlan": 258, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:21:59.977519 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain21-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain21-vpn', vnf_dst_interface='input-fw'
I1209 21:21:59.977688 636804 net.py:665] Path between chain21-fw and chain21-vpn: ['dc28.s1']
I1209 21:21:59.977818 636804 net.py:694] end node reached: chain21-vpn
I1209 21:21:59.978004 636804 net.py:889] add-flow
I1209 21:21:59.978180 636804 net.py:890] -O OpenFlow13 in_port=14,action=mod_vlan_vid:259,output=20
I1209 21:22:00.014674 636804 net.py:893] add-flow in switch: dc28.s1 in_port: 14 out_port: 20
D1209 21:22:00.014925 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain21-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain21-fw', vnf_dst_interface='output-vpn'
I1209 21:22:00.015105 636804 net.py:665] Path between chain21-vpn and chain21-fw: ['dc28.s1']
I1209 21:22:00.015255 636804 net.py:694] end node reached: chain21-fw
I1209 21:22:00.015386 636804 net.py:889] add-flow
I1209 21:22:00.015499 636804 net.py:890] -O OpenFlow13 in_port=20,action=mod_vlan_vid:260,output=14
I1209 21:22:00.035548 636804 net.py:893] add-flow in switch: dc28.s1 in_port: 20 out_port: 14
I1209 21:22:00.035763 636804 daisy.py:343] chain(chain21-fw, chain21-vpn) output: success: add-flow between chain21-fw and chain21-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc28.s1"
 ], 
 "vlan": 259, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain21-vpn and chain21-fw with options: {
 "priority": 1000, 
 "path": [
  "dc28.s1"
 ], 
 "vlan": 260, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:22:00.035959 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain21-ids', vnf_src_interface='output', vnf_dst_name=u'chain21-vpn', vnf_dst_interface='input-ids'
I1209 21:22:00.036125 636804 net.py:665] Path between chain21-ids and chain21-vpn: ['dc28.s1']
I1209 21:22:00.036253 636804 net.py:694] end node reached: chain21-vpn
I1209 21:22:00.036386 636804 net.py:889] add-flow
I1209 21:22:00.036530 636804 net.py:890] -O OpenFlow13 in_port=16,action=mod_vlan_vid:261,output=19
I1209 21:22:00.054728 636804 net.py:893] add-flow in switch: dc28.s1 in_port: 16 out_port: 19
I1209 21:22:00.054884 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc28.s1 in_port: 16 out_port: 19
I1209 21:22:00.055016 636804 net.py:931] add-flow
I1209 21:22:00.055125 636804 net.py:932] in_port=16,action=strip_vlan,output=19
I1209 21:22:00.073540 636804 net.py:935] add-flow in switch: dc28.s1 in_port: 16 out_port: 19
D1209 21:22:00.073760 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain21-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain21-ids', vnf_dst_interface='output'
I1209 21:22:00.073940 636804 net.py:665] Path between chain21-vpn and chain21-ids: ['dc28.s1']
I1209 21:22:00.074070 636804 net.py:694] end node reached: chain21-ids
I1209 21:22:00.074273 636804 net.py:889] add-flow
I1209 21:22:00.074394 636804 net.py:890] -O OpenFlow13 in_port=19,action=mod_vlan_vid:262,output=16
I1209 21:22:00.111064 636804 net.py:893] add-flow in switch: dc28.s1 in_port: 19 out_port: 16
I1209 21:22:00.111284 636804 daisy.py:350] chain(chain21-ids, chain21-vpn) output: success: add-flow between chain21-ids and chain21-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc28.s1"
 ], 
 "vlan": 261, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain21-vpn and chain21-ids with options: {
 "priority": 1000, 
 "path": [
  "dc28.s1"
 ], 
 "vlan": 262, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:22:00.111479 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain21-vpn', vnf_src_interface='output', vnf_dst_name=u'chain21-sink', vnf_dst_interface='intf2'
I1209 21:22:00.111689 636804 net.py:665] Path between chain21-vpn and chain21-sink: ['dc28.s1', u'gsw0', 'dc16.s1']
I1209 21:22:00.111840 636804 net.py:889] add-flow
I1209 21:22:00.111979 636804 net.py:890] -O OpenFlow13 in_port=21,action=mod_vlan_vid:263,output=1
I1209 21:22:00.130903 636804 net.py:893] add-flow in switch: dc28.s1 in_port: 21 out_port: 1
I1209 21:22:00.131078 636804 net.py:889] add-flow
I1209 21:22:00.131177 636804 net.py:890] in_port=8,dl_vlan=263,action=41
I1209 21:22:00.149806 636804 net.py:893] add-flow in switch: gsw0 in_port: 8 out_port: 41
I1209 21:22:00.150015 636804 net.py:694] end node reached: chain21-sink
I1209 21:22:00.150207 636804 net.py:889] add-flow
I1209 21:22:00.150325 636804 net.py:890] in_port=1,dl_vlan=263,action=strip_vlan,output=9
I1209 21:22:00.167635 636804 net.py:893] add-flow in switch: dc16.s1 in_port: 1 out_port: 9
D1209 21:22:00.167871 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain21-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain21-vpn', vnf_dst_interface='output'
I1209 21:22:00.168085 636804 net.py:665] Path between chain21-sink and chain21-vpn: ['dc16.s1', u'gsw0', 'dc28.s1']
I1209 21:22:00.168241 636804 net.py:889] add-flow
I1209 21:22:00.168356 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:264,output=1
I1209 21:22:00.185165 636804 net.py:893] add-flow in switch: dc16.s1 in_port: 9 out_port: 1
I1209 21:22:00.185347 636804 net.py:889] add-flow
I1209 21:22:00.185456 636804 net.py:890] in_port=41,dl_vlan=264,action=8
I1209 21:22:00.204478 636804 net.py:893] add-flow in switch: gsw0 in_port: 41 out_port: 8
I1209 21:22:00.204647 636804 net.py:694] end node reached: chain21-vpn
I1209 21:22:00.204772 636804 net.py:889] add-flow
I1209 21:22:00.204891 636804 net.py:890] in_port=1,dl_vlan=264,action=strip_vlan,output=21
I1209 21:22:00.222914 636804 net.py:893] add-flow in switch: dc28.s1 in_port: 1 out_port: 21
I1209 21:22:00.223162 636804 daisy.py:357] chain(chain21-vpn, chain21-sink) output: success: add-flow between chain21-vpn and chain21-sink with options: {
 "priority": 1000, 
 "path": [
  "dc28.s1", 
  "gsw0", 
  "dc16.s1"
 ], 
 "vlan": 263, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain21-sink and chain21-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc16.s1", 
  "gsw0", 
  "dc28.s1"
 ], 
 "vlan": 264, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:22:01 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:22:01 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:22:01 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:22:01 2017 UDPv4 link local: [undef]
Sat Dec  9 21:22:01 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:22:01 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=5455524e 9039cf98
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:22:01 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:22:01 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:22:01 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:22:02 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:22:02 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:22:02 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:22:02 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:22:02 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:22:02 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:22:02 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:22:02 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:22:04 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:22:04 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:22:04 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:22:04 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:22:04 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:22:04 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:22:04 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:83
Sat Dec  9 21:22:04 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:22:04 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:22:04 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:22:04 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:22:04 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:22:04 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:22:04 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:22:04 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:22:04 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:22:04 2017 GID set to nogroup
Sat Dec  9 21:22:04 2017 UID set to nobody
Sat Dec  9 21:22:04 2017 Initialization Sequence Completed
I1209 21:22:07.375679 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:22:12.381076 636804 daisy.py:443] < 5s wait complete
I1209 21:22:12.381299 636804 daisy.py:444] VPN client VNF started
chain21-source -> chain21-sink 
chain21-sink -> chain21-source 
*** Results: 0% dropped (2/2 received)
I1209 21:22:15.239314 636804 daisy.py:369] ping chain21-source -> chain21-sink. Packet drop 0.0%
I1209 21:22:15.299148 636804 bench.py:19] Copying traces into the containers...
I1209 21:22:16.598999 636804 bench.py:29] Running dstat...
I1209 21:22:19.074852 636804 iter-e2-allocation.py:17] started allocating chain: 22
I1209 21:22:19.075174 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server8']
I1209 21:22:19.075285 636804 daisy.py:240] creating chain22-fw on chain-server8
D1209 21:22:19.076105 636804 node.py:55] Starting compute instance u'chain22-fw' in data center 'chain-server8'
D1209 21:22:20.119193 636804 simple.py:215] Setting MEM limit for u'chain19-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:20.145513 636804 simple.py:169] Setting CPU limit for u'chain19-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:22:20.185076 636804 simple.py:215] Setting MEM limit for u'chain19-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:20.204725 636804 simple.py:169] Setting CPU limit for u'chain22-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:22:20.248864 636804 simple.py:215] Setting MEM limit for u'chain22-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:20.271007 636804 simple.py:215] Setting MEM limit for u'chain19-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:20.294686 636804 simple.py:215] Setting MEM limit for u'chain19-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:22:20.501410 636804 net.py:233] addLink: n1=chain22-fw intf1=input -- n2=dc31.s1 intf2=dc31.s1-eth12
D1209 21:22:20.714621 636804 net.py:233] addLink: n1=chain22-fw intf1=output-ids -- n2=dc31.s1 intf2=dc31.s1-eth13
D1209 21:22:20.946631 636804 net.py:233] addLink: n1=chain22-fw intf1=output-vpn -- n2=dc31.s1 intf2=dc31.s1-eth14
I1209 21:22:20.946892 636804 daisy.py:310] successfully created VNF: chain22-fw
I1209 21:22:20.947037 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server8']
I1209 21:22:20.947158 636804 daisy.py:240] creating chain22-ids on chain-server8
D1209 21:22:20.947916 636804 node.py:55] Starting compute instance u'chain22-ids' in data center 'chain-server8'
D1209 21:22:21.656377 636804 simple.py:169] Setting CPU limit for u'chain22-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:22:21.705461 636804 simple.py:215] Setting MEM limit for u'chain22-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:21.728768 636804 simple.py:215] Setting MEM limit for u'chain19-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:21.755050 636804 simple.py:169] Setting CPU limit for u'chain19-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:22:21.797188 636804 simple.py:215] Setting MEM limit for u'chain19-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:21.818679 636804 simple.py:215] Setting MEM limit for u'chain19-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:22:21.841993 636804 simple.py:215] Setting MEM limit for u'chain19-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:21.866223 636804 simple.py:169] Setting CPU limit for u'chain22-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:22:21.909982 636804 simple.py:215] Setting MEM limit for u'chain22-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:22:22.117546 636804 net.py:233] addLink: n1=chain22-ids intf1=input -- n2=dc31.s1 intf2=dc31.s1-eth15
D1209 21:22:22.290534 636804 net.py:233] addLink: n1=chain22-ids intf1=output -- n2=dc31.s1 intf2=dc31.s1-eth16
I1209 21:22:22.290769 636804 daisy.py:310] successfully created VNF: chain22-ids
I1209 21:22:22.290925 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server8']
I1209 21:22:22.291060 636804 daisy.py:240] creating chain22-nat on chain-server8
D1209 21:22:22.291896 636804 node.py:55] Starting compute instance u'chain22-nat' in data center 'chain-server8'
D1209 21:22:23.019929 636804 simple.py:169] Setting CPU limit for u'chain22-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:22:23.080934 636804 simple.py:215] Setting MEM limit for u'chain22-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:23.105112 636804 simple.py:215] Setting MEM limit for u'chain19-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:23.129028 636804 simple.py:169] Setting CPU limit for u'chain19-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:22:23.175672 636804 simple.py:215] Setting MEM limit for u'chain19-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:23.197776 636804 simple.py:169] Setting CPU limit for u'chain22-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:22:23.236228 636804 simple.py:215] Setting MEM limit for u'chain22-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:23.255489 636804 simple.py:215] Setting MEM limit for u'chain19-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:22:23.281961 636804 simple.py:215] Setting MEM limit for u'chain19-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:23.305418 636804 simple.py:215] Setting MEM limit for u'chain22-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:22:23.554686 636804 net.py:233] addLink: n1=chain22-nat intf1=input -- n2=dc31.s1 intf2=dc31.s1-eth17
D1209 21:22:23.742732 636804 net.py:233] addLink: n1=chain22-nat intf1=output -- n2=dc31.s1 intf2=dc31.s1-eth18
I1209 21:22:23.743041 636804 daisy.py:310] successfully created VNF: chain22-nat
I1209 21:22:23.743267 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server8']
I1209 21:22:23.743398 636804 daisy.py:240] creating chain22-vpn on chain-server8
D1209 21:22:23.744417 636804 node.py:55] Starting compute instance u'chain22-vpn' in data center 'chain-server8'
D1209 21:22:24.473809 636804 simple.py:169] Setting CPU limit for u'chain22-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:22:24.519781 636804 simple.py:215] Setting MEM limit for u'chain22-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:24.540452 636804 simple.py:215] Setting MEM limit for u'chain19-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:24.560997 636804 simple.py:169] Setting CPU limit for u'chain19-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:22:24.604923 636804 simple.py:215] Setting MEM limit for u'chain19-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:24.628499 636804 simple.py:215] Setting MEM limit for u'chain22-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:24.651145 636804 simple.py:215] Setting MEM limit for u'chain19-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:22:24.679086 636804 simple.py:215] Setting MEM limit for u'chain19-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:24.698285 636804 simple.py:215] Setting MEM limit for u'chain22-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:22:24.720949 636804 simple.py:169] Setting CPU limit for u'chain22-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:22:24.764481 636804 simple.py:215] Setting MEM limit for u'chain22-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:25.003446 636804 net.py:233] addLink: n1=chain22-vpn intf1=input-ids -- n2=dc31.s1 intf2=dc31.s1-eth19
D1209 21:22:25.189548 636804 net.py:233] addLink: n1=chain22-vpn intf1=input-fw -- n2=dc31.s1 intf2=dc31.s1-eth20
D1209 21:22:25.392431 636804 net.py:233] addLink: n1=chain22-vpn intf1=output -- n2=dc31.s1 intf2=dc31.s1-eth21
I1209 21:22:25.392652 636804 daisy.py:310] successfully created VNF: chain22-vpn
I1209 21:22:25.392792 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud0']
I1209 21:22:25.392911 636804 daisy.py:240] creating chain22-sink on off-cloud0
D1209 21:22:25.393615 636804 node.py:55] Starting compute instance u'chain22-sink' in data center 'off-cloud0'
D1209 21:22:26.110929 636804 simple.py:215] Setting MEM limit for u'chain18-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:26.138792 636804 simple.py:215] Setting MEM limit for u'chain5-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:26.162640 636804 simple.py:215] Setting MEM limit for u'chain6-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:26.186841 636804 simple.py:169] Setting CPU limit for u'chain22-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:22:26.235863 636804 simple.py:215] Setting MEM limit for u'chain22-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:26.257169 636804 simple.py:215] Setting MEM limit for u'chain19-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:26.282543 636804 simple.py:215] Setting MEM limit for u'chain3-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:26.310345 636804 simple.py:215] Setting MEM limit for u'chain21-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:26.335117 636804 simple.py:215] Setting MEM limit for u'chain4-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:26.360676 636804 simple.py:215] Setting MEM limit for u'chain20-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:26.567495 636804 net.py:233] addLink: n1=chain22-sink intf1=intf2 -- n2=dc16.s1 intf2=dc16.s1-eth10
I1209 21:22:26.567717 636804 daisy.py:310] successfully created VNF: chain22-sink
I1209 21:22:26.567908 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud6']
I1209 21:22:26.568034 636804 daisy.py:240] creating chain22-source on off-cloud6
D1209 21:22:26.568734 636804 node.py:55] Starting compute instance u'chain22-source' in data center 'off-cloud6'
D1209 21:22:27.286046 636804 simple.py:215] Setting MEM limit for u'chain8-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:27.316054 636804 simple.py:215] Setting MEM limit for u'chain9-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:27.338850 636804 simple.py:215] Setting MEM limit for u'chain21-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:27.363502 636804 simple.py:215] Setting MEM limit for u'chain17-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:27.387175 636804 simple.py:215] Setting MEM limit for u'chain11-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:27.410986 636804 simple.py:215] Setting MEM limit for u'chain20-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:27.432375 636804 simple.py:215] Setting MEM limit for u'chain19-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:27.455897 636804 simple.py:215] Setting MEM limit for u'chain18-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:27.476891 636804 simple.py:169] Setting CPU limit for u'chain22-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:22:27.517175 636804 simple.py:215] Setting MEM limit for u'chain22-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:27.711055 636804 net.py:233] addLink: n1=chain22-source intf1=intf1 -- n2=dc18.s1 intf2=dc18.s1-eth10
I1209 21:22:27.711288 636804 daisy.py:310] successfully created VNF: chain22-source
I1209 21:22:27.711427 636804 daisy.py:311] successfully created chain: 22
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:22:30.996959 636804 daisy.py:401] source, nat, and fw start done
I1209 21:22:30.997191 636804 daisy.py:402] My commands
ess)
returned 0 from sudo docker exec mn.chain21-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain21-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain21-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain21-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain21-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain21-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain21-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain21-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain21-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain21-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain21-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain21-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain21-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain21-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain21-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain21-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain21-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain21-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain21-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.021757999999999944, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server8'], [u'ids', u'chain-server8'], [u'nat', u'chain-server8'], [u'vpn', u'chain-server8'], [u'sink', u'off-cloud0'], [u'source', u'off-cloud6']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 1.207174, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud6', 2], [u'chain-server8', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server8', 2], [u'off-cloud0', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain22-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain22-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain22-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain22-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain22-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain22-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain22-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain22-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain22-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain22-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain22-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain22-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain22-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain22-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain22-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain22-ids sh ./start.sh (0 isI1209 21:22:31.129276 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:22:33.131735 636804 daisy.py:419] < 2s wait complete
I1209 21:22:33.131973 636804 daisy.py:420] start VNF chaining
D1209 21:22:33.132150 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain22-source', vnf_src_interface='intf1', vnf_dst_name=u'chain22-nat', vnf_dst_interface='input'
I1209 21:22:33.132416 636804 net.py:665] Path between chain22-source and chain22-nat: ['dc18.s1', u'gsw0', 'dc31.s1']
I1209 21:22:33.132595 636804 net.py:889] add-flow
I1209 21:22:33.132704 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:265,output=1
I1209 21:22:33.136575 636804 net.py:893] add-flow in switch: dc18.s1 in_port: 10 out_port: 1
I1209 21:22:33.136811 636804 net.py:889] add-flow
I1209 21:22:33.136898 636804 net.py:890] in_port=47,dl_vlan=265,action=9
I1209 21:22:33.160432 636804 net.py:893] add-flow in switch: gsw0 in_port: 47 out_port: 9
I1209 21:22:33.160561 636804 net.py:694] end node reached: chain22-nat
I1209 21:22:33.160670 636804 net.py:889] add-flow
I1209 21:22:33.160756 636804 net.py:890] in_port=1,dl_vlan=265,action=strip_vlan,output=17
I1209 21:22:33.178911 636804 net.py:893] add-flow in switch: dc31.s1 in_port: 1 out_port: 17
D1209 21:22:33.179178 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain22-nat', vnf_src_interface='input', vnf_dst_name=u'chain22-source', vnf_dst_interface='intf1'
I1209 21:22:33.179364 636804 net.py:665] Path between chain22-nat and chain22-source: ['dc31.s1', u'gsw0', 'dc18.s1']
I1209 21:22:33.179514 636804 net.py:889] add-flow
I1209 21:22:33.179601 636804 net.py:890] -O OpenFlow13 in_port=17,action=mod_vlan_vid:266,output=1
I1209 21:22:33.196561 636804 net.py:893] add-flow in switch: dc31.s1 in_port: 17 out_port: 1
I1209 21:22:33.196702 636804 net.py:889] add-flow
I1209 21:22:33.196818 636804 net.py:890] in_port=9,dl_vlan=266,action=47
I1209 21:22:33.216537 636804 net.py:893] add-flow in switch: gsw0 in_port: 9 out_port: 47
I1209 21:22:33.216662 636804 net.py:694] end node reached: chain22-source
I1209 21:22:33.216795 636804 net.py:889] add-flow
I1209 21:22:33.216902 636804 net.py:890] in_port=1,dl_vlan=266,action=strip_vlan,output=10
I1209 21:22:33.236418 636804 net.py:893] add-flow in switch: dc18.s1 in_port: 1 out_port: 10
I1209 21:22:33.236648 636804 daisy.py:322] chain(chain22-source, chain22-nat) output: success: add-flow between chain22-source and chain22-nat with options: {
 "priority": 1000, 
 "path": [
  "dc18.s1", 
  "gsw0", 
  "dc31.s1"
 ], 
 "vlan": 265, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain22-nat and chain22-source with options: {
 "priority": 1000, 
 "path": [
  "dc31.s1", 
  "gsw0", 
  "dc18.s1"
 ], 
 "vlan": 266, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:22:33.236830 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain22-nat', vnf_src_interface='output', vnf_dst_name=u'chain22-fw', vnf_dst_interface='input'
I1209 21:22:33.237363 636804 net.py:665] Path between chain22-nat and chain22-fw: ['dc31.s1']
I1209 21:22:33.237463 636804 net.py:694] end node reached: chain22-fw
I1209 21:22:33.237565 636804 net.py:889] add-flow
I1209 21:22:33.237660 636804 net.py:890] -O OpenFlow13 in_port=18,action=mod_vlan_vid:267,output=12
I1209 21:22:33.255088 636804 net.py:893] add-flow in switch: dc31.s1 in_port: 18 out_port: 12
I1209 21:22:33.255224 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc31.s1 in_port: 18 out_port: 12
I1209 21:22:33.255315 636804 net.py:931] add-flow
I1209 21:22:33.255402 636804 net.py:932] in_port=18,action=strip_vlan,output=12
I1209 21:22:33.273982 636804 net.py:935] add-flow in switch: dc31.s1 in_port: 18 out_port: 12
D1209 21:22:33.274202 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain22-fw', vnf_src_interface='input', vnf_dst_name=u'chain22-nat', vnf_dst_interface='output'
I1209 21:22:33.274393 636804 net.py:665] Path between chain22-fw and chain22-nat: ['dc31.s1']
I1209 21:22:33.274499 636804 net.py:694] end node reached: chain22-nat
I1209 21:22:33.274596 636804 net.py:889] add-flow
I1209 21:22:33.274677 636804 net.py:890] -O OpenFlow13 in_port=12,action=mod_vlan_vid:268,output=18
I1209 21:22:33.309950 636804 net.py:893] add-flow in switch: dc31.s1 in_port: 12 out_port: 18
I1209 21:22:33.310084 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc31.s1 in_port: 12 out_port: 18
I1209 21:22:33.310215 636804 net.py:931] add-flow
I1209 21:22:33.310297 636804 net.py:932] in_port=12,action=strip_vlan,output=18
I1209 21:22:33.328509 636804 net.py:935] add-flow in switch: dc31.s1 in_port: 12 out_port: 18
I1209 21:22:33.328706 636804 daisy.py:329] chain(chain22-nat, chain22-fw) output: success: add-flow between chain22-nat and chain22-fw with options: {
 "priority": 1000, 
 "path": [
  "dc31.s1"
 ], 
 "vlan": 267, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain22-fw and chain22-nat with options: {
 "priority": 1000, 
 "path": [
  "dc31.s1"
 ], 
 "vlan": 268, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:22:33.328850 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain22-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain22-ids', vnf_dst_interface='input'
I1209 21:22:33.328980 636804 net.py:665] Path between chain22-fw and chain22-ids: ['dc31.s1']
I1209 21:22:33.329080 636804 net.py:694] end node reached: chain22-ids
I1209 21:22:33.329176 636804 net.py:889] add-flow
I1209 21:22:33.329255 636804 net.py:890] -O OpenFlow13 in_port=13,action=mod_vlan_vid:269,output=15
I1209 21:22:33.365907 636804 net.py:893] add-flow in switch: dc31.s1 in_port: 13 out_port: 15
D1209 21:22:33.366147 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain22-ids', vnf_src_interface='input', vnf_dst_name=u'chain22-fw', vnf_dst_interface='output-ids'
I1209 21:22:33.366295 636804 net.py:665] Path between chain22-ids and chain22-fw: ['dc31.s1']
I1209 21:22:33.366395 636804 net.py:694] end node reached: chain22-fw
I1209 21:22:33.366493 636804 net.py:889] add-flow
I1209 21:22:33.366581 636804 net.py:890] -O OpenFlow13 in_port=15,action=mod_vlan_vid:270,output=13
I1209 21:22:33.385283 636804 net.py:893] add-flow in switch: dc31.s1 in_port: 15 out_port: 13
I1209 21:22:33.385417 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc31.s1 in_port: 15 out_port: 13
I1209 21:22:33.385519 636804 net.py:931] add-flow
I1209 21:22:33.385601 636804 net.py:932] in_port=15,action=strip_vlan,output=13
I1209 21:22:33.404150 636804 net.py:935] add-flow in switch: dc31.s1 in_port: 15 out_port: 13
I1209 21:22:33.404345 636804 daisy.py:336] chain(chain22-fw, chain22-ids) output: success: add-flow between chain22-fw and chain22-ids with options: {
 "priority": 1000, 
 "path": [
  "dc31.s1"
 ], 
 "vlan": 269, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain22-ids and chain22-fw with options: {
 "priority": 1000, 
 "path": [
  "dc31.s1"
 ], 
 "vlan": 270, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:22:33.404486 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain22-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain22-vpn', vnf_dst_interface='input-fw'
I1209 21:22:33.404620 636804 net.py:665] Path between chain22-fw and chain22-vpn: ['dc31.s1']
I1209 21:22:33.404719 636804 net.py:694] end node reached: chain22-vpn
I1209 21:22:33.404836 636804 net.py:889] add-flow
I1209 21:22:33.404921 636804 net.py:890] -O OpenFlow13 in_port=14,action=mod_vlan_vid:271,output=20
I1209 21:22:33.443794 636804 net.py:893] add-flow in switch: dc31.s1 in_port: 14 out_port: 20
D1209 21:22:33.444003 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain22-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain22-fw', vnf_dst_interface='output-vpn'
I1209 21:22:33.444142 636804 net.py:665] Path between chain22-vpn and chain22-fw: ['dc31.s1']
I1209 21:22:33.444240 636804 net.py:694] end node reached: chain22-fw
I1209 21:22:33.444338 636804 net.py:889] add-flow
I1209 21:22:33.444416 636804 net.py:890] -O OpenFlow13 in_port=20,action=mod_vlan_vid:272,output=14
I1209 21:22:33.462709 636804 net.py:893] add-flow in switch: dc31.s1 in_port: 20 out_port: 14
I1209 21:22:33.462920 636804 daisy.py:343] chain(chain22-fw, chain22-vpn) output: success: add-flow between chain22-fw and chain22-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc31.s1"
 ], 
 "vlan": 271, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain22-vpn and chain22-fw with options: {
 "priority": 1000, 
 "path": [
  "dc31.s1"
 ], 
 "vlan": 272, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:22:33.463056 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain22-ids', vnf_src_interface='output', vnf_dst_name=u'chain22-vpn', vnf_dst_interface='input-ids'
I1209 21:22:33.463165 636804 net.py:665] Path between chain22-ids and chain22-vpn: ['dc31.s1']
I1209 21:22:33.463258 636804 net.py:694] end node reached: chain22-vpn
I1209 21:22:33.463354 636804 net.py:889] add-flow
I1209 21:22:33.463434 636804 net.py:890] -O OpenFlow13 in_port=16,action=mod_vlan_vid:273,output=19
I1209 21:22:33.481151 636804 net.py:893] add-flow in switch: dc31.s1 in_port: 16 out_port: 19
I1209 21:22:33.481287 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc31.s1 in_port: 16 out_port: 19
I1209 21:22:33.481375 636804 net.py:931] add-flow
I1209 21:22:33.481452 636804 net.py:932] in_port=16,action=strip_vlan,output=19
I1209 21:22:33.500390 636804 net.py:935] add-flow in switch: dc31.s1 in_port: 16 out_port: 19
D1209 21:22:33.500587 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain22-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain22-ids', vnf_dst_interface='output'
I1209 21:22:33.500724 636804 net.py:665] Path between chain22-vpn and chain22-ids: ['dc31.s1']
I1209 21:22:33.500842 636804 net.py:694] end node reached: chain22-ids
I1209 21:22:33.500941 636804 net.py:889] add-flow
I1209 21:22:33.501024 636804 net.py:890] -O OpenFlow13 in_port=19,action=mod_vlan_vid:274,output=16
I1209 21:22:33.538314 636804 net.py:893] add-flow in switch: dc31.s1 in_port: 19 out_port: 16
I1209 21:22:33.538502 636804 daisy.py:350] chain(chain22-ids, chain22-vpn) output: success: add-flow between chain22-ids and chain22-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc31.s1"
 ], 
 "vlan": 273, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain22-vpn and chain22-ids with options: {
 "priority": 1000, 
 "path": [
  "dc31.s1"
 ], 
 "vlan": 274, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:22:33.538633 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain22-vpn', vnf_src_interface='output', vnf_dst_name=u'chain22-sink', vnf_dst_interface='intf2'
I1209 21:22:33.538809 636804 net.py:665] Path between chain22-vpn and chain22-sink: ['dc31.s1', u'gsw0', 'dc16.s1']
I1209 21:22:33.538927 636804 net.py:889] add-flow
I1209 21:22:33.539011 636804 net.py:890] -O OpenFlow13 in_port=21,action=mod_vlan_vid:275,output=1
I1209 21:22:33.557656 636804 net.py:893] add-flow in switch: dc31.s1 in_port: 21 out_port: 1
I1209 21:22:33.557821 636804 net.py:889] add-flow
I1209 21:22:33.557910 636804 net.py:890] in_port=9,dl_vlan=275,action=41
I1209 21:22:33.576584 636804 net.py:893] add-flow in switch: gsw0 in_port: 9 out_port: 41
I1209 21:22:33.576704 636804 net.py:694] end node reached: chain22-sink
I1209 21:22:33.576817 636804 net.py:889] add-flow
I1209 21:22:33.576898 636804 net.py:890] in_port=1,dl_vlan=275,action=strip_vlan,output=10
I1209 21:22:33.595762 636804 net.py:893] add-flow in switch: dc16.s1 in_port: 1 out_port: 10
D1209 21:22:33.596364 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain22-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain22-vpn', vnf_dst_interface='output'
I1209 21:22:33.596528 636804 net.py:665] Path between chain22-sink and chain22-vpn: ['dc16.s1', u'gsw0', 'dc31.s1']
I1209 21:22:33.596641 636804 net.py:889] add-flow
I1209 21:22:33.596719 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:276,output=1
I1209 21:22:33.614913 636804 net.py:893] add-flow in switch: dc16.s1 in_port: 10 out_port: 1
I1209 21:22:33.615063 636804 net.py:889] add-flow
I1209 21:22:33.615140 636804 net.py:890] in_port=41,dl_vlan=276,action=9
I1209 21:22:33.632916 636804 net.py:893] add-flow in switch: gsw0 in_port: 41 out_port: 9
I1209 21:22:33.633040 636804 net.py:694] end node reached: chain22-vpn
I1209 21:22:33.633141 636804 net.py:889] add-flow
I1209 21:22:33.633222 636804 net.py:890] in_port=1,dl_vlan=276,action=strip_vlan,output=21
I1209 21:22:33.650506 636804 net.py:893] add-flow in switch: dc31.s1 in_port: 1 out_port: 21
I1209 21:22:33.650706 636804 daisy.py:357] chain(chain22-vpn, chain22-sink) output: success: add-flow between chain22-vpn and chain22-sink with options: {
 "priority": 1000, 
 "path": [
  "dc31.s1", 
  "gsw0", 
  "dc16.s1"
 ], 
 "vlan": 275, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain22-sink and chain22-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc16.s1", 
  "gsw0", 
  "dc31.s1"
 ], 
 "vlan": 276, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:22:35 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:22:35 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:22:35 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:22:35 2017 UDPv4 link local: [undef]
Sat Dec  9 21:22:35 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:22:35 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=9c5226d7 b8c5e90c
Sat Dec  9 21:22:35 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:22:35 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:22:35 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:22:35 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:22:35 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:22:35 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:22:35 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:22:35 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:22:35 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:22:35 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:22:35 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:22:38 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:22:38 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:22:38 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:22:38 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:22:38 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:22:38 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:22:38 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:89
Sat Dec  9 21:22:38 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:22:38 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:22:38 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:22:38 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:22:38 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:22:38 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:22:38 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:22:38 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:22:38 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:22:38 2017 GID set to nogroup
Sat Dec  9 21:22:38 2017 UID set to nobody
Sat Dec  9 21:22:38 2017 Initialization Sequence Completed
I1209 21:22:40.850364 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:22:45.855690 636804 daisy.py:443] < 5s wait complete
I1209 21:22:45.855904 636804 daisy.py:444] VPN client VNF started
chain22-source -> chain22-sink 
chain22-sink -> chain22-source 
*** Results: 0% dropped (2/2 received)
I1209 21:22:48.311985 636804 daisy.py:369] ping chain22-source -> chain22-sink. Packet drop 0.0%
I1209 21:22:48.374919 636804 bench.py:19] Copying traces into the containers...
I1209 21:22:49.547763 636804 bench.py:29] Running dstat...
I1209 21:22:51.817831 636804 iter-e2-allocation.py:17] started allocating chain: 23
I1209 21:22:51.818238 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server6']
I1209 21:22:51.818363 636804 daisy.py:240] creating chain23-fw on chain-server6
D1209 21:22:51.819215 636804 node.py:55] Starting compute instance u'chain23-fw' in data center 'chain-server6'
D1209 21:22:52.568690 636804 simple.py:215] Setting MEM limit for u'chain5-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:52.592211 636804 simple.py:169] Setting CPU limit for u'chain5-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:22:52.640870 636804 simple.py:215] Setting MEM limit for u'chain5-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:52.661869 636804 simple.py:169] Setting CPU limit for u'chain23-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:22:52.701509 636804 simple.py:215] Setting MEM limit for u'chain23-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:52.722875 636804 simple.py:215] Setting MEM limit for u'chain5-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:52.746484 636804 simple.py:215] Setting MEM limit for u'chain5-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:22:53.001562 636804 net.py:233] addLink: n1=chain23-fw intf1=input -- n2=dc27.s1 intf2=dc27.s1-eth12
D1209 21:22:53.197968 636804 net.py:233] addLink: n1=chain23-fw intf1=output-ids -- n2=dc27.s1 intf2=dc27.s1-eth13
D1209 21:22:53.377000 636804 net.py:233] addLink: n1=chain23-fw intf1=output-vpn -- n2=dc27.s1 intf2=dc27.s1-eth14
I1209 21:22:53.377242 636804 daisy.py:310] successfully created VNF: chain23-fw
I1209 21:22:53.377391 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server6']
I1209 21:22:53.377505 636804 daisy.py:240] creating chain23-ids on chain-server6
D1209 21:22:53.378509 636804 node.py:55] Starting compute instance u'chain23-ids' in data center 'chain-server6'
D1209 21:22:54.088335 636804 simple.py:169] Setting CPU limit for u'chain23-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:22:54.130841 636804 simple.py:215] Setting MEM limit for u'chain23-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:54.150567 636804 simple.py:169] Setting CPU limit for u'chain23-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:22:54.199255 636804 simple.py:215] Setting MEM limit for u'chain23-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:22:54.225539 636804 simple.py:215] Setting MEM limit for u'chain5-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:54.249799 636804 simple.py:215] Setting MEM limit for u'chain5-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:54.272963 636804 simple.py:169] Setting CPU limit for u'chain5-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:22:54.316054 636804 simple.py:215] Setting MEM limit for u'chain5-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:54.340142 636804 simple.py:215] Setting MEM limit for u'chain5-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:22:54.637206 636804 net.py:233] addLink: n1=chain23-ids intf1=input -- n2=dc27.s1 intf2=dc27.s1-eth15
D1209 21:22:54.855827 636804 net.py:233] addLink: n1=chain23-ids intf1=output -- n2=dc27.s1 intf2=dc27.s1-eth16
I1209 21:22:54.856059 636804 daisy.py:310] successfully created VNF: chain23-ids
I1209 21:22:54.856247 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server6']
I1209 21:22:54.856400 636804 daisy.py:240] creating chain23-nat on chain-server6
D1209 21:22:54.858185 636804 node.py:55] Starting compute instance u'chain23-nat' in data center 'chain-server6'
D1209 21:22:55.583012 636804 simple.py:169] Setting CPU limit for u'chain23-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:22:55.636919 636804 simple.py:215] Setting MEM limit for u'chain23-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:55.659415 636804 simple.py:215] Setting MEM limit for u'chain23-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:22:55.680279 636804 simple.py:215] Setting MEM limit for u'chain5-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:55.701705 636804 simple.py:215] Setting MEM limit for u'chain5-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:55.726511 636804 simple.py:169] Setting CPU limit for u'chain5-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:22:55.771747 636804 simple.py:215] Setting MEM limit for u'chain5-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:55.794644 636804 simple.py:169] Setting CPU limit for u'chain23-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:22:55.843430 636804 simple.py:215] Setting MEM limit for u'chain23-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:55.868221 636804 simple.py:215] Setting MEM limit for u'chain5-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:22:56.093240 636804 net.py:233] addLink: n1=chain23-nat intf1=input -- n2=dc27.s1 intf2=dc27.s1-eth17
D1209 21:22:56.289238 636804 net.py:233] addLink: n1=chain23-nat intf1=output -- n2=dc27.s1 intf2=dc27.s1-eth18
I1209 21:22:56.289447 636804 daisy.py:310] successfully created VNF: chain23-nat
I1209 21:22:56.289603 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server6']
I1209 21:22:56.289704 636804 daisy.py:240] creating chain23-vpn on chain-server6
D1209 21:22:56.290525 636804 node.py:55] Starting compute instance u'chain23-vpn' in data center 'chain-server6'
D1209 21:22:57.046870 636804 simple.py:169] Setting CPU limit for u'chain23-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:22:57.092380 636804 simple.py:215] Setting MEM limit for u'chain23-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:57.117175 636804 simple.py:215] Setting MEM limit for u'chain23-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:22:57.147361 636804 simple.py:215] Setting MEM limit for u'chain5-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:57.173511 636804 simple.py:215] Setting MEM limit for u'chain5-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:57.198079 636804 simple.py:169] Setting CPU limit for u'chain5-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:22:57.246979 636804 simple.py:215] Setting MEM limit for u'chain5-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:57.273135 636804 simple.py:169] Setting CPU limit for u'chain23-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:22:57.313929 636804 simple.py:215] Setting MEM limit for u'chain23-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:57.332979 636804 simple.py:215] Setting MEM limit for u'chain23-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:57.354568 636804 simple.py:215] Setting MEM limit for u'chain5-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:22:57.582798 636804 net.py:233] addLink: n1=chain23-vpn intf1=input-ids -- n2=dc27.s1 intf2=dc27.s1-eth19
D1209 21:22:57.768022 636804 net.py:233] addLink: n1=chain23-vpn intf1=input-fw -- n2=dc27.s1 intf2=dc27.s1-eth20
D1209 21:22:57.968676 636804 net.py:233] addLink: n1=chain23-vpn intf1=output -- n2=dc27.s1 intf2=dc27.s1-eth21
I1209 21:22:57.968919 636804 daisy.py:310] successfully created VNF: chain23-vpn
I1209 21:22:57.969126 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud0']
I1209 21:22:57.969239 636804 daisy.py:240] creating chain23-sink on off-cloud0
D1209 21:22:57.970015 636804 node.py:55] Starting compute instance u'chain23-sink' in data center 'off-cloud0'
D1209 21:22:58.752979 636804 simple.py:215] Setting MEM limit for u'chain18-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:58.782861 636804 simple.py:215] Setting MEM limit for u'chain5-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:58.808820 636804 simple.py:215] Setting MEM limit for u'chain6-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:58.828741 636804 simple.py:215] Setting MEM limit for u'chain22-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:58.848640 636804 simple.py:215] Setting MEM limit for u'chain19-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:58.869769 636804 simple.py:215] Setting MEM limit for u'chain3-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:58.893760 636804 simple.py:215] Setting MEM limit for u'chain21-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:58.919224 636804 simple.py:215] Setting MEM limit for u'chain4-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:58.939630 636804 simple.py:169] Setting CPU limit for u'chain23-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:22:58.986692 636804 simple.py:215] Setting MEM limit for u'chain23-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:59.010590 636804 simple.py:215] Setting MEM limit for u'chain20-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:59.202003 636804 net.py:233] addLink: n1=chain23-sink intf1=intf2 -- n2=dc16.s1 intf2=dc16.s1-eth11
I1209 21:22:59.202308 636804 daisy.py:310] successfully created VNF: chain23-sink
I1209 21:22:59.202471 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud6']
I1209 21:22:59.202578 636804 daisy.py:240] creating chain23-source on off-cloud6
D1209 21:22:59.203428 636804 node.py:55] Starting compute instance u'chain23-source' in data center 'off-cloud6'
D1209 21:22:59.929032 636804 simple.py:215] Setting MEM limit for u'chain8-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:59.955408 636804 simple.py:215] Setting MEM limit for u'chain9-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:22:59.981946 636804 simple.py:215] Setting MEM limit for u'chain21-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:23:00.001940 636804 simple.py:215] Setting MEM limit for u'chain17-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:23:00.022289 636804 simple.py:215] Setting MEM limit for u'chain11-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:23:00.041971 636804 simple.py:215] Setting MEM limit for u'chain20-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:23:00.062319 636804 simple.py:215] Setting MEM limit for u'chain19-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:23:00.082530 636804 simple.py:215] Setting MEM limit for u'chain18-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:23:00.103662 636804 simple.py:169] Setting CPU limit for u'chain23-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:23:00.144172 636804 simple.py:215] Setting MEM limit for u'chain23-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:23:00.166873 636804 simple.py:215] Setting MEM limit for u'chain22-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:23:00.398461 636804 net.py:233] addLink: n1=chain23-source intf1=intf1 -- n2=dc18.s1 intf2=dc18.s1-eth11
I1209 21:23:00.398653 636804 daisy.py:310] successfully created VNF: chain23-source
I1209 21:23:00.398776 636804 daisy.py:311] successfully created chain: 23
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:23:03.437302 636804 daisy.py:401] source, nat, and fw start done
I1209 21:23:03.437499 636804 daisy.py:402] My commands
I1209 21:23:03.571854 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:23:05.574203 636804 daisy.py:419] < 2s wait complete
I1209 21:23:05.574436 636804 daisy.py:420] start VNF chaining
D1209 21:23:05.574628 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain23-source', vnf_src_interface='intf1', vnf_dst_name=u'chain23-nat', vnf_dst_interface='input'
I1209 21:23:05.574937 636804 net.py:665] Path between chain23-source and chain23-nat: ['dc18.s1', u'gsw0', 'dc27.s1']
I1209 21:23:05.575139 636804 net.py:889] add-flow
I1209 21:23:05.575247 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:277,output=1
I1209 21:23:05.579013 636804 net.py:893] add-flow in switch: dc18.s1 in_port: 11 out_port: 1
I1209 21:23:05.579158 636804 net.py:889] add-flow
I1209 21:23:05.579240 636804 net.py:890] in_port=47,dl_vlan=277,action=7
I1209 21:23:05.597321 636804 net.py:893] add-flow in switch: gsw0 in_port: 47 out_port: 7
I1209 21:23:05.597456 636804 net.py:694] end node reached: chain23-nat
I1209 21:23:05.597604 636804 net.py:889] add-flow
I1209 21:23:05.597687 636804 net.py:890] in_port=1,dl_vlan=277,action=strip_vlan,output=17
I1209 21:23:05.617856 636804 net.py:893] add-flow in switch: dc27.s1 in_port: 1 out_port: 17
D1209 21:23:05.618257 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain23-nat', vnf_src_interface='input', vnf_dst_name=u'chain23-source', vnf_dst_interface='intf1'
I1209 21:23:05.618423 636804 net.py:665] Path between chain23-nat and chain23-source: ['dc27.s1', u'gsw0', 'dc18.s1']
I1209 21:23:05.618567 636804 net.py:889] add-flow
I1209 21:23:05.618653 636804 net.py:890] -O OpenFlow13 in_port=17,action=mod_vlan_vid:278,output=1
I1209 21:23:05.639013 636804 net.py:893] add-flow in switch: dc27.s1 in_port: 17 out_port: 1
I1209 21:23:05.639174 636804 net.py:889] add-flow
I1209 21:23:05.639261 636804 net.py:890] in_port=7,dl_vlan=278,action=47
I1209 21:23:05.659344 636804 net.py:893] add-flow in switch: gsw0 in_port: 7 out_port: 47
I1209 21:23:05.659463 636804 net.py:694] end node reached: chain23-source
I1209 21:23:05.659593 636804 net.py:889] add-flow
I1209 21:23:05.659672 636804 net.py:890] in_port=1,dl_vlan=278,action=strip_vlan,output=11
I1209 21:23:05.679055 636804 net.py:893] add-flow in switch: dc18.s1 in_port: 1 out_port: 11
I1209 21:23:05.679286 636804 daisy.py:322] chain(chain23-source, chain23-nat) output: success: add-flow between chain23-source and chain23-nat with options: {
 "priority": 1000, 
 "path": [
  "dc18.s1", 
  "gsw0", 
  "dc27.s1"
 ], 
 "vlan": 277, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain23-nat and chain23-source with options: {
 "priority": 1000, 
 "path": [
  "dc27.s1", 
  "gsw0", 
  "dc18.s1"
 ], 
 "vlan": 278, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:23:05.679452 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain23-nat', vnf_src_interface='output', vnf_dst_name=u'chain23-fw', vnf_dst_interface='input'
I1209 21:23:05.679624 636804 net.py:665] Path between chain23-nat and chain23-fw: ['dc27.s1']
I1209 21:23:05.679721 636804 net.py:694] end node reached: chain23-fw
I1209 21:23:05.679832 636804 net.py:889] add-flow
I1209 21:23:05.679904 636804 net.py:890] -O OpenFlow13 in_port=18,action=mod_vlan_vid:279,output=12
I1209 21:23:05.699150 636804 net.py:893] add-flow in switch: dc27.s1 in_port: 18 out_port: 12
I1209 21:23:05.699275 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc27.s1 in_port: 18 out_port: 12
I1209 21:23:05.699379 636804 net.py:931] add-flow
I1209 21:23:05.699465 636804 net.py:932] in_port=18,action=strip_vlan,output=12
I1209 21:23:05.719475 636804 net.py:935] add-flow in switch: dc27.s1 in_port: 18 out_port: 12
D1209 21:23:05.719719 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain23-fw', vnf_src_interface='input', vnf_dst_name=u'chain23-nat', vnf_dst_interface='output'
I1209 21:23:05.719878 636804 net.py:665] Path between chain23-fw and chain23-nat: ['dc27.s1']
I1209 21:23:05.719985 636804 net.py:694] end node reached: chain23-nat
I1209 21:23:05.720093 636804 net.py:889] add-flow
I1209 21:23:05.720181 636804 net.py:890] -O OpenFlow13 in_port=12,action=mod_vlan_vid:280,output=18
I1209 21:23:05.758214 636804 net.py:893] add-flow in switch: dc27.s1 in_port: 12 out_port: 18
I1209 21:23:05.758331 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc27.s1 in_port: 12 out_port: 18
I1209 21:23:05.758440 636804 net.py:931] add-flow
I1209 21:23:05.758536 636804 net.py:932] in_port=12,action=strip_vlan,output=18
I1209 21:23:05.776454 636804 net.py:935] add-flow in switch: dc27.s1 in_port: 12 out_port: 18
I1209 21:23:05.776688 636804 daisy.py:329] chain(chain23-nat, chain23-fw) output: success: add-flow between chain23-nat and chain23-fw with options: {
 "priority": 1000, 
 "path": [
  "dc27.s1"
 ], 
 "vlan": 279, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain23-fw and chain23-nat with options: {
 "priority": 1000, 
 "path": [
  "dc27.s1"
 ], 
 "vlan": 280, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:23:05.776863 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain23-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain23-ids', vnf_dst_interface='input'
I1209 21:23:05.776981 636804 net.py:665] Path between chain23-fw and chain23-ids: ['dc27.s1']
I1209 21:23:05.777072 636804 net.py:694] end node reached: chain23-ids
I1209 21:23:05.779367 636804 net.py:889] add-flow
I1209 21:23:05.779470 636804 net.py:890] -O OpenFlow13 in_port=13,action=mod_vlan_vid:281,output=15
I1209 21:23:05.816029 636804 net.py:893] add-flow in switch: dc27.s1 in_port: 13 out_port: 15
D1209 21:23:05.816217 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain23-ids', vnf_src_interface='input', vnf_dst_name=u'chain23-fw', vnf_dst_interface='output-ids'
I1209 21:23:05.816406 636804 net.py:665] Path between chain23-ids and chain23-fw: ['dc27.s1']
I1209 21:23:05.816565 636804 net.py:694] end node reached: chain23-fw
I1209 21:23:05.816665 636804 net.py:889] add-flow
I1209 21:23:05.816773 636804 net.py:890] -O OpenFlow13 in_port=15,action=mod_vlan_vid:282,output=13
I1209 21:23:05.835839 636804 net.py:893] add-flow in switch: dc27.s1 in_port: 15 out_port: 13
I1209 21:23:05.835953 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc27.s1 in_port: 15 out_port: 13
I1209 21:23:05.836057 636804 net.py:931] add-flow
I1209 21:23:05.836163 636804 net.py:932] in_port=15,action=strip_vlan,output=13
I1209 21:23:05.853601 636804 net.py:935] add-flow in switch: dc27.s1 in_port: 15 out_port: 13
I1209 21:23:05.853826 636804 daisy.py:336] chain(chain23-fw, chain23-ids) output: success: add-flow between chain23-fw and chain23-ids with options: {
 "priority": 1000, 
 "path": [
  "dc27.s1"
 ], 
 "vlan": 281, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain23-ids and chain23-fw with options: {
 "priority": 1000, 
 "path": [
  "dc27.s1"
 ], 
 "vlan": 282, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:23:05.853945 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain23-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain23-vpn', vnf_dst_interface='input-fw'
I1209 21:23:05.854135 636804 net.py:665] Path between chain23-fw and chain23-vpn: ['dc27.s1']
I1209 21:23:05.854264 636804 net.py:694] end node reached: chain23-vpn
I1209 21:23:05.854374 636804 net.py:889] add-flow
I1209 21:23:05.854443 636804 net.py:890] -O OpenFlow13 in_port=14,action=mod_vlan_vid:283,output=20
I1209 21:23:05.889955 636804 net.py:893] add-flow in switch: dc27.s1 in_port: 14 out_port: 20
D1209 21:23:05.890208 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain23-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain23-fw', vnf_dst_interface='output-vpn'
I1209 21:23:05.890352 636804 net.py:665] Path between chain23-vpn and chain23-fw: ['dc27.s1']
I1209 21:23:05.890474 636804 net.py:694] end node reached: chain23-fw
I1209 21:23:05.890583 636804 net.py:889] add-flow
I1209 21:23:05.890662 636804 net.py:890] -O OpenFlow13 in_port=20,action=mod_vlan_vid:284,output=14
I1209 21:23:05.908231 636804 net.py:893] add-flow in switch: dc27.s1 in_port: 20 out_port: 14
I1209 21:23:05.908454 636804 daisy.py:343] chain(chain23-fw, chain23-vpn) output: success: add-flow between chain23-fw and chain23-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc27.s1"
 ], 
 "vlan": 283, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain23-vpn and chain23-fw with options: {
 "priority": 1000, 
 "path": [
  "dc27.s1"
 ], 
 "vlan": 284, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:23:05.908607 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain23-ids', vnf_src_interface='output', vnf_dst_name=u'chain23-vpn', vnf_dst_interface='input-ids'
I1209 21:23:05.908762 636804 net.py:665] Path between chain23-ids and chain23-vpn: ['dc27.s1']
I1209 21:23:05.908857 636804 net.py:694] end node reached: chain23-vpn
I1209 21:23:05.908951 636804 net.py:889] add-flow
I1209 21:23:05.909018 636804 net.py:890] -O OpenFlow13 in_port=16,action=mod_vlan_vid:285,output=19
I1209 21:23:05.926532 636804 net.py:893] add-flow in switch: dc27.s1 in_port: 16 out_port: 19
I1209 21:23:05.926671 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc27.s1 in_port: 16 out_port: 19
I1209 21:23:05.926795 636804 net.py:931] add-flow
I1209 21:23:05.926879 636804 net.py:932] in_port=16,action=strip_vlan,output=19
I1209 21:23:05.944653 636804 net.py:935] add-flow in switch: dc27.s1 in_port: 16 out_port: 19
D1209 21:23:05.944875 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain23-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain23-ids', vnf_dst_interface='output'
I1209 21:23:05.945003 636804 net.py:665] Path between chain23-vpn and chain23-ids: ['dc27.s1']
I1209 21:23:05.945103 636804 net.py:694] end node reached: chain23-ids
I1209 21:23:05.945211 636804 net.py:889] add-flow
I1209 21:23:05.945296 636804 net.py:890] -O OpenFlow13 in_port=19,action=mod_vlan_vid:286,output=16
I1209 21:23:05.980911 636804 net.py:893] add-flow in switch: dc27.s1 in_port: 19 out_port: 16
I1209 21:23:05.981100 636804 daisy.py:350] chain(chain23-ids, chain23-vpn) output: success: add-flow between chain23-ids and chain23-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc27.s1"
 ], 
 "vlan": 285, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain23-vpn and chain23-ids with options: {
 "priority": 1000, 
 "path": [
  "dc27.s1"
 ], 
 "vlan": 286, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:23:05.981230 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain23-vpn', vnf_src_interface='output', vnf_dst_name=u'chain23-sink', vnf_dst_interface='intf2'
I1209 21:23:05.981417 636804 net.py:665] Path between chain23-vpn and chain23-sink: ['dc27.s1', u'gsw0', 'dc16.s1']
I1209 21:23:05.981570 636804 net.py:889] add-flow
I1209 21:23:05.981652 636804 net.py:890] -O OpenFlow13 in_port=21,action=mod_vlan_vid:287,output=1
I1209 21:23:05.999615 636804 net.py:893] add-flow in switch: dc27.s1 in_port: 21 out_port: 1
I1209 21:23:05.999804 636804 net.py:889] add-flow
I1209 21:23:05.999883 636804 net.py:890] in_port=7,dl_vlan=287,action=41
I1209 21:23:06.017534 636804 net.py:893] add-flow in switch: gsw0 in_port: 7 out_port: 41
I1209 21:23:06.017659 636804 net.py:694] end node reached: chain23-sink
I1209 21:23:06.017801 636804 net.py:889] add-flow
I1209 21:23:06.017879 636804 net.py:890] in_port=1,dl_vlan=287,action=strip_vlan,output=11
I1209 21:23:06.035110 636804 net.py:893] add-flow in switch: dc16.s1 in_port: 1 out_port: 11
D1209 21:23:06.035319 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain23-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain23-vpn', vnf_dst_interface='output'
I1209 21:23:06.035484 636804 net.py:665] Path between chain23-sink and chain23-vpn: ['dc16.s1', u'gsw0', 'dc27.s1']
I1209 21:23:06.035624 636804 net.py:889] add-flow
I1209 21:23:06.035727 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:288,output=1
I1209 21:23:06.053905 636804 net.py:893] add-flow in switch: dc16.s1 in_port: 11 out_port: 1
I1209 21:23:06.054049 636804 net.py:889] add-flow
I1209 21:23:06.054194 636804 net.py:890] in_port=41,dl_vlan=288,action=7
I1209 21:23:06.072386 636804 net.py:893] add-flow in switch: gsw0 in_port: 41 out_port: 7
I1209 21:23:06.072501 636804 net.py:694] end node reached: chain23-vpn
I1209 21:23:06.072624 636804 net.py:889] add-flow
I1209 21:23:06.072748 636804 net.py:890] in_port=1,dl_vlan=288,action=strip_vlan,output=21
I1209 21:23:06.090841 636804 net.py:893] add-flow in switch: dc27.s1 in_port: 1 out_port: 21
I1209 21:23:06.091029 636804 daisy.py:357] chain(chain23-vpn, chain23-sink) output: success: add-flow between chain23-vpn and chain23-sink with options: {
 "priority": 1000, 
 "path": [
  "dc27.s1", 
  "gsw0", 
  "dc16.s1"
 ], 
 "vlan": 287, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain23-sink and chain23-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc16.s1", 
  "gsw0", 
  "dc27.s1"
 ], 
 "vlan": 288, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:23:07 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:23:07 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:23:07 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:23:07 2017 UDPv4 link local: [undef]
Sat Dec  9 21:23:07 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:23:07 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=2800c985 e8686202
Sat Dec  9 21:23:07 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:23:07 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:23:07 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:23:08 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:23:08 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:23:08 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:23:08 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:23:08 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:23:08 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:23:08 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:23:08 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:23:10 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:23:10 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:23:10 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:23:10 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:23:10 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:23:10 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:23:10 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:8f
Sat Dec  9 21:23:10 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:23:10 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:23:10 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:23:10 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:23:10 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:23:10 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:23:10 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:23:10 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:23:10 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:23:10 2017 GID set to nogroup
Sat Dec  9 21:23:10 2017 UID set to nobody
Sat Dec  9 21:23:10 2017 Initialization Sequence Completed
I1209 21:23:13.494391 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:23:18.499758 636804 daisy.py:443] < 5s wait complete
I1209 21:23:18.499928 636804 daisy.py:444] VPN client VNF started
chain23-source -> chain23-sink 
chain23-sink -> chain23-source 
*** Results: 0% dropped (2/2 received)
I1209 21:23:21.691764 636804 daisy.py:369] ping chain23-source -> chain23-sink. Packet drop 0.0%
I1209 21:23:21.763761 636804 bench.py:19] Copying traces into the containers...
I1209 21:23:23.051867 636804 bench.py:29] Running dstat...
 success)
returned 0 from sudo docker exec mn.chain22-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain22-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain22-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain22-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain22-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain22-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain22-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain22-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain22-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain22-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.022102000000000066, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server6'], [u'ids', u'chain-server6'], [u'nat', u'chain-server6'], [u'vpn', u'chain-server6'], [u'sink', u'off-cloud0'], [u'source', u'off-cloud6']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 1.242639, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud6', 2], [u'chain-server6', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server6', 2], [u'off-cloud0', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain23-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain23-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain23-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain23-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain23-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain23-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain23-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain23-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain23-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain23-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain23-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain23-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain23-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain23-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain23-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain23-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain23-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain23-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain23-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain23-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain23-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain23-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain23-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain23-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain23-siI1209 21:23:25.341332 636804 iter-e2-allocation.py:17] started allocating chain: 24
I1209 21:23:25.341809 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server26']
I1209 21:23:25.342015 636804 daisy.py:240] creating chain24-fw on chain-server26
D1209 21:23:25.343075 636804 node.py:55] Starting compute instance u'chain24-fw' in data center 'chain-server26'
D1209 21:23:26.286510 636804 simple.py:169] Setting CPU limit for u'chain24-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:23:26.336596 636804 simple.py:215] Setting MEM limit for u'chain24-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:23:26.566227 636804 net.py:233] addLink: n1=chain24-fw intf1=input -- n2=dc10.s1 intf2=dc10.s1-eth2
D1209 21:23:26.779748 636804 net.py:233] addLink: n1=chain24-fw intf1=output-ids -- n2=dc10.s1 intf2=dc10.s1-eth3
D1209 21:23:26.966980 636804 net.py:233] addLink: n1=chain24-fw intf1=output-vpn -- n2=dc10.s1 intf2=dc10.s1-eth4
I1209 21:23:26.967191 636804 daisy.py:310] successfully created VNF: chain24-fw
I1209 21:23:26.967350 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server26']
I1209 21:23:26.967478 636804 daisy.py:240] creating chain24-ids on chain-server26
D1209 21:23:26.968187 636804 node.py:55] Starting compute instance u'chain24-ids' in data center 'chain-server26'
D1209 21:23:27.757579 636804 simple.py:169] Setting CPU limit for u'chain24-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:23:27.811602 636804 simple.py:215] Setting MEM limit for u'chain24-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:23:27.833343 636804 simple.py:169] Setting CPU limit for u'chain24-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:23:27.880507 636804 simple.py:215] Setting MEM limit for u'chain24-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:23:28.092808 636804 net.py:233] addLink: n1=chain24-ids intf1=input -- n2=dc10.s1 intf2=dc10.s1-eth5
D1209 21:23:28.285810 636804 net.py:233] addLink: n1=chain24-ids intf1=output -- n2=dc10.s1 intf2=dc10.s1-eth6
I1209 21:23:28.286060 636804 daisy.py:310] successfully created VNF: chain24-ids
I1209 21:23:28.286314 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server26']
I1209 21:23:28.286458 636804 daisy.py:240] creating chain24-nat on chain-server26
D1209 21:23:28.287246 636804 node.py:55] Starting compute instance u'chain24-nat' in data center 'chain-server26'
D1209 21:23:29.040487 636804 simple.py:215] Setting MEM limit for u'chain24-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:23:29.068753 636804 simple.py:169] Setting CPU limit for u'chain24-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:23:29.117844 636804 simple.py:215] Setting MEM limit for u'chain24-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:23:29.143681 636804 simple.py:169] Setting CPU limit for u'chain24-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:23:29.186295 636804 simple.py:215] Setting MEM limit for u'chain24-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:23:29.395586 636804 net.py:233] addLink: n1=chain24-nat intf1=input -- n2=dc10.s1 intf2=dc10.s1-eth7
D1209 21:23:29.586611 636804 net.py:233] addLink: n1=chain24-nat intf1=output -- n2=dc10.s1 intf2=dc10.s1-eth8
I1209 21:23:29.586855 636804 daisy.py:310] successfully created VNF: chain24-nat
I1209 21:23:29.586999 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server26']
I1209 21:23:29.587117 636804 daisy.py:240] creating chain24-vpn on chain-server26
D1209 21:23:29.587903 636804 node.py:55] Starting compute instance u'chain24-vpn' in data center 'chain-server26'
D1209 21:23:30.318985 636804 simple.py:215] Setting MEM limit for u'chain24-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:23:30.347311 636804 simple.py:215] Setting MEM limit for u'chain24-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:23:30.371691 636804 simple.py:169] Setting CPU limit for u'chain24-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:23:30.420324 636804 simple.py:215] Setting MEM limit for u'chain24-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:23:30.446283 636804 simple.py:169] Setting CPU limit for u'chain24-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:23:30.499248 636804 simple.py:215] Setting MEM limit for u'chain24-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:23:30.720983 636804 net.py:233] addLink: n1=chain24-vpn intf1=input-ids -- n2=dc10.s1 intf2=dc10.s1-eth9
D1209 21:23:30.889467 636804 net.py:233] addLink: n1=chain24-vpn intf1=input-fw -- n2=dc10.s1 intf2=dc10.s1-eth10
D1209 21:23:31.105700 636804 net.py:233] addLink: n1=chain24-vpn intf1=output -- n2=dc10.s1 intf2=dc10.s1-eth11
I1209 21:23:31.105925 636804 daisy.py:310] successfully created VNF: chain24-vpn
I1209 21:23:31.106066 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud2']
I1209 21:23:31.106228 636804 daisy.py:240] creating chain24-sink on off-cloud2
D1209 21:23:31.107045 636804 node.py:55] Starting compute instance u'chain24-sink' in data center 'off-cloud2'
D1209 21:23:31.882545 636804 simple.py:169] Setting CPU limit for u'chain24-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:23:31.930330 636804 simple.py:215] Setting MEM limit for u'chain24-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:23:31.955090 636804 simple.py:215] Setting MEM limit for u'chain16-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:23:31.979819 636804 simple.py:215] Setting MEM limit for u'chain1-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:23:31.999700 636804 simple.py:215] Setting MEM limit for u'chain17-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:23:32.022702 636804 simple.py:215] Setting MEM limit for u'chain1-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:23:32.047472 636804 simple.py:215] Setting MEM limit for u'chain15-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:23:32.257204 636804 net.py:233] addLink: n1=chain24-sink intf1=intf2 -- n2=dc14.s1 intf2=dc14.s1-eth7
I1209 21:23:32.257400 636804 daisy.py:310] successfully created VNF: chain24-sink
I1209 21:23:32.257529 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud4']
I1209 21:23:32.257654 636804 daisy.py:240] creating chain24-source on off-cloud4
D1209 21:23:32.258455 636804 node.py:55] Starting compute instance u'chain24-source' in data center 'off-cloud4'
D1209 21:23:32.997311 636804 simple.py:215] Setting MEM limit for u'chain14-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:23:33.025197 636804 simple.py:215] Setting MEM limit for u'chain13-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:23:33.050338 636804 simple.py:169] Setting CPU limit for u'chain24-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:23:33.099267 636804 simple.py:215] Setting MEM limit for u'chain24-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:23:33.319588 636804 net.py:233] addLink: n1=chain24-source intf1=intf1 -- n2=dc20.s1 intf2=dc20.s1-eth4
I1209 21:23:33.319837 636804 daisy.py:310] successfully created VNF: chain24-source
I1209 21:23:33.319998 636804 daisy.py:311] successfully created chain: 24
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:23:36.045025 636804 daisy.py:401] source, nat, and fw start done
I1209 21:23:36.045370 636804 daisy.py:402] My commands
I1209 21:23:36.181061 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:23:38.183356 636804 daisy.py:419] < 2s wait complete
I1209 21:23:38.183535 636804 daisy.py:420] start VNF chaining
D1209 21:23:38.183738 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain24-source', vnf_src_interface='intf1', vnf_dst_name=u'chain24-nat', vnf_dst_interface='input'
I1209 21:23:38.183949 636804 net.py:665] Path between chain24-source and chain24-nat: ['dc20.s1', u'gsw0', 'dc10.s1']
I1209 21:23:38.184123 636804 net.py:889] add-flow
I1209 21:23:38.184200 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:289,output=1
I1209 21:23:38.188254 636804 net.py:893] add-flow in switch: dc20.s1 in_port: 4 out_port: 1
I1209 21:23:38.188410 636804 net.py:889] add-flow
I1209 21:23:38.188519 636804 net.py:890] in_port=45,dl_vlan=289,action=27
I1209 21:23:38.213989 636804 net.py:893] add-flow in switch: gsw0 in_port: 45 out_port: 27
I1209 21:23:38.214214 636804 net.py:694] end node reached: chain24-nat
I1209 21:23:38.214354 636804 net.py:889] add-flow
I1209 21:23:38.214478 636804 net.py:890] in_port=1,dl_vlan=289,action=strip_vlan,output=7
I1209 21:23:38.239314 636804 net.py:893] add-flow in switch: dc10.s1 in_port: 1 out_port: 7
D1209 21:23:38.239609 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain24-nat', vnf_src_interface='input', vnf_dst_name=u'chain24-source', vnf_dst_interface='intf1'
I1209 21:23:38.239804 636804 net.py:665] Path between chain24-nat and chain24-source: ['dc10.s1', u'gsw0', 'dc20.s1']
I1209 21:23:38.239924 636804 net.py:889] add-flow
I1209 21:23:38.240020 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:290,output=1
I1209 21:23:38.259871 636804 net.py:893] add-flow in switch: dc10.s1 in_port: 7 out_port: 1
I1209 21:23:38.260025 636804 net.py:889] add-flow
I1209 21:23:38.260129 636804 net.py:890] in_port=27,dl_vlan=290,action=45
I1209 21:23:38.278440 636804 net.py:893] add-flow in switch: gsw0 in_port: 27 out_port: 45
I1209 21:23:38.278561 636804 net.py:694] end node reached: chain24-source
I1209 21:23:38.278712 636804 net.py:889] add-flow
I1209 21:23:38.278796 636804 net.py:890] in_port=1,dl_vlan=290,action=strip_vlan,output=4
I1209 21:23:38.298237 636804 net.py:893] add-flow in switch: dc20.s1 in_port: 1 out_port: 4
I1209 21:23:38.298465 636804 daisy.py:322] chain(chain24-source, chain24-nat) output: success: add-flow between chain24-source and chain24-nat with options: {
 "priority": 1000, 
 "path": [
  "dc20.s1", 
  "gsw0", 
  "dc10.s1"
 ], 
 "vlan": 289, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain24-nat and chain24-source with options: {
 "priority": 1000, 
 "path": [
  "dc10.s1", 
  "gsw0", 
  "dc20.s1"
 ], 
 "vlan": 290, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:23:38.298624 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain24-nat', vnf_src_interface='output', vnf_dst_name=u'chain24-fw', vnf_dst_interface='input'
I1209 21:23:38.298820 636804 net.py:665] Path between chain24-nat and chain24-fw: ['dc10.s1']
I1209 21:23:38.298922 636804 net.py:694] end node reached: chain24-fw
I1209 21:23:38.299040 636804 net.py:889] add-flow
I1209 21:23:38.299129 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:291,output=2
I1209 21:23:38.317703 636804 net.py:893] add-flow in switch: dc10.s1 in_port: 8 out_port: 2
I1209 21:23:38.317832 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc10.s1 in_port: 8 out_port: 2
I1209 21:23:38.317924 636804 net.py:931] add-flow
I1209 21:23:38.318000 636804 net.py:932] in_port=8,action=strip_vlan,output=2
I1209 21:23:38.337524 636804 net.py:935] add-flow in switch: dc10.s1 in_port: 8 out_port: 2
D1209 21:23:38.337743 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain24-fw', vnf_src_interface='input', vnf_dst_name=u'chain24-nat', vnf_dst_interface='output'
I1209 21:23:38.337879 636804 net.py:665] Path between chain24-fw and chain24-nat: ['dc10.s1']
I1209 21:23:38.337980 636804 net.py:694] end node reached: chain24-nat
I1209 21:23:38.338186 636804 net.py:889] add-flow
I1209 21:23:38.338294 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:292,output=8
I1209 21:23:38.376745 636804 net.py:893] add-flow in switch: dc10.s1 in_port: 2 out_port: 8
I1209 21:23:38.376868 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc10.s1 in_port: 2 out_port: 8
I1209 21:23:38.376986 636804 net.py:931] add-flow
I1209 21:23:38.377095 636804 net.py:932] in_port=2,action=strip_vlan,output=8
I1209 21:23:38.397191 636804 net.py:935] add-flow in switch: dc10.s1 in_port: 2 out_port: 8
I1209 21:23:38.397404 636804 daisy.py:329] chain(chain24-nat, chain24-fw) output: success: add-flow between chain24-nat and chain24-fw with options: {
 "priority": 1000, 
 "path": [
  "dc10.s1"
 ], 
 "vlan": 291, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain24-fw and chain24-nat with options: {
 "priority": 1000, 
 "path": [
  "dc10.s1"
 ], 
 "vlan": 292, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:23:38.397537 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain24-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain24-ids', vnf_dst_interface='input'
I1209 21:23:38.397758 636804 net.py:665] Path between chain24-fw and chain24-ids: ['dc10.s1']
I1209 21:23:38.397867 636804 net.py:694] end node reached: chain24-ids
I1209 21:23:38.397985 636804 net.py:889] add-flow
I1209 21:23:38.398070 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:293,output=5
I1209 21:23:38.444492 636804 net.py:893] add-flow in switch: dc10.s1 in_port: 3 out_port: 5
D1209 21:23:38.444757 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain24-ids', vnf_src_interface='input', vnf_dst_name=u'chain24-fw', vnf_dst_interface='output-ids'
I1209 21:23:38.444897 636804 net.py:665] Path between chain24-ids and chain24-fw: ['dc10.s1']
I1209 21:23:38.444998 636804 net.py:694] end node reached: chain24-fw
I1209 21:23:38.445112 636804 net.py:889] add-flow
I1209 21:23:38.445203 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:294,output=3
I1209 21:23:38.463409 636804 net.py:893] add-flow in switch: dc10.s1 in_port: 5 out_port: 3
I1209 21:23:38.463534 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc10.s1 in_port: 5 out_port: 3
I1209 21:23:38.463634 636804 net.py:931] add-flow
I1209 21:23:38.463742 636804 net.py:932] in_port=5,action=strip_vlan,output=3
I1209 21:23:38.483238 636804 net.py:935] add-flow in switch: dc10.s1 in_port: 5 out_port: 3
I1209 21:23:38.483448 636804 daisy.py:336] chain(chain24-fw, chain24-ids) output: success: add-flow between chain24-fw and chain24-ids with options: {
 "priority": 1000, 
 "path": [
  "dc10.s1"
 ], 
 "vlan": 293, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain24-ids and chain24-fw with options: {
 "priority": 1000, 
 "path": [
  "dc10.s1"
 ], 
 "vlan": 294, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:23:38.483661 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain24-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain24-vpn', vnf_dst_interface='input-fw'
I1209 21:23:38.483809 636804 net.py:665] Path between chain24-fw and chain24-vpn: ['dc10.s1']
I1209 21:23:38.483906 636804 net.py:694] end node reached: chain24-vpn
I1209 21:23:38.484011 636804 net.py:889] add-flow
I1209 21:23:38.484103 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:295,output=10
I1209 21:23:38.522236 636804 net.py:893] add-flow in switch: dc10.s1 in_port: 4 out_port: 10
D1209 21:23:38.522450 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain24-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain24-fw', vnf_dst_interface='output-vpn'
I1209 21:23:38.522588 636804 net.py:665] Path between chain24-vpn and chain24-fw: ['dc10.s1']
I1209 21:23:38.522727 636804 net.py:694] end node reached: chain24-fw
I1209 21:23:38.522825 636804 net.py:889] add-flow
I1209 21:23:38.522922 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:296,output=4
I1209 21:23:38.542213 636804 net.py:893] add-flow in switch: dc10.s1 in_port: 10 out_port: 4
I1209 21:23:38.542435 636804 daisy.py:343] chain(chain24-fw, chain24-vpn) output: success: add-flow between chain24-fw and chain24-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc10.s1"
 ], 
 "vlan": 295, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain24-vpn and chain24-fw with options: {
 "priority": 1000, 
 "path": [
  "dc10.s1"
 ], 
 "vlan": 296, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:23:38.542591 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain24-ids', vnf_src_interface='output', vnf_dst_name=u'chain24-vpn', vnf_dst_interface='input-ids'
I1209 21:23:38.542742 636804 net.py:665] Path between chain24-ids and chain24-vpn: ['dc10.s1']
I1209 21:23:38.542829 636804 net.py:694] end node reached: chain24-vpn
I1209 21:23:38.542917 636804 net.py:889] add-flow
I1209 21:23:38.542994 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:297,output=9
I1209 21:23:38.561666 636804 net.py:893] add-flow in switch: dc10.s1 in_port: 6 out_port: 9
I1209 21:23:38.561784 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc10.s1 in_port: 6 out_port: 9
I1209 21:23:38.561887 636804 net.py:931] add-flow
I1209 21:23:38.561974 636804 net.py:932] in_port=6,action=strip_vlan,output=9
I1209 21:23:38.580698 636804 net.py:935] add-flow in switch: dc10.s1 in_port: 6 out_port: 9
D1209 21:23:38.580916 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain24-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain24-ids', vnf_dst_interface='output'
I1209 21:23:38.581033 636804 net.py:665] Path between chain24-vpn and chain24-ids: ['dc10.s1']
I1209 21:23:38.581110 636804 net.py:694] end node reached: chain24-ids
I1209 21:23:38.581206 636804 net.py:889] add-flow
I1209 21:23:38.581281 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:298,output=6
I1209 21:23:38.619642 636804 net.py:893] add-flow in switch: dc10.s1 in_port: 9 out_port: 6
I1209 21:23:38.619834 636804 daisy.py:350] chain(chain24-ids, chain24-vpn) output: success: add-flow between chain24-ids and chain24-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc10.s1"
 ], 
 "vlan": 297, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain24-vpn and chain24-ids with options: {
 "priority": 1000, 
 "path": [
  "dc10.s1"
 ], 
 "vlan": 298, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:23:38.620009 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain24-vpn', vnf_src_interface='output', vnf_dst_name=u'chain24-sink', vnf_dst_interface='intf2'
I1209 21:23:38.620172 636804 net.py:665] Path between chain24-vpn and chain24-sink: ['dc10.s1', u'gsw0', 'dc14.s1']
I1209 21:23:38.620265 636804 net.py:889] add-flow
I1209 21:23:38.620326 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:299,output=1
I1209 21:23:38.638536 636804 net.py:893] add-flow in switch: dc10.s1 in_port: 11 out_port: 1
I1209 21:23:38.638727 636804 net.py:889] add-flow
I1209 21:23:38.638798 636804 net.py:890] in_port=27,dl_vlan=299,action=43
I1209 21:23:38.657504 636804 net.py:893] add-flow in switch: gsw0 in_port: 27 out_port: 43
I1209 21:23:38.657650 636804 net.py:694] end node reached: chain24-sink
I1209 21:23:38.657779 636804 net.py:889] add-flow
I1209 21:23:38.657885 636804 net.py:890] in_port=1,dl_vlan=299,action=strip_vlan,output=7
I1209 21:23:38.675880 636804 net.py:893] add-flow in switch: dc14.s1 in_port: 1 out_port: 7
D1209 21:23:38.676081 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain24-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain24-vpn', vnf_dst_interface='output'
I1209 21:23:38.676234 636804 net.py:665] Path between chain24-sink and chain24-vpn: ['dc14.s1', u'gsw0', 'dc10.s1']
I1209 21:23:38.676347 636804 net.py:889] add-flow
I1209 21:23:38.676419 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:300,output=1
I1209 21:23:38.694721 636804 net.py:893] add-flow in switch: dc14.s1 in_port: 7 out_port: 1
I1209 21:23:38.694874 636804 net.py:889] add-flow
I1209 21:23:38.694953 636804 net.py:890] in_port=43,dl_vlan=300,action=27
I1209 21:23:38.714232 636804 net.py:893] add-flow in switch: gsw0 in_port: 43 out_port: 27
I1209 21:23:38.714370 636804 net.py:694] end node reached: chain24-vpn
I1209 21:23:38.714487 636804 net.py:889] add-flow
I1209 21:23:38.714570 636804 net.py:890] in_port=1,dl_vlan=300,action=strip_vlan,output=11
I1209 21:23:38.733372 636804 net.py:893] add-flow in switch: dc10.s1 in_port: 1 out_port: 11
I1209 21:23:38.733547 636804 daisy.py:357] chain(chain24-vpn, chain24-sink) output: success: add-flow between chain24-vpn and chain24-sink with options: {
 "priority": 1000, 
 "path": [
  "dc10.s1", 
  "gsw0", 
  "dc14.s1"
 ], 
 "vlan": 299, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain24-sink and chain24-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc14.s1", 
  "gsw0", 
  "dc10.s1"
 ], 
 "vlan": 300, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:23:40 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:23:40 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:23:40 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:23:40 2017 UDPv4 link local: [undef]
Sat Dec  9 21:23:40 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:23:40 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=082f4dfa 2c037f9e
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:23:40 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:23:40 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:23:40 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:23:40 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:23:40 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:23:40 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:23:40 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:23:40 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:23:40 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:23:40 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:23:40 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:23:42 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:23:42 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:23:42 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:23:42 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:23:42 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:23:42 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:23:42 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:95
Sat Dec  9 21:23:42 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:23:42 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:23:42 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:23:42 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:23:42 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:23:42 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:23:42 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:23:42 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:23:42 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:23:42 2017 GID set to nogroup
Sat Dec  9 21:23:42 2017 UID set to nobody
Sat Dec  9 21:23:42 2017 Initialization Sequence Completed
I1209 21:23:45.550379 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:23:50.555813 636804 daisy.py:443] < 5s wait complete
I1209 21:23:50.556034 636804 daisy.py:444] VPN client VNF started
chain24-source -> chain24-sink 
chain24-sink -> chain24-source 
*** Results: 0% dropped (2/2 received)
I1209 21:23:53.655865 636804 daisy.py:369] ping chain24-source -> chain24-sink. Packet drop 0.0%
I1209 21:23:53.782991 636804 bench.py:19] Copying traces into the containers...
I1209 21:23:55.103981 636804 bench.py:29] Running dstat...
I1209 21:23:58.149272 636804 iter-e2-allocation.py:17] started allocating chain: 25
I1209 21:23:58.149624 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server27']
I1209 21:23:58.149743 636804 daisy.py:240] creating chain25-fw on chain-server27
D1209 21:23:58.151977 636804 node.py:55] Starting compute instance u'chain25-fw' in data center 'chain-server27'
D1209 21:23:58.925198 636804 simple.py:215] Setting MEM limit for u'chain14-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:23:58.953113 636804 simple.py:169] Setting CPU limit for u'chain14-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:23:59.000580 636804 simple.py:215] Setting MEM limit for u'chain14-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:23:59.020627 636804 simple.py:169] Setting CPU limit for u'chain25-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:23:59.065679 636804 simple.py:215] Setting MEM limit for u'chain25-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:23:59.085325 636804 simple.py:215] Setting MEM limit for u'chain14-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:23:59.109252 636804 simple.py:215] Setting MEM limit for u'chain14-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:23:59.348006 636804 net.py:233] addLink: n1=chain25-fw intf1=input -- n2=dc9.s1 intf2=dc9.s1-eth12
D1209 21:23:59.553689 636804 net.py:233] addLink: n1=chain25-fw intf1=output-ids -- n2=dc9.s1 intf2=dc9.s1-eth13
D1209 21:23:59.750786 636804 net.py:233] addLink: n1=chain25-fw intf1=output-vpn -- n2=dc9.s1 intf2=dc9.s1-eth14
I1209 21:23:59.751066 636804 daisy.py:310] successfully created VNF: chain25-fw
I1209 21:23:59.751243 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server27']
I1209 21:23:59.751369 636804 daisy.py:240] creating chain25-ids on chain-server27
D1209 21:23:59.752490 636804 node.py:55] Starting compute instance u'chain25-ids' in data center 'chain-server27'
D1209 21:24:00.545474 636804 simple.py:215] Setting MEM limit for u'chain14-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:00.571135 636804 simple.py:169] Setting CPU limit for u'chain25-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:24:00.620470 636804 simple.py:215] Setting MEM limit for u'chain25-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:00.642627 636804 simple.py:215] Setting MEM limit for u'chain14-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:00.665153 636804 simple.py:169] Setting CPU limit for u'chain25-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:24:00.710297 636804 simple.py:215] Setting MEM limit for u'chain25-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:24:00.731002 636804 simple.py:169] Setting CPU limit for u'chain14-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:24:00.783196 636804 simple.py:215] Setting MEM limit for u'chain14-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:00.807292 636804 simple.py:215] Setting MEM limit for u'chain14-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:24:01.016542 636804 net.py:233] addLink: n1=chain25-ids intf1=input -- n2=dc9.s1 intf2=dc9.s1-eth15
D1209 21:24:01.274907 636804 net.py:233] addLink: n1=chain25-ids intf1=output -- n2=dc9.s1 intf2=dc9.s1-eth16
I1209 21:24:01.275121 636804 daisy.py:310] successfully created VNF: chain25-ids
I1209 21:24:01.275240 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server27']
I1209 21:24:01.275348 636804 daisy.py:240] creating chain25-nat on chain-server27
D1209 21:24:01.276099 636804 node.py:55] Starting compute instance u'chain25-nat' in data center 'chain-server27'
D1209 21:24:02.064639 636804 simple.py:169] Setting CPU limit for u'chain25-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:24:02.124639 636804 simple.py:215] Setting MEM limit for u'chain25-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:02.145487 636804 simple.py:215] Setting MEM limit for u'chain14-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:02.165493 636804 simple.py:169] Setting CPU limit for u'chain25-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:24:02.206653 636804 simple.py:215] Setting MEM limit for u'chain25-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:02.230794 636804 simple.py:215] Setting MEM limit for u'chain14-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:02.252393 636804 simple.py:215] Setting MEM limit for u'chain25-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:24:02.274954 636804 simple.py:169] Setting CPU limit for u'chain14-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:24:02.322992 636804 simple.py:215] Setting MEM limit for u'chain14-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:02.349096 636804 simple.py:215] Setting MEM limit for u'chain14-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:24:02.567756 636804 net.py:233] addLink: n1=chain25-nat intf1=input -- n2=dc9.s1 intf2=dc9.s1-eth17
D1209 21:24:02.798841 636804 net.py:233] addLink: n1=chain25-nat intf1=output -- n2=dc9.s1 intf2=dc9.s1-eth18
I1209 21:24:02.799102 636804 daisy.py:310] successfully created VNF: chain25-nat
I1209 21:24:02.799246 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server27']
I1209 21:24:02.799354 636804 daisy.py:240] creating chain25-vpn on chain-server27
D1209 21:24:02.800306 636804 node.py:55] Starting compute instance u'chain25-vpn' in data center 'chain-server27'
D1209 21:24:03.600536 636804 simple.py:169] Setting CPU limit for u'chain25-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:24:03.650033 636804 simple.py:215] Setting MEM limit for u'chain25-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:03.673810 636804 simple.py:215] Setting MEM limit for u'chain25-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:03.694683 636804 simple.py:215] Setting MEM limit for u'chain14-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:03.720978 636804 simple.py:169] Setting CPU limit for u'chain25-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:24:03.770620 636804 simple.py:215] Setting MEM limit for u'chain25-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:03.793780 636804 simple.py:215] Setting MEM limit for u'chain14-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:03.816361 636804 simple.py:215] Setting MEM limit for u'chain25-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:24:03.835727 636804 simple.py:169] Setting CPU limit for u'chain14-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:24:03.878779 636804 simple.py:215] Setting MEM limit for u'chain14-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:03.902883 636804 simple.py:215] Setting MEM limit for u'chain14-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:24:04.139292 636804 net.py:233] addLink: n1=chain25-vpn intf1=input-ids -- n2=dc9.s1 intf2=dc9.s1-eth19
D1209 21:24:04.365171 636804 net.py:233] addLink: n1=chain25-vpn intf1=input-fw -- n2=dc9.s1 intf2=dc9.s1-eth20
D1209 21:24:04.577801 636804 net.py:233] addLink: n1=chain25-vpn intf1=output -- n2=dc9.s1 intf2=dc9.s1-eth21
I1209 21:24:04.578058 636804 daisy.py:310] successfully created VNF: chain25-vpn
I1209 21:24:04.578263 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud4']
I1209 21:24:04.578356 636804 daisy.py:240] creating chain25-sink on off-cloud4
D1209 21:24:04.579303 636804 node.py:55] Starting compute instance u'chain25-sink' in data center 'off-cloud4'
D1209 21:24:05.341049 636804 simple.py:215] Setting MEM limit for u'chain14-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:05.369448 636804 simple.py:215] Setting MEM limit for u'chain13-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:05.391927 636804 simple.py:169] Setting CPU limit for u'chain25-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:24:05.436216 636804 simple.py:215] Setting MEM limit for u'chain25-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:05.457530 636804 simple.py:215] Setting MEM limit for u'chain24-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:05.669224 636804 net.py:233] addLink: n1=chain25-sink intf1=intf2 -- n2=dc20.s1 intf2=dc20.s1-eth5
I1209 21:24:05.669425 636804 daisy.py:310] successfully created VNF: chain25-sink
I1209 21:24:05.669595 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud9']
I1209 21:24:05.669686 636804 daisy.py:240] creating chain25-source on off-cloud9
D1209 21:24:05.670732 636804 node.py:55] Starting compute instance u'chain25-source' in data center 'off-cloud9'
D1209 21:24:06.415527 636804 simple.py:215] Setting MEM limit for u'chain2-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:06.442667 636804 simple.py:215] Setting MEM limit for u'chain15-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:06.466598 636804 simple.py:215] Setting MEM limit for u'chain14-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:06.487384 636804 simple.py:215] Setting MEM limit for u'chain13-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:06.507467 636804 simple.py:215] Setting MEM limit for u'chain2-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:06.533651 636804 simple.py:169] Setting CPU limit for u'chain25-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:24:06.587038 636804 simple.py:215] Setting MEM limit for u'chain25-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:06.823894 636804 net.py:233] addLink: n1=chain25-source intf1=intf1 -- n2=dc21.s1 intf2=dc21.s1-eth7
I1209 21:24:06.824162 636804 daisy.py:310] successfully created VNF: chain25-source
I1209 21:24:06.824327 636804 daisy.py:311] successfully created chain: 25
nk dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain23-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.02473100000000006, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server26'], [u'ids', u'chain-server26'], [u'nat', u'chain-server26'], [u'vpn', u'chain-server26'], [u'sink', u'off-cloud2'], [u'source', u'off-cloud4']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 2.500489, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud4', 2], [u'chain-server26', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'off-cloud2', u'gsw', 2], [u'gsw', u'chain-server26', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain24-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain24-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain24-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain24-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain24-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain24-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain24-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain24-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain24-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain24-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain24-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain24-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain24-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain24-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain24-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain24-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain24-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain24-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain24-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain24-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain24-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain24-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain24-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain24-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain24-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain24-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.023533000000000026, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server27'], [u'ids', u'chain-server27'], [u'nat', u'chain-server27'], [u'vpn', u'chain-server27'], [u'sink', u'off-cloud4'], [u'source', u'off-cloud9']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 2.459324, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud9', 2], [u'chain-server27', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server27', 2], [u'off-cloud4', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from suSetting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:24:09.818821 636804 daisy.py:401] source, nat, and fw start done
I1209 21:24:09.819039 636804 daisy.py:402] My commands
I1209 21:24:09.952819 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:24:11.954211 636804 daisy.py:419] < 2s wait complete
I1209 21:24:11.954411 636804 daisy.py:420] start VNF chaining
D1209 21:24:11.954626 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain25-source', vnf_src_interface='intf1', vnf_dst_name=u'chain25-nat', vnf_dst_interface='input'
I1209 21:24:11.954904 636804 net.py:665] Path between chain25-source and chain25-nat: ['dc21.s1', u'gsw0', 'dc9.s1']
I1209 21:24:11.955106 636804 net.py:889] add-flow
I1209 21:24:11.955215 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:301,output=1
I1209 21:24:11.959443 636804 net.py:893] add-flow in switch: dc21.s1 in_port: 7 out_port: 1
I1209 21:24:11.959620 636804 net.py:889] add-flow
I1209 21:24:11.959703 636804 net.py:890] in_port=50,dl_vlan=301,action=28
I1209 21:24:11.977411 636804 net.py:893] add-flow in switch: gsw0 in_port: 50 out_port: 28
I1209 21:24:11.977545 636804 net.py:694] end node reached: chain25-nat
I1209 21:24:11.977658 636804 net.py:889] add-flow
I1209 21:24:11.977746 636804 net.py:890] in_port=1,dl_vlan=301,action=strip_vlan,output=17
I1209 21:24:11.999367 636804 net.py:893] add-flow in switch: dc9.s1 in_port: 1 out_port: 17
D1209 21:24:11.999795 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain25-nat', vnf_src_interface='input', vnf_dst_name=u'chain25-source', vnf_dst_interface='intf1'
I1209 21:24:12.000009 636804 net.py:665] Path between chain25-nat and chain25-source: ['dc9.s1', u'gsw0', 'dc21.s1']
I1209 21:24:12.000144 636804 net.py:889] add-flow
I1209 21:24:12.000237 636804 net.py:890] -O OpenFlow13 in_port=17,action=mod_vlan_vid:302,output=1
I1209 21:24:12.021219 636804 net.py:893] add-flow in switch: dc9.s1 in_port: 17 out_port: 1
I1209 21:24:12.021473 636804 net.py:889] add-flow
I1209 21:24:12.021609 636804 net.py:890] in_port=28,dl_vlan=302,action=50
I1209 21:24:12.043231 636804 net.py:893] add-flow in switch: gsw0 in_port: 28 out_port: 50
I1209 21:24:12.043348 636804 net.py:694] end node reached: chain25-source
I1209 21:24:12.043433 636804 net.py:889] add-flow
I1209 21:24:12.043494 636804 net.py:890] in_port=1,dl_vlan=302,action=strip_vlan,output=7
I1209 21:24:12.065135 636804 net.py:893] add-flow in switch: dc21.s1 in_port: 1 out_port: 7
I1209 21:24:12.065352 636804 daisy.py:322] chain(chain25-source, chain25-nat) output: success: add-flow between chain25-source and chain25-nat with options: {
 "priority": 1000, 
 "path": [
  "dc21.s1", 
  "gsw0", 
  "dc9.s1"
 ], 
 "vlan": 301, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain25-nat and chain25-source with options: {
 "priority": 1000, 
 "path": [
  "dc9.s1", 
  "gsw0", 
  "dc21.s1"
 ], 
 "vlan": 302, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:24:12.065506 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain25-nat', vnf_src_interface='output', vnf_dst_name=u'chain25-fw', vnf_dst_interface='input'
I1209 21:24:12.065654 636804 net.py:665] Path between chain25-nat and chain25-fw: ['dc9.s1']
I1209 21:24:12.065756 636804 net.py:694] end node reached: chain25-fw
I1209 21:24:12.065876 636804 net.py:889] add-flow
I1209 21:24:12.065979 636804 net.py:890] -O OpenFlow13 in_port=18,action=mod_vlan_vid:303,output=12
I1209 21:24:12.086308 636804 net.py:893] add-flow in switch: dc9.s1 in_port: 18 out_port: 12
I1209 21:24:12.086462 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc9.s1 in_port: 18 out_port: 12
I1209 21:24:12.086580 636804 net.py:931] add-flow
I1209 21:24:12.086699 636804 net.py:932] in_port=18,action=strip_vlan,output=12
I1209 21:24:12.107115 636804 net.py:935] add-flow in switch: dc9.s1 in_port: 18 out_port: 12
D1209 21:24:12.107367 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain25-fw', vnf_src_interface='input', vnf_dst_name=u'chain25-nat', vnf_dst_interface='output'
I1209 21:24:12.107599 636804 net.py:665] Path between chain25-fw and chain25-nat: ['dc9.s1']
I1209 21:24:12.107721 636804 net.py:694] end node reached: chain25-nat
I1209 21:24:12.107817 636804 net.py:889] add-flow
I1209 21:24:12.107891 636804 net.py:890] -O OpenFlow13 in_port=12,action=mod_vlan_vid:304,output=18
I1209 21:24:12.148642 636804 net.py:893] add-flow in switch: dc9.s1 in_port: 12 out_port: 18
I1209 21:24:12.148757 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc9.s1 in_port: 12 out_port: 18
I1209 21:24:12.148870 636804 net.py:931] add-flow
I1209 21:24:12.148971 636804 net.py:932] in_port=12,action=strip_vlan,output=18
I1209 21:24:12.169110 636804 net.py:935] add-flow in switch: dc9.s1 in_port: 12 out_port: 18
I1209 21:24:12.169285 636804 daisy.py:329] chain(chain25-nat, chain25-fw) output: success: add-flow between chain25-nat and chain25-fw with options: {
 "priority": 1000, 
 "path": [
  "dc9.s1"
 ], 
 "vlan": 303, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain25-fw and chain25-nat with options: {
 "priority": 1000, 
 "path": [
  "dc9.s1"
 ], 
 "vlan": 304, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:24:12.169423 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain25-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain25-ids', vnf_dst_interface='input'
I1209 21:24:12.169576 636804 net.py:665] Path between chain25-fw and chain25-ids: ['dc9.s1']
I1209 21:24:12.169697 636804 net.py:694] end node reached: chain25-ids
I1209 21:24:12.169786 636804 net.py:889] add-flow
I1209 21:24:12.169866 636804 net.py:890] -O OpenFlow13 in_port=13,action=mod_vlan_vid:305,output=15
I1209 21:24:12.210454 636804 net.py:893] add-flow in switch: dc9.s1 in_port: 13 out_port: 15
D1209 21:24:12.210678 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain25-ids', vnf_src_interface='input', vnf_dst_name=u'chain25-fw', vnf_dst_interface='output-ids'
I1209 21:24:12.210805 636804 net.py:665] Path between chain25-ids and chain25-fw: ['dc9.s1']
I1209 21:24:12.210925 636804 net.py:694] end node reached: chain25-fw
I1209 21:24:12.211066 636804 net.py:889] add-flow
I1209 21:24:12.211184 636804 net.py:890] -O OpenFlow13 in_port=15,action=mod_vlan_vid:306,output=13
I1209 21:24:12.230844 636804 net.py:893] add-flow in switch: dc9.s1 in_port: 15 out_port: 13
I1209 21:24:12.231002 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc9.s1 in_port: 15 out_port: 13
I1209 21:24:12.231116 636804 net.py:931] add-flow
I1209 21:24:12.231208 636804 net.py:932] in_port=15,action=strip_vlan,output=13
I1209 21:24:12.249656 636804 net.py:935] add-flow in switch: dc9.s1 in_port: 15 out_port: 13
I1209 21:24:12.249922 636804 daisy.py:336] chain(chain25-fw, chain25-ids) output: success: add-flow between chain25-fw and chain25-ids with options: {
 "priority": 1000, 
 "path": [
  "dc9.s1"
 ], 
 "vlan": 305, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain25-ids and chain25-fw with options: {
 "priority": 1000, 
 "path": [
  "dc9.s1"
 ], 
 "vlan": 306, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:24:12.250053 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain25-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain25-vpn', vnf_dst_interface='input-fw'
I1209 21:24:12.250251 636804 net.py:665] Path between chain25-fw and chain25-vpn: ['dc9.s1']
I1209 21:24:12.250348 636804 net.py:694] end node reached: chain25-vpn
I1209 21:24:12.250457 636804 net.py:889] add-flow
I1209 21:24:12.250566 636804 net.py:890] -O OpenFlow13 in_port=14,action=mod_vlan_vid:307,output=20
I1209 21:24:12.290189 636804 net.py:893] add-flow in switch: dc9.s1 in_port: 14 out_port: 20
D1209 21:24:12.290368 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain25-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain25-fw', vnf_dst_interface='output-vpn'
I1209 21:24:12.290493 636804 net.py:665] Path between chain25-vpn and chain25-fw: ['dc9.s1']
I1209 21:24:12.290625 636804 net.py:694] end node reached: chain25-fw
I1209 21:24:12.290754 636804 net.py:889] add-flow
I1209 21:24:12.290863 636804 net.py:890] -O OpenFlow13 in_port=20,action=mod_vlan_vid:308,output=14
I1209 21:24:12.310055 636804 net.py:893] add-flow in switch: dc9.s1 in_port: 20 out_port: 14
I1209 21:24:12.310349 636804 daisy.py:343] chain(chain25-fw, chain25-vpn) output: success: add-flow between chain25-fw and chain25-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc9.s1"
 ], 
 "vlan": 307, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain25-vpn and chain25-fw with options: {
 "priority": 1000, 
 "path": [
  "dc9.s1"
 ], 
 "vlan": 308, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:24:12.310503 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain25-ids', vnf_src_interface='output', vnf_dst_name=u'chain25-vpn', vnf_dst_interface='input-ids'
I1209 21:24:12.310658 636804 net.py:665] Path between chain25-ids and chain25-vpn: ['dc9.s1']
I1209 21:24:12.310762 636804 net.py:694] end node reached: chain25-vpn
I1209 21:24:12.310889 636804 net.py:889] add-flow
I1209 21:24:12.310971 636804 net.py:890] -O OpenFlow13 in_port=16,action=mod_vlan_vid:309,output=19
I1209 21:24:12.335963 636804 net.py:893] add-flow in switch: dc9.s1 in_port: 16 out_port: 19
I1209 21:24:12.336149 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc9.s1 in_port: 16 out_port: 19
I1209 21:24:12.336247 636804 net.py:931] add-flow
I1209 21:24:12.336330 636804 net.py:932] in_port=16,action=strip_vlan,output=19
I1209 21:24:12.358438 636804 net.py:935] add-flow in switch: dc9.s1 in_port: 16 out_port: 19
D1209 21:24:12.358664 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain25-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain25-ids', vnf_dst_interface='output'
I1209 21:24:12.358805 636804 net.py:665] Path between chain25-vpn and chain25-ids: ['dc9.s1']
I1209 21:24:12.358916 636804 net.py:694] end node reached: chain25-ids
I1209 21:24:12.359061 636804 net.py:889] add-flow
I1209 21:24:12.359157 636804 net.py:890] -O OpenFlow13 in_port=19,action=mod_vlan_vid:310,output=16
I1209 21:24:12.400008 636804 net.py:893] add-flow in switch: dc9.s1 in_port: 19 out_port: 16
I1209 21:24:12.400198 636804 daisy.py:350] chain(chain25-ids, chain25-vpn) output: success: add-flow between chain25-ids and chain25-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc9.s1"
 ], 
 "vlan": 309, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain25-vpn and chain25-ids with options: {
 "priority": 1000, 
 "path": [
  "dc9.s1"
 ], 
 "vlan": 310, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:24:12.400377 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain25-vpn', vnf_src_interface='output', vnf_dst_name=u'chain25-sink', vnf_dst_interface='intf2'
I1209 21:24:12.400609 636804 net.py:665] Path between chain25-vpn and chain25-sink: ['dc9.s1', u'gsw0', 'dc20.s1']
I1209 21:24:12.400743 636804 net.py:889] add-flow
I1209 21:24:12.400819 636804 net.py:890] -O OpenFlow13 in_port=21,action=mod_vlan_vid:311,output=1
I1209 21:24:12.422144 636804 net.py:893] add-flow in switch: dc9.s1 in_port: 21 out_port: 1
I1209 21:24:12.422292 636804 net.py:889] add-flow
I1209 21:24:12.422385 636804 net.py:890] in_port=28,dl_vlan=311,action=45
I1209 21:24:12.441237 636804 net.py:893] add-flow in switch: gsw0 in_port: 28 out_port: 45
I1209 21:24:12.441365 636804 net.py:694] end node reached: chain25-sink
I1209 21:24:12.441471 636804 net.py:889] add-flow
I1209 21:24:12.441591 636804 net.py:890] in_port=1,dl_vlan=311,action=strip_vlan,output=5
I1209 21:24:12.460680 636804 net.py:893] add-flow in switch: dc20.s1 in_port: 1 out_port: 5
D1209 21:24:12.460875 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain25-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain25-vpn', vnf_dst_interface='output'
I1209 21:24:12.461034 636804 net.py:665] Path between chain25-sink and chain25-vpn: ['dc20.s1', u'gsw0', 'dc9.s1']
I1209 21:24:12.461158 636804 net.py:889] add-flow
I1209 21:24:12.461260 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:312,output=1
I1209 21:24:12.479872 636804 net.py:893] add-flow in switch: dc20.s1 in_port: 5 out_port: 1
I1209 21:24:12.480012 636804 net.py:889] add-flow
I1209 21:24:12.480120 636804 net.py:890] in_port=45,dl_vlan=312,action=28
I1209 21:24:12.502027 636804 net.py:893] add-flow in switch: gsw0 in_port: 45 out_port: 28
I1209 21:24:12.502198 636804 net.py:694] end node reached: chain25-vpn
I1209 21:24:12.502326 636804 net.py:889] add-flow
I1209 21:24:12.502424 636804 net.py:890] in_port=1,dl_vlan=312,action=strip_vlan,output=21
I1209 21:24:12.520850 636804 net.py:893] add-flow in switch: dc9.s1 in_port: 1 out_port: 21
I1209 21:24:12.521040 636804 daisy.py:357] chain(chain25-vpn, chain25-sink) output: success: add-flow between chain25-vpn and chain25-sink with options: {
 "priority": 1000, 
 "path": [
  "dc9.s1", 
  "gsw0", 
  "dc20.s1"
 ], 
 "vlan": 311, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain25-sink and chain25-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc20.s1", 
  "gsw0", 
  "dc9.s1"
 ], 
 "vlan": 312, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:24:14 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:24:14 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:24:14 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:24:14 2017 UDPv4 link local: [undef]
Sat Dec  9 21:24:14 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:24:14 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=655e65d3 82da28a3
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:24:14 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:24:14 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:24:14 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:24:14 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:24:14 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:24:14 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:24:14 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:24:14 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:24:14 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:24:14 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:24:14 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:24:17 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:24:17 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:24:17 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:24:17 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:24:17 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:24:17 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:24:17 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:9b
Sat Dec  9 21:24:17 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:24:17 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:24:17 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:24:17 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:24:17 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:24:17 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:24:17 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:24:17 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:24:17 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:24:17 2017 GID set to nogroup
Sat Dec  9 21:24:17 2017 UID set to nobody
Sat Dec  9 21:24:17 2017 Initialization Sequence Completed
I1209 21:24:19.874732 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:24:24.878202 636804 daisy.py:443] < 5s wait complete
I1209 21:24:24.878413 636804 daisy.py:444] VPN client VNF started
chain25-source -> chain25-sink 
chain25-sink -> chain25-source 
*** Results: 0% dropped (2/2 received)
I1209 21:24:27.288013 636804 daisy.py:369] ping chain25-source -> chain25-sink. Packet drop 0.0%
I1209 21:24:27.346234 636804 bench.py:19] Copying traces into the containers...
I1209 21:24:28.612004 636804 bench.py:29] Running dstat...
I1209 21:24:31.643384 636804 iter-e2-allocation.py:17] started allocating chain: 26
I1209 21:24:31.643820 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server25']
I1209 21:24:31.643959 636804 daisy.py:240] creating chain26-fw on chain-server25
D1209 21:24:31.644895 636804 node.py:55] Starting compute instance u'chain26-fw' in data center 'chain-server25'
D1209 21:24:32.775682 636804 simple.py:169] Setting CPU limit for u'chain26-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:24:32.819696 636804 simple.py:215] Setting MEM limit for u'chain26-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:33.103780 636804 net.py:233] addLink: n1=chain26-fw intf1=input -- n2=dc7.s1 intf2=dc7.s1-eth2
D1209 21:24:33.292799 636804 net.py:233] addLink: n1=chain26-fw intf1=output-ids -- n2=dc7.s1 intf2=dc7.s1-eth3
D1209 21:24:33.515579 636804 net.py:233] addLink: n1=chain26-fw intf1=output-vpn -- n2=dc7.s1 intf2=dc7.s1-eth4
I1209 21:24:33.515873 636804 daisy.py:310] successfully created VNF: chain26-fw
I1209 21:24:33.516031 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server25']
I1209 21:24:33.516170 636804 daisy.py:240] creating chain26-ids on chain-server25
D1209 21:24:33.517179 636804 node.py:55] Starting compute instance u'chain26-ids' in data center 'chain-server25'
D1209 21:24:34.250161 636804 simple.py:169] Setting CPU limit for u'chain26-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:24:34.310237 636804 simple.py:215] Setting MEM limit for u'chain26-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:24:34.335700 636804 simple.py:169] Setting CPU limit for u'chain26-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:24:34.378690 636804 simple.py:215] Setting MEM limit for u'chain26-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:34.603130 636804 net.py:233] addLink: n1=chain26-ids intf1=input -- n2=dc7.s1 intf2=dc7.s1-eth5
D1209 21:24:34.840224 636804 net.py:233] addLink: n1=chain26-ids intf1=output -- n2=dc7.s1 intf2=dc7.s1-eth6
I1209 21:24:34.840432 636804 daisy.py:310] successfully created VNF: chain26-ids
I1209 21:24:34.840570 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server25']
I1209 21:24:34.840662 636804 daisy.py:240] creating chain26-nat on chain-server25
D1209 21:24:34.841485 636804 node.py:55] Starting compute instance u'chain26-nat' in data center 'chain-server25'
D1209 21:24:35.624847 636804 simple.py:215] Setting MEM limit for u'chain26-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:24:35.655035 636804 simple.py:169] Setting CPU limit for u'chain26-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:24:35.701212 636804 simple.py:215] Setting MEM limit for u'chain26-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:35.725033 636804 simple.py:169] Setting CPU limit for u'chain26-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:24:35.769342 636804 simple.py:215] Setting MEM limit for u'chain26-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:35.983036 636804 net.py:233] addLink: n1=chain26-nat intf1=input -- n2=dc7.s1 intf2=dc7.s1-eth7
D1209 21:24:36.203717 636804 net.py:233] addLink: n1=chain26-nat intf1=output -- n2=dc7.s1 intf2=dc7.s1-eth8
I1209 21:24:36.203933 636804 daisy.py:310] successfully created VNF: chain26-nat
I1209 21:24:36.204063 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server25']
I1209 21:24:36.204180 636804 daisy.py:240] creating chain26-vpn on chain-server25
D1209 21:24:36.205058 636804 node.py:55] Starting compute instance u'chain26-vpn' in data center 'chain-server25'
D1209 21:24:37.021734 636804 simple.py:169] Setting CPU limit for u'chain26-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:24:37.077178 636804 simple.py:215] Setting MEM limit for u'chain26-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:37.103144 636804 simple.py:215] Setting MEM limit for u'chain26-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:24:37.130162 636804 simple.py:215] Setting MEM limit for u'chain26-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:37.154129 636804 simple.py:169] Setting CPU limit for u'chain26-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:24:37.203089 636804 simple.py:215] Setting MEM limit for u'chain26-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:37.433902 636804 net.py:233] addLink: n1=chain26-vpn intf1=input-ids -- n2=dc7.s1 intf2=dc7.s1-eth9
D1209 21:24:37.681536 636804 net.py:233] addLink: n1=chain26-vpn intf1=input-fw -- n2=dc7.s1 intf2=dc7.s1-eth10
D1209 21:24:37.887705 636804 net.py:233] addLink: n1=chain26-vpn intf1=output -- n2=dc7.s1 intf2=dc7.s1-eth11
I1209 21:24:37.887943 636804 daisy.py:310] successfully created VNF: chain26-vpn
I1209 21:24:37.888098 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud1']
I1209 21:24:37.888199 636804 daisy.py:240] creating chain26-sink on off-cloud1
D1209 21:24:37.889837 636804 node.py:55] Starting compute instance u'chain26-sink' in data center 'off-cloud1'
D1209 21:24:38.572385 636804 simple.py:169] Setting CPU limit for u'chain26-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:24:38.625071 636804 simple.py:215] Setting MEM limit for u'chain26-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:38.852674 636804 net.py:233] addLink: n1=chain26-sink intf1=intf2 -- n2=dc15.s1 intf2=dc15.s1-eth2
I1209 21:24:38.852905 636804 daisy.py:310] successfully created VNF: chain26-sink
I1209 21:24:38.853048 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud4']
I1209 21:24:38.853166 636804 daisy.py:240] creating chain26-source on off-cloud4
D1209 21:24:38.853966 636804 node.py:55] Starting compute instance u'chain26-source' in data center 'off-cloud4'
D1209 21:24:39.601267 636804 simple.py:215] Setting MEM limit for u'chain14-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:39.628824 636804 simple.py:215] Setting MEM limit for u'chain13-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:39.652997 636804 simple.py:169] Setting CPU limit for u'chain26-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:24:39.704750 636804 simple.py:215] Setting MEM limit for u'chain26-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:39.730350 636804 simple.py:215] Setting MEM limit for u'chain25-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:39.756954 636804 simple.py:215] Setting MEM limit for u'chain24-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:24:39.978652 636804 net.py:233] addLink: n1=chain26-source intf1=intf1 -- n2=dc20.s1 intf2=dc20.s1-eth6
I1209 21:24:39.978873 636804 daisy.py:310] successfully created VNF: chain26-source
I1209 21:24:39.979001 636804 daisy.py:311] successfully created chain: 26
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
do docker exec mn.chain25-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain25-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain25-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain25-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain25-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain25-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain25-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain25-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain25-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain25-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain25-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain25-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain25-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain25-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain25-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain25-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain25-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain25-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain25-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain25-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain25-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain25-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain25-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain25-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain25-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain25-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.023789999999999978, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server25'], [u'ids', u'chain-server25'], [u'nat', u'chain-server25'], [u'vpn', u'chain-server25'], [u'sink', u'off-cloud1'], [u'source', u'off-cloud4']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 2.583043, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud4', 2], [u'chain-server25', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server25', 2], [u'off-cloud1', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain26-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain26-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain26-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain26-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain26-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain26-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain26-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain26-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain26-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)I1209 21:24:42.563376 636804 daisy.py:401] source, nat, and fw start done
I1209 21:24:42.563669 636804 daisy.py:402] My commands
I1209 21:24:42.703721 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:24:44.706017 636804 daisy.py:419] < 2s wait complete
I1209 21:24:44.706275 636804 daisy.py:420] start VNF chaining
D1209 21:24:44.706475 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain26-source', vnf_src_interface='intf1', vnf_dst_name=u'chain26-nat', vnf_dst_interface='input'
I1209 21:24:44.706706 636804 net.py:665] Path between chain26-source and chain26-nat: ['dc20.s1', u'gsw0', 'dc7.s1']
I1209 21:24:44.706882 636804 net.py:889] add-flow
I1209 21:24:44.706989 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:313,output=1
I1209 21:24:44.711829 636804 net.py:893] add-flow in switch: dc20.s1 in_port: 6 out_port: 1
I1209 21:24:44.711981 636804 net.py:889] add-flow
I1209 21:24:44.712061 636804 net.py:890] in_port=45,dl_vlan=313,action=26
I1209 21:24:44.733648 636804 net.py:893] add-flow in switch: gsw0 in_port: 45 out_port: 26
I1209 21:24:44.733771 636804 net.py:694] end node reached: chain26-nat
I1209 21:24:44.733915 636804 net.py:889] add-flow
I1209 21:24:44.734035 636804 net.py:890] in_port=1,dl_vlan=313,action=strip_vlan,output=7
I1209 21:24:44.762222 636804 net.py:893] add-flow in switch: dc7.s1 in_port: 1 out_port: 7
D1209 21:24:44.762511 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain26-nat', vnf_src_interface='input', vnf_dst_name=u'chain26-source', vnf_dst_interface='intf1'
I1209 21:24:44.762753 636804 net.py:665] Path between chain26-nat and chain26-source: ['dc7.s1', u'gsw0', 'dc20.s1']
I1209 21:24:44.762901 636804 net.py:889] add-flow
I1209 21:24:44.763005 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:314,output=1
I1209 21:24:44.789659 636804 net.py:893] add-flow in switch: dc7.s1 in_port: 7 out_port: 1
I1209 21:24:44.789789 636804 net.py:889] add-flow
I1209 21:24:44.789911 636804 net.py:890] in_port=26,dl_vlan=314,action=45
I1209 21:24:44.813726 636804 net.py:893] add-flow in switch: gsw0 in_port: 26 out_port: 45
I1209 21:24:44.813901 636804 net.py:694] end node reached: chain26-source
I1209 21:24:44.814063 636804 net.py:889] add-flow
I1209 21:24:44.814239 636804 net.py:890] in_port=1,dl_vlan=314,action=strip_vlan,output=6
I1209 21:24:44.841144 636804 net.py:893] add-flow in switch: dc20.s1 in_port: 1 out_port: 6
I1209 21:24:44.841357 636804 daisy.py:322] chain(chain26-source, chain26-nat) output: success: add-flow between chain26-source and chain26-nat with options: {
 "priority": 1000, 
 "path": [
  "dc20.s1", 
  "gsw0", 
  "dc7.s1"
 ], 
 "vlan": 313, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain26-nat and chain26-source with options: {
 "priority": 1000, 
 "path": [
  "dc7.s1", 
  "gsw0", 
  "dc20.s1"
 ], 
 "vlan": 314, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:24:44.841522 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain26-nat', vnf_src_interface='output', vnf_dst_name=u'chain26-fw', vnf_dst_interface='input'
I1209 21:24:44.841646 636804 net.py:665] Path between chain26-nat and chain26-fw: ['dc7.s1']
I1209 21:24:44.841732 636804 net.py:694] end node reached: chain26-fw
I1209 21:24:44.841821 636804 net.py:889] add-flow
I1209 21:24:44.841892 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:315,output=2
I1209 21:24:44.860620 636804 net.py:893] add-flow in switch: dc7.s1 in_port: 8 out_port: 2
I1209 21:24:44.860758 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc7.s1 in_port: 8 out_port: 2
I1209 21:24:44.860842 636804 net.py:931] add-flow
I1209 21:24:44.860923 636804 net.py:932] in_port=8,action=strip_vlan,output=2
I1209 21:24:44.882611 636804 net.py:935] add-flow in switch: dc7.s1 in_port: 8 out_port: 2
D1209 21:24:44.882792 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain26-fw', vnf_src_interface='input', vnf_dst_name=u'chain26-nat', vnf_dst_interface='output'
I1209 21:24:44.882985 636804 net.py:665] Path between chain26-fw and chain26-nat: ['dc7.s1']
I1209 21:24:44.883136 636804 net.py:694] end node reached: chain26-nat
I1209 21:24:44.883246 636804 net.py:889] add-flow
I1209 21:24:44.883335 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:316,output=8
I1209 21:24:44.921993 636804 net.py:893] add-flow in switch: dc7.s1 in_port: 2 out_port: 8
I1209 21:24:44.922200 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc7.s1 in_port: 2 out_port: 8
I1209 21:24:44.922321 636804 net.py:931] add-flow
I1209 21:24:44.922430 636804 net.py:932] in_port=2,action=strip_vlan,output=8
I1209 21:24:44.941730 636804 net.py:935] add-flow in switch: dc7.s1 in_port: 2 out_port: 8
I1209 21:24:44.941934 636804 daisy.py:329] chain(chain26-nat, chain26-fw) output: success: add-flow between chain26-nat and chain26-fw with options: {
 "priority": 1000, 
 "path": [
  "dc7.s1"
 ], 
 "vlan": 315, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain26-fw and chain26-nat with options: {
 "priority": 1000, 
 "path": [
  "dc7.s1"
 ], 
 "vlan": 316, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:24:44.942147 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain26-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain26-ids', vnf_dst_interface='input'
I1209 21:24:44.942326 636804 net.py:665] Path between chain26-fw and chain26-ids: ['dc7.s1']
I1209 21:24:44.942459 636804 net.py:694] end node reached: chain26-ids
I1209 21:24:44.942605 636804 net.py:889] add-flow
I1209 21:24:44.942711 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:317,output=5
I1209 21:24:44.982408 636804 net.py:893] add-flow in switch: dc7.s1 in_port: 3 out_port: 5
D1209 21:24:44.982620 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain26-ids', vnf_src_interface='input', vnf_dst_name=u'chain26-fw', vnf_dst_interface='output-ids'
I1209 21:24:44.982786 636804 net.py:665] Path between chain26-ids and chain26-fw: ['dc7.s1']
I1209 21:24:44.982916 636804 net.py:694] end node reached: chain26-fw
I1209 21:24:44.983047 636804 net.py:889] add-flow
I1209 21:24:44.983125 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:318,output=3
I1209 21:24:45.007291 636804 net.py:893] add-flow in switch: dc7.s1 in_port: 5 out_port: 3
I1209 21:24:45.007437 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc7.s1 in_port: 5 out_port: 3
I1209 21:24:45.007569 636804 net.py:931] add-flow
I1209 21:24:45.007667 636804 net.py:932] in_port=5,action=strip_vlan,output=3
I1209 21:24:45.030080 636804 net.py:935] add-flow in switch: dc7.s1 in_port: 5 out_port: 3
I1209 21:24:45.030333 636804 daisy.py:336] chain(chain26-fw, chain26-ids) output: success: add-flow between chain26-fw and chain26-ids with options: {
 "priority": 1000, 
 "path": [
  "dc7.s1"
 ], 
 "vlan": 317, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain26-ids and chain26-fw with options: {
 "priority": 1000, 
 "path": [
  "dc7.s1"
 ], 
 "vlan": 318, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:24:45.030479 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain26-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain26-vpn', vnf_dst_interface='input-fw'
I1209 21:24:45.030606 636804 net.py:665] Path between chain26-fw and chain26-vpn: ['dc7.s1']
I1209 21:24:45.030700 636804 net.py:694] end node reached: chain26-vpn
I1209 21:24:45.030791 636804 net.py:889] add-flow
I1209 21:24:45.030860 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:319,output=10
I1209 21:24:45.083409 636804 net.py:893] add-flow in switch: dc7.s1 in_port: 4 out_port: 10
D1209 21:24:45.083636 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain26-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain26-fw', vnf_dst_interface='output-vpn'
I1209 21:24:45.083765 636804 net.py:665] Path between chain26-vpn and chain26-fw: ['dc7.s1']
I1209 21:24:45.083864 636804 net.py:694] end node reached: chain26-fw
I1209 21:24:45.083981 636804 net.py:889] add-flow
I1209 21:24:45.084086 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:320,output=4
I1209 21:24:45.105212 636804 net.py:893] add-flow in switch: dc7.s1 in_port: 10 out_port: 4
I1209 21:24:45.105427 636804 daisy.py:343] chain(chain26-fw, chain26-vpn) output: success: add-flow between chain26-fw and chain26-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc7.s1"
 ], 
 "vlan": 319, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain26-vpn and chain26-fw with options: {
 "priority": 1000, 
 "path": [
  "dc7.s1"
 ], 
 "vlan": 320, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:24:45.105596 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain26-ids', vnf_src_interface='output', vnf_dst_name=u'chain26-vpn', vnf_dst_interface='input-ids'
I1209 21:24:45.105736 636804 net.py:665] Path between chain26-ids and chain26-vpn: ['dc7.s1']
I1209 21:24:45.105840 636804 net.py:694] end node reached: chain26-vpn
I1209 21:24:45.105945 636804 net.py:889] add-flow
I1209 21:24:45.106029 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:321,output=9
I1209 21:24:45.127065 636804 net.py:893] add-flow in switch: dc7.s1 in_port: 6 out_port: 9
I1209 21:24:45.127223 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc7.s1 in_port: 6 out_port: 9
I1209 21:24:45.127319 636804 net.py:931] add-flow
I1209 21:24:45.127393 636804 net.py:932] in_port=6,action=strip_vlan,output=9
I1209 21:24:45.147155 636804 net.py:935] add-flow in switch: dc7.s1 in_port: 6 out_port: 9
D1209 21:24:45.147345 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain26-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain26-ids', vnf_dst_interface='output'
I1209 21:24:45.147496 636804 net.py:665] Path between chain26-vpn and chain26-ids: ['dc7.s1']
I1209 21:24:45.147603 636804 net.py:694] end node reached: chain26-ids
I1209 21:24:45.147725 636804 net.py:889] add-flow
I1209 21:24:45.147804 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:322,output=6
I1209 21:24:45.187566 636804 net.py:893] add-flow in switch: dc7.s1 in_port: 9 out_port: 6
I1209 21:24:45.188114 636804 daisy.py:350] chain(chain26-ids, chain26-vpn) output: success: add-flow between chain26-ids and chain26-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc7.s1"
 ], 
 "vlan": 321, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain26-vpn and chain26-ids with options: {
 "priority": 1000, 
 "path": [
  "dc7.s1"
 ], 
 "vlan": 322, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:24:45.188306 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain26-vpn', vnf_src_interface='output', vnf_dst_name=u'chain26-sink', vnf_dst_interface='intf2'
I1209 21:24:45.188503 636804 net.py:665] Path between chain26-vpn and chain26-sink: ['dc7.s1', u'gsw0', 'dc15.s1']
I1209 21:24:45.188647 636804 net.py:889] add-flow
I1209 21:24:45.188751 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:323,output=1
I1209 21:24:45.208034 636804 net.py:893] add-flow in switch: dc7.s1 in_port: 11 out_port: 1
I1209 21:24:45.208203 636804 net.py:889] add-flow
I1209 21:24:45.208282 636804 net.py:890] in_port=26,dl_vlan=323,action=42
I1209 21:24:45.228262 636804 net.py:893] add-flow in switch: gsw0 in_port: 26 out_port: 42
I1209 21:24:45.228377 636804 net.py:694] end node reached: chain26-sink
I1209 21:24:45.228490 636804 net.py:889] add-flow
I1209 21:24:45.228564 636804 net.py:890] in_port=1,dl_vlan=323,action=strip_vlan,output=2
I1209 21:24:45.248296 636804 net.py:893] add-flow in switch: dc15.s1 in_port: 1 out_port: 2
D1209 21:24:45.248488 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain26-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain26-vpn', vnf_dst_interface='output'
I1209 21:24:45.248634 636804 net.py:665] Path between chain26-sink and chain26-vpn: ['dc15.s1', u'gsw0', 'dc7.s1']
I1209 21:24:45.248722 636804 net.py:889] add-flow
I1209 21:24:45.248784 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:324,output=1
I1209 21:24:45.275492 636804 net.py:893] add-flow in switch: dc15.s1 in_port: 2 out_port: 1
I1209 21:24:45.275655 636804 net.py:889] add-flow
I1209 21:24:45.275767 636804 net.py:890] in_port=42,dl_vlan=324,action=26
I1209 21:24:45.289160 636804 net.py:893] add-flow in switch: gsw0 in_port: 42 out_port: 26
I1209 21:24:45.289273 636804 net.py:694] end node reached: chain26-vpn
I1209 21:24:45.289382 636804 net.py:889] add-flow
I1209 21:24:45.289479 636804 net.py:890] in_port=1,dl_vlan=324,action=strip_vlan,output=11
I1209 21:24:45.309478 636804 net.py:893] add-flow in switch: dc7.s1 in_port: 1 out_port: 11
I1209 21:24:45.309679 636804 daisy.py:357] chain(chain26-vpn, chain26-sink) output: success: add-flow between chain26-vpn and chain26-sink with options: {
 "priority": 1000, 
 "path": [
  "dc7.s1", 
  "gsw0", 
  "dc15.s1"
 ], 
 "vlan": 323, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain26-sink and chain26-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc15.s1", 
  "gsw0", 
  "dc7.s1"
 ], 
 "vlan": 324, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:24:46 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:24:46 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:24:46 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:24:46 2017 UDPv4 link local: [undef]
Sat Dec  9 21:24:46 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:24:46 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=764a56b6 b20b2463
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:24:46 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:24:46 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:24:46 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:24:46 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:24:46 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:24:46 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:24:46 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:24:46 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:24:46 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:24:46 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:24:46 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:24:48 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:24:48 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:24:48 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:24:48 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:24:48 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:24:48 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:24:48 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:a1
Sat Dec  9 21:24:48 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:24:48 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:24:48 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:24:48 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:24:48 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:24:48 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:24:48 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:24:48 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:24:48 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:24:48 2017 GID set to nogroup
Sat Dec  9 21:24:48 2017 UID set to nobody
Sat Dec  9 21:24:48 2017 Initialization Sequence Completed
I1209 21:24:52.298795 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:24:57.302196 636804 daisy.py:443] < 5s wait complete
I1209 21:24:57.302407 636804 daisy.py:444] VPN client VNF started
chain26-source -> chain26-sink 
chain26-sink -> chain26-source 
*** Results: 0% dropped (2/2 received)
I1209 21:25:00.731431 636804 daisy.py:369] ping chain26-source -> chain26-sink. Packet drop 0.0%
I1209 21:25:00.807565 636804 bench.py:19] Copying traces into the containers...
I1209 21:25:02.175741 636804 bench.py:29] Running dstat...
I1209 21:25:04.751167 636804 iter-e2-allocation.py:17] started allocating chain: 27
I1209 21:25:04.751543 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server26']
I1209 21:25:04.751667 636804 daisy.py:240] creating chain27-fw on chain-server26
D1209 21:25:04.752645 636804 node.py:55] Starting compute instance u'chain27-fw' in data center 'chain-server26'
D1209 21:25:05.564158 636804 simple.py:169] Setting CPU limit for u'chain27-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:25:05.614738 636804 simple.py:215] Setting MEM limit for u'chain27-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:05.643876 636804 simple.py:215] Setting MEM limit for u'chain24-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:25:05.672358 636804 simple.py:215] Setting MEM limit for u'chain24-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:05.696348 636804 simple.py:169] Setting CPU limit for u'chain24-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:25:05.750895 636804 simple.py:215] Setting MEM limit for u'chain24-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:05.775230 636804 simple.py:215] Setting MEM limit for u'chain24-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:06.011327 636804 net.py:233] addLink: n1=chain27-fw intf1=input -- n2=dc10.s1 intf2=dc10.s1-eth12
D1209 21:25:06.211827 636804 net.py:233] addLink: n1=chain27-fw intf1=output-ids -- n2=dc10.s1 intf2=dc10.s1-eth13
D1209 21:25:06.405227 636804 net.py:233] addLink: n1=chain27-fw intf1=output-vpn -- n2=dc10.s1 intf2=dc10.s1-eth14
I1209 21:25:06.405479 636804 daisy.py:310] successfully created VNF: chain27-fw
I1209 21:25:06.405627 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server26']
I1209 21:25:06.405786 636804 daisy.py:240] creating chain27-ids on chain-server26
D1209 21:25:06.406682 636804 node.py:55] Starting compute instance u'chain27-ids' in data center 'chain-server26'
D1209 21:25:07.228701 636804 simple.py:215] Setting MEM limit for u'chain24-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:25:07.257677 636804 simple.py:215] Setting MEM limit for u'chain24-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:07.280261 636804 simple.py:169] Setting CPU limit for u'chain27-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:25:07.325290 636804 simple.py:215] Setting MEM limit for u'chain27-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:07.351028 636804 simple.py:169] Setting CPU limit for u'chain27-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:25:07.397964 636804 simple.py:215] Setting MEM limit for u'chain27-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:25:07.422503 636804 simple.py:215] Setting MEM limit for u'chain24-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:07.444958 636804 simple.py:169] Setting CPU limit for u'chain24-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:25:07.497678 636804 simple.py:215] Setting MEM limit for u'chain24-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:07.733362 636804 net.py:233] addLink: n1=chain27-ids intf1=input -- n2=dc10.s1 intf2=dc10.s1-eth15
D1209 21:25:08.102401 636804 net.py:233] addLink: n1=chain27-ids intf1=output -- n2=dc10.s1 intf2=dc10.s1-eth16
I1209 21:25:08.102652 636804 daisy.py:310] successfully created VNF: chain27-ids
I1209 21:25:08.102796 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server26']
I1209 21:25:08.102915 636804 daisy.py:240] creating chain27-nat on chain-server26
D1209 21:25:08.103714 636804 node.py:55] Starting compute instance u'chain27-nat' in data center 'chain-server26'
D1209 21:25:08.877764 636804 simple.py:215] Setting MEM limit for u'chain24-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:25:08.901896 636804 simple.py:215] Setting MEM limit for u'chain24-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:08.922787 636804 simple.py:169] Setting CPU limit for u'chain27-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:25:08.972212 636804 simple.py:215] Setting MEM limit for u'chain27-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:08.996378 636804 simple.py:215] Setting MEM limit for u'chain27-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:25:09.021775 636804 simple.py:215] Setting MEM limit for u'chain24-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:09.049920 636804 simple.py:169] Setting CPU limit for u'chain27-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:25:09.100455 636804 simple.py:215] Setting MEM limit for u'chain27-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:09.123051 636804 simple.py:169] Setting CPU limit for u'chain24-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:25:09.173751 636804 simple.py:215] Setting MEM limit for u'chain24-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:09.401953 636804 net.py:233] addLink: n1=chain27-nat intf1=input -- n2=dc10.s1 intf2=dc10.s1-eth17
D1209 21:25:09.643606 636804 net.py:233] addLink: n1=chain27-nat intf1=output -- n2=dc10.s1 intf2=dc10.s1-eth18
I1209 21:25:09.643841 636804 daisy.py:310] successfully created VNF: chain27-nat
I1209 21:25:09.643990 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server26']
I1209 21:25:09.644118 636804 daisy.py:240] creating chain27-vpn on chain-server26
D1209 21:25:09.645154 636804 node.py:55] Starting compute instance u'chain27-vpn' in data center 'chain-server26'
D1209 21:25:10.443882 636804 simple.py:215] Setting MEM limit for u'chain24-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:25:10.471328 636804 simple.py:215] Setting MEM limit for u'chain24-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:10.496882 636804 simple.py:169] Setting CPU limit for u'chain27-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:25:10.546164 636804 simple.py:215] Setting MEM limit for u'chain27-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:10.572082 636804 simple.py:215] Setting MEM limit for u'chain27-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:25:10.597652 636804 simple.py:215] Setting MEM limit for u'chain24-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:10.622020 636804 simple.py:169] Setting CPU limit for u'chain27-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:25:10.674040 636804 simple.py:215] Setting MEM limit for u'chain27-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:10.701376 636804 simple.py:215] Setting MEM limit for u'chain27-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:10.724586 636804 simple.py:169] Setting CPU limit for u'chain24-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:25:10.772829 636804 simple.py:215] Setting MEM limit for u'chain24-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:11.014636 636804 net.py:233] addLink: n1=chain27-vpn intf1=input-ids -- n2=dc10.s1 intf2=dc10.s1-eth19
D1209 21:25:11.231688 636804 net.py:233] addLink: n1=chain27-vpn intf1=input-fw -- n2=dc10.s1 intf2=dc10.s1-eth20
D1209 21:25:11.438949 636804 net.py:233] addLink: n1=chain27-vpn intf1=output -- n2=dc10.s1 intf2=dc10.s1-eth21
I1209 21:25:11.439209 636804 daisy.py:310] successfully created VNF: chain27-vpn
I1209 21:25:11.439328 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud2']
I1209 21:25:11.439436 636804 daisy.py:240] creating chain27-sink on off-cloud2
D1209 21:25:11.440220 636804 node.py:55] Starting compute instance u'chain27-sink' in data center 'off-cloud2'
D1209 21:25:12.273400 636804 simple.py:215] Setting MEM limit for u'chain24-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:12.306060 636804 simple.py:215] Setting MEM limit for u'chain16-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:12.336168 636804 simple.py:215] Setting MEM limit for u'chain1-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:12.362947 636804 simple.py:215] Setting MEM limit for u'chain17-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:12.386945 636804 simple.py:169] Setting CPU limit for u'chain27-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:25:12.436886 636804 simple.py:215] Setting MEM limit for u'chain27-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:12.463682 636804 simple.py:215] Setting MEM limit for u'chain1-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:12.488055 636804 simple.py:215] Setting MEM limit for u'chain15-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:12.744364 636804 net.py:233] addLink: n1=chain27-sink intf1=intf2 -- n2=dc14.s1 intf2=dc14.s1-eth8
I1209 21:25:12.744621 636804 daisy.py:310] successfully created VNF: chain27-sink
I1209 21:25:12.744760 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud4']
I1209 21:25:12.744869 636804 daisy.py:240] creating chain27-source on off-cloud4
D1209 21:25:12.745814 636804 node.py:55] Starting compute instance u'chain27-source' in data center 'off-cloud4'
D1209 21:25:13.542330 636804 simple.py:215] Setting MEM limit for u'chain14-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:13.569092 636804 simple.py:215] Setting MEM limit for u'chain25-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:13.593184 636804 simple.py:215] Setting MEM limit for u'chain13-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:13.618915 636804 simple.py:169] Setting CPU limit for u'chain27-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:25:13.665560 636804 simple.py:215] Setting MEM limit for u'chain27-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:13.688414 636804 simple.py:215] Setting MEM limit for u'chain26-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:13.709465 636804 simple.py:215] Setting MEM limit for u'chain24-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:13.950741 636804 net.py:233] addLink: n1=chain27-source intf1=intf1 -- n2=dc20.s1 intf2=dc20.s1-eth7
I1209 21:25:13.950948 636804 daisy.py:310] successfully created VNF: chain27-source
I1209 21:25:13.951061 636804 daisy.py:311] successfully created chain: 27
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:25:16.621440 636804 daisy.py:401] source, nat, and fw start done
I1209 21:25:16.621695 636804 daisy.py:402] My commands
I1209 21:25:16.768122 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:25:18.770200 636804 daisy.py:419] < 2s wait complete
I1209 21:25:18.770440 636804 daisy.py:420] start VNF chaining
D1209 21:25:18.770591 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain27-source', vnf_src_interface='intf1', vnf_dst_name=u'chain27-nat', vnf_dst_interface='input'
I1209 21:25:18.770845 636804 net.py:665] Path between chain27-source and chain27-nat: ['dc20.s1', u'gsw0', 'dc10.s1']
I1209 21:25:18.771017 636804 net.py:889] add-flow
I1209 21:25:18.771111 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:325,output=1
I1209 21:25:18.775516 636804 net.py:893] add-flow in switch: dc20.s1 in_port: 7 out_port: 1
I1209 21:25:18.775660 636804 net.py:889] add-flow
I1209 21:25:18.775733 636804 net.py:890] in_port=45,dl_vlan=325,action=27
I1209 21:25:18.797343 636804 net.py:893] add-flow in switch: gsw0 in_port: 45 out_port: 27
I1209 21:25:18.797508 636804 net.py:694] end node reached: chain27-nat
I1209 21:25:18.797646 636804 net.py:889] add-flow
I1209 21:25:18.797739 636804 net.py:890] in_port=1,dl_vlan=325,action=strip_vlan,output=17
I1209 21:25:18.821444 636804 net.py:893] add-flow in switch: dc10.s1 in_port: 1 out_port: 17
D1209 21:25:18.821667 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain27-nat', vnf_src_interface='input', vnf_dst_name=u'chain27-source', vnf_dst_interface='intf1'
I1209 21:25:18.821852 636804 net.py:665] Path between chain27-nat and chain27-source: ['dc10.s1', u'gsw0', 'dc20.s1']
I1209 21:25:18.821947 636804 net.py:889] add-flow
I1209 21:25:18.822026 636804 net.py:890] -O OpenFlow13 in_port=17,action=mod_vlan_vid:326,output=1
I1209 21:25:18.845530 636804 net.py:893] add-flow in switch: dc10.s1 in_port: 17 out_port: 1
I1209 21:25:18.845669 636804 net.py:889] add-flow
I1209 21:25:18.845751 636804 net.py:890] in_port=27,dl_vlan=326,action=45
I1209 21:25:18.868891 636804 net.py:893] add-flow in switch: gsw0 in_port: 27 out_port: 45
I1209 21:25:18.868999 636804 net.py:694] end node reached: chain27-source
I1209 21:25:18.869110 636804 net.py:889] add-flow
I1209 21:25:18.869196 636804 net.py:890] in_port=1,dl_vlan=326,action=strip_vlan,output=7
I1209 21:25:18.891088 636804 net.py:893] add-flow in switch: dc20.s1 in_port: 1 out_port: 7
I1209 21:25:18.891305 636804 daisy.py:322] chain(chain27-source, chain27-nat) output: success: add-flow between chain27-source and chain27-nat with options: {
 "priority": 1000, 
 "path": [
  "dc20.s1", 
  "gsw0", 
  "dc10.s1"
 ], 
 "vlan": 325, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain27-nat and chain27-source with options: {
 "priority": 1000, 
 "path": [
  "dc10.s1", 
  "gsw0", 
  "dc20.s1"
 ], 
 "vlan": 326, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:25:18.891485 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain27-nat', vnf_src_interface='output', vnf_dst_name=u'chain27-fw', vnf_dst_interface='input'
I1209 21:25:18.891653 636804 net.py:665] Path between chain27-nat and chain27-fw: ['dc10.s1']
I1209 21:25:18.891747 636804 net.py:694] end node reached: chain27-fw
I1209 21:25:18.891836 636804 net.py:889] add-flow
I1209 21:25:18.891937 636804 net.py:890] -O OpenFlow13 in_port=18,action=mod_vlan_vid:327,output=12
I1209 21:25:18.913360 636804 net.py:893] add-flow in switch: dc10.s1 in_port: 18 out_port: 12
I1209 21:25:18.913489 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc10.s1 in_port: 18 out_port: 12
I1209 21:25:18.913604 636804 net.py:931] add-flow
I1209 21:25:18.913706 636804 net.py:932] in_port=18,action=strip_vlan,output=12
I1209 21:25:18.936700 636804 net.py:935] add-flow in switch: dc10.s1 in_port: 18 out_port: 12
D1209 21:25:18.936856 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain27-fw', vnf_src_interface='input', vnf_dst_name=u'chain27-nat', vnf_dst_interface='output'
I1209 21:25:18.936963 636804 net.py:665] Path between chain27-fw and chain27-nat: ['dc10.s1']
I1209 21:25:18.937047 636804 net.py:694] end node reached: chain27-nat
I1209 21:25:18.937165 636804 net.py:889] add-flow
I1209 21:25:18.937237 636804 net.py:890] -O OpenFlow13 in_port=12,action=mod_vlan_vid:328,output=18
I1209 21:25:18.980995 636804 net.py:893] add-flow in switch: dc10.s1 in_port: 12 out_port: 18
I1209 21:25:18.981100 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc10.s1 in_port: 12 out_port: 18
I1209 21:25:18.981168 636804 net.py:931] add-flow
I1209 21:25:18.981256 636804 net.py:932] in_port=12,action=strip_vlan,output=18
I1209 21:25:19.003176 636804 net.py:935] add-flow in switch: dc10.s1 in_port: 12 out_port: 18
I1209 21:25:19.003350 636804 daisy.py:329] chain(chain27-nat, chain27-fw) output: success: add-flow between chain27-nat and chain27-fw with options: {
 "priority": 1000, 
 "path": [
  "dc10.s1"
 ], 
 "vlan": 327, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain27-fw and chain27-nat with options: {
 "priority": 1000, 
 "path": [
  "dc10.s1"
 ], 
 "vlan": 328, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:25:19.003496 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain27-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain27-ids', vnf_dst_interface='input'
I1209 21:25:19.003640 636804 net.py:665] Path between chain27-fw and chain27-ids: ['dc10.s1']
I1209 21:25:19.003720 636804 net.py:694] end node reached: chain27-ids
I1209 21:25:19.003789 636804 net.py:889] add-flow
I1209 21:25:19.003846 636804 net.py:890] -O OpenFlow13 in_port=13,action=mod_vlan_vid:329,output=15
I1209 21:25:19.044995 636804 net.py:893] add-flow in switch: dc10.s1 in_port: 13 out_port: 15
D1209 21:25:19.045161 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain27-ids', vnf_src_interface='input', vnf_dst_name=u'chain27-fw', vnf_dst_interface='output-ids'
I1209 21:25:19.045270 636804 net.py:665] Path between chain27-ids and chain27-fw: ['dc10.s1']
I1209 21:25:19.045347 636804 net.py:694] end node reached: chain27-fw
I1209 21:25:19.045447 636804 net.py:889] add-flow
I1209 21:25:19.045509 636804 net.py:890] -O OpenFlow13 in_port=15,action=mod_vlan_vid:330,output=13
I1209 21:25:19.065772 636804 net.py:893] add-flow in switch: dc10.s1 in_port: 15 out_port: 13
I1209 21:25:19.065917 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc10.s1 in_port: 15 out_port: 13
I1209 21:25:19.066015 636804 net.py:931] add-flow
I1209 21:25:19.066157 636804 net.py:932] in_port=15,action=strip_vlan,output=13
I1209 21:25:19.087173 636804 net.py:935] add-flow in switch: dc10.s1 in_port: 15 out_port: 13
I1209 21:25:19.087330 636804 daisy.py:336] chain(chain27-fw, chain27-ids) output: success: add-flow between chain27-fw and chain27-ids with options: {
 "priority": 1000, 
 "path": [
  "dc10.s1"
 ], 
 "vlan": 329, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain27-ids and chain27-fw with options: {
 "priority": 1000, 
 "path": [
  "dc10.s1"
 ], 
 "vlan": 330, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:25:19.087466 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain27-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain27-vpn', vnf_dst_interface='input-fw'
I1209 21:25:19.087568 636804 net.py:665] Path between chain27-fw and chain27-vpn: ['dc10.s1']
I1209 21:25:19.087642 636804 net.py:694] end node reached: chain27-vpn
I1209 21:25:19.087760 636804 net.py:889] add-flow
I1209 21:25:19.087874 636804 net.py:890] -O OpenFlow13 in_port=14,action=mod_vlan_vid:331,output=20
I1209 21:25:19.127500 636804 net.py:893] add-flow in switch: dc10.s1 in_port: 14 out_port: 20
D1209 21:25:19.127713 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain27-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain27-fw', vnf_dst_interface='output-vpn'
I1209 21:25:19.127846 636804 net.py:665] Path between chain27-vpn and chain27-fw: ['dc10.s1']
I1209 21:25:19.127944 636804 net.py:694] end node reached: chain27-fw
I1209 21:25:19.128053 636804 net.py:889] add-flow
I1209 21:25:19.128118 636804 net.py:890] -O OpenFlow13 in_port=20,action=mod_vlan_vid:332,output=14
I1209 21:25:19.149610 636804 net.py:893] add-flow in switch: dc10.s1 in_port: 20 out_port: 14
I1209 21:25:19.149859 636804 daisy.py:343] chain(chain27-fw, chain27-vpn) output: success: add-flow between chain27-fw and chain27-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc10.s1"
 ], 
 "vlan": 331, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain27-vpn and chain27-fw with options: {
 "priority": 1000, 
 "path": [
  "dc10.s1"
 ], 
 "vlan": 332, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:25:19.149979 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain27-ids', vnf_src_interface='output', vnf_dst_name=u'chain27-vpn', vnf_dst_interface='input-ids'
I1209 21:25:19.150074 636804 net.py:665] Path between chain27-ids and chain27-vpn: ['dc10.s1']
I1209 21:25:19.150193 636804 net.py:694] end node reached: chain27-vpn
I1209 21:25:19.150305 636804 net.py:889] add-flow
I1209 21:25:19.150409 636804 net.py:890] -O OpenFlow13 in_port=16,action=mod_vlan_vid:333,output=19
I1209 21:25:19.170478 636804 net.py:893] add-flow in switch: dc10.s1 in_port: 16 out_port: 19
I1209 21:25:19.170609 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc10.s1 in_port: 16 out_port: 19
I1209 21:25:19.170717 636804 net.py:931] add-flow
I1209 21:25:19.170815 636804 net.py:932] in_port=16,action=strip_vlan,output=19
I1209 21:25:19.191441 636804 net.py:935] add-flow in switch: dc10.s1 in_port: 16 out_port: 19
D1209 21:25:19.191600 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain27-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain27-ids', vnf_dst_interface='output'
I1209 21:25:19.191708 636804 net.py:665] Path between chain27-vpn and chain27-ids: ['dc10.s1']
I1209 21:25:19.191787 636804 net.py:694] end node reached: chain27-ids
I1209 21:25:19.191864 636804 net.py:889] add-flow
I1209 21:25:19.191930 636804 net.py:890] -O OpenFlow13 in_port=19,action=mod_vlan_vid:334,output=16
I1209 21:25:19.236630 636804 net.py:893] add-flow in switch: dc10.s1 in_port: 19 out_port: 16
I1209 21:25:19.236789 636804 daisy.py:350] chain(chain27-ids, chain27-vpn) output: success: add-flow between chain27-ids and chain27-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc10.s1"
 ], 
 "vlan": 333, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain27-vpn and chain27-ids with options: {
 "priority": 1000, 
 "path": [
  "dc10.s1"
 ], 
 "vlan": 334, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:25:19.236955 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain27-vpn', vnf_src_interface='output', vnf_dst_name=u'chain27-sink', vnf_dst_interface='intf2'
I1209 21:25:19.237129 636804 net.py:665] Path between chain27-vpn and chain27-sink: ['dc10.s1', u'gsw0', 'dc14.s1']
I1209 21:25:19.237267 636804 net.py:889] add-flow
I1209 21:25:19.237354 636804 net.py:890] -O OpenFlow13 in_port=21,action=mod_vlan_vid:335,output=1
I1209 21:25:19.255409 636804 net.py:893] add-flow in switch: dc10.s1 in_port: 21 out_port: 1
I1209 21:25:19.255640 636804 net.py:889] add-flow
I1209 21:25:19.255763 636804 net.py:890] in_port=27,dl_vlan=335,action=43
I1209 21:25:19.276443 636804 net.py:893] add-flow in switch: gsw0 in_port: 27 out_port: 43
I1209 21:25:19.276566 636804 net.py:694] end node reached: chain27-sink
I1209 21:25:19.276691 636804 net.py:889] add-flow
I1209 21:25:19.276784 636804 net.py:890] in_port=1,dl_vlan=335,action=strip_vlan,output=8
I1209 21:25:19.297383 636804 net.py:893] add-flow in switch: dc14.s1 in_port: 1 out_port: 8
D1209 21:25:19.297640 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain27-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain27-vpn', vnf_dst_interface='output'
I1209 21:25:19.297828 636804 net.py:665] Path between chain27-sink and chain27-vpn: ['dc14.s1', u'gsw0', 'dc10.s1']
I1209 21:25:19.297928 636804 net.py:889] add-flow
I1209 21:25:19.298007 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:336,output=1
I1209 21:25:19.319259 636804 net.py:893] add-flow in switch: dc14.s1 in_port: 8 out_port: 1
I1209 21:25:19.319463 636804 net.py:889] add-flow
I1209 21:25:19.319566 636804 net.py:890] in_port=43,dl_vlan=336,action=27
I1209 21:25:19.342045 636804 net.py:893] add-flow in switch: gsw0 in_port: 43 out_port: 27
I1209 21:25:19.342215 636804 net.py:694] end node reached: chain27-vpn
I1209 21:25:19.342291 636804 net.py:889] add-flow
I1209 21:25:19.342364 636804 net.py:890] in_port=1,dl_vlan=336,action=strip_vlan,output=21
I1209 21:25:19.364916 636804 net.py:893] add-flow in switch: dc10.s1 in_port: 1 out_port: 21
I1209 21:25:19.365123 636804 daisy.py:357] chain(chain27-vpn, chain27-sink) output: success: add-flow between chain27-vpn and chain27-sink with options: {
 "priority": 1000, 
 "path": [
  "dc10.s1", 
  "gsw0", 
  "dc14.s1"
 ], 
 "vlan": 335, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain27-sink and chain27-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc14.s1", 
  "gsw0", 
  "dc10.s1"
 ], 
 "vlan": 336, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup

returned 0 from sudo docker exec mn.chain26-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain26-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain26-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain26-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain26-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain26-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain26-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain26-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain26-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain26-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain26-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain26-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain26-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain26-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain26-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain26-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain26-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.02575399999999961, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server26'], [u'ids', u'chain-server26'], [u'nat', u'chain-server26'], [u'vpn', u'chain-server26'], [u'sink', u'off-cloud2'], [u'source', u'off-cloud4']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 2.542693, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud4', 2], [u'chain-server26', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'off-cloud2', u'gsw', 2], [u'gsw', u'chain-server26', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain27-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain27-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain27-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain27-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain27-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain27-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain27-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain27-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain27-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain27-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain27-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain27-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain27-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain27-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain27-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain27-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain27-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain27-sink ufw enable (0 is sSkipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:25:21 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:25:21 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:25:21 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:25:21 2017 UDPv4 link local: [undef]
Sat Dec  9 21:25:21 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:25:21 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=6eb8e46a 507d5c1e
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:25:21 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:25:21 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:25:21 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:25:21 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:25:21 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:25:21 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:25:21 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:25:21 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:25:21 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:25:21 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:25:21 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:25:23 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:25:23 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:25:23 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:25:23 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:25:23 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:25:23 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:25:23 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:a7
Sat Dec  9 21:25:23 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:25:23 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:25:23 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:25:23 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:25:23 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:25:24 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:25:24 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:25:24 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:25:24 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:25:24 2017 GID set to nogroup
Sat Dec  9 21:25:24 2017 UID set to nobody
Sat Dec  9 21:25:24 2017 Initialization Sequence Completed
I1209 21:25:26.894180 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:25:31.899540 636804 daisy.py:443] < 5s wait complete
I1209 21:25:31.899755 636804 daisy.py:444] VPN client VNF started
chain27-source -> chain27-sink 
chain27-sink -> chain27-source 
*** Results: 0% dropped (2/2 received)
I1209 21:25:34.552660 636804 daisy.py:369] ping chain27-source -> chain27-sink. Packet drop 0.0%
I1209 21:25:34.615936 636804 bench.py:19] Copying traces into the containers...
I1209 21:25:35.980355 636804 bench.py:29] Running dstat...
I1209 21:25:38.265022 636804 iter-e2-allocation.py:17] started allocating chain: 28
I1209 21:25:38.265558 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server0']
I1209 21:25:38.265741 636804 daisy.py:240] creating chain28-ids on chain-server0
D1209 21:25:38.266985 636804 node.py:55] Starting compute instance u'chain28-ids' in data center 'chain-server0'
D1209 21:25:39.493102 636804 simple.py:169] Setting CPU limit for u'chain28-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:25:39.552412 636804 simple.py:215] Setting MEM limit for u'chain28-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:25:39.806521 636804 net.py:233] addLink: n1=chain28-ids intf1=input -- n2=dc25.s1 intf2=dc25.s1-eth2
D1209 21:25:40.031464 636804 net.py:233] addLink: n1=chain28-ids intf1=output -- n2=dc25.s1 intf2=dc25.s1-eth3
I1209 21:25:40.031737 636804 daisy.py:310] successfully created VNF: chain28-ids
I1209 21:25:40.031898 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server0']
I1209 21:25:40.032018 636804 daisy.py:240] creating chain28-vpn on chain-server0
D1209 21:25:40.033008 636804 node.py:55] Starting compute instance u'chain28-vpn' in data center 'chain-server0'
D1209 21:25:40.858539 636804 simple.py:169] Setting CPU limit for u'chain28-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:25:40.914307 636804 simple.py:215] Setting MEM limit for u'chain28-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:40.936125 636804 simple.py:215] Setting MEM limit for u'chain28-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:25:41.189270 636804 net.py:233] addLink: n1=chain28-vpn intf1=input-ids -- n2=dc25.s1 intf2=dc25.s1-eth4
D1209 21:25:41.403424 636804 net.py:233] addLink: n1=chain28-vpn intf1=input-fw -- n2=dc25.s1 intf2=dc25.s1-eth5
D1209 21:25:41.682643 636804 net.py:233] addLink: n1=chain28-vpn intf1=output -- n2=dc25.s1 intf2=dc25.s1-eth6
I1209 21:25:41.682939 636804 daisy.py:310] successfully created VNF: chain28-vpn
I1209 21:25:41.683095 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server23']
I1209 21:25:41.683217 636804 daisy.py:240] creating chain28-fw on chain-server23
D1209 21:25:41.685766 636804 node.py:55] Starting compute instance u'chain28-fw' in data center 'chain-server23'
D1209 21:25:42.495464 636804 simple.py:169] Setting CPU limit for u'chain28-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:25:42.558840 636804 simple.py:215] Setting MEM limit for u'chain28-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:42.806442 636804 net.py:233] addLink: n1=chain28-fw intf1=input -- n2=dc5.s1 intf2=dc5.s1-eth2
D1209 21:25:42.990633 636804 net.py:233] addLink: n1=chain28-fw intf1=output-ids -- n2=dc5.s1 intf2=dc5.s1-eth3
D1209 21:25:43.180176 636804 net.py:233] addLink: n1=chain28-fw intf1=output-vpn -- n2=dc5.s1 intf2=dc5.s1-eth4
I1209 21:25:43.180454 636804 daisy.py:310] successfully created VNF: chain28-fw
I1209 21:25:43.180588 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server23']
I1209 21:25:43.180696 636804 daisy.py:240] creating chain28-nat on chain-server23
D1209 21:25:43.181895 636804 node.py:55] Starting compute instance u'chain28-nat' in data center 'chain-server23'
D1209 21:25:43.968879 636804 simple.py:169] Setting CPU limit for u'chain28-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:25:44.020535 636804 simple.py:215] Setting MEM limit for u'chain28-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:44.046138 636804 simple.py:169] Setting CPU limit for u'chain28-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:25:44.095201 636804 simple.py:215] Setting MEM limit for u'chain28-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:44.368113 636804 net.py:233] addLink: n1=chain28-nat intf1=input -- n2=dc5.s1 intf2=dc5.s1-eth5
D1209 21:25:44.592425 636804 net.py:233] addLink: n1=chain28-nat intf1=output -- n2=dc5.s1 intf2=dc5.s1-eth6
I1209 21:25:44.592818 636804 daisy.py:310] successfully created VNF: chain28-nat
I1209 21:25:44.593101 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud1']
I1209 21:25:44.593250 636804 daisy.py:240] creating chain28-sink on off-cloud1
D1209 21:25:44.594484 636804 node.py:55] Starting compute instance u'chain28-sink' in data center 'off-cloud1'
D1209 21:25:45.433593 636804 simple.py:215] Setting MEM limit for u'chain26-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:45.463166 636804 simple.py:169] Setting CPU limit for u'chain28-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:25:45.510652 636804 simple.py:215] Setting MEM limit for u'chain28-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:45.757184 636804 net.py:233] addLink: n1=chain28-sink intf1=intf2 -- n2=dc15.s1 intf2=dc15.s1-eth3
I1209 21:25:45.757432 636804 daisy.py:310] successfully created VNF: chain28-sink
I1209 21:25:45.757601 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud1']
I1209 21:25:45.757739 636804 daisy.py:240] creating chain28-source on off-cloud1
D1209 21:25:45.758686 636804 node.py:55] Starting compute instance u'chain28-source' in data center 'off-cloud1'
D1209 21:25:46.634571 636804 simple.py:169] Setting CPU limit for u'chain28-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:25:46.686835 636804 simple.py:215] Setting MEM limit for u'chain28-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:46.709583 636804 simple.py:215] Setting MEM limit for u'chain26-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:46.735054 636804 simple.py:215] Setting MEM limit for u'chain28-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:25:47.017097 636804 net.py:233] addLink: n1=chain28-source intf1=intf1 -- n2=dc15.s1 intf2=dc15.s1-eth4
I1209 21:25:47.017370 636804 daisy.py:310] successfully created VNF: chain28-source
I1209 21:25:47.017508 636804 daisy.py:311] successfully created chain: 28
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:25:49.749581 636804 daisy.py:401] source, nat, and fw start done
I1209 21:25:49.749819 636804 daisy.py:402] My commands
I1209 21:25:49.893898 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:25:51.896245 636804 daisy.py:419] < 2s wait complete
I1209 21:25:51.896475 636804 daisy.py:420] start VNF chaining
D1209 21:25:51.896657 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain28-source', vnf_src_interface='intf1', vnf_dst_name=u'chain28-nat', vnf_dst_interface='input'
I1209 21:25:51.896925 636804 net.py:665] Path between chain28-source and chain28-nat: ['dc15.s1', u'gsw0', 'dc5.s1']
I1209 21:25:51.897119 636804 net.py:889] add-flow
I1209 21:25:51.897227 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:337,output=1
I1209 21:25:51.901578 636804 net.py:893] add-flow in switch: dc15.s1 in_port: 4 out_port: 1
I1209 21:25:51.901731 636804 net.py:889] add-flow
I1209 21:25:51.901871 636804 net.py:890] in_port=42,dl_vlan=337,action=24
I1209 21:25:51.921430 636804 net.py:893] add-flow in switch: gsw0 in_port: 42 out_port: 24
I1209 21:25:51.921549 636804 net.py:694] end node reached: chain28-nat
I1209 21:25:51.921696 636804 net.py:889] add-flow
I1209 21:25:51.921823 636804 net.py:890] in_port=1,dl_vlan=337,action=strip_vlan,output=5
I1209 21:25:51.943104 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 1 out_port: 5
D1209 21:25:51.943650 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain28-nat', vnf_src_interface='input', vnf_dst_name=u'chain28-source', vnf_dst_interface='intf1'
I1209 21:25:51.943885 636804 net.py:665] Path between chain28-nat and chain28-source: ['dc5.s1', u'gsw0', 'dc15.s1']
I1209 21:25:51.944048 636804 net.py:889] add-flow
I1209 21:25:51.944169 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:338,output=1
I1209 21:25:51.964615 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 5 out_port: 1
I1209 21:25:51.964781 636804 net.py:889] add-flow
I1209 21:25:51.964904 636804 net.py:890] in_port=24,dl_vlan=338,action=42
I1209 21:25:51.985054 636804 net.py:893] add-flow in switch: gsw0 in_port: 24 out_port: 42
I1209 21:25:51.985217 636804 net.py:694] end node reached: chain28-source
I1209 21:25:51.985392 636804 net.py:889] add-flow
I1209 21:25:51.985522 636804 net.py:890] in_port=1,dl_vlan=338,action=strip_vlan,output=4
I1209 21:25:52.006134 636804 net.py:893] add-flow in switch: dc15.s1 in_port: 1 out_port: 4
I1209 21:25:52.006498 636804 daisy.py:322] chain(chain28-source, chain28-nat) output: success: add-flow between chain28-source and chain28-nat with options: {
 "priority": 1000, 
 "path": [
  "dc15.s1", 
  "gsw0", 
  "dc5.s1"
 ], 
 "vlan": 337, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain28-nat and chain28-source with options: {
 "priority": 1000, 
 "path": [
  "dc5.s1", 
  "gsw0", 
  "dc15.s1"
 ], 
 "vlan": 338, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:25:52.006659 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain28-nat', vnf_src_interface='output', vnf_dst_name=u'chain28-fw', vnf_dst_interface='input'
I1209 21:25:52.006777 636804 net.py:665] Path between chain28-nat and chain28-fw: ['dc5.s1']
I1209 21:25:52.006870 636804 net.py:694] end node reached: chain28-fw
I1209 21:25:52.006933 636804 net.py:889] add-flow
I1209 21:25:52.006978 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:339,output=2
I1209 21:25:52.029828 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 6 out_port: 2
I1209 21:25:52.029934 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc5.s1 in_port: 6 out_port: 2
I1209 21:25:52.030061 636804 net.py:931] add-flow
I1209 21:25:52.030215 636804 net.py:932] in_port=6,action=strip_vlan,output=2
I1209 21:25:52.052544 636804 net.py:935] add-flow in switch: dc5.s1 in_port: 6 out_port: 2
D1209 21:25:52.053327 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain28-fw', vnf_src_interface='input', vnf_dst_name=u'chain28-nat', vnf_dst_interface='output'
I1209 21:25:52.053495 636804 net.py:665] Path between chain28-fw and chain28-nat: ['dc5.s1']
I1209 21:25:52.053606 636804 net.py:694] end node reached: chain28-nat
I1209 21:25:52.053709 636804 net.py:889] add-flow
I1209 21:25:52.053792 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:340,output=6
I1209 21:25:52.105252 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 2 out_port: 6
I1209 21:25:52.105429 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc5.s1 in_port: 2 out_port: 6
I1209 21:25:52.105521 636804 net.py:931] add-flow
I1209 21:25:52.105603 636804 net.py:932] in_port=2,action=strip_vlan,output=6
I1209 21:25:52.136246 636804 net.py:935] add-flow in switch: dc5.s1 in_port: 2 out_port: 6
I1209 21:25:52.136504 636804 daisy.py:329] chain(chain28-nat, chain28-fw) output: success: add-flow between chain28-nat and chain28-fw with options: {
 "priority": 1000, 
 "path": [
  "dc5.s1"
 ], 
 "vlan": 339, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain28-fw and chain28-nat with options: {
 "priority": 1000, 
 "path": [
  "dc5.s1"
 ], 
 "vlan": 340, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:25:52.136672 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain28-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain28-ids', vnf_dst_interface='input'
I1209 21:25:52.136962 636804 net.py:665] Path between chain28-fw and chain28-ids: ['dc5.s1', u'gsw0', 'dc25.s1']
I1209 21:25:52.137140 636804 net.py:889] add-flow
I1209 21:25:52.137233 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:341,output=1
I1209 21:25:52.183582 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 3 out_port: 1
I1209 21:25:52.183803 636804 net.py:889] add-flow
I1209 21:25:52.183907 636804 net.py:890] in_port=24,dl_vlan=341,action=1
I1209 21:25:52.208421 636804 net.py:893] add-flow in switch: gsw0 in_port: 24 out_port: 1
I1209 21:25:52.208563 636804 net.py:694] end node reached: chain28-ids
I1209 21:25:52.208672 636804 net.py:889] add-flow
I1209 21:25:52.208758 636804 net.py:890] in_port=1,dl_vlan=341,action=strip_vlan,output=2
I1209 21:25:52.232446 636804 net.py:893] add-flow in switch: dc25.s1 in_port: 1 out_port: 2
D1209 21:25:52.232662 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain28-ids', vnf_src_interface='input', vnf_dst_name=u'chain28-fw', vnf_dst_interface='output-ids'
I1209 21:25:52.232920 636804 net.py:665] Path between chain28-ids and chain28-fw: ['dc25.s1', u'gsw0', 'dc5.s1']
I1209 21:25:52.233051 636804 net.py:889] add-flow
I1209 21:25:52.233107 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:342,output=1
I1209 21:25:52.255425 636804 net.py:893] add-flow in switch: dc25.s1 in_port: 2 out_port: 1
I1209 21:25:52.255600 636804 net.py:889] add-flow
I1209 21:25:52.255706 636804 net.py:890] in_port=1,dl_vlan=342,action=24
I1209 21:25:52.279706 636804 net.py:893] add-flow in switch: gsw0 in_port: 1 out_port: 24
I1209 21:25:52.279851 636804 net.py:920] Detected IDS->FW Path(2) in switch: gsw0 in_port: 1 out_port: 24
I1209 21:25:52.279966 636804 net.py:931] add-flow
I1209 21:25:52.280036 636804 net.py:932] in_port=1,action=strip_vlan,output=24
I1209 21:25:52.302771 636804 net.py:935] add-flow in switch: gsw0 in_port: 1 out_port: 24
I1209 21:25:52.302903 636804 net.py:694] end node reached: chain28-fw
I1209 21:25:52.303029 636804 net.py:889] add-flow
I1209 21:25:52.303122 636804 net.py:890] in_port=1,dl_vlan=342,action=strip_vlan,output=3
I1209 21:25:52.324985 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 1 out_port: 3
I1209 21:25:52.325148 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc5.s1 in_port: 1 out_port: 3
I1209 21:25:52.325267 636804 net.py:931] add-flow
I1209 21:25:52.325400 636804 net.py:932] in_port=1,action=strip_vlan,output=3
I1209 21:25:52.347204 636804 net.py:935] add-flow in switch: dc5.s1 in_port: 1 out_port: 3
I1209 21:25:52.347529 636804 daisy.py:336] chain(chain28-fw, chain28-ids) output: success: add-flow between chain28-fw and chain28-ids with options: {
 "priority": 1000, 
 "path": [
  "dc5.s1", 
  "gsw0", 
  "dc25.s1"
 ], 
 "vlan": 341, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain28-ids and chain28-fw with options: {
 "priority": 1000, 
 "path": [
  "dc25.s1", 
  "gsw0", 
  "dc5.s1"
 ], 
 "vlan": 342, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:25:52.347677 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain28-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain28-vpn', vnf_dst_interface='input-fw'
I1209 21:25:52.347794 636804 net.py:665] Path between chain28-fw and chain28-vpn: ['dc5.s1', u'gsw0', 'dc25.s1']
I1209 21:25:52.347882 636804 net.py:889] add-flow
I1209 21:25:52.347945 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:343,output=1
I1209 21:25:52.369863 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 4 out_port: 1
I1209 21:25:52.370042 636804 net.py:889] add-flow
I1209 21:25:52.370197 636804 net.py:890] in_port=24,dl_vlan=343,action=1
I1209 21:25:52.394418 636804 net.py:893] add-flow in switch: gsw0 in_port: 24 out_port: 1
I1209 21:25:52.394553 636804 net.py:694] end node reached: chain28-vpn
I1209 21:25:52.394660 636804 net.py:889] add-flow
I1209 21:25:52.394747 636804 net.py:890] in_port=1,dl_vlan=343,action=strip_vlan,output=5
I1209 21:25:52.416920 636804 net.py:893] add-flow in switch: dc25.s1 in_port: 1 out_port: 5
D1209 21:25:52.417133 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain28-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain28-fw', vnf_dst_interface='output-vpn'
I1209 21:25:52.417325 636804 net.py:665] Path between chain28-vpn and chain28-fw: ['dc25.s1', u'gsw0', 'dc5.s1']
I1209 21:25:52.417459 636804 net.py:889] add-flow
I1209 21:25:52.417546 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:344,output=1
I1209 21:25:52.440251 636804 net.py:893] add-flow in switch: dc25.s1 in_port: 5 out_port: 1
I1209 21:25:52.440418 636804 net.py:889] add-flow
I1209 21:25:52.440510 636804 net.py:890] in_port=1,dl_vlan=344,action=24
I1209 21:25:52.463660 636804 net.py:893] add-flow in switch: gsw0 in_port: 1 out_port: 24
I1209 21:25:52.463792 636804 net.py:694] end node reached: chain28-fw
I1209 21:25:52.463900 636804 net.py:889] add-flow
I1209 21:25:52.463984 636804 net.py:890] in_port=1,dl_vlan=344,action=strip_vlan,output=4
I1209 21:25:52.485188 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 1 out_port: 4
I1209 21:25:52.485409 636804 daisy.py:343] chain(chain28-fw, chain28-vpn) output: success: add-flow between chain28-fw and chain28-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc5.s1", 
  "gsw0", 
  "dc25.s1"
 ], 
 "vlan": 343, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain28-vpn and chain28-fw with options: {
 "priority": 1000, 
 "path": [
  "dc25.s1", 
  "gsw0", 
  "dc5.s1"
 ], 
 "vlan": 344, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:25:52.485560 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain28-ids', vnf_src_interface='output', vnf_dst_name=u'chain28-vpn', vnf_dst_interface='input-ids'
I1209 21:25:52.485697 636804 net.py:665] Path between chain28-ids and chain28-vpn: ['dc25.s1']
I1209 21:25:52.485800 636804 net.py:694] end node reached: chain28-vpn
I1209 21:25:52.485902 636804 net.py:889] add-flow
I1209 21:25:52.485985 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:345,output=4
I1209 21:25:52.507145 636804 net.py:893] add-flow in switch: dc25.s1 in_port: 3 out_port: 4
I1209 21:25:52.507275 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc25.s1 in_port: 3 out_port: 4
I1209 21:25:52.507394 636804 net.py:931] add-flow
I1209 21:25:52.507481 636804 net.py:932] in_port=3,action=strip_vlan,output=4
I1209 21:25:52.527822 636804 net.py:935] add-flow in switch: dc25.s1 in_port: 3 out_port: 4
D1209 21:25:52.528011 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain28-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain28-ids', vnf_dst_interface='output'
I1209 21:25:52.528151 636804 net.py:665] Path between chain28-vpn and chain28-ids: ['dc25.s1']
I1209 21:25:52.528254 636804 net.py:694] end node reached: chain28-ids
I1209 21:25:52.528381 636804 net.py:889] add-flow
I1209 21:25:52.528467 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:346,output=3
I1209 21:25:52.570481 636804 net.py:893] add-flow in switch: dc25.s1 in_port: 4 out_port: 3
I1209 21:25:52.570682 636804 daisy.py:350] chain(chain28-ids, chain28-vpn) output: success: add-flow between chain28-ids and chain28-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc25.s1"
 ], 
 "vlan": 345, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain28-vpn and chain28-ids with options: {
 "priority": 1000, 
 "path": [
  "dc25.s1"
 ], 
 "vlan": 346, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:25:52.570991 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain28-vpn', vnf_src_interface='output', vnf_dst_name=u'chain28-sink', vnf_dst_interface='intf2'
I1209 21:25:52.571213 636804 net.py:665] Path between chain28-vpn and chain28-sink: ['dc25.s1', u'gsw0', 'dc15.s1']
I1209 21:25:52.571346 636804 net.py:889] add-flow
I1209 21:25:52.571435 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:347,output=1
I1209 21:25:52.592437 636804 net.py:893] add-flow in switch: dc25.s1 in_port: 6 out_port: 1
I1209 21:25:52.592592 636804 net.py:889] add-flow
I1209 21:25:52.592694 636804 net.py:890] in_port=1,dl_vlan=347,action=42
I1209 21:25:52.621248 636804 net.py:893] add-flow in switch: gsw0 in_port: 1 out_port: 42
I1209 21:25:52.621400 636804 net.py:694] end node reached: chain28-sink
I1209 21:25:52.621505 636804 net.py:889] add-flow
I1209 21:25:52.621586 636804 net.py:890] in_port=1,dl_vlan=347,action=strip_vlan,output=3
I1209 21:25:52.641911 636804 net.py:893] add-flow in switch: dc15.s1 in_port: 1 out_port: 3
D1209 21:25:52.642183 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain28-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain28-vpn', vnf_dst_interface='output'
I1209 21:25:52.642360 636804 net.py:665] Path between chain28-sink and chain28-vpn: ['dc15.s1', u'gsw0', 'dc25.s1']
I1209 21:25:52.642487 636804 net.py:889] add-flow
I1209 21:25:52.642574 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:348,output=1
I1209 21:25:52.662365 636804 net.py:893] add-flow in switch: dc15.s1 in_port: 3 out_port: 1
I1209 21:25:52.662516 636804 net.py:889] add-flow
I1209 21:25:52.662607 636804 net.py:890] in_port=42,dl_vlan=348,action=1
I1209 21:25:52.683999 636804 net.py:893] add-flow in switch: gsw0 in_port: 42 out_port: 1
I1209 21:25:52.684135 636804 net.py:694] end node reached: chain28-vpn
I1209 21:25:52.684226 636804 net.py:889] add-flow
I1209 21:25:52.684324 636804 net.py:890] in_port=1,dl_vlan=348,action=strip_vlan,output=6
I1209 21:25:52.705421 636804 net.py:893] add-flow in switch: dc25.s1 in_port: 1 out_port: 6
I1209 21:25:52.705631 636804 daisy.py:357] chain(chain28-vpn, chain28-sink) output: success: add-flow between chain28-vpn and chain28-sink with options: {
 "priority": 1000, 
 "path": [
  "dc25.s1", 
  "gsw0", 
  "dc15.s1"
 ], 
 "vlan": 347, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain28-sink and chain28-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc15.s1", 
  "gsw0", 
  "dc25.s1"
 ], 
 "vlan": 348, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:25:54 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:25:54 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:25:54 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:25:54 2017 UDPv4 link local: [undef]
Sat Dec  9 21:25:54 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:25:54 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=9a9bd8d0 b2d1e906
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:25:54 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:25:54 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:25:54 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:25:54 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:25:54 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:25:54 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:25:54 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:25:54 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:25:54 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:25:54 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:25:54 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:25:57 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:25:57 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:25:57 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:25:57 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:25:57 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:25:57 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:25:57 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:ab
Sat Dec  9 21:25:57 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:25:57 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:25:57 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:25:57 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:25:57 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:25:57 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:25:57 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:25:57 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:25:57 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:25:57 2017 GID set to nogroup
Sat Dec  9 21:25:57 2017 UID set to nobody
Sat Dec  9 21:25:57 2017 Initialization Sequence Completed
I1209 21:26:00.093914 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:26:05.098181 636804 daisy.py:443] < 5s wait complete
I1209 21:26:05.098423 636804 daisy.py:444] VPN client VNF started
chain28-source -> chain28-sink 
chain28-sink -> chain28-source 
*** Results: 0% dropped (2/2 received)
I1209 21:26:08.040441 636804 daisy.py:369] ping chain28-source -> chain28-sink. Packet drop 0.0%
I1209 21:26:08.112730 636804 bench.py:19] Copying traces into the containers...
I1209 21:26:09.640341 636804 bench.py:29] Running dstat...
uccess)
returned 0 from sudo docker exec mn.chain27-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain27-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain27-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain27-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain27-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain27-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain27-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain27-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.023620999999999892, u'locality': u'datacenter', u'assignment': [[u'ids', u'chain-server0'], [u'vpn', u'chain-server0'], [u'fw', u'chain-server23'], [u'nat', u'chain-server23'], [u'sink', u'off-cloud1'], [u'source', u'off-cloud1']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 2.666729, u'bandwidth': [[u'fw', u'ids', 1, [[u'chain-server23', u'gsw', 2], [u'gsw', u'chain-server0', 2]]], [u'fw', u'vpn', 1, [[u'chain-server23', u'gsw', 2], [u'gsw', u'chain-server0', 2]]], [u'nat', u'source', 2, [[u'chain-server23', u'gsw', 2], [u'gsw', u'off-cloud1', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server0', 2], [u'off-cloud1', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain28-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain28-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain28-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain28-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain28-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain28-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain28-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain28-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain28-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain28-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain28-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain28-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain28-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain28-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain28-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain28-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain28-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain28-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain28-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain28-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain28-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain28-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain28-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain28-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain28-sink dI1209 21:26:11.952692 636804 iter-e2-allocation.py:17] started allocating chain: 29
I1209 21:26:11.953128 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server25']
I1209 21:26:11.953279 636804 daisy.py:240] creating chain29-fw on chain-server25
D1209 21:26:11.954226 636804 node.py:55] Starting compute instance u'chain29-fw' in data center 'chain-server25'
D1209 21:26:12.816548 636804 simple.py:169] Setting CPU limit for u'chain29-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:26:12.869405 636804 simple.py:215] Setting MEM limit for u'chain29-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:12.896056 636804 simple.py:215] Setting MEM limit for u'chain26-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:12.920208 636804 simple.py:215] Setting MEM limit for u'chain26-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:26:12.945075 636804 simple.py:215] Setting MEM limit for u'chain26-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:12.975178 636804 simple.py:169] Setting CPU limit for u'chain26-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:26:13.026531 636804 simple.py:215] Setting MEM limit for u'chain26-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:13.275724 636804 net.py:233] addLink: n1=chain29-fw intf1=input -- n2=dc7.s1 intf2=dc7.s1-eth12
D1209 21:26:13.501564 636804 net.py:233] addLink: n1=chain29-fw intf1=output-ids -- n2=dc7.s1 intf2=dc7.s1-eth13
D1209 21:26:13.749345 636804 net.py:233] addLink: n1=chain29-fw intf1=output-vpn -- n2=dc7.s1 intf2=dc7.s1-eth14
I1209 21:26:13.749588 636804 daisy.py:310] successfully created VNF: chain29-fw
I1209 21:26:13.749721 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server25']
I1209 21:26:13.749829 636804 daisy.py:240] creating chain29-ids on chain-server25
D1209 21:26:13.750819 636804 node.py:55] Starting compute instance u'chain29-ids' in data center 'chain-server25'
D1209 21:26:14.658853 636804 simple.py:215] Setting MEM limit for u'chain26-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:14.689719 636804 simple.py:169] Setting CPU limit for u'chain29-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:26:14.742523 636804 simple.py:215] Setting MEM limit for u'chain29-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:26:14.765300 636804 simple.py:215] Setting MEM limit for u'chain26-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:26:14.787377 636804 simple.py:169] Setting CPU limit for u'chain29-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:26:14.839911 636804 simple.py:215] Setting MEM limit for u'chain29-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:14.868357 636804 simple.py:169] Setting CPU limit for u'chain26-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:26:14.919572 636804 simple.py:215] Setting MEM limit for u'chain26-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:14.944952 636804 simple.py:215] Setting MEM limit for u'chain26-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:15.201657 636804 net.py:233] addLink: n1=chain29-ids intf1=input -- n2=dc7.s1 intf2=dc7.s1-eth15
D1209 21:26:15.472770 636804 net.py:233] addLink: n1=chain29-ids intf1=output -- n2=dc7.s1 intf2=dc7.s1-eth16
I1209 21:26:15.473026 636804 daisy.py:310] successfully created VNF: chain29-ids
I1209 21:26:15.473179 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server25']
I1209 21:26:15.473320 636804 daisy.py:240] creating chain29-nat on chain-server25
D1209 21:26:15.474395 636804 node.py:55] Starting compute instance u'chain29-nat' in data center 'chain-server25'
D1209 21:26:16.280211 636804 simple.py:215] Setting MEM limit for u'chain26-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:16.309745 636804 simple.py:169] Setting CPU limit for u'chain29-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:26:16.360909 636804 simple.py:215] Setting MEM limit for u'chain29-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:16.387068 636804 simple.py:215] Setting MEM limit for u'chain29-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:26:16.413002 636804 simple.py:215] Setting MEM limit for u'chain26-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:26:16.440017 636804 simple.py:169] Setting CPU limit for u'chain29-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:26:16.488143 636804 simple.py:215] Setting MEM limit for u'chain29-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:16.513793 636804 simple.py:169] Setting CPU limit for u'chain26-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:26:16.563656 636804 simple.py:215] Setting MEM limit for u'chain26-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:16.585558 636804 simple.py:215] Setting MEM limit for u'chain26-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:16.839762 636804 net.py:233] addLink: n1=chain29-nat intf1=input -- n2=dc7.s1 intf2=dc7.s1-eth17
D1209 21:26:17.048432 636804 net.py:233] addLink: n1=chain29-nat intf1=output -- n2=dc7.s1 intf2=dc7.s1-eth18
I1209 21:26:17.048702 636804 daisy.py:310] successfully created VNF: chain29-nat
I1209 21:26:17.048856 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server25']
I1209 21:26:17.048974 636804 daisy.py:240] creating chain29-vpn on chain-server25
D1209 21:26:17.050036 636804 node.py:55] Starting compute instance u'chain29-vpn' in data center 'chain-server25'
D1209 21:26:17.840353 636804 simple.py:169] Setting CPU limit for u'chain29-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:26:17.896321 636804 simple.py:215] Setting MEM limit for u'chain29-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:17.924840 636804 simple.py:215] Setting MEM limit for u'chain26-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:17.949444 636804 simple.py:215] Setting MEM limit for u'chain29-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:17.976259 636804 simple.py:215] Setting MEM limit for u'chain29-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:26:18.007014 636804 simple.py:215] Setting MEM limit for u'chain26-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:26:18.033267 636804 simple.py:169] Setting CPU limit for u'chain29-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:26:18.088702 636804 simple.py:215] Setting MEM limit for u'chain29-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:18.116610 636804 simple.py:169] Setting CPU limit for u'chain26-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:26:18.170631 636804 simple.py:215] Setting MEM limit for u'chain26-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:18.197875 636804 simple.py:215] Setting MEM limit for u'chain26-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:18.451059 636804 net.py:233] addLink: n1=chain29-vpn intf1=input-ids -- n2=dc7.s1 intf2=dc7.s1-eth19
D1209 21:26:18.689307 636804 net.py:233] addLink: n1=chain29-vpn intf1=input-fw -- n2=dc7.s1 intf2=dc7.s1-eth20
D1209 21:26:18.912854 636804 net.py:233] addLink: n1=chain29-vpn intf1=output -- n2=dc7.s1 intf2=dc7.s1-eth21
I1209 21:26:18.913126 636804 daisy.py:310] successfully created VNF: chain29-vpn
I1209 21:26:18.913301 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud1']
I1209 21:26:18.913418 636804 daisy.py:240] creating chain29-sink on off-cloud1
D1209 21:26:18.914515 636804 node.py:55] Starting compute instance u'chain29-sink' in data center 'off-cloud1'
D1209 21:26:19.787621 636804 simple.py:215] Setting MEM limit for u'chain28-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:19.814481 636804 simple.py:169] Setting CPU limit for u'chain29-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:26:19.862504 636804 simple.py:215] Setting MEM limit for u'chain29-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:19.888730 636804 simple.py:215] Setting MEM limit for u'chain26-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:19.910315 636804 simple.py:215] Setting MEM limit for u'chain28-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:20.276976 636804 net.py:233] addLink: n1=chain29-sink intf1=intf2 -- n2=dc15.s1 intf2=dc15.s1-eth5
I1209 21:26:20.277247 636804 daisy.py:310] successfully created VNF: chain29-sink
I1209 21:26:20.277398 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud1']
I1209 21:26:20.277522 636804 daisy.py:240] creating chain29-source on off-cloud1
D1209 21:26:20.278619 636804 node.py:55] Starting compute instance u'chain29-source' in data center 'off-cloud1'
D1209 21:26:21.163034 636804 simple.py:169] Setting CPU limit for u'chain29-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:26:21.219491 636804 simple.py:215] Setting MEM limit for u'chain29-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:21.241833 636804 simple.py:215] Setting MEM limit for u'chain28-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:21.268763 636804 simple.py:215] Setting MEM limit for u'chain29-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:21.299252 636804 simple.py:215] Setting MEM limit for u'chain26-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:21.329121 636804 simple.py:215] Setting MEM limit for u'chain28-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:21.590475 636804 net.py:233] addLink: n1=chain29-source intf1=intf1 -- n2=dc15.s1 intf2=dc15.s1-eth6
I1209 21:26:21.590684 636804 daisy.py:310] successfully created VNF: chain29-source
I1209 21:26:21.590814 636804 daisy.py:311] successfully created chain: 29
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:26:23.977432 636804 daisy.py:401] source, nat, and fw start done
I1209 21:26:23.977689 636804 daisy.py:402] My commands
I1209 21:26:24.119786 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:26:26.122167 636804 daisy.py:419] < 2s wait complete
I1209 21:26:26.122440 636804 daisy.py:420] start VNF chaining
D1209 21:26:26.122646 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain29-source', vnf_src_interface='intf1', vnf_dst_name=u'chain29-nat', vnf_dst_interface='input'
I1209 21:26:26.123030 636804 net.py:665] Path between chain29-source and chain29-nat: ['dc15.s1', u'gsw0', 'dc7.s1']
I1209 21:26:26.123301 636804 net.py:889] add-flow
I1209 21:26:26.123456 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:349,output=1
I1209 21:26:26.128542 636804 net.py:893] add-flow in switch: dc15.s1 in_port: 6 out_port: 1
I1209 21:26:26.128778 636804 net.py:889] add-flow
I1209 21:26:26.128909 636804 net.py:890] in_port=42,dl_vlan=349,action=26
I1209 21:26:26.159854 636804 net.py:893] add-flow in switch: gsw0 in_port: 42 out_port: 26
I1209 21:26:26.160036 636804 net.py:694] end node reached: chain29-nat
I1209 21:26:26.160166 636804 net.py:889] add-flow
I1209 21:26:26.160291 636804 net.py:890] in_port=1,dl_vlan=349,action=strip_vlan,output=17
I1209 21:26:26.184338 636804 net.py:893] add-flow in switch: dc7.s1 in_port: 1 out_port: 17
D1209 21:26:26.184789 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain29-nat', vnf_src_interface='input', vnf_dst_name=u'chain29-source', vnf_dst_interface='intf1'
I1209 21:26:26.185038 636804 net.py:665] Path between chain29-nat and chain29-source: ['dc7.s1', u'gsw0', 'dc15.s1']
I1209 21:26:26.185195 636804 net.py:889] add-flow
I1209 21:26:26.185342 636804 net.py:890] -O OpenFlow13 in_port=17,action=mod_vlan_vid:350,output=1
I1209 21:26:26.205394 636804 net.py:893] add-flow in switch: dc7.s1 in_port: 17 out_port: 1
I1209 21:26:26.205590 636804 net.py:889] add-flow
I1209 21:26:26.205708 636804 net.py:890] in_port=26,dl_vlan=350,action=42
I1209 21:26:26.228224 636804 net.py:893] add-flow in switch: gsw0 in_port: 26 out_port: 42
I1209 21:26:26.228400 636804 net.py:694] end node reached: chain29-source
I1209 21:26:26.228544 636804 net.py:889] add-flow
I1209 21:26:26.228656 636804 net.py:890] in_port=1,dl_vlan=350,action=strip_vlan,output=6
I1209 21:26:26.250860 636804 net.py:893] add-flow in switch: dc15.s1 in_port: 1 out_port: 6
I1209 21:26:26.251106 636804 daisy.py:322] chain(chain29-source, chain29-nat) output: success: add-flow between chain29-source and chain29-nat with options: {
 "priority": 1000, 
 "path": [
  "dc15.s1", 
  "gsw0", 
  "dc7.s1"
 ], 
 "vlan": 349, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain29-nat and chain29-source with options: {
 "priority": 1000, 
 "path": [
  "dc7.s1", 
  "gsw0", 
  "dc15.s1"
 ], 
 "vlan": 350, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:26:26.251368 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain29-nat', vnf_src_interface='output', vnf_dst_name=u'chain29-fw', vnf_dst_interface='input'
I1209 21:26:26.251555 636804 net.py:665] Path between chain29-nat and chain29-fw: ['dc7.s1']
I1209 21:26:26.251693 636804 net.py:694] end node reached: chain29-fw
I1209 21:26:26.251842 636804 net.py:889] add-flow
I1209 21:26:26.251980 636804 net.py:890] -O OpenFlow13 in_port=18,action=mod_vlan_vid:351,output=12
I1209 21:26:26.273900 636804 net.py:893] add-flow in switch: dc7.s1 in_port: 18 out_port: 12
I1209 21:26:26.274065 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc7.s1 in_port: 18 out_port: 12
I1209 21:26:26.274204 636804 net.py:931] add-flow
I1209 21:26:26.274337 636804 net.py:932] in_port=18,action=strip_vlan,output=12
I1209 21:26:26.296124 636804 net.py:935] add-flow in switch: dc7.s1 in_port: 18 out_port: 12
D1209 21:26:26.296314 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain29-fw', vnf_src_interface='input', vnf_dst_name=u'chain29-nat', vnf_dst_interface='output'
I1209 21:26:26.296464 636804 net.py:665] Path between chain29-fw and chain29-nat: ['dc7.s1']
I1209 21:26:26.296562 636804 net.py:694] end node reached: chain29-nat
I1209 21:26:26.296648 636804 net.py:889] add-flow
I1209 21:26:26.296719 636804 net.py:890] -O OpenFlow13 in_port=12,action=mod_vlan_vid:352,output=18
I1209 21:26:26.344881 636804 net.py:893] add-flow in switch: dc7.s1 in_port: 12 out_port: 18
I1209 21:26:26.344997 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc7.s1 in_port: 12 out_port: 18
I1209 21:26:26.345108 636804 net.py:931] add-flow
I1209 21:26:26.345197 636804 net.py:932] in_port=12,action=strip_vlan,output=18
I1209 21:26:26.370507 636804 net.py:935] add-flow in switch: dc7.s1 in_port: 12 out_port: 18
I1209 21:26:26.370708 636804 daisy.py:329] chain(chain29-nat, chain29-fw) output: success: add-flow between chain29-nat and chain29-fw with options: {
 "priority": 1000, 
 "path": [
  "dc7.s1"
 ], 
 "vlan": 351, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain29-fw and chain29-nat with options: {
 "priority": 1000, 
 "path": [
  "dc7.s1"
 ], 
 "vlan": 352, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:26:26.370850 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain29-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain29-ids', vnf_dst_interface='input'
I1209 21:26:26.371011 636804 net.py:665] Path between chain29-fw and chain29-ids: ['dc7.s1']
I1209 21:26:26.371174 636804 net.py:694] end node reached: chain29-ids
I1209 21:26:26.371325 636804 net.py:889] add-flow
I1209 21:26:26.371401 636804 net.py:890] -O OpenFlow13 in_port=13,action=mod_vlan_vid:353,output=15
I1209 21:26:26.419014 636804 net.py:893] add-flow in switch: dc7.s1 in_port: 13 out_port: 15
D1209 21:26:26.419239 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain29-ids', vnf_src_interface='input', vnf_dst_name=u'chain29-fw', vnf_dst_interface='output-ids'
I1209 21:26:26.419471 636804 net.py:665] Path between chain29-ids and chain29-fw: ['dc7.s1']
I1209 21:26:26.419603 636804 net.py:694] end node reached: chain29-fw
I1209 21:26:26.419693 636804 net.py:889] add-flow
I1209 21:26:26.419769 636804 net.py:890] -O OpenFlow13 in_port=15,action=mod_vlan_vid:354,output=13
I1209 21:26:26.445297 636804 net.py:893] add-flow in switch: dc7.s1 in_port: 15 out_port: 13
I1209 21:26:26.445425 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc7.s1 in_port: 15 out_port: 13
I1209 21:26:26.445514 636804 net.py:931] add-flow
I1209 21:26:26.445586 636804 net.py:932] in_port=15,action=strip_vlan,output=13
I1209 21:26:26.472332 636804 net.py:935] add-flow in switch: dc7.s1 in_port: 15 out_port: 13
I1209 21:26:26.472518 636804 daisy.py:336] chain(chain29-fw, chain29-ids) output: success: add-flow between chain29-fw and chain29-ids with options: {
 "priority": 1000, 
 "path": [
  "dc7.s1"
 ], 
 "vlan": 353, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain29-ids and chain29-fw with options: {
 "priority": 1000, 
 "path": [
  "dc7.s1"
 ], 
 "vlan": 354, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:26:26.472649 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain29-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain29-vpn', vnf_dst_interface='input-fw'
I1209 21:26:26.472771 636804 net.py:665] Path between chain29-fw and chain29-vpn: ['dc7.s1']
I1209 21:26:26.472866 636804 net.py:694] end node reached: chain29-vpn
I1209 21:26:26.472959 636804 net.py:889] add-flow
I1209 21:26:26.473030 636804 net.py:890] -O OpenFlow13 in_port=14,action=mod_vlan_vid:355,output=20
I1209 21:26:26.518202 636804 net.py:893] add-flow in switch: dc7.s1 in_port: 14 out_port: 20
D1209 21:26:26.518407 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain29-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain29-fw', vnf_dst_interface='output-vpn'
I1209 21:26:26.518548 636804 net.py:665] Path between chain29-vpn and chain29-fw: ['dc7.s1']
I1209 21:26:26.518671 636804 net.py:694] end node reached: chain29-fw
I1209 21:26:26.518790 636804 net.py:889] add-flow
I1209 21:26:26.518893 636804 net.py:890] -O OpenFlow13 in_port=20,action=mod_vlan_vid:356,output=14
I1209 21:26:26.543294 636804 net.py:893] add-flow in switch: dc7.s1 in_port: 20 out_port: 14
I1209 21:26:26.543550 636804 daisy.py:343] chain(chain29-fw, chain29-vpn) output: success: add-flow between chain29-fw and chain29-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc7.s1"
 ], 
 "vlan": 355, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain29-vpn and chain29-fw with options: {
 "priority": 1000, 
 "path": [
  "dc7.s1"
 ], 
 "vlan": 356, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:26:26.543689 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain29-ids', vnf_src_interface='output', vnf_dst_name=u'chain29-vpn', vnf_dst_interface='input-ids'
I1209 21:26:26.543823 636804 net.py:665] Path between chain29-ids and chain29-vpn: ['dc7.s1']
I1209 21:26:26.543943 636804 net.py:694] end node reached: chain29-vpn
I1209 21:26:26.544063 636804 net.py:889] add-flow
I1209 21:26:26.544136 636804 net.py:890] -O OpenFlow13 in_port=16,action=mod_vlan_vid:357,output=19
I1209 21:26:26.566644 636804 net.py:893] add-flow in switch: dc7.s1 in_port: 16 out_port: 19
I1209 21:26:26.566766 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc7.s1 in_port: 16 out_port: 19
I1209 21:26:26.566873 636804 net.py:931] add-flow
I1209 21:26:26.566983 636804 net.py:932] in_port=16,action=strip_vlan,output=19
I1209 21:26:26.589968 636804 net.py:935] add-flow in switch: dc7.s1 in_port: 16 out_port: 19
D1209 21:26:26.590157 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain29-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain29-ids', vnf_dst_interface='output'
I1209 21:26:26.590310 636804 net.py:665] Path between chain29-vpn and chain29-ids: ['dc7.s1']
I1209 21:26:26.590428 636804 net.py:694] end node reached: chain29-ids
I1209 21:26:26.590528 636804 net.py:889] add-flow
I1209 21:26:26.590631 636804 net.py:890] -O OpenFlow13 in_port=19,action=mod_vlan_vid:358,output=16
I1209 21:26:26.639269 636804 net.py:893] add-flow in switch: dc7.s1 in_port: 19 out_port: 16
I1209 21:26:26.639494 636804 daisy.py:350] chain(chain29-ids, chain29-vpn) output: success: add-flow between chain29-ids and chain29-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc7.s1"
 ], 
 "vlan": 357, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain29-vpn and chain29-ids with options: {
 "priority": 1000, 
 "path": [
  "dc7.s1"
 ], 
 "vlan": 358, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:26:26.639662 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain29-vpn', vnf_src_interface='output', vnf_dst_name=u'chain29-sink', vnf_dst_interface='intf2'
I1209 21:26:26.639836 636804 net.py:665] Path between chain29-vpn and chain29-sink: ['dc7.s1', u'gsw0', 'dc15.s1']
I1209 21:26:26.639949 636804 net.py:889] add-flow
I1209 21:26:26.640023 636804 net.py:890] -O OpenFlow13 in_port=21,action=mod_vlan_vid:359,output=1
I1209 21:26:26.663974 636804 net.py:893] add-flow in switch: dc7.s1 in_port: 21 out_port: 1
I1209 21:26:26.664140 636804 net.py:889] add-flow
I1209 21:26:26.664247 636804 net.py:890] in_port=26,dl_vlan=359,action=42
I1209 21:26:26.689408 636804 net.py:893] add-flow in switch: gsw0 in_port: 26 out_port: 42
I1209 21:26:26.689526 636804 net.py:694] end node reached: chain29-sink
I1209 21:26:26.689626 636804 net.py:889] add-flow
I1209 21:26:26.689727 636804 net.py:890] in_port=1,dl_vlan=359,action=strip_vlan,output=5
I1209 21:26:26.716564 636804 net.py:893] add-flow in switch: dc15.s1 in_port: 1 out_port: 5
D1209 21:26:26.716743 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain29-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain29-vpn', vnf_dst_interface='output'
I1209 21:26:26.716883 636804 net.py:665] Path between chain29-sink and chain29-vpn: ['dc15.s1', u'gsw0', 'dc7.s1']
I1209 21:26:26.716994 636804 net.py:889] add-flow
I1209 21:26:26.717061 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:360,output=1
I1209 21:26:26.742283 636804 net.py:893] add-flow in switch: dc15.s1 in_port: 5 out_port: 1
I1209 21:26:26.742435 636804 net.py:889] add-flow
I1209 21:26:26.742516 636804 net.py:890] in_port=42,dl_vlan=360,action=26
I1209 21:26:26.767050 636804 net.py:893] add-flow in switch: gsw0 in_port: 42 out_port: 26
I1209 21:26:26.767167 636804 net.py:694] end node reached: chain29-vpn
I1209 21:26:26.767291 636804 net.py:889] add-flow
I1209 21:26:26.767375 636804 net.py:890] in_port=1,dl_vlan=360,action=strip_vlan,output=21
I1209 21:26:26.790669 636804 net.py:893] add-flow in switch: dc7.s1 in_port: 1 out_port: 21
I1209 21:26:26.790858 636804 daisy.py:357] chain(chain29-vpn, chain29-sink) output: success: add-flow between chain29-vpn and chain29-sink with options: {
 "priority": 1000, 
 "path": [
  "dc7.s1", 
  "gsw0", 
  "dc15.s1"
 ], 
 "vlan": 359, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain29-sink and chain29-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc15.s1", 
  "gsw0", 
  "dc7.s1"
 ], 
 "vlan": 360, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:26:28 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:26:28 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:26:28 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:26:28 2017 UDPv4 link local: [undef]
Sat Dec  9 21:26:28 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:26:28 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=19c70d3c 8399f7b4
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:26:28 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:26:28 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:26:28 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:26:28 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:26:28 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:26:28 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:26:28 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:26:28 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:26:28 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:26:28 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:26:28 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:26:31 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:26:31 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:26:31 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:26:31 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:26:31 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:26:31 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:26:31 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:b3
Sat Dec  9 21:26:31 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:26:31 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:26:31 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:26:31 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:26:31 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:26:31 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:26:31 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:26:31 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:26:31 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:26:31 2017 GID set to nogroup
Sat Dec  9 21:26:31 2017 UID set to nobody
Sat Dec  9 21:26:31 2017 Initialization Sequence Completed
I1209 21:26:34.100800 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:26:39.102221 636804 daisy.py:443] < 5s wait complete
I1209 21:26:39.102446 636804 daisy.py:444] VPN client VNF started
chain29-source -> chain29-sink 
chain29-sink -> chain29-source 
*** Results: 0% dropped (2/2 received)
I1209 21:26:42.363013 636804 daisy.py:369] ping chain29-source -> chain29-sink. Packet drop 0.0%
I1209 21:26:42.428874 636804 bench.py:19] Copying traces into the containers...
I1209 21:26:43.852600 636804 bench.py:29] Running dstat...
I1209 21:26:46.148929 636804 iter-e2-allocation.py:17] started allocating chain: 30
stat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain28-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.02691900000000036, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server25'], [u'ids', u'chain-server25'], [u'nat', u'chain-server25'], [u'vpn', u'chain-server25'], [u'sink', u'off-cloud1'], [u'source', u'off-cloud1']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 2.6263490000000003, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud1', 2], [u'chain-server25', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server25', 2], [u'off-cloud1', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain29-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain29-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain29-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain29-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain29-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain29-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain29-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain29-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain29-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain29-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain29-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain29-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain29-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain29-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain29-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain29-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain29-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain29-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain29-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain29-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain29-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain29-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain29-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain29-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain29-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain29-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.023693999999999882, u'locality': u'datacenter', u'assignment': [[u'ids', u'chain-server0'], [u'vpn', u'chain-server0'], [u'fw', u'chain-server23'], [u'nat', u'chain-server23'], [u'source', u'off-cloud1'], [u'sink', u'off-cloud2']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 2.747299, u'bandwidth': [[u'fw', u'ids', 1, [[u'chain-server23', u'gsw', 2], [u'gsw', u'chain-server0', 2]]], [u'fw', u'vpn', 1, [[u'chain-server23', u'gsw', 2], [u'gsw', u'chain-server0', 2]]], [u'nat', u'source', 2, [[u'chain-server23', u'gsw', 2], [u'gsw', u'off-cloud1', 2]]]I1209 21:26:46.149315 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server0']
I1209 21:26:46.149452 636804 daisy.py:240] creating chain30-ids on chain-server0
D1209 21:26:46.151123 636804 node.py:55] Starting compute instance u'chain30-ids' in data center 'chain-server0'
D1209 21:26:46.947954 636804 simple.py:169] Setting CPU limit for u'chain30-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:26:47.005989 636804 simple.py:215] Setting MEM limit for u'chain30-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:26:47.033505 636804 simple.py:215] Setting MEM limit for u'chain28-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:47.060012 636804 simple.py:215] Setting MEM limit for u'chain28-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:26:47.331998 636804 net.py:233] addLink: n1=chain30-ids intf1=input -- n2=dc25.s1 intf2=dc25.s1-eth7
D1209 21:26:47.585673 636804 net.py:233] addLink: n1=chain30-ids intf1=output -- n2=dc25.s1 intf2=dc25.s1-eth8
I1209 21:26:47.585880 636804 daisy.py:310] successfully created VNF: chain30-ids
I1209 21:26:47.585985 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server0']
I1209 21:26:47.586066 636804 daisy.py:240] creating chain30-vpn on chain-server0
D1209 21:26:47.587146 636804 node.py:55] Starting compute instance u'chain30-vpn' in data center 'chain-server0'
D1209 21:26:48.461024 636804 simple.py:215] Setting MEM limit for u'chain30-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:26:48.492499 636804 simple.py:215] Setting MEM limit for u'chain28-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:48.519979 636804 simple.py:169] Setting CPU limit for u'chain30-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:26:48.572108 636804 simple.py:215] Setting MEM limit for u'chain30-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:48.598670 636804 simple.py:215] Setting MEM limit for u'chain28-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:26:48.875268 636804 net.py:233] addLink: n1=chain30-vpn intf1=input-ids -- n2=dc25.s1 intf2=dc25.s1-eth9
D1209 21:26:49.152817 636804 net.py:233] addLink: n1=chain30-vpn intf1=input-fw -- n2=dc25.s1 intf2=dc25.s1-eth10
D1209 21:26:49.397763 636804 net.py:233] addLink: n1=chain30-vpn intf1=output -- n2=dc25.s1 intf2=dc25.s1-eth11
I1209 21:26:49.398080 636804 daisy.py:310] successfully created VNF: chain30-vpn
I1209 21:26:49.398358 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server23']
I1209 21:26:49.398515 636804 daisy.py:240] creating chain30-fw on chain-server23
D1209 21:26:49.399636 636804 node.py:55] Starting compute instance u'chain30-fw' in data center 'chain-server23'
D1209 21:26:50.188405 636804 simple.py:215] Setting MEM limit for u'chain28-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:50.218591 636804 simple.py:169] Setting CPU limit for u'chain28-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:26:50.267191 636804 simple.py:215] Setting MEM limit for u'chain28-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:50.292140 636804 simple.py:169] Setting CPU limit for u'chain30-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:26:50.344309 636804 simple.py:215] Setting MEM limit for u'chain30-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:50.618889 636804 net.py:233] addLink: n1=chain30-fw intf1=input -- n2=dc5.s1 intf2=dc5.s1-eth7
D1209 21:26:50.824368 636804 net.py:233] addLink: n1=chain30-fw intf1=output-ids -- n2=dc5.s1 intf2=dc5.s1-eth8
D1209 21:26:51.245417 636804 net.py:233] addLink: n1=chain30-fw intf1=output-vpn -- n2=dc5.s1 intf2=dc5.s1-eth9
I1209 21:26:51.245690 636804 daisy.py:310] successfully created VNF: chain30-fw
I1209 21:26:51.245857 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server23']
I1209 21:26:51.245989 636804 daisy.py:240] creating chain30-nat on chain-server23
D1209 21:26:51.247205 636804 node.py:55] Starting compute instance u'chain30-nat' in data center 'chain-server23'
D1209 21:26:52.147705 636804 simple.py:215] Setting MEM limit for u'chain28-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:52.174608 636804 simple.py:169] Setting CPU limit for u'chain28-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:26:52.226598 636804 simple.py:215] Setting MEM limit for u'chain28-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:52.251920 636804 simple.py:169] Setting CPU limit for u'chain30-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:26:52.298805 636804 simple.py:215] Setting MEM limit for u'chain30-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:52.327296 636804 simple.py:169] Setting CPU limit for u'chain30-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:26:52.374566 636804 simple.py:215] Setting MEM limit for u'chain30-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:52.658699 636804 net.py:233] addLink: n1=chain30-nat intf1=input -- n2=dc5.s1 intf2=dc5.s1-eth10
D1209 21:26:52.881421 636804 net.py:233] addLink: n1=chain30-nat intf1=output -- n2=dc5.s1 intf2=dc5.s1-eth11
I1209 21:26:52.881669 636804 daisy.py:310] successfully created VNF: chain30-nat
I1209 21:26:52.881808 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud1']
I1209 21:26:52.881915 636804 daisy.py:240] creating chain30-source on off-cloud1
D1209 21:26:52.883053 636804 node.py:55] Starting compute instance u'chain30-source' in data center 'off-cloud1'
D1209 21:26:53.710381 636804 simple.py:169] Setting CPU limit for u'chain30-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:26:53.769040 636804 simple.py:215] Setting MEM limit for u'chain30-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:53.798233 636804 simple.py:215] Setting MEM limit for u'chain28-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:53.828051 636804 simple.py:215] Setting MEM limit for u'chain29-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:53.851571 636804 simple.py:215] Setting MEM limit for u'chain26-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:53.874301 636804 simple.py:215] Setting MEM limit for u'chain28-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:53.899744 636804 simple.py:215] Setting MEM limit for u'chain29-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:54.182955 636804 net.py:233] addLink: n1=chain30-source intf1=intf1 -- n2=dc15.s1 intf2=dc15.s1-eth7
I1209 21:26:54.183217 636804 daisy.py:310] successfully created VNF: chain30-source
I1209 21:26:54.183379 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud2']
I1209 21:26:54.183487 636804 daisy.py:240] creating chain30-sink on off-cloud2
D1209 21:26:54.184444 636804 node.py:55] Starting compute instance u'chain30-sink' in data center 'off-cloud2'
D1209 21:26:55.051436 636804 simple.py:215] Setting MEM limit for u'chain24-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:55.084845 636804 simple.py:215] Setting MEM limit for u'chain16-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:55.111210 636804 simple.py:215] Setting MEM limit for u'chain1-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:55.138614 636804 simple.py:215] Setting MEM limit for u'chain17-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:55.167296 636804 simple.py:215] Setting MEM limit for u'chain27-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:55.193057 636804 simple.py:215] Setting MEM limit for u'chain1-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:55.222868 636804 simple.py:215] Setting MEM limit for u'chain15-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:55.253145 636804 simple.py:169] Setting CPU limit for u'chain30-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:26:55.309365 636804 simple.py:215] Setting MEM limit for u'chain30-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:26:55.589415 636804 net.py:233] addLink: n1=chain30-sink intf1=intf2 -- n2=dc14.s1 intf2=dc14.s1-eth9
I1209 21:26:55.589656 636804 daisy.py:310] successfully created VNF: chain30-sink
I1209 21:26:55.589793 636804 daisy.py:311] successfully created chain: 30
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:26:58.144412 636804 daisy.py:401] source, nat, and fw start done
I1209 21:26:58.144622 636804 daisy.py:402] My commands
I1209 21:26:58.296727 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:27:00.298254 636804 daisy.py:419] < 2s wait complete
I1209 21:27:00.298511 636804 daisy.py:420] start VNF chaining
D1209 21:27:00.298664 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain30-source', vnf_src_interface='intf1', vnf_dst_name=u'chain30-nat', vnf_dst_interface='input'
I1209 21:27:00.298907 636804 net.py:665] Path between chain30-source and chain30-nat: ['dc15.s1', u'gsw0', 'dc5.s1']
I1209 21:27:00.299066 636804 net.py:889] add-flow
I1209 21:27:00.299165 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:361,output=1
I1209 21:27:00.303356 636804 net.py:893] add-flow in switch: dc15.s1 in_port: 7 out_port: 1
I1209 21:27:00.303601 636804 net.py:889] add-flow
I1209 21:27:00.303699 636804 net.py:890] in_port=42,dl_vlan=361,action=24
I1209 21:27:00.333967 636804 net.py:893] add-flow in switch: gsw0 in_port: 42 out_port: 24
I1209 21:27:00.334182 636804 net.py:694] end node reached: chain30-nat
I1209 21:27:00.334299 636804 net.py:889] add-flow
I1209 21:27:00.334383 636804 net.py:890] in_port=1,dl_vlan=361,action=strip_vlan,output=10
I1209 21:27:00.367513 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 1 out_port: 10
D1209 21:27:00.367784 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain30-nat', vnf_src_interface='input', vnf_dst_name=u'chain30-source', vnf_dst_interface='intf1'
I1209 21:27:00.367950 636804 net.py:665] Path between chain30-nat and chain30-source: ['dc5.s1', u'gsw0', 'dc15.s1']
I1209 21:27:00.368077 636804 net.py:889] add-flow
I1209 21:27:00.368187 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:362,output=1
I1209 21:27:00.398926 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 10 out_port: 1
I1209 21:27:00.399068 636804 net.py:889] add-flow
I1209 21:27:00.399184 636804 net.py:890] in_port=24,dl_vlan=362,action=42
I1209 21:27:00.424885 636804 net.py:893] add-flow in switch: gsw0 in_port: 24 out_port: 42
I1209 21:27:00.425014 636804 net.py:694] end node reached: chain30-source
I1209 21:27:00.425143 636804 net.py:889] add-flow
I1209 21:27:00.425230 636804 net.py:890] in_port=1,dl_vlan=362,action=strip_vlan,output=7
I1209 21:27:00.447935 636804 net.py:893] add-flow in switch: dc15.s1 in_port: 1 out_port: 7
I1209 21:27:00.448173 636804 daisy.py:322] chain(chain30-source, chain30-nat) output: success: add-flow between chain30-source and chain30-nat with options: {
 "priority": 1000, 
 "path": [
  "dc15.s1", 
  "gsw0", 
  "dc5.s1"
 ], 
 "vlan": 361, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain30-nat and chain30-source with options: {
 "priority": 1000, 
 "path": [
  "dc5.s1", 
  "gsw0", 
  "dc15.s1"
 ], 
 "vlan": 362, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:27:00.448324 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain30-nat', vnf_src_interface='output', vnf_dst_name=u'chain30-fw', vnf_dst_interface='input'
I1209 21:27:00.448465 636804 net.py:665] Path between chain30-nat and chain30-fw: ['dc5.s1']
I1209 21:27:00.448571 636804 net.py:694] end node reached: chain30-fw
I1209 21:27:00.448673 636804 net.py:889] add-flow
I1209 21:27:00.448745 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:363,output=7
I1209 21:27:00.478277 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 11 out_port: 7
I1209 21:27:00.478456 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc5.s1 in_port: 11 out_port: 7
I1209 21:27:00.478584 636804 net.py:931] add-flow
I1209 21:27:00.478693 636804 net.py:932] in_port=11,action=strip_vlan,output=7
I1209 21:27:00.501921 636804 net.py:935] add-flow in switch: dc5.s1 in_port: 11 out_port: 7
D1209 21:27:00.502180 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain30-fw', vnf_src_interface='input', vnf_dst_name=u'chain30-nat', vnf_dst_interface='output'
I1209 21:27:00.502352 636804 net.py:665] Path between chain30-fw and chain30-nat: ['dc5.s1']
I1209 21:27:00.502485 636804 net.py:694] end node reached: chain30-nat
I1209 21:27:00.502612 636804 net.py:889] add-flow
I1209 21:27:00.502739 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:364,output=11
I1209 21:27:00.549213 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 7 out_port: 11
I1209 21:27:00.549366 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc5.s1 in_port: 7 out_port: 11
I1209 21:27:00.549483 636804 net.py:931] add-flow
I1209 21:27:00.549593 636804 net.py:932] in_port=7,action=strip_vlan,output=11
I1209 21:27:00.575912 636804 net.py:935] add-flow in switch: dc5.s1 in_port: 7 out_port: 11
I1209 21:27:00.576179 636804 daisy.py:329] chain(chain30-nat, chain30-fw) output: success: add-flow between chain30-nat and chain30-fw with options: {
 "priority": 1000, 
 "path": [
  "dc5.s1"
 ], 
 "vlan": 363, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain30-fw and chain30-nat with options: {
 "priority": 1000, 
 "path": [
  "dc5.s1"
 ], 
 "vlan": 364, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:27:00.576368 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain30-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain30-ids', vnf_dst_interface='input'
I1209 21:27:00.576553 636804 net.py:665] Path between chain30-fw and chain30-ids: ['dc5.s1', u'gsw0', 'dc25.s1']
I1209 21:27:00.576706 636804 net.py:889] add-flow
I1209 21:27:00.576842 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:365,output=1
I1209 21:27:00.606482 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 8 out_port: 1
I1209 21:27:00.606695 636804 net.py:889] add-flow
I1209 21:27:00.606823 636804 net.py:890] in_port=24,dl_vlan=365,action=1
I1209 21:27:00.633613 636804 net.py:893] add-flow in switch: gsw0 in_port: 24 out_port: 1
I1209 21:27:00.633775 636804 net.py:694] end node reached: chain30-ids
I1209 21:27:00.633923 636804 net.py:889] add-flow
I1209 21:27:00.634038 636804 net.py:890] in_port=1,dl_vlan=365,action=strip_vlan,output=7
I1209 21:27:00.658220 636804 net.py:893] add-flow in switch: dc25.s1 in_port: 1 out_port: 7
D1209 21:27:00.658459 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain30-ids', vnf_src_interface='input', vnf_dst_name=u'chain30-fw', vnf_dst_interface='output-ids'
I1209 21:27:00.658634 636804 net.py:665] Path between chain30-ids and chain30-fw: ['dc25.s1', u'gsw0', 'dc5.s1']
I1209 21:27:00.658776 636804 net.py:889] add-flow
I1209 21:27:00.658875 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:366,output=1
I1209 21:27:00.681608 636804 net.py:893] add-flow in switch: dc25.s1 in_port: 7 out_port: 1
I1209 21:27:00.681804 636804 net.py:889] add-flow
I1209 21:27:00.681929 636804 net.py:890] in_port=1,dl_vlan=366,action=24
I1209 21:27:00.706475 636804 net.py:893] add-flow in switch: gsw0 in_port: 1 out_port: 24
I1209 21:27:00.706633 636804 net.py:920] Detected IDS->FW Path(2) in switch: gsw0 in_port: 1 out_port: 24
I1209 21:27:00.706751 636804 net.py:931] add-flow
I1209 21:27:00.706881 636804 net.py:932] in_port=1,action=strip_vlan,output=24
I1209 21:27:00.730062 636804 net.py:935] add-flow in switch: gsw0 in_port: 1 out_port: 24
I1209 21:27:00.730295 636804 net.py:694] end node reached: chain30-fw
I1209 21:27:00.730432 636804 net.py:889] add-flow
I1209 21:27:00.730559 636804 net.py:890] in_port=1,dl_vlan=366,action=strip_vlan,output=8
I1209 21:27:00.776834 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 1 out_port: 8
I1209 21:27:00.777008 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc5.s1 in_port: 1 out_port: 8
I1209 21:27:00.777148 636804 net.py:931] add-flow
I1209 21:27:00.777271 636804 net.py:932] in_port=1,action=strip_vlan,output=8
I1209 21:27:00.801841 636804 net.py:935] add-flow in switch: dc5.s1 in_port: 1 out_port: 8
I1209 21:27:00.802170 636804 daisy.py:336] chain(chain30-fw, chain30-ids) output: success: add-flow between chain30-fw and chain30-ids with options: {
 "priority": 1000, 
 "path": [
  "dc5.s1", 
  "gsw0", 
  "dc25.s1"
 ], 
 "vlan": 365, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain30-ids and chain30-fw with options: {
 "priority": 1000, 
 "path": [
  "dc25.s1", 
  "gsw0", 
  "dc5.s1"
 ], 
 "vlan": 366, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:27:00.802381 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain30-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain30-vpn', vnf_dst_interface='input-fw'
I1209 21:27:00.802593 636804 net.py:665] Path between chain30-fw and chain30-vpn: ['dc5.s1', u'gsw0', 'dc25.s1']
I1209 21:27:00.802757 636804 net.py:889] add-flow
I1209 21:27:00.802887 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:367,output=1
I1209 21:27:00.849936 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 9 out_port: 1
I1209 21:27:00.850189 636804 net.py:889] add-flow
I1209 21:27:00.850332 636804 net.py:890] in_port=24,dl_vlan=367,action=1
I1209 21:27:00.874335 636804 net.py:893] add-flow in switch: gsw0 in_port: 24 out_port: 1
I1209 21:27:00.874449 636804 net.py:694] end node reached: chain30-vpn
I1209 21:27:00.874521 636804 net.py:889] add-flow
I1209 21:27:00.874568 636804 net.py:890] in_port=1,dl_vlan=367,action=strip_vlan,output=10
I1209 21:27:00.899245 636804 net.py:893] add-flow in switch: dc25.s1 in_port: 1 out_port: 10
D1209 21:27:00.899465 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain30-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain30-fw', vnf_dst_interface='output-vpn'
I1209 21:27:00.899621 636804 net.py:665] Path between chain30-vpn and chain30-fw: ['dc25.s1', u'gsw0', 'dc5.s1']
I1209 21:27:00.899744 636804 net.py:889] add-flow
I1209 21:27:00.899827 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:368,output=1
I1209 21:27:00.924257 636804 net.py:893] add-flow in switch: dc25.s1 in_port: 10 out_port: 1
I1209 21:27:00.924406 636804 net.py:889] add-flow
I1209 21:27:00.924499 636804 net.py:890] in_port=1,dl_vlan=368,action=24
I1209 21:27:00.947557 636804 net.py:893] add-flow in switch: gsw0 in_port: 1 out_port: 24
I1209 21:27:00.947693 636804 net.py:694] end node reached: chain30-fw
I1209 21:27:00.947799 636804 net.py:889] add-flow
I1209 21:27:00.947885 636804 net.py:890] in_port=1,dl_vlan=368,action=strip_vlan,output=9
I1209 21:27:00.971683 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 1 out_port: 9
I1209 21:27:00.971879 636804 daisy.py:343] chain(chain30-fw, chain30-vpn) output: success: add-flow between chain30-fw and chain30-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc5.s1", 
  "gsw0", 
  "dc25.s1"
 ], 
 "vlan": 367, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain30-vpn and chain30-fw with options: {
 "priority": 1000, 
 "path": [
  "dc25.s1", 
  "gsw0", 
  "dc5.s1"
 ], 
 "vlan": 368, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:27:00.972038 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain30-ids', vnf_src_interface='output', vnf_dst_name=u'chain30-vpn', vnf_dst_interface='input-ids'
I1209 21:27:00.972191 636804 net.py:665] Path between chain30-ids and chain30-vpn: ['dc25.s1']
I1209 21:27:00.972305 636804 net.py:694] end node reached: chain30-vpn
I1209 21:27:00.972392 636804 net.py:889] add-flow
I1209 21:27:00.972474 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:369,output=9
I1209 21:27:00.996893 636804 net.py:893] add-flow in switch: dc25.s1 in_port: 8 out_port: 9
I1209 21:27:00.997029 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc25.s1 in_port: 8 out_port: 9
I1209 21:27:00.997124 636804 net.py:931] add-flow
I1209 21:27:00.997226 636804 net.py:932] in_port=8,action=strip_vlan,output=9
I1209 21:27:01.019958 636804 net.py:935] add-flow in switch: dc25.s1 in_port: 8 out_port: 9
D1209 21:27:01.020172 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain30-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain30-ids', vnf_dst_interface='output'
I1209 21:27:01.020325 636804 net.py:665] Path between chain30-vpn and chain30-ids: ['dc25.s1']
I1209 21:27:01.020427 636804 net.py:694] end node reached: chain30-ids
I1209 21:27:01.020522 636804 net.py:889] add-flow
I1209 21:27:01.020601 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:370,output=8
I1209 21:27:01.070364 636804 net.py:893] add-flow in switch: dc25.s1 in_port: 9 out_port: 8
I1209 21:27:01.070575 636804 daisy.py:350] chain(chain30-ids, chain30-vpn) output: success: add-flow between chain30-ids and chain30-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc25.s1"
 ], 
 "vlan": 369, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain30-vpn and chain30-ids with options: {
 "priority": 1000, 
 "path": [
  "dc25.s1"
 ], 
 "vlan": 370, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:27:01.070734 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain30-vpn', vnf_src_interface='output', vnf_dst_name=u'chain30-sink', vnf_dst_interface='intf2'
I1209 21:27:01.070899 636804 net.py:665] Path between chain30-vpn and chain30-sink: ['dc25.s1', u'gsw0', 'dc14.s1']
I1209 21:27:01.071022 636804 net.py:889] add-flow
I1209 21:27:01.071105 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:371,output=1
I1209 21:27:01.092883 636804 net.py:893] add-flow in switch: dc25.s1 in_port: 11 out_port: 1
I1209 21:27:01.093034 636804 net.py:889] add-flow
I1209 21:27:01.093156 636804 net.py:890] in_port=1,dl_vlan=371,action=43
I1209 21:27:01.118664 636804 net.py:893] add-flow in switch: gsw0 in_port: 1 out_port: 43
I1209 21:27:01.118793 636804 net.py:694] end node reached: chain30-sink
I1209 21:27:01.118901 636804 net.py:889] add-flow
I1209 21:27:01.118994 636804 net.py:890] in_port=1,dl_vlan=371,action=strip_vlan,output=9
I1209 21:27:01.144926 636804 net.py:893] add-flow in switch: dc14.s1 in_port: 1 out_port: 9
D1209 21:27:01.145154 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain30-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain30-vpn', vnf_dst_interface='output'
I1209 21:27:01.145347 636804 net.py:665] Path between chain30-sink and chain30-vpn: ['dc14.s1', u'gsw0', 'dc25.s1']
I1209 21:27:01.145466 636804 net.py:889] add-flow
I1209 21:27:01.145550 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:372,output=1
I1209 21:27:01.166716 636804 net.py:893] add-flow in switch: dc14.s1 in_port: 9 out_port: 1
I1209 21:27:01.166862 636804 net.py:889] add-flow
I1209 21:27:01.166961 636804 net.py:890] in_port=43,dl_vlan=372,action=1
I1209 21:27:01.190407 636804 net.py:893] add-flow in switch: gsw0 in_port: 43 out_port: 1
I1209 21:27:01.190538 636804 net.py:694] end node reached: chain30-vpn
I1209 21:27:01.190644 636804 net.py:889] add-flow
I1209 21:27:01.190731 636804 net.py:890] in_port=1,dl_vlan=372,action=strip_vlan,output=11
I1209 21:27:01.213244 636804 net.py:893] add-flow in switch: dc25.s1 in_port: 1 out_port: 11
I1209 21:27:01.213442 636804 daisy.py:357] chain(chain30-vpn, chain30-sink) output: success: add-flow between chain30-vpn and chain30-sink with options: {
 "priority": 1000, 
 "path": [
  "dc25.s1", 
  "gsw0", 
  "dc14.s1"
 ], 
 "vlan": 371, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain30-sink and chain30-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc14.s1", 
  "gsw0", 
  "dc25.s1"
 ], 
 "vlan": 372, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:27:03 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:27:03 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:27:03 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:27:03 2017 UDPv4 link local: [undef]
Sat Dec  9 21:27:03 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:27:03 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=f9c35bb7 9d2b6484
Sat Dec  9 21:27:03 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:27:03 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:27:03 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:27:03 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:27:03 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:27:03 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:27:03 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:27:03 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:27:03 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:27:03 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:27:03 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:27:05 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:27:05 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:27:05 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:27:05 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:27:05 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:27:05 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:27:05 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:b7
Sat Dec  9 21:27:05 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:27:05 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:27:05 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:27:05 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:27:05 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:27:05 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:27:05 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:27:05 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:27:05 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:27:05 2017 GID set to nogroup
Sat Dec  9 21:27:05 2017 UID set to nobody
Sat Dec  9 21:27:05 2017 Initialization Sequence Completed
I1209 21:27:08.802881 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:27:13.806226 636804 daisy.py:443] < 5s wait complete
I1209 21:27:13.806438 636804 daisy.py:444] VPN client VNF started
chain30-source -> chain30-sink 
chain30-sink -> chain30-source 
*** Results: 0% dropped (2/2 received)
I1209 21:27:17.336734 636804 daisy.py:369] ping chain30-source -> chain30-sink. Packet drop 0.0%
I1209 21:27:17.409606 636804 bench.py:19] Copying traces into the containers...
I1209 21:27:18.851064 636804 bench.py:29] Running dstat...
I1209 21:27:21.168173 636804 iter-e2-allocation.py:17] started allocating chain: 31
I1209 21:27:21.168756 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server0']
I1209 21:27:21.168951 636804 daisy.py:240] creating chain31-ids on chain-server0
D1209 21:27:21.169950 636804 node.py:55] Starting compute instance u'chain31-ids' in data center 'chain-server0'
D1209 21:27:22.345877 636804 simple.py:215] Setting MEM limit for u'chain30-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:27:22.377676 636804 simple.py:215] Setting MEM limit for u'chain28-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:22.408159 636804 simple.py:169] Setting CPU limit for u'chain31-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:27:22.469523 636804 simple.py:215] Setting MEM limit for u'chain31-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:27:22.496680 636804 simple.py:215] Setting MEM limit for u'chain30-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:22.519217 636804 simple.py:215] Setting MEM limit for u'chain28-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:27:22.803157 636804 net.py:233] addLink: n1=chain31-ids intf1=input -- n2=dc25.s1 intf2=dc25.s1-eth12
D1209 21:27:23.070755 636804 net.py:233] addLink: n1=chain31-ids intf1=output -- n2=dc25.s1 intf2=dc25.s1-eth13
I1209 21:27:23.071036 636804 daisy.py:310] successfully created VNF: chain31-ids
I1209 21:27:23.071214 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server0']
I1209 21:27:23.071329 636804 daisy.py:240] creating chain31-vpn on chain-server0
D1209 21:27:23.072381 636804 node.py:55] Starting compute instance u'chain31-vpn' in data center 'chain-server0'
D1209 21:27:23.944936 636804 simple.py:215] Setting MEM limit for u'chain28-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:23.977389 636804 simple.py:169] Setting CPU limit for u'chain31-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:27:24.031589 636804 simple.py:215] Setting MEM limit for u'chain31-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:24.063421 636804 simple.py:215] Setting MEM limit for u'chain31-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:27:24.090821 636804 simple.py:215] Setting MEM limit for u'chain28-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:27:24.121922 636804 simple.py:215] Setting MEM limit for u'chain30-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:27:24.149944 636804 simple.py:215] Setting MEM limit for u'chain30-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:24.442620 636804 net.py:233] addLink: n1=chain31-vpn intf1=input-ids -- n2=dc25.s1 intf2=dc25.s1-eth14
D1209 21:27:24.706957 636804 net.py:233] addLink: n1=chain31-vpn intf1=input-fw -- n2=dc25.s1 intf2=dc25.s1-eth15
D1209 21:27:24.970917 636804 net.py:233] addLink: n1=chain31-vpn intf1=output -- n2=dc25.s1 intf2=dc25.s1-eth16
I1209 21:27:24.971183 636804 daisy.py:310] successfully created VNF: chain31-vpn
I1209 21:27:24.971322 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server23']
I1209 21:27:24.971430 636804 daisy.py:240] creating chain31-fw on chain-server23
D1209 21:27:24.972472 636804 node.py:55] Starting compute instance u'chain31-fw' in data center 'chain-server23'
D1209 21:27:25.829569 636804 simple.py:215] Setting MEM limit for u'chain28-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:25.862238 636804 simple.py:169] Setting CPU limit for u'chain28-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:27:25.917471 636804 simple.py:215] Setting MEM limit for u'chain28-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:25.949182 636804 simple.py:169] Setting CPU limit for u'chain31-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:27:26.012826 636804 simple.py:215] Setting MEM limit for u'chain31-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:26.040788 636804 simple.py:169] Setting CPU limit for u'chain30-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:27:26.092299 636804 simple.py:215] Setting MEM limit for u'chain30-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:26.122031 636804 simple.py:215] Setting MEM limit for u'chain30-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:26.415122 636804 net.py:233] addLink: n1=chain31-fw intf1=input -- n2=dc5.s1 intf2=dc5.s1-eth12
D1209 21:27:26.692766 636804 net.py:233] addLink: n1=chain31-fw intf1=output-ids -- n2=dc5.s1 intf2=dc5.s1-eth13
D1209 21:27:26.938441 636804 net.py:233] addLink: n1=chain31-fw intf1=output-vpn -- n2=dc5.s1 intf2=dc5.s1-eth14
I1209 21:27:26.938725 636804 daisy.py:310] successfully created VNF: chain31-fw
I1209 21:27:26.938872 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server23']
I1209 21:27:26.938983 636804 daisy.py:240] creating chain31-nat on chain-server23
D1209 21:27:26.940609 636804 node.py:55] Starting compute instance u'chain31-nat' in data center 'chain-server23'
D1209 21:27:27.823625 636804 simple.py:169] Setting CPU limit for u'chain31-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:27:27.885766 636804 simple.py:215] Setting MEM limit for u'chain31-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:27.911978 636804 simple.py:215] Setting MEM limit for u'chain28-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:27.944206 636804 simple.py:169] Setting CPU limit for u'chain28-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:27:28.007158 636804 simple.py:215] Setting MEM limit for u'chain28-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:28.036286 636804 simple.py:169] Setting CPU limit for u'chain30-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:27:28.093000 636804 simple.py:215] Setting MEM limit for u'chain30-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:28.121083 636804 simple.py:215] Setting MEM limit for u'chain30-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:28.149143 636804 simple.py:169] Setting CPU limit for u'chain31-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:27:28.203618 636804 simple.py:215] Setting MEM limit for u'chain31-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:28.484699 636804 net.py:233] addLink: n1=chain31-nat intf1=input -- n2=dc5.s1 intf2=dc5.s1-eth15
D1209 21:27:28.719362 636804 net.py:233] addLink: n1=chain31-nat intf1=output -- n2=dc5.s1 intf2=dc5.s1-eth16
I1209 21:27:28.719592 636804 daisy.py:310] successfully created VNF: chain31-nat
I1209 21:27:28.719752 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud1']
I1209 21:27:28.719892 636804 daisy.py:240] creating chain31-sink on off-cloud1
D1209 21:27:28.721461 636804 node.py:55] Starting compute instance u'chain31-sink' in data center 'off-cloud1'
D1209 21:27:29.543613 636804 simple.py:215] Setting MEM limit for u'chain30-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:29.575623 636804 simple.py:215] Setting MEM limit for u'chain28-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:29.606956 636804 simple.py:169] Setting CPU limit for u'chain31-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:27:29.659883 636804 simple.py:215] Setting MEM limit for u'chain31-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:29.685316 636804 simple.py:215] Setting MEM limit for u'chain29-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:29.710485 636804 simple.py:215] Setting MEM limit for u'chain26-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:29.734496 636804 simple.py:215] Setting MEM limit for u'chain28-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:29.762211 636804 simple.py:215] Setting MEM limit for u'chain29-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:30.048643 636804 net.py:233] addLink: n1=chain31-sink intf1=intf2 -- n2=dc15.s1 intf2=dc15.s1-eth8
I1209 21:27:30.048902 636804 daisy.py:310] successfully created VNF: chain31-sink
I1209 21:27:30.049081 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud1']
I1209 21:27:30.049184 636804 daisy.py:240] creating chain31-source on off-cloud1
D1209 21:27:30.049985 636804 node.py:55] Starting compute instance u'chain31-source' in data center 'off-cloud1'
D1209 21:27:30.894757 636804 simple.py:215] Setting MEM limit for u'chain30-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:30.926191 636804 simple.py:215] Setting MEM limit for u'chain28-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:30.952395 636804 simple.py:169] Setting CPU limit for u'chain31-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:27:31.004380 636804 simple.py:215] Setting MEM limit for u'chain31-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:31.033044 636804 simple.py:215] Setting MEM limit for u'chain31-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:31.059254 636804 simple.py:215] Setting MEM limit for u'chain29-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:31.086761 636804 simple.py:215] Setting MEM limit for u'chain26-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:31.113440 636804 simple.py:215] Setting MEM limit for u'chain28-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:31.136881 636804 simple.py:215] Setting MEM limit for u'chain29-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:31.416692 636804 net.py:233] addLink: n1=chain31-source intf1=intf1 -- n2=dc15.s1 intf2=dc15.s1-eth9
I1209 21:27:31.416969 636804 daisy.py:310] successfully created VNF: chain31-source
I1209 21:27:31.417335 636804 daisy.py:311] successfully created chain: 31
, [u'sink', u'vpn', 2, [[u'off-cloud2', u'gsw', 2], [u'gsw', u'chain-server0', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain30-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain30-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain30-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain30-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain30-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain30-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain30-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain30-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain30-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain30-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain30-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain30-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain30-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain30-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain30-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain30-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain30-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain30-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain30-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain30-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain30-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain30-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain30-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain30-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain30-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain30-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.023486999999999814, u'locality': u'datacenter', u'assignment': [[u'ids', u'chain-server0'], [u'vpn', u'chain-server0'], [u'fw', u'chain-server23'], [u'nat', u'chain-server23'], [u'sink', u'off-cloud1'], [u'source', u'off-cloud1']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 2.706738, u'bandwidth': [[u'fw', u'ids', 1, [[u'chain-server23', u'gsw', 2], [u'gsw', u'chain-server0', 2]]], [u'fw', u'vpn', 1, [[u'chain-server23', u'gsw', 2], [u'gsw', u'chain-server0', 2]]], [u'nat', u'source', 2, [[u'chain-server23', u'gsw', 2], [u'gsw', u'off-cloud1', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server0', 2], [u'off-cloud1', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain31-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain31-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain31-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain31-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain31-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:27:34.832669 636804 daisy.py:401] source, nat, and fw start done
I1209 21:27:34.832966 636804 daisy.py:402] My commands
I1209 21:27:34.987721 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:27:36.990031 636804 daisy.py:419] < 2s wait complete
I1209 21:27:36.990309 636804 daisy.py:420] start VNF chaining
D1209 21:27:36.990458 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain31-source', vnf_src_interface='intf1', vnf_dst_name=u'chain31-nat', vnf_dst_interface='input'
I1209 21:27:36.990734 636804 net.py:665] Path between chain31-source and chain31-nat: ['dc15.s1', u'gsw0', 'dc5.s1']
I1209 21:27:36.990902 636804 net.py:889] add-flow
I1209 21:27:36.990982 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:373,output=1
I1209 21:27:36.995294 636804 net.py:893] add-flow in switch: dc15.s1 in_port: 9 out_port: 1
I1209 21:27:36.995445 636804 net.py:889] add-flow
I1209 21:27:36.995524 636804 net.py:890] in_port=42,dl_vlan=373,action=24
I1209 21:27:37.026316 636804 net.py:893] add-flow in switch: gsw0 in_port: 42 out_port: 24
I1209 21:27:37.026458 636804 net.py:694] end node reached: chain31-nat
I1209 21:27:37.026556 636804 net.py:889] add-flow
I1209 21:27:37.026627 636804 net.py:890] in_port=1,dl_vlan=373,action=strip_vlan,output=15
I1209 21:27:37.055756 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 1 out_port: 15
D1209 21:27:37.056282 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain31-nat', vnf_src_interface='input', vnf_dst_name=u'chain31-source', vnf_dst_interface='intf1'
I1209 21:27:37.056457 636804 net.py:665] Path between chain31-nat and chain31-source: ['dc5.s1', u'gsw0', 'dc15.s1']
I1209 21:27:37.056571 636804 net.py:889] add-flow
I1209 21:27:37.056663 636804 net.py:890] -O OpenFlow13 in_port=15,action=mod_vlan_vid:374,output=1
I1209 21:27:37.079920 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 15 out_port: 1
I1209 21:27:37.080137 636804 net.py:889] add-flow
I1209 21:27:37.080250 636804 net.py:890] in_port=24,dl_vlan=374,action=42
I1209 21:27:37.106795 636804 net.py:893] add-flow in switch: gsw0 in_port: 24 out_port: 42
I1209 21:27:37.106930 636804 net.py:694] end node reached: chain31-source
I1209 21:27:37.107037 636804 net.py:889] add-flow
I1209 21:27:37.107145 636804 net.py:890] in_port=1,dl_vlan=374,action=strip_vlan,output=9
I1209 21:27:37.130342 636804 net.py:893] add-flow in switch: dc15.s1 in_port: 1 out_port: 9
I1209 21:27:37.130608 636804 daisy.py:322] chain(chain31-source, chain31-nat) output: success: add-flow between chain31-source and chain31-nat with options: {
 "priority": 1000, 
 "path": [
  "dc15.s1", 
  "gsw0", 
  "dc5.s1"
 ], 
 "vlan": 373, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain31-nat and chain31-source with options: {
 "priority": 1000, 
 "path": [
  "dc5.s1", 
  "gsw0", 
  "dc15.s1"
 ], 
 "vlan": 374, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:27:37.130783 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain31-nat', vnf_src_interface='output', vnf_dst_name=u'chain31-fw', vnf_dst_interface='input'
I1209 21:27:37.130960 636804 net.py:665] Path between chain31-nat and chain31-fw: ['dc5.s1']
I1209 21:27:37.131092 636804 net.py:694] end node reached: chain31-fw
I1209 21:27:37.131198 636804 net.py:889] add-flow
I1209 21:27:37.131282 636804 net.py:890] -O OpenFlow13 in_port=16,action=mod_vlan_vid:375,output=12
I1209 21:27:37.154418 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 16 out_port: 12
I1209 21:27:37.154586 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc5.s1 in_port: 16 out_port: 12
I1209 21:27:37.154696 636804 net.py:931] add-flow
I1209 21:27:37.154767 636804 net.py:932] in_port=16,action=strip_vlan,output=12
I1209 21:27:37.189306 636804 net.py:935] add-flow in switch: dc5.s1 in_port: 16 out_port: 12
D1209 21:27:37.189512 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain31-fw', vnf_src_interface='input', vnf_dst_name=u'chain31-nat', vnf_dst_interface='output'
I1209 21:27:37.189676 636804 net.py:665] Path between chain31-fw and chain31-nat: ['dc5.s1']
I1209 21:27:37.189783 636804 net.py:694] end node reached: chain31-nat
I1209 21:27:37.189882 636804 net.py:889] add-flow
I1209 21:27:37.189966 636804 net.py:890] -O OpenFlow13 in_port=12,action=mod_vlan_vid:376,output=16
I1209 21:27:37.239162 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 12 out_port: 16
I1209 21:27:37.239293 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc5.s1 in_port: 12 out_port: 16
I1209 21:27:37.239384 636804 net.py:931] add-flow
I1209 21:27:37.239450 636804 net.py:932] in_port=12,action=strip_vlan,output=16
I1209 21:27:37.263286 636804 net.py:935] add-flow in switch: dc5.s1 in_port: 12 out_port: 16
I1209 21:27:37.263580 636804 daisy.py:329] chain(chain31-nat, chain31-fw) output: success: add-flow between chain31-nat and chain31-fw with options: {
 "priority": 1000, 
 "path": [
  "dc5.s1"
 ], 
 "vlan": 375, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain31-fw and chain31-nat with options: {
 "priority": 1000, 
 "path": [
  "dc5.s1"
 ], 
 "vlan": 376, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:27:37.263756 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain31-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain31-ids', vnf_dst_interface='input'
I1209 21:27:37.263916 636804 net.py:665] Path between chain31-fw and chain31-ids: ['dc5.s1', u'gsw0', 'dc25.s1']
I1209 21:27:37.264018 636804 net.py:889] add-flow
I1209 21:27:37.264127 636804 net.py:890] -O OpenFlow13 in_port=13,action=mod_vlan_vid:377,output=1
I1209 21:27:37.348506 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 13 out_port: 1
I1209 21:27:37.348671 636804 net.py:889] add-flow
I1209 21:27:37.348741 636804 net.py:890] in_port=24,dl_vlan=377,action=1
I1209 21:27:37.416376 636804 net.py:893] add-flow in switch: gsw0 in_port: 24 out_port: 1
I1209 21:27:37.416534 636804 net.py:694] end node reached: chain31-ids
I1209 21:27:37.416611 636804 net.py:889] add-flow
I1209 21:27:37.416675 636804 net.py:890] in_port=1,dl_vlan=377,action=strip_vlan,output=12
I1209 21:27:37.443989 636804 net.py:893] add-flow in switch: dc25.s1 in_port: 1 out_port: 12
D1209 21:27:37.444721 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain31-ids', vnf_src_interface='input', vnf_dst_name=u'chain31-fw', vnf_dst_interface='output-ids'
I1209 21:27:37.444883 636804 net.py:665] Path between chain31-ids and chain31-fw: ['dc25.s1', u'gsw0', 'dc5.s1']
I1209 21:27:37.444984 636804 net.py:889] add-flow
I1209 21:27:37.445070 636804 net.py:890] -O OpenFlow13 in_port=12,action=mod_vlan_vid:378,output=1
I1209 21:27:37.470340 636804 net.py:893] add-flow in switch: dc25.s1 in_port: 12 out_port: 1
I1209 21:27:37.470463 636804 net.py:889] add-flow
I1209 21:27:37.470535 636804 net.py:890] in_port=1,dl_vlan=378,action=24
I1209 21:27:37.495758 636804 net.py:893] add-flow in switch: gsw0 in_port: 1 out_port: 24
I1209 21:27:37.495867 636804 net.py:920] Detected IDS->FW Path(2) in switch: gsw0 in_port: 1 out_port: 24
I1209 21:27:37.495949 636804 net.py:931] add-flow
I1209 21:27:37.496076 636804 net.py:932] in_port=1,action=strip_vlan,output=24
I1209 21:27:37.520492 636804 net.py:935] add-flow in switch: gsw0 in_port: 1 out_port: 24
I1209 21:27:37.520601 636804 net.py:694] end node reached: chain31-fw
I1209 21:27:37.520683 636804 net.py:889] add-flow
I1209 21:27:37.520745 636804 net.py:890] in_port=1,dl_vlan=378,action=strip_vlan,output=13
I1209 21:27:37.567982 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 1 out_port: 13
I1209 21:27:37.568146 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc5.s1 in_port: 1 out_port: 13
I1209 21:27:37.568242 636804 net.py:931] add-flow
I1209 21:27:37.568303 636804 net.py:932] in_port=1,action=strip_vlan,output=13
I1209 21:27:37.595743 636804 net.py:935] add-flow in switch: dc5.s1 in_port: 1 out_port: 13
I1209 21:27:37.595925 636804 daisy.py:336] chain(chain31-fw, chain31-ids) output: success: add-flow between chain31-fw and chain31-ids with options: {
 "priority": 1000, 
 "path": [
  "dc5.s1", 
  "gsw0", 
  "dc25.s1"
 ], 
 "vlan": 377, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain31-ids and chain31-fw with options: {
 "priority": 1000, 
 "path": [
  "dc25.s1", 
  "gsw0", 
  "dc5.s1"
 ], 
 "vlan": 378, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:27:37.596095 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain31-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain31-vpn', vnf_dst_interface='input-fw'
I1209 21:27:37.596231 636804 net.py:665] Path between chain31-fw and chain31-vpn: ['dc5.s1', u'gsw0', 'dc25.s1']
I1209 21:27:37.596330 636804 net.py:889] add-flow
I1209 21:27:37.596430 636804 net.py:890] -O OpenFlow13 in_port=14,action=mod_vlan_vid:379,output=1
I1209 21:27:37.643811 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 14 out_port: 1
I1209 21:27:37.643958 636804 net.py:889] add-flow
I1209 21:27:37.644089 636804 net.py:890] in_port=24,dl_vlan=379,action=1
I1209 21:27:37.668262 636804 net.py:893] add-flow in switch: gsw0 in_port: 24 out_port: 1
I1209 21:27:37.668415 636804 net.py:694] end node reached: chain31-vpn
I1209 21:27:37.668503 636804 net.py:889] add-flow
I1209 21:27:37.668562 636804 net.py:890] in_port=1,dl_vlan=379,action=strip_vlan,output=15
I1209 21:27:37.691520 636804 net.py:893] add-flow in switch: dc25.s1 in_port: 1 out_port: 15
D1209 21:27:37.691754 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain31-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain31-fw', vnf_dst_interface='output-vpn'
I1209 21:27:37.691946 636804 net.py:665] Path between chain31-vpn and chain31-fw: ['dc25.s1', u'gsw0', 'dc5.s1']
I1209 21:27:37.692099 636804 net.py:889] add-flow
I1209 21:27:37.692192 636804 net.py:890] -O OpenFlow13 in_port=15,action=mod_vlan_vid:380,output=1
I1209 21:27:37.725908 636804 net.py:893] add-flow in switch: dc25.s1 in_port: 15 out_port: 1
I1209 21:27:37.726068 636804 net.py:889] add-flow
I1209 21:27:37.726234 636804 net.py:890] in_port=1,dl_vlan=380,action=24
I1209 21:27:37.749525 636804 net.py:893] add-flow in switch: gsw0 in_port: 1 out_port: 24
I1209 21:27:37.749629 636804 net.py:694] end node reached: chain31-fw
I1209 21:27:37.749731 636804 net.py:889] add-flow
I1209 21:27:37.749826 636804 net.py:890] in_port=1,dl_vlan=380,action=strip_vlan,output=14
I1209 21:27:37.774401 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 1 out_port: 14
I1209 21:27:37.774581 636804 daisy.py:343] chain(chain31-fw, chain31-vpn) output: success: add-flow between chain31-fw and chain31-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc5.s1", 
  "gsw0", 
  "dc25.s1"
 ], 
 "vlan": 379, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain31-vpn and chain31-fw with options: {
 "priority": 1000, 
 "path": [
  "dc25.s1", 
  "gsw0", 
  "dc5.s1"
 ], 
 "vlan": 380, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:27:37.774744 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain31-ids', vnf_src_interface='output', vnf_dst_name=u'chain31-vpn', vnf_dst_interface='input-ids'
I1209 21:27:37.774883 636804 net.py:665] Path between chain31-ids and chain31-vpn: ['dc25.s1']
I1209 21:27:37.774985 636804 net.py:694] end node reached: chain31-vpn
I1209 21:27:37.775087 636804 net.py:889] add-flow
I1209 21:27:37.775171 636804 net.py:890] -O OpenFlow13 in_port=13,action=mod_vlan_vid:381,output=14
I1209 21:27:37.797961 636804 net.py:893] add-flow in switch: dc25.s1 in_port: 13 out_port: 14
I1209 21:27:37.798145 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc25.s1 in_port: 13 out_port: 14
I1209 21:27:37.798259 636804 net.py:931] add-flow
I1209 21:27:37.798357 636804 net.py:932] in_port=13,action=strip_vlan,output=14
I1209 21:27:37.867682 636804 net.py:935] add-flow in switch: dc25.s1 in_port: 13 out_port: 14
D1209 21:27:37.867960 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain31-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain31-ids', vnf_dst_interface='output'
I1209 21:27:37.868154 636804 net.py:665] Path between chain31-vpn and chain31-ids: ['dc25.s1']
I1209 21:27:37.868275 636804 net.py:694] end node reached: chain31-ids
I1209 21:27:37.868382 636804 net.py:889] add-flow
I1209 21:27:37.868465 636804 net.py:890] -O OpenFlow13 in_port=14,action=mod_vlan_vid:382,output=13
I1209 21:27:37.887573 636804 net.py:893] add-flow in switch: dc25.s1 in_port: 14 out_port: 13
I1209 21:27:37.887767 636804 daisy.py:350] chain(chain31-ids, chain31-vpn) output: success: add-flow between chain31-ids and chain31-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc25.s1"
 ], 
 "vlan": 381, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain31-vpn and chain31-ids with options: {
 "priority": 1000, 
 "path": [
  "dc25.s1"
 ], 
 "vlan": 382, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:27:37.887927 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain31-vpn', vnf_src_interface='output', vnf_dst_name=u'chain31-sink', vnf_dst_interface='intf2'
I1209 21:27:37.888109 636804 net.py:665] Path between chain31-vpn and chain31-sink: ['dc25.s1', u'gsw0', 'dc15.s1']
I1209 21:27:37.888236 636804 net.py:889] add-flow
I1209 21:27:37.888324 636804 net.py:890] -O OpenFlow13 in_port=16,action=mod_vlan_vid:383,output=1
I1209 21:27:37.914283 636804 net.py:893] add-flow in switch: dc25.s1 in_port: 16 out_port: 1
I1209 21:27:37.914422 636804 net.py:889] add-flow
I1209 21:27:37.914525 636804 net.py:890] in_port=1,dl_vlan=383,action=42
I1209 21:27:37.941270 636804 net.py:893] add-flow in switch: gsw0 in_port: 1 out_port: 42
I1209 21:27:37.941381 636804 net.py:694] end node reached: chain31-sink
I1209 21:27:37.941520 636804 net.py:889] add-flow
I1209 21:27:37.941612 636804 net.py:890] in_port=1,dl_vlan=383,action=strip_vlan,output=8
I1209 21:27:37.972604 636804 net.py:893] add-flow in switch: dc15.s1 in_port: 1 out_port: 8
D1209 21:27:37.972811 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain31-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain31-vpn', vnf_dst_interface='output'
I1209 21:27:37.973000 636804 net.py:665] Path between chain31-sink and chain31-vpn: ['dc15.s1', u'gsw0', 'dc25.s1']
I1209 21:27:37.973165 636804 net.py:889] add-flow
I1209 21:27:37.973236 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:384,output=1
I1209 21:27:37.995088 636804 net.py:893] add-flow in switch: dc15.s1 in_port: 8 out_port: 1
I1209 21:27:37.995263 636804 net.py:889] add-flow
I1209 21:27:37.995379 636804 net.py:890] in_port=42,dl_vlan=384,action=1
I1209 21:27:38.016884 636804 net.py:893] add-flow in switch: gsw0 in_port: 42 out_port: 1
I1209 21:27:38.017155 636804 net.py:694] end node reached: chain31-vpn
I1209 21:27:38.017276 636804 net.py:889] add-flow
I1209 21:27:38.017379 636804 net.py:890] in_port=1,dl_vlan=384,action=strip_vlan,output=16
I1209 21:27:38.039304 636804 net.py:893] add-flow in switch: dc25.s1 in_port: 1 out_port: 16
I1209 21:27:38.039546 636804 daisy.py:357] chain(chain31-vpn, chain31-sink) output: success: add-flow between chain31-vpn and chain31-sink with options: {
 "priority": 1000, 
 "path": [
  "dc25.s1", 
  "gsw0", 
  "dc15.s1"
 ], 
 "vlan": 383, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain31-sink and chain31-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc15.s1", 
  "gsw0", 
  "dc25.s1"
 ], 
 "vlan": 384, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:27:39 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:27:39 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:27:39 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:27:39 2017 UDPv4 link local: [undef]
Sat Dec  9 21:27:39 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:27:39 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=5a9eb0b0 5a2882a0
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:27:39 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:27:39 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:27:39 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:27:40 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:27:40 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:27:40 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:27:40 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:27:40 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:27:40 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:27:40 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:27:40 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:27:42 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:27:42 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:27:42 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:27:42 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:27:42 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:27:42 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:27:42 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:bd
Sat Dec  9 21:27:42 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:27:42 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:27:42 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:27:42 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:27:42 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:27:42 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:27:42 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:27:42 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:27:42 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:27:42 2017 GID set to nogroup
Sat Dec  9 21:27:42 2017 UID set to nobody
Sat Dec  9 21:27:42 2017 Initialization Sequence Completed
I1209 21:27:45.246861 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:27:50.250241 636804 daisy.py:443] < 5s wait complete
I1209 21:27:50.250500 636804 daisy.py:444] VPN client VNF started
chain31-source -> chain31-sink 
chain31-sink -> chain31-source 
*** Results: 0% dropped (2/2 received)
I1209 21:27:53.568213 636804 daisy.py:369] ping chain31-source -> chain31-sink. Packet drop 0.0%
I1209 21:27:53.644738 636804 bench.py:19] Copying traces into the containers...
I1209 21:27:54.776158 636804 bench.py:29] Running dstat...
I1209 21:27:57.093319 636804 iter-e2-allocation.py:17] started allocating chain: 32
I1209 21:27:57.093739 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server1']
I1209 21:27:57.093872 636804 daisy.py:240] creating chain32-ids on chain-server1
D1209 21:27:57.094932 636804 node.py:55] Starting compute instance u'chain32-ids' in data center 'chain-server1'
D1209 21:27:58.165385 636804 simple.py:215] Setting MEM limit for u'chain1-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:58.197277 636804 simple.py:215] Setting MEM limit for u'chain1-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:27:58.228322 636804 simple.py:169] Setting CPU limit for u'chain1-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:27:58.281373 636804 simple.py:215] Setting MEM limit for u'chain1-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:58.304542 636804 simple.py:169] Setting CPU limit for u'chain32-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:27:58.354737 636804 simple.py:215] Setting MEM limit for u'chain32-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:27:58.381597 636804 simple.py:215] Setting MEM limit for u'chain1-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:58.793229 636804 net.py:233] addLink: n1=chain32-ids intf1=input -- n2=dc26.s1 intf2=dc26.s1-eth12
D1209 21:27:59.063550 636804 net.py:233] addLink: n1=chain32-ids intf1=output -- n2=dc26.s1 intf2=dc26.s1-eth13
I1209 21:27:59.063839 636804 daisy.py:310] successfully created VNF: chain32-ids
I1209 21:27:59.064038 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server23']
I1209 21:27:59.064181 636804 daisy.py:240] creating chain32-fw on chain-server23
D1209 21:27:59.065253 636804 node.py:55] Starting compute instance u'chain32-fw' in data center 'chain-server23'
D1209 21:27:59.911489 636804 simple.py:215] Setting MEM limit for u'chain31-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:59.939867 636804 simple.py:215] Setting MEM limit for u'chain28-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:27:59.969696 636804 simple.py:169] Setting CPU limit for u'chain28-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:28:00.025010 636804 simple.py:215] Setting MEM limit for u'chain28-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:00.051176 636804 simple.py:169] Setting CPU limit for u'chain30-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:28:00.099065 636804 simple.py:215] Setting MEM limit for u'chain30-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:00.124871 636804 simple.py:169] Setting CPU limit for u'chain32-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:28:00.182389 636804 simple.py:215] Setting MEM limit for u'chain32-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:00.212543 636804 simple.py:215] Setting MEM limit for u'chain30-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:00.243129 636804 simple.py:169] Setting CPU limit for u'chain31-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:28:00.299830 636804 simple.py:215] Setting MEM limit for u'chain31-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:00.589207 636804 net.py:233] addLink: n1=chain32-fw intf1=input -- n2=dc5.s1 intf2=dc5.s1-eth17
D1209 21:28:00.836353 636804 net.py:233] addLink: n1=chain32-fw intf1=output-ids -- n2=dc5.s1 intf2=dc5.s1-eth18
D1209 21:28:01.053869 636804 net.py:233] addLink: n1=chain32-fw intf1=output-vpn -- n2=dc5.s1 intf2=dc5.s1-eth19
I1209 21:28:01.054172 636804 daisy.py:310] successfully created VNF: chain32-fw
I1209 21:28:01.054358 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server23']
I1209 21:28:01.054506 636804 daisy.py:240] creating chain32-nat on chain-server23
D1209 21:28:01.055763 636804 node.py:55] Starting compute instance u'chain32-nat' in data center 'chain-server23'
D1209 21:28:01.940104 636804 simple.py:215] Setting MEM limit for u'chain31-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:01.969738 636804 simple.py:215] Setting MEM limit for u'chain28-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:01.993453 636804 simple.py:169] Setting CPU limit for u'chain28-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:28:02.047995 636804 simple.py:215] Setting MEM limit for u'chain28-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:02.070379 636804 simple.py:169] Setting CPU limit for u'chain30-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:28:02.119877 636804 simple.py:215] Setting MEM limit for u'chain30-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:02.148329 636804 simple.py:169] Setting CPU limit for u'chain32-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:28:02.201505 636804 simple.py:215] Setting MEM limit for u'chain32-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:02.226949 636804 simple.py:169] Setting CPU limit for u'chain32-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:28:02.275087 636804 simple.py:215] Setting MEM limit for u'chain32-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:02.301702 636804 simple.py:215] Setting MEM limit for u'chain30-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:02.330626 636804 simple.py:169] Setting CPU limit for u'chain31-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:28:02.393402 636804 simple.py:215] Setting MEM limit for u'chain31-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:02.704590 636804 net.py:233] addLink: n1=chain32-nat intf1=input -- n2=dc5.s1 intf2=dc5.s1-eth20
D1209 21:28:02.973342 636804 net.py:233] addLink: n1=chain32-nat intf1=output -- n2=dc5.s1 intf2=dc5.s1-eth21
I1209 21:28:02.973615 636804 daisy.py:310] successfully created VNF: chain32-nat
I1209 21:28:02.973773 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server24']
I1209 21:28:02.973917 636804 daisy.py:240] creating chain32-vpn on chain-server24
D1209 21:28:02.975171 636804 node.py:55] Starting compute instance u'chain32-vpn' in data center 'chain-server24'
D1209 21:28:03.874660 636804 simple.py:169] Setting CPU limit for u'chain32-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:28:03.931660 636804 simple.py:215] Setting MEM limit for u'chain32-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:04.254959 636804 net.py:233] addLink: n1=chain32-vpn intf1=input-ids -- n2=dc8.s1 intf2=dc8.s1-eth2
D1209 21:28:04.533436 636804 net.py:233] addLink: n1=chain32-vpn intf1=input-fw -- n2=dc8.s1 intf2=dc8.s1-eth3
D1209 21:28:04.811487 636804 net.py:233] addLink: n1=chain32-vpn intf1=output -- n2=dc8.s1 intf2=dc8.s1-eth4
I1209 21:28:04.811732 636804 daisy.py:310] successfully created VNF: chain32-vpn
I1209 21:28:04.811834 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud1']
I1209 21:28:04.811928 636804 daisy.py:240] creating chain32-source on off-cloud1
D1209 21:28:04.812918 636804 node.py:55] Starting compute instance u'chain32-source' in data center 'off-cloud1'
D1209 21:28:05.678670 636804 simple.py:215] Setting MEM limit for u'chain30-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:05.712059 636804 simple.py:215] Setting MEM limit for u'chain28-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:05.744715 636804 simple.py:215] Setting MEM limit for u'chain31-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:05.773544 636804 simple.py:215] Setting MEM limit for u'chain31-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:05.804343 636804 simple.py:215] Setting MEM limit for u'chain29-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:05.831685 636804 simple.py:169] Setting CPU limit for u'chain32-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:28:05.893362 636804 simple.py:215] Setting MEM limit for u'chain32-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:05.922787 636804 simple.py:215] Setting MEM limit for u'chain26-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:05.947168 636804 simple.py:215] Setting MEM limit for u'chain28-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:05.976078 636804 simple.py:215] Setting MEM limit for u'chain29-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:06.283900 636804 net.py:233] addLink: n1=chain32-source intf1=intf1 -- n2=dc15.s1 intf2=dc15.s1-eth10
I1209 21:28:06.284157 636804 daisy.py:310] successfully created VNF: chain32-source
I1209 21:28:06.284302 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud2']
I1209 21:28:06.284410 636804 daisy.py:240] creating chain32-sink on off-cloud2
D1209 21:28:06.285478 636804 node.py:55] Starting compute instance u'chain32-sink' in data center 'off-cloud2'
D1209 21:28:07.158301 636804 simple.py:169] Setting CPU limit for u'chain32-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:28:07.223226 636804 simple.py:215] Setting MEM limit for u'chain32-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:07.254076 636804 simple.py:215] Setting MEM limit for u'chain24-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:07.284375 636804 simple.py:215] Setting MEM limit for u'chain16-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:07.315347 636804 simple.py:215] Setting MEM limit for u'chain1-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:07.346889 636804 simple.py:215] Setting MEM limit for u'chain17-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:07.378662 636804 simple.py:215] Setting MEM limit for u'chain27-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:07.409935 636804 simple.py:215] Setting MEM limit for u'chain1-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:07.440928 636804 simple.py:215] Setting MEM limit for u'chain15-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:07.466566 636804 simple.py:215] Setting MEM limit for u'chain30-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:07.800370 636804 net.py:233] addLink: n1=chain32-sink intf1=intf2 -- n2=dc14.s1 intf2=dc14.s1-eth10
I1209 21:28:07.800623 636804 daisy.py:310] successfully created VNF: chain32-sink
I1209 21:28:07.800789 636804 daisy.py:311] successfully created chain: 32
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
 from sudo docker exec mn.chain31-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain31-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain31-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain31-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain31-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain31-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain31-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain31-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain31-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain31-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain31-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain31-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain31-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain31-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain31-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain31-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain31-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain31-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain31-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain31-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain31-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.023406000000000038, u'locality': u'datacenter', u'assignment': [[u'ids', u'chain-server1'], [u'fw', u'chain-server23'], [u'nat', u'chain-server23'], [u'vpn', u'chain-server24'], [u'source', u'off-cloud1'], [u'sink', u'off-cloud2']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 2.8283840000000002, u'bandwidth': [[u'fw', u'ids', 1, [[u'chain-server23', u'gsw', 2], [u'gsw', u'chain-server24', 1], [u'gsw', u'chain-server1', 1]]], [u'fw', u'vpn', 1, [[u'chain-server23', u'gsw', 2], [u'gsw', u'chain-server24', 1], [u'gsw', u'chain-server1', 1]]], [u'nat', u'source', 2, [[u'chain-server23', u'gsw', 2], [u'gsw', u'off-cloud1', 2]]], [u'sink', u'vpn', 2, [[u'off-cloud2', u'gsw', 2], [u'gsw', u'chain-server24', 2]]], [u'vpn', u'ids', 1, [[u'gsw', u'chain-server1', 1], [u'chain-server24', u'gsw', 1]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain32-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain32-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain32-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain32-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain32-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain32-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain32-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain32-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain32-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain32-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain32-fw route del -net 10.0.1.0/24 dev iI1209 21:28:12.048121 636804 daisy.py:401] source, nat, and fw start done
I1209 21:28:12.048461 636804 daisy.py:402] My commands
I1209 21:28:12.207834 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:28:14.210227 636804 daisy.py:419] < 2s wait complete
I1209 21:28:14.210511 636804 daisy.py:420] start VNF chaining
D1209 21:28:14.210807 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain32-source', vnf_src_interface='intf1', vnf_dst_name=u'chain32-nat', vnf_dst_interface='input'
I1209 21:28:14.211261 636804 net.py:665] Path between chain32-source and chain32-nat: ['dc15.s1', u'gsw0', 'dc5.s1']
I1209 21:28:14.211496 636804 net.py:889] add-flow
I1209 21:28:14.211621 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:385,output=1
I1209 21:28:14.226752 636804 net.py:893] add-flow in switch: dc15.s1 in_port: 10 out_port: 1
I1209 21:28:14.226990 636804 net.py:889] add-flow
I1209 21:28:14.227109 636804 net.py:890] in_port=42,dl_vlan=385,action=24
I1209 21:28:14.251703 636804 net.py:893] add-flow in switch: gsw0 in_port: 42 out_port: 24
I1209 21:28:14.251915 636804 net.py:694] end node reached: chain32-nat
I1209 21:28:14.252077 636804 net.py:889] add-flow
I1209 21:28:14.252181 636804 net.py:890] in_port=1,dl_vlan=385,action=strip_vlan,output=20
I1209 21:28:14.281789 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 1 out_port: 20
D1209 21:28:14.282277 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain32-nat', vnf_src_interface='input', vnf_dst_name=u'chain32-source', vnf_dst_interface='intf1'
I1209 21:28:14.282532 636804 net.py:665] Path between chain32-nat and chain32-source: ['dc5.s1', u'gsw0', 'dc15.s1']
I1209 21:28:14.282685 636804 net.py:889] add-flow
I1209 21:28:14.282809 636804 net.py:890] -O OpenFlow13 in_port=20,action=mod_vlan_vid:386,output=1
I1209 21:28:14.310926 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 20 out_port: 1
I1209 21:28:14.311132 636804 net.py:889] add-flow
I1209 21:28:14.311244 636804 net.py:890] in_port=24,dl_vlan=386,action=42
I1209 21:28:14.340814 636804 net.py:893] add-flow in switch: gsw0 in_port: 24 out_port: 42
I1209 21:28:14.340986 636804 net.py:694] end node reached: chain32-source
I1209 21:28:14.341118 636804 net.py:889] add-flow
I1209 21:28:14.341216 636804 net.py:890] in_port=1,dl_vlan=386,action=strip_vlan,output=10
I1209 21:28:14.366187 636804 net.py:893] add-flow in switch: dc15.s1 in_port: 1 out_port: 10
I1209 21:28:14.366461 636804 daisy.py:322] chain(chain32-source, chain32-nat) output: success: add-flow between chain32-source and chain32-nat with options: {
 "priority": 1000, 
 "path": [
  "dc15.s1", 
  "gsw0", 
  "dc5.s1"
 ], 
 "vlan": 385, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain32-nat and chain32-source with options: {
 "priority": 1000, 
 "path": [
  "dc5.s1", 
  "gsw0", 
  "dc15.s1"
 ], 
 "vlan": 386, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:28:14.366693 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain32-nat', vnf_src_interface='output', vnf_dst_name=u'chain32-fw', vnf_dst_interface='input'
I1209 21:28:14.366923 636804 net.py:665] Path between chain32-nat and chain32-fw: ['dc5.s1']
I1209 21:28:14.367094 636804 net.py:694] end node reached: chain32-fw
I1209 21:28:14.367232 636804 net.py:889] add-flow
I1209 21:28:14.367347 636804 net.py:890] -O OpenFlow13 in_port=21,action=mod_vlan_vid:387,output=17
I1209 21:28:14.392508 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 21 out_port: 17
I1209 21:28:14.392709 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc5.s1 in_port: 21 out_port: 17
I1209 21:28:14.392852 636804 net.py:931] add-flow
I1209 21:28:14.392995 636804 net.py:932] in_port=21,action=strip_vlan,output=17
I1209 21:28:14.420208 636804 net.py:935] add-flow in switch: dc5.s1 in_port: 21 out_port: 17
D1209 21:28:14.420455 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain32-fw', vnf_src_interface='input', vnf_dst_name=u'chain32-nat', vnf_dst_interface='output'
I1209 21:28:14.420649 636804 net.py:665] Path between chain32-fw and chain32-nat: ['dc5.s1']
I1209 21:28:14.420784 636804 net.py:694] end node reached: chain32-nat
I1209 21:28:14.420919 636804 net.py:889] add-flow
I1209 21:28:14.421065 636804 net.py:890] -O OpenFlow13 in_port=17,action=mod_vlan_vid:388,output=21
I1209 21:28:14.467525 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 17 out_port: 21
I1209 21:28:14.467683 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc5.s1 in_port: 17 out_port: 21
I1209 21:28:14.467802 636804 net.py:931] add-flow
I1209 21:28:14.467901 636804 net.py:932] in_port=17,action=strip_vlan,output=21
I1209 21:28:14.495934 636804 net.py:935] add-flow in switch: dc5.s1 in_port: 17 out_port: 21
I1209 21:28:14.496226 636804 daisy.py:329] chain(chain32-nat, chain32-fw) output: success: add-flow between chain32-nat and chain32-fw with options: {
 "priority": 1000, 
 "path": [
  "dc5.s1"
 ], 
 "vlan": 387, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain32-fw and chain32-nat with options: {
 "priority": 1000, 
 "path": [
  "dc5.s1"
 ], 
 "vlan": 388, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:28:14.496404 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain32-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain32-ids', vnf_dst_interface='input'
I1209 21:28:14.496613 636804 net.py:665] Path between chain32-fw and chain32-ids: ['dc5.s1', u'gsw0', 'dc26.s1']
I1209 21:28:14.496773 636804 net.py:889] add-flow
I1209 21:28:14.496901 636804 net.py:890] -O OpenFlow13 in_port=18,action=mod_vlan_vid:389,output=1
I1209 21:28:14.522417 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 18 out_port: 1
I1209 21:28:14.522603 636804 net.py:889] add-flow
I1209 21:28:14.522727 636804 net.py:890] in_port=24,dl_vlan=389,action=2
I1209 21:28:14.570842 636804 net.py:893] add-flow in switch: gsw0 in_port: 24 out_port: 2
I1209 21:28:14.571043 636804 net.py:694] end node reached: chain32-ids
I1209 21:28:14.571199 636804 net.py:889] add-flow
I1209 21:28:14.571316 636804 net.py:890] in_port=1,dl_vlan=389,action=strip_vlan,output=12
I1209 21:28:14.594613 636804 net.py:893] add-flow in switch: dc26.s1 in_port: 1 out_port: 12
D1209 21:28:14.594866 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain32-ids', vnf_src_interface='input', vnf_dst_name=u'chain32-fw', vnf_dst_interface='output-ids'
I1209 21:28:14.595103 636804 net.py:665] Path between chain32-ids and chain32-fw: ['dc26.s1', u'gsw0', 'dc5.s1']
I1209 21:28:14.595305 636804 net.py:889] add-flow
I1209 21:28:14.595441 636804 net.py:890] -O OpenFlow13 in_port=12,action=mod_vlan_vid:390,output=1
I1209 21:28:14.620659 636804 net.py:893] add-flow in switch: dc26.s1 in_port: 12 out_port: 1
I1209 21:28:14.620855 636804 net.py:889] add-flow
I1209 21:28:14.621011 636804 net.py:890] in_port=2,dl_vlan=390,action=24
I1209 21:28:14.650052 636804 net.py:893] add-flow in switch: gsw0 in_port: 2 out_port: 24
I1209 21:28:14.650228 636804 net.py:920] Detected IDS->FW Path(2) in switch: gsw0 in_port: 2 out_port: 24
I1209 21:28:14.650350 636804 net.py:931] add-flow
I1209 21:28:14.650456 636804 net.py:932] in_port=2,action=strip_vlan,output=24
I1209 21:28:14.730227 636804 net.py:935] add-flow in switch: gsw0 in_port: 2 out_port: 24
I1209 21:28:14.730431 636804 net.py:694] end node reached: chain32-fw
I1209 21:28:14.730576 636804 net.py:889] add-flow
I1209 21:28:14.730690 636804 net.py:890] in_port=1,dl_vlan=390,action=strip_vlan,output=18
I1209 21:28:14.751329 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 1 out_port: 18
I1209 21:28:14.751488 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc5.s1 in_port: 1 out_port: 18
I1209 21:28:14.751616 636804 net.py:931] add-flow
I1209 21:28:14.751724 636804 net.py:932] in_port=1,action=strip_vlan,output=18
I1209 21:28:14.779416 636804 net.py:935] add-flow in switch: dc5.s1 in_port: 1 out_port: 18
I1209 21:28:14.779686 636804 daisy.py:336] chain(chain32-fw, chain32-ids) output: success: add-flow between chain32-fw and chain32-ids with options: {
 "priority": 1000, 
 "path": [
  "dc5.s1", 
  "gsw0", 
  "dc26.s1"
 ], 
 "vlan": 389, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain32-ids and chain32-fw with options: {
 "priority": 1000, 
 "path": [
  "dc26.s1", 
  "gsw0", 
  "dc5.s1"
 ], 
 "vlan": 390, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:28:14.779906 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain32-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain32-vpn', vnf_dst_interface='input-fw'
I1209 21:28:14.780164 636804 net.py:665] Path between chain32-fw and chain32-vpn: ['dc5.s1', u'gsw0', 'dc8.s1']
I1209 21:28:14.780320 636804 net.py:889] add-flow
I1209 21:28:14.780443 636804 net.py:890] -O OpenFlow13 in_port=19,action=mod_vlan_vid:391,output=1
I1209 21:28:14.833888 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 19 out_port: 1
I1209 21:28:14.834119 636804 net.py:889] add-flow
I1209 21:28:14.834247 636804 net.py:890] in_port=24,dl_vlan=391,action=25
I1209 21:28:14.860446 636804 net.py:893] add-flow in switch: gsw0 in_port: 24 out_port: 25
I1209 21:28:14.860606 636804 net.py:694] end node reached: chain32-vpn
I1209 21:28:14.860757 636804 net.py:889] add-flow
I1209 21:28:14.860894 636804 net.py:890] in_port=1,dl_vlan=391,action=strip_vlan,output=3
I1209 21:28:14.884552 636804 net.py:893] add-flow in switch: dc8.s1 in_port: 1 out_port: 3
D1209 21:28:14.884780 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain32-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain32-fw', vnf_dst_interface='output-vpn'
I1209 21:28:14.885037 636804 net.py:665] Path between chain32-vpn and chain32-fw: ['dc8.s1', u'gsw0', 'dc5.s1']
I1209 21:28:14.885202 636804 net.py:889] add-flow
I1209 21:28:14.885344 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:392,output=1
I1209 21:28:14.909481 636804 net.py:893] add-flow in switch: dc8.s1 in_port: 3 out_port: 1
I1209 21:28:14.909657 636804 net.py:889] add-flow
I1209 21:28:14.909773 636804 net.py:890] in_port=25,dl_vlan=392,action=24
I1209 21:28:14.935735 636804 net.py:893] add-flow in switch: gsw0 in_port: 25 out_port: 24
I1209 21:28:14.935904 636804 net.py:694] end node reached: chain32-fw
I1209 21:28:14.936069 636804 net.py:889] add-flow
I1209 21:28:14.936182 636804 net.py:890] in_port=1,dl_vlan=392,action=strip_vlan,output=19
I1209 21:28:14.960532 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 1 out_port: 19
I1209 21:28:14.960766 636804 daisy.py:343] chain(chain32-fw, chain32-vpn) output: success: add-flow between chain32-fw and chain32-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc5.s1", 
  "gsw0", 
  "dc8.s1"
 ], 
 "vlan": 391, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain32-vpn and chain32-fw with options: {
 "priority": 1000, 
 "path": [
  "dc8.s1", 
  "gsw0", 
  "dc5.s1"
 ], 
 "vlan": 392, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:28:14.961021 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain32-ids', vnf_src_interface='output', vnf_dst_name=u'chain32-vpn', vnf_dst_interface='input-ids'
I1209 21:28:14.961225 636804 net.py:665] Path between chain32-ids and chain32-vpn: ['dc26.s1', u'gsw0', 'dc8.s1']
I1209 21:28:14.961384 636804 net.py:889] add-flow
I1209 21:28:14.961503 636804 net.py:890] -O OpenFlow13 in_port=13,action=mod_vlan_vid:393,output=1
I1209 21:28:14.984729 636804 net.py:893] add-flow in switch: dc26.s1 in_port: 13 out_port: 1
I1209 21:28:14.984909 636804 net.py:889] add-flow
I1209 21:28:14.985059 636804 net.py:890] in_port=2,dl_vlan=393,action=25
I1209 21:28:15.009587 636804 net.py:893] add-flow in switch: gsw0 in_port: 2 out_port: 25
I1209 21:28:15.009743 636804 net.py:925] Detected IDS->VPN Path(3) in switch: gsw0 in_port: 2 out_port: 25
I1209 21:28:15.009860 636804 net.py:931] add-flow
I1209 21:28:15.009994 636804 net.py:932] in_port=2,action=strip_vlan,output=25
I1209 21:28:15.036015 636804 net.py:935] add-flow in switch: gsw0 in_port: 2 out_port: 25
I1209 21:28:15.036170 636804 net.py:694] end node reached: chain32-vpn
I1209 21:28:15.036303 636804 net.py:889] add-flow
I1209 21:28:15.036425 636804 net.py:890] in_port=1,dl_vlan=393,action=strip_vlan,output=2
I1209 21:28:15.084028 636804 net.py:893] add-flow in switch: dc8.s1 in_port: 1 out_port: 2
I1209 21:28:15.084189 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc8.s1 in_port: 1 out_port: 2
I1209 21:28:15.084311 636804 net.py:931] add-flow
I1209 21:28:15.084419 636804 net.py:932] in_port=1,action=strip_vlan,output=2
I1209 21:28:15.109802 636804 net.py:935] add-flow in switch: dc8.s1 in_port: 1 out_port: 2
D1209 21:28:15.110023 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain32-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain32-ids', vnf_dst_interface='output'
I1209 21:28:15.110265 636804 net.py:665] Path between chain32-vpn and chain32-ids: ['dc8.s1', u'gsw0', 'dc26.s1']
I1209 21:28:15.110378 636804 net.py:889] add-flow
I1209 21:28:15.110475 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:394,output=1
I1209 21:28:15.138020 636804 net.py:893] add-flow in switch: dc8.s1 in_port: 2 out_port: 1
I1209 21:28:15.138161 636804 net.py:889] add-flow
I1209 21:28:15.138294 636804 net.py:890] in_port=25,dl_vlan=394,action=2
I1209 21:28:15.164215 636804 net.py:893] add-flow in switch: gsw0 in_port: 25 out_port: 2
I1209 21:28:15.164324 636804 net.py:694] end node reached: chain32-ids
I1209 21:28:15.164423 636804 net.py:889] add-flow
I1209 21:28:15.164518 636804 net.py:890] in_port=1,dl_vlan=394,action=strip_vlan,output=13
I1209 21:28:15.189047 636804 net.py:893] add-flow in switch: dc26.s1 in_port: 1 out_port: 13
I1209 21:28:15.189249 636804 daisy.py:350] chain(chain32-ids, chain32-vpn) output: success: add-flow between chain32-ids and chain32-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc26.s1", 
  "gsw0", 
  "dc8.s1"
 ], 
 "vlan": 393, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain32-vpn and chain32-ids with options: {
 "priority": 1000, 
 "path": [
  "dc8.s1", 
  "gsw0", 
  "dc26.s1"
 ], 
 "vlan": 394, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:28:15.189376 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain32-vpn', vnf_src_interface='output', vnf_dst_name=u'chain32-sink', vnf_dst_interface='intf2'
I1209 21:28:15.189531 636804 net.py:665] Path between chain32-vpn and chain32-sink: ['dc8.s1', u'gsw0', 'dc14.s1']
I1209 21:28:15.189646 636804 net.py:889] add-flow
I1209 21:28:15.189745 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:395,output=1
I1209 21:28:15.214895 636804 net.py:893] add-flow in switch: dc8.s1 in_port: 4 out_port: 1
I1209 21:28:15.215056 636804 net.py:889] add-flow
I1209 21:28:15.215152 636804 net.py:890] in_port=25,dl_vlan=395,action=43
I1209 21:28:15.239486 636804 net.py:893] add-flow in switch: gsw0 in_port: 25 out_port: 43
I1209 21:28:15.239615 636804 net.py:694] end node reached: chain32-sink
I1209 21:28:15.239717 636804 net.py:889] add-flow
I1209 21:28:15.239814 636804 net.py:890] in_port=1,dl_vlan=395,action=strip_vlan,output=10
I1209 21:28:15.265405 636804 net.py:893] add-flow in switch: dc14.s1 in_port: 1 out_port: 10
D1209 21:28:15.265618 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain32-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain32-vpn', vnf_dst_interface='output'
I1209 21:28:15.265829 636804 net.py:665] Path between chain32-sink and chain32-vpn: ['dc14.s1', u'gsw0', 'dc8.s1']
I1209 21:28:15.265974 636804 net.py:889] add-flow
I1209 21:28:15.266041 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:396,output=1
I1209 21:28:15.289505 636804 net.py:893] add-flow in switch: dc14.s1 in_port: 10 out_port: 1
I1209 21:28:15.289629 636804 net.py:889] add-flow
I1209 21:28:15.289722 636804 net.py:890] in_port=43,dl_vlan=396,action=25
I1209 21:28:15.315009 636804 net.py:893] add-flow in switch: gsw0 in_port: 43 out_port: 25
I1209 21:28:15.315150 636804 net.py:694] end node reached: chain32-vpn
I1209 21:28:15.315260 636804 net.py:889] add-flow
I1209 21:28:15.315325 636804 net.py:890] in_port=1,dl_vlan=396,action=strip_vlan,output=4
I1209 21:28:15.343285 636804 net.py:893] add-flow in switch: dc8.s1 in_port: 1 out_port: 4
I1209 21:28:15.343502 636804 daisy.py:357] chain(chain32-vpn, chain32-sink) output: success: add-flow between chain32-vpn and chain32-sink with options: {
 "priority": 1000, 
 "path": [
  "dc8.s1", 
  "gsw0", 
  "dc14.s1"
 ], 
 "vlan": 395, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain32-sink and chain32-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc14.s1", 
  "gsw0", 
  "dc8.s1"
 ], 
 "vlan": 396, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:28:17 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:28:17 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:28:17 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:28:17 2017 UDPv4 link local: [undef]
Sat Dec  9 21:28:17 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:28:17 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=b63f4055 d86c199b
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:28:17 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:28:17 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:28:17 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:28:17 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:28:17 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:28:17 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:28:17 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:28:17 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:28:17 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:28:17 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:28:17 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:28:20 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:28:20 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:28:20 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:28:20 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:28:20 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:28:20 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:28:20 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:c5
Sat Dec  9 21:28:20 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:28:20 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:28:20 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:28:20 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:28:20 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:28:20 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:28:20 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:28:20 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:28:20 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:28:20 2017 GID set to nogroup
Sat Dec  9 21:28:20 2017 UID set to nobody
Sat Dec  9 21:28:20 2017 Initialization Sequence Completed
I1209 21:28:23.114499 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:28:28.118230 636804 daisy.py:443] < 5s wait complete
I1209 21:28:28.118509 636804 daisy.py:444] VPN client VNF started
chain32-source -> chain32-sink 
chain32-sink -> chain32-source 
*** Results: 0% dropped (2/2 received)
I1209 21:28:30.456075 636804 daisy.py:369] ping chain32-source -> chain32-sink. Packet drop 0.0%
I1209 21:28:30.541238 636804 bench.py:19] Copying traces into the containers...
I1209 21:28:32.057226 636804 bench.py:29] Running dstat...
I1209 21:28:34.448230 636804 iter-e2-allocation.py:17] started allocating chain: 33
I1209 21:28:34.448636 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server0']
I1209 21:28:34.448792 636804 daisy.py:240] creating chain33-vpn on chain-server0
D1209 21:28:34.453933 636804 node.py:55] Starting compute instance u'chain33-vpn' in data center 'chain-server0'
D1209 21:28:35.315937 636804 simple.py:215] Setting MEM limit for u'chain28-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:35.348371 636804 simple.py:215] Setting MEM limit for u'chain31-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:35.373142 636804 simple.py:169] Setting CPU limit for u'chain33-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:28:35.420017 636804 simple.py:215] Setting MEM limit for u'chain33-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:35.445053 636804 simple.py:215] Setting MEM limit for u'chain31-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:28:35.472620 636804 simple.py:215] Setting MEM limit for u'chain28-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:28:35.510082 636804 simple.py:215] Setting MEM limit for u'chain30-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:28:35.539036 636804 simple.py:215] Setting MEM limit for u'chain30-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:35.838193 636804 net.py:233] addLink: n1=chain33-vpn intf1=input-ids -- n2=dc25.s1 intf2=dc25.s1-eth17
D1209 21:28:36.094428 636804 net.py:233] addLink: n1=chain33-vpn intf1=input-fw -- n2=dc25.s1 intf2=dc25.s1-eth18
D1209 21:28:36.349538 636804 net.py:233] addLink: n1=chain33-vpn intf1=output -- n2=dc25.s1 intf2=dc25.s1-eth19
I1209 21:28:36.349780 636804 daisy.py:310] successfully created VNF: chain33-vpn
I1209 21:28:36.349967 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server23']
I1209 21:28:36.350105 636804 daisy.py:240] creating chain33-fw on chain-server23
D1209 21:28:36.351140 636804 node.py:55] Starting compute instance u'chain33-fw' in data center 'chain-server23'
D1209 21:28:37.269273 636804 simple.py:169] Setting CPU limit for u'chain33-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:28:37.334013 636804 simple.py:215] Setting MEM limit for u'chain33-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:37.364411 636804 simple.py:215] Setting MEM limit for u'chain31-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:37.392851 636804 simple.py:215] Setting MEM limit for u'chain28-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:37.423185 636804 simple.py:169] Setting CPU limit for u'chain28-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:28:37.485477 636804 simple.py:215] Setting MEM limit for u'chain28-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:37.516966 636804 simple.py:169] Setting CPU limit for u'chain30-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:28:37.574039 636804 simple.py:215] Setting MEM limit for u'chain30-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:37.601006 636804 simple.py:215] Setting MEM limit for u'chain32-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:37.629137 636804 simple.py:169] Setting CPU limit for u'chain32-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:28:37.687978 636804 simple.py:215] Setting MEM limit for u'chain32-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:37.716557 636804 simple.py:215] Setting MEM limit for u'chain30-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:37.748292 636804 simple.py:169] Setting CPU limit for u'chain31-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:28:37.807729 636804 simple.py:215] Setting MEM limit for u'chain31-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:38.085016 636804 net.py:233] addLink: n1=chain33-fw intf1=input -- n2=dc5.s1 intf2=dc5.s1-eth22
D1209 21:28:38.335680 636804 net.py:233] addLink: n1=chain33-fw intf1=output-ids -- n2=dc5.s1 intf2=dc5.s1-eth23
D1209 21:28:38.585393 636804 net.py:233] addLink: n1=chain33-fw intf1=output-vpn -- n2=dc5.s1 intf2=dc5.s1-eth24
I1209 21:28:38.585696 636804 daisy.py:310] successfully created VNF: chain33-fw
I1209 21:28:38.585870 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server23']
I1209 21:28:38.586040 636804 daisy.py:240] creating chain33-nat on chain-server23
D1209 21:28:38.587244 636804 node.py:55] Starting compute instance u'chain33-nat' in data center 'chain-server23'
D1209 21:28:39.476887 636804 simple.py:169] Setting CPU limit for u'chain33-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:28:39.538142 636804 simple.py:215] Setting MEM limit for u'chain33-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:39.564208 636804 simple.py:215] Setting MEM limit for u'chain31-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:39.589369 636804 simple.py:215] Setting MEM limit for u'chain28-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:39.617299 636804 simple.py:169] Setting CPU limit for u'chain28-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:28:39.669976 636804 simple.py:215] Setting MEM limit for u'chain28-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:39.696122 636804 simple.py:169] Setting CPU limit for u'chain30-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:28:39.752821 636804 simple.py:215] Setting MEM limit for u'chain30-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:39.777961 636804 simple.py:215] Setting MEM limit for u'chain32-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:39.807126 636804 simple.py:169] Setting CPU limit for u'chain32-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:28:39.870737 636804 simple.py:215] Setting MEM limit for u'chain32-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:39.902936 636804 simple.py:215] Setting MEM limit for u'chain30-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:39.931555 636804 simple.py:169] Setting CPU limit for u'chain33-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:28:39.991594 636804 simple.py:215] Setting MEM limit for u'chain33-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:40.017962 636804 simple.py:169] Setting CPU limit for u'chain31-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:28:40.071926 636804 simple.py:215] Setting MEM limit for u'chain31-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:40.503324 636804 net.py:233] addLink: n1=chain33-nat intf1=input -- n2=dc5.s1 intf2=dc5.s1-eth25
D1209 21:28:40.783956 636804 net.py:233] addLink: n1=chain33-nat intf1=output -- n2=dc5.s1 intf2=dc5.s1-eth26
I1209 21:28:40.784220 636804 daisy.py:310] successfully created VNF: chain33-nat
I1209 21:28:40.784384 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server24']
I1209 21:28:40.784496 636804 daisy.py:240] creating chain33-ids on chain-server24
D1209 21:28:40.785597 636804 node.py:55] Starting compute instance u'chain33-ids' in data center 'chain-server24'
D1209 21:28:41.664079 636804 simple.py:215] Setting MEM limit for u'chain32-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:41.698564 636804 simple.py:169] Setting CPU limit for u'chain33-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:28:41.754463 636804 simple.py:215] Setting MEM limit for u'chain33-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:28:42.053695 636804 net.py:233] addLink: n1=chain33-ids intf1=input -- n2=dc8.s1 intf2=dc8.s1-eth5
D1209 21:28:42.301484 636804 net.py:233] addLink: n1=chain33-ids intf1=output -- n2=dc8.s1 intf2=dc8.s1-eth6
I1209 21:28:42.301764 636804 daisy.py:310] successfully created VNF: chain33-ids
I1209 21:28:42.301932 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud1']
I1209 21:28:42.302063 636804 daisy.py:240] creating chain33-source on off-cloud1
D1209 21:28:42.303277 636804 node.py:55] Starting compute instance u'chain33-source' in data center 'off-cloud1'
D1209 21:28:43.223534 636804 simple.py:215] Setting MEM limit for u'chain30-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:43.254621 636804 simple.py:215] Setting MEM limit for u'chain28-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:43.280905 636804 simple.py:215] Setting MEM limit for u'chain31-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:43.308281 636804 simple.py:215] Setting MEM limit for u'chain31-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:43.333834 636804 simple.py:169] Setting CPU limit for u'chain33-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:28:43.389055 636804 simple.py:215] Setting MEM limit for u'chain33-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:43.415057 636804 simple.py:215] Setting MEM limit for u'chain29-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:43.444452 636804 simple.py:215] Setting MEM limit for u'chain32-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:43.469588 636804 simple.py:215] Setting MEM limit for u'chain26-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:43.493551 636804 simple.py:215] Setting MEM limit for u'chain28-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:43.517175 636804 simple.py:215] Setting MEM limit for u'chain29-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:43.816077 636804 net.py:233] addLink: n1=chain33-source intf1=intf1 -- n2=dc15.s1 intf2=dc15.s1-eth11
I1209 21:28:43.816314 636804 daisy.py:310] successfully created VNF: chain33-source
I1209 21:28:43.816497 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud2']
I1209 21:28:43.816621 636804 daisy.py:240] creating chain33-sink on off-cloud2
D1209 21:28:43.817610 636804 node.py:55] Starting compute instance u'chain33-sink' in data center 'off-cloud2'
D1209 21:28:44.734174 636804 simple.py:215] Setting MEM limit for u'chain32-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:44.767142 636804 simple.py:215] Setting MEM limit for u'chain24-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:44.799063 636804 simple.py:215] Setting MEM limit for u'chain16-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:44.827219 636804 simple.py:215] Setting MEM limit for u'chain1-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:44.852771 636804 simple.py:215] Setting MEM limit for u'chain17-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:44.883318 636804 simple.py:215] Setting MEM limit for u'chain27-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:44.913228 636804 simple.py:215] Setting MEM limit for u'chain1-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:44.943133 636804 simple.py:215] Setting MEM limit for u'chain15-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:44.970437 636804 simple.py:215] Setting MEM limit for u'chain30-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:44.999001 636804 simple.py:169] Setting CPU limit for u'chain33-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:28:45.062016 636804 simple.py:215] Setting MEM limit for u'chain33-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:28:45.364257 636804 net.py:233] addLink: n1=chain33-sink intf1=intf2 -- n2=dc14.s1 intf2=dc14.s1-eth11
I1209 21:28:45.364492 636804 daisy.py:310] successfully created VNF: chain33-sink
I1209 21:28:45.364646 636804 daisy.py:311] successfully created chain: 33
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:28:49.128300 636804 daisy.py:401] source, nat, and fw start done
I1209 21:28:49.128521 636804 daisy.py:402] My commands
I1209 21:28:49.284552 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:28:51.286955 636804 daisy.py:419] < 2s wait complete
I1209 21:28:51.287209 636804 daisy.py:420] start VNF chaining
D1209 21:28:51.287403 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain33-source', vnf_src_interface='intf1', vnf_dst_name=u'chain33-nat', vnf_dst_interface='input'
I1209 21:28:51.287704 636804 net.py:665] Path between chain33-source and chain33-nat: ['dc15.s1', u'gsw0', 'dc5.s1']
I1209 21:28:51.287918 636804 net.py:889] add-flow
I1209 21:28:51.288024 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:397,output=1
I1209 21:28:51.292977 636804 net.py:893] add-flow in switch: dc15.s1 in_port: 11 out_port: 1
I1209 21:28:51.293158 636804 net.py:889] add-flow
I1209 21:28:51.293289 636804 net.py:890] in_port=42,dl_vlan=397,action=24
I1209 21:28:51.317614 636804 net.py:893] add-flow in switch: gsw0 in_port: 42 out_port: 24
I1209 21:28:51.317781 636804 net.py:694] end node reached: chain33-nat
I1209 21:28:51.317939 636804 net.py:889] add-flow
I1209 21:28:51.318054 636804 net.py:890] in_port=1,dl_vlan=397,action=strip_vlan,output=25
I1209 21:28:51.345520 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 1 out_port: 25
D1209 21:28:51.345799 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain33-nat', vnf_src_interface='input', vnf_dst_name=u'chain33-source', vnf_dst_interface='intf1'
I1209 21:28:51.346013 636804 net.py:665] Path between chain33-nat and chain33-source: ['dc5.s1', u'gsw0', 'dc15.s1']
I1209 21:28:51.346231 636804 net.py:889] add-flow
I1209 21:28:51.346354 636804 net.py:890] -O OpenFlow13 in_port=25,action=mod_vlan_vid:398,output=1
I1209 21:28:51.370789 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 25 out_port: 1
I1209 21:28:51.370981 636804 net.py:889] add-flow
I1209 21:28:51.371119 636804 net.py:890] in_port=24,dl_vlan=398,action=42
I1209 21:28:51.397877 636804 net.py:893] add-flow in switch: gsw0 in_port: 24 out_port: 42
I1209 21:28:51.398051 636804 net.py:694] end node reached: chain33-source
I1209 21:28:51.398251 636804 net.py:889] add-flow
I1209 21:28:51.398371 636804 net.py:890] in_port=1,dl_vlan=398,action=strip_vlan,output=11
I1209 21:28:51.423851 636804 net.py:893] add-flow in switch: dc15.s1 in_port: 1 out_port: 11
I1209 21:28:51.424097 636804 daisy.py:322] chain(chain33-source, chain33-nat) output: success: add-flow between chain33-source and chain33-nat with options: {
 "priority": 1000, 
 "path": [
  "dc15.s1", 
  "gsw0", 
  "dc5.s1"
 ], 
 "vlan": 397, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain33-nat and chain33-source with options: {
 "priority": 1000, 
 "path": [
  "dc5.s1", 
  "gsw0", 
  "dc15.s1"
 ], 
 "vlan": 398, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:28:51.424294 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain33-nat', vnf_src_interface='output', vnf_dst_name=u'chain33-fw', vnf_dst_interface='input'
I1209 21:28:51.424463 636804 net.py:665] Path between chain33-nat and chain33-fw: ['dc5.s1']
I1209 21:28:51.424592 636804 net.py:694] end node reached: chain33-fw
I1209 21:28:51.424720 636804 net.py:889] add-flow
I1209 21:28:51.424828 636804 net.py:890] -O OpenFlow13 in_port=26,action=mod_vlan_vid:399,output=22
I1209 21:28:51.451004 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 26 out_port: 22
I1209 21:28:51.451163 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc5.s1 in_port: 26 out_port: 22
I1209 21:28:51.451282 636804 net.py:931] add-flow
I1209 21:28:51.451399 636804 net.py:932] in_port=26,action=strip_vlan,output=22
I1209 21:28:51.476224 636804 net.py:935] add-flow in switch: dc5.s1 in_port: 26 out_port: 22
D1209 21:28:51.476452 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain33-fw', vnf_src_interface='input', vnf_dst_name=u'chain33-nat', vnf_dst_interface='output'
I1209 21:28:51.476603 636804 net.py:665] Path between chain33-fw and chain33-nat: ['dc5.s1']
I1209 21:28:51.476733 636804 net.py:694] end node reached: chain33-nat
I1209 21:28:51.476859 636804 net.py:889] add-flow
I1209 21:28:51.476998 636804 net.py:890] -O OpenFlow13 in_port=22,action=mod_vlan_vid:400,output=26
I1209 21:28:51.526541 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 22 out_port: 26
I1209 21:28:51.526705 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc5.s1 in_port: 22 out_port: 26
I1209 21:28:51.526822 636804 net.py:931] add-flow
I1209 21:28:51.526949 636804 net.py:932] in_port=22,action=strip_vlan,output=26
I1209 21:28:51.552221 636804 net.py:935] add-flow in switch: dc5.s1 in_port: 22 out_port: 26
I1209 21:28:51.552472 636804 daisy.py:329] chain(chain33-nat, chain33-fw) output: success: add-flow between chain33-nat and chain33-fw with options: {
 "priority": 1000, 
 "path": [
  "dc5.s1"
 ], 
 "vlan": 399, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain33-fw and chain33-nat with options: {
 "priority": 1000, 
 "path": [
  "dc5.s1"
 ], 
 "vlan": 400, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:28:51.552659 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain33-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain33-ids', vnf_dst_interface='input'
I1209 21:28:51.552849 636804 net.py:665] Path between chain33-fw and chain33-ids: ['dc5.s1', u'gsw0', 'dc8.s1']
I1209 21:28:51.553020 636804 net.py:889] add-flow
I1209 21:28:51.553134 636804 net.py:890] -O OpenFlow13 in_port=23,action=mod_vlan_vid:401,output=1
I1209 21:28:51.602251 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 23 out_port: 1
I1209 21:28:51.602422 636804 net.py:889] add-flow
I1209 21:28:51.602540 636804 net.py:890] in_port=24,dl_vlan=401,action=25
I1209 21:28:51.629621 636804 net.py:893] add-flow in switch: gsw0 in_port: 24 out_port: 25
I1209 21:28:51.629793 636804 net.py:694] end node reached: chain33-ids
I1209 21:28:51.629961 636804 net.py:889] add-flow
I1209 21:28:51.630074 636804 net.py:890] in_port=1,dl_vlan=401,action=strip_vlan,output=5
I1209 21:28:51.654133 636804 net.py:893] add-flow in switch: dc8.s1 in_port: 1 out_port: 5
D1209 21:28:51.654364 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain33-ids', vnf_src_interface='input', vnf_dst_name=u'chain33-fw', vnf_dst_interface='output-ids'
I1209 21:28:51.654568 636804 net.py:665] Path between chain33-ids and chain33-fw: ['dc8.s1', u'gsw0', 'dc5.s1']
I1209 21:28:51.654745 636804 net.py:889] add-flow
I1209 21:28:51.654887 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:402,output=1
I1209 21:28:51.680265 636804 net.py:893] add-flow in switch: dc8.s1 in_port: 5 out_port: 1
I1209 21:28:51.680450 636804 net.py:889] add-flow
I1209 21:28:51.680576 636804 net.py:890] in_port=25,dl_vlan=402,action=24
I1209 21:28:51.710134 636804 net.py:893] add-flow in switch: gsw0 in_port: 25 out_port: 24
I1209 21:28:51.710297 636804 net.py:920] Detected IDS->FW Path(2) in switch: gsw0 in_port: 25 out_port: 24
I1209 21:28:51.710413 636804 net.py:931] add-flow
I1209 21:28:51.710520 636804 net.py:932] in_port=25,action=strip_vlan,output=24
I1209 21:28:51.735896 636804 net.py:935] add-flow in switch: gsw0 in_port: 25 out_port: 24
I1209 21:28:51.736052 636804 net.py:694] end node reached: chain33-fw
I1209 21:28:51.736195 636804 net.py:889] add-flow
I1209 21:28:51.736319 636804 net.py:890] in_port=1,dl_vlan=402,action=strip_vlan,output=23
I1209 21:28:51.761044 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 1 out_port: 23
I1209 21:28:51.761198 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc5.s1 in_port: 1 out_port: 23
I1209 21:28:51.761315 636804 net.py:931] add-flow
I1209 21:28:51.761421 636804 net.py:932] in_port=1,action=strip_vlan,output=23
I1209 21:28:51.787148 636804 net.py:935] add-flow in switch: dc5.s1 in_port: 1 out_port: 23
I1209 21:28:51.787386 636804 daisy.py:336] chain(chain33-fw, chain33-ids) output: success: add-flow between chain33-fw and chain33-ids with options: {
 "priority": 1000, 
 "path": [
  "dc5.s1", 
  "gsw0", 
  "dc8.s1"
 ], 
 "vlan": 401, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain33-ids and chain33-fw with options: {
 "priority": 1000, 
 "path": [
  "dc8.s1", 
  "gsw0", 
  "dc5.s1"
 ], 
 "vlan": 402, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:28:51.787575 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain33-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain33-vpn', vnf_dst_interface='input-fw'
I1209 21:28:51.787789 636804 net.py:665] Path between chain33-fw and chain33-vpn: ['dc5.s1', u'gsw0', 'dc25.s1']
I1209 21:28:51.787959 636804 net.py:889] add-flow
I1209 21:28:51.788078 636804 net.py:890] -O OpenFlow13 in_port=24,action=mod_vlan_vid:403,output=1
I1209 21:28:51.840162 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 24 out_port: 1
I1209 21:28:51.840342 636804 net.py:889] add-flow
I1209 21:28:51.840461 636804 net.py:890] in_port=24,dl_vlan=403,action=1
I1209 21:28:51.868022 636804 net.py:893] add-flow in switch: gsw0 in_port: 24 out_port: 1
I1209 21:28:51.868181 636804 net.py:694] end node reached: chain33-vpn
I1209 21:28:51.868315 636804 net.py:889] add-flow
I1209 21:28:51.868424 636804 net.py:890] in_port=1,dl_vlan=403,action=strip_vlan,output=18
I1209 21:28:51.898165 636804 net.py:893] add-flow in switch: dc25.s1 in_port: 1 out_port: 18
D1209 21:28:51.898401 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain33-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain33-fw', vnf_dst_interface='output-vpn'
I1209 21:28:51.898593 636804 net.py:665] Path between chain33-vpn and chain33-fw: ['dc25.s1', u'gsw0', 'dc5.s1']
I1209 21:28:51.898753 636804 net.py:889] add-flow
I1209 21:28:51.898888 636804 net.py:890] -O OpenFlow13 in_port=18,action=mod_vlan_vid:404,output=1
I1209 21:28:51.926167 636804 net.py:893] add-flow in switch: dc25.s1 in_port: 18 out_port: 1
I1209 21:28:51.926337 636804 net.py:889] add-flow
I1209 21:28:51.926462 636804 net.py:890] in_port=1,dl_vlan=404,action=24
I1209 21:28:51.954154 636804 net.py:893] add-flow in switch: gsw0 in_port: 1 out_port: 24
I1209 21:28:51.954313 636804 net.py:694] end node reached: chain33-fw
I1209 21:28:51.954442 636804 net.py:889] add-flow
I1209 21:28:51.954566 636804 net.py:890] in_port=1,dl_vlan=404,action=strip_vlan,output=24
I1209 21:28:51.987709 636804 net.py:893] add-flow in switch: dc5.s1 in_port: 1 out_port: 24
I1209 21:28:51.987963 636804 daisy.py:343] chain(chain33-fw, chain33-vpn) output: success: add-flow between chain33-fw and chain33-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc5.s1", 
  "gsw0", 
  "dc25.s1"
 ], 
 "vlan": 403, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain33-vpn and chain33-fw with options: {
 "priority": 1000, 
 "path": [
  "dc25.s1", 
  "gsw0", 
  "dc5.s1"
 ], 
 "vlan": 404, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:28:51.988152 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain33-ids', vnf_src_interface='output', vnf_dst_name=u'chain33-vpn', vnf_dst_interface='input-ids'
I1209 21:28:51.988332 636804 net.py:665] Path between chain33-ids and chain33-vpn: ['dc8.s1', u'gsw0', 'dc25.s1']
I1209 21:28:51.988478 636804 net.py:889] add-flow
I1209 21:28:51.988589 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:405,output=1
I1209 21:28:52.017667 636804 net.py:893] add-flow in switch: dc8.s1 in_port: 6 out_port: 1
I1209 21:28:52.017848 636804 net.py:889] add-flow
I1209 21:28:52.017986 636804 net.py:890] in_port=25,dl_vlan=405,action=1
I1209 21:28:52.082194 636804 net.py:893] add-flow in switch: gsw0 in_port: 25 out_port: 1
I1209 21:28:52.082390 636804 net.py:694] end node reached: chain33-vpn
I1209 21:28:52.082518 636804 net.py:889] add-flow
I1209 21:28:52.082614 636804 net.py:890] in_port=1,dl_vlan=405,action=strip_vlan,output=17
I1209 21:28:52.156727 636804 net.py:893] add-flow in switch: dc25.s1 in_port: 1 out_port: 17
I1209 21:28:52.156915 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc25.s1 in_port: 1 out_port: 17
I1209 21:28:52.157038 636804 net.py:931] add-flow
I1209 21:28:52.157147 636804 net.py:932] in_port=1,action=strip_vlan,output=17
I1209 21:28:52.182362 636804 net.py:935] add-flow in switch: dc25.s1 in_port: 1 out_port: 17
D1209 21:28:52.182615 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain33-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain33-ids', vnf_dst_interface='output'
I1209 21:28:52.182806 636804 net.py:665] Path between chain33-vpn and chain33-ids: ['dc25.s1', u'gsw0', 'dc8.s1']
I1209 21:28:52.182962 636804 net.py:889] add-flow
I1209 21:28:52.183065 636804 net.py:890] -O OpenFlow13 in_port=17,action=mod_vlan_vid:406,output=1
I1209 21:28:52.208513 636804 net.py:893] add-flow in switch: dc25.s1 in_port: 17 out_port: 1
I1209 21:28:52.208689 636804 net.py:889] add-flow
I1209 21:28:52.208813 636804 net.py:890] in_port=1,dl_vlan=406,action=25
I1209 21:28:52.235291 636804 net.py:893] add-flow in switch: gsw0 in_port: 1 out_port: 25
I1209 21:28:52.235447 636804 net.py:694] end node reached: chain33-ids
I1209 21:28:52.235580 636804 net.py:889] add-flow
I1209 21:28:52.235688 636804 net.py:890] in_port=1,dl_vlan=406,action=strip_vlan,output=6
I1209 21:28:52.261944 636804 net.py:893] add-flow in switch: dc8.s1 in_port: 1 out_port: 6
I1209 21:28:52.262234 636804 daisy.py:350] chain(chain33-ids, chain33-vpn) output: success: add-flow between chain33-ids and chain33-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc8.s1", 
  "gsw0", 
  "dc25.s1"
 ], 
 "vlan": 405, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain33-vpn and chain33-ids with options: {
 "priority": 1000, 
 "path": [
  "dc25.s1", 
  "gsw0", 
  "dc8.s1"
 ], 
 "vlan": 406, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:28:52.262444 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain33-vpn', vnf_src_interface='output', vnf_dst_name=u'chain33-sink', vnf_dst_interface='intf2'
I1209 21:28:52.262625 636804 net.py:665] Path between chain33-vpn and chain33-sink: ['dc25.s1', u'gsw0', 'dc14.s1']
I1209 21:28:52.262789 636804 net.py:889] add-flow
I1209 21:28:52.262918 636804 net.py:890] -O OpenFlow13 in_port=19,action=mod_vlan_vid:407,output=1
I1209 21:28:52.288820 636804 net.py:893] add-flow in switch: dc25.s1 in_port: 19 out_port: 1
I1209 21:28:52.289014 636804 net.py:889] add-flow
I1209 21:28:52.289133 636804 net.py:890] in_port=1,dl_vlan=407,action=43
I1209 21:28:52.316970 636804 net.py:893] add-flow in switch: gsw0 in_port: 1 out_port: 43
I1209 21:28:52.317141 636804 net.py:694] end node reached: chain33-sink
I1209 21:28:52.317281 636804 net.py:889] add-flow
I1209 21:28:52.317394 636804 net.py:890] in_port=1,dl_vlan=407,action=strip_vlan,output=11
I1209 21:28:52.344297 636804 net.py:893] add-flow in switch: dc14.s1 in_port: 1 out_port: 11
D1209 21:28:52.344542 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain33-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain33-vpn', vnf_dst_interface='output'
I1209 21:28:52.344762 636804 net.py:665] Path between chain33-sink and chain33-vpn: ['dc14.s1', u'gsw0', 'dc25.s1']
I1209 21:28:52.344958 636804 net.py:889] add-flow
I1209 21:28:52.345091 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:408,output=1
I1209 21:28:52.378432 636804 net.py:893] add-flow in switch: dc14.s1 in_port: 11 out_port: 1
I1209 21:28:52.378609 636804 net.py:889] add-flow
I1209 21:28:52.378729 636804 net.py:890] in_port=43,dl_vlan=408,action=1
I1209 21:28:52.410715 636804 net.py:893] add-flow in switch: gsw0 in_port: 43 out_port: 1
I1209 21:28:52.410907 636804 net.py:694] end node reached: chain33-vpn
I1209 21:28:52.411055 636804 net.py:889] add-flow
I1209 21:28:52.411170 636804 net.py:890] in_port=1,dl_vlan=408,action=strip_vlan,output=19
I1209 21:28:52.440452 636804 net.py:893] add-flow in switch: dc25.s1 in_port: 1 out_port: 19
I1209 21:28:52.440681 636804 daisy.py:357] chain(chain33-vpn, chain33-sink) output: success: add-flow between chain33-vpn and chain33-sink with options: {
 "priority": 1000, 
 "path": [
  "dc25.s1", 
  "gsw0", 
  "dc14.s1"
 ], 
 "vlan": 407, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain33-sink and chain33-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc14.s1", 
  "gsw0", 
  "dc25.s1"
 ], 
 "vlan": 408, 
 "cookie": 10, 
 "match_input": null
}
nput (0 is success)
returned 0 from sudo docker exec mn.chain32-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain32-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain32-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain32-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain32-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain32-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain32-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain32-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain32-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain32-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain32-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain32-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain32-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain32-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain32-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.023692999999999742, u'locality': u'datacenter', u'assignment': [[u'vpn', u'chain-server0'], [u'fw', u'chain-server23'], [u'nat', u'chain-server23'], [u'ids', u'chain-server24'], [u'source', u'off-cloud1'], [u'sink', u'off-cloud2']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 2.787836, u'bandwidth': [[u'fw', u'ids', 1, [[u'chain-server23', u'gsw', 2], [u'gsw', u'chain-server24', 1], [u'gsw', u'chain-server0', 1]]], [u'fw', u'vpn', 1, [[u'chain-server23', u'gsw', 2], [u'gsw', u'chain-server24', 1], [u'gsw', u'chain-server0', 1]]], [u'nat', u'source', 2, [[u'chain-server23', u'gsw', 2], [u'gsw', u'off-cloud1', 2]]], [u'sink', u'vpn', 2, [[u'off-cloud2', u'gsw', 2], [u'gsw', u'chain-server0', 2]]], [u'vpn', u'ids', 1, [[u'chain-server0', u'gsw', 1], [u'gsw', u'chain-server24', 1]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain33-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain33-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain33-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain33-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain33-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain33-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain33-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain33-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain33-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain33-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain33-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain33-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain33-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain33-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain33-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain33-ids sh ./start.sh (0 is success)
returned 0 from sudo docker execFirewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:28:54 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:28:54 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:28:54 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:28:54 2017 UDPv4 link local: [undef]
Sat Dec  9 21:28:54 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:28:54 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=e9b22a8d c9a42372
Sat Dec  9 21:28:54 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:28:54 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:28:54 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:28:54 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:28:54 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:28:54 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:28:54 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:28:54 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:28:54 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:28:54 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:28:54 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:28:56 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:28:56 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:28:56 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:28:56 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:28:56 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:28:56 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:28:56 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:c8
Sat Dec  9 21:28:56 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:28:56 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:28:56 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:28:56 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:28:56 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:28:56 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:28:56 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:28:56 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:28:56 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:28:56 2017 GID set to nogroup
Sat Dec  9 21:28:56 2017 UID set to nobody
Sat Dec  9 21:28:56 2017 Initialization Sequence Completed
I1209 21:28:59.642388 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:29:04.646188 636804 daisy.py:443] < 5s wait complete
I1209 21:29:04.646428 636804 daisy.py:444] VPN client VNF started
chain33-source -> chain33-sink 
chain33-sink -> chain33-source 
*** Results: 0% dropped (2/2 received)
I1209 21:29:07.960136 636804 daisy.py:369] ping chain33-source -> chain33-sink. Packet drop 0.0%
I1209 21:29:08.039522 636804 bench.py:19] Copying traces into the containers...
I1209 21:29:09.476651 636804 bench.py:29] Running dstat...
I1209 21:29:12.445066 636804 iter-e2-allocation.py:17] started allocating chain: 34
I1209 21:29:12.445512 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server33']
I1209 21:29:12.445689 636804 daisy.py:240] creating chain34-fw on chain-server33
D1209 21:29:12.447005 636804 node.py:55] Starting compute instance u'chain34-fw' in data center 'chain-server33'
D1209 21:29:13.343293 636804 simple.py:169] Setting CPU limit for u'chain34-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:29:13.400542 636804 simple.py:215] Setting MEM limit for u'chain34-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:29:13.691648 636804 net.py:233] addLink: n1=chain34-fw intf1=input -- n2=dc42.s1 intf2=dc42.s1-eth2
D1209 21:29:13.955440 636804 net.py:233] addLink: n1=chain34-fw intf1=output-ids -- n2=dc42.s1 intf2=dc42.s1-eth3
D1209 21:29:14.233850 636804 net.py:233] addLink: n1=chain34-fw intf1=output-vpn -- n2=dc42.s1 intf2=dc42.s1-eth4
I1209 21:29:14.234205 636804 daisy.py:310] successfully created VNF: chain34-fw
I1209 21:29:14.234347 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server33']
I1209 21:29:14.234481 636804 daisy.py:240] creating chain34-ids on chain-server33
D1209 21:29:14.235572 636804 node.py:55] Starting compute instance u'chain34-ids' in data center 'chain-server33'
D1209 21:29:15.218897 636804 simple.py:169] Setting CPU limit for u'chain34-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:29:15.275486 636804 simple.py:215] Setting MEM limit for u'chain34-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:29:15.305490 636804 simple.py:169] Setting CPU limit for u'chain34-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:29:15.369621 636804 simple.py:215] Setting MEM limit for u'chain34-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:29:15.667355 636804 net.py:233] addLink: n1=chain34-ids intf1=input -- n2=dc42.s1 intf2=dc42.s1-eth5
D1209 21:29:15.953121 636804 net.py:233] addLink: n1=chain34-ids intf1=output -- n2=dc42.s1 intf2=dc42.s1-eth6
I1209 21:29:15.953457 636804 daisy.py:310] successfully created VNF: chain34-ids
I1209 21:29:15.953593 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server33']
I1209 21:29:15.953680 636804 daisy.py:240] creating chain34-nat on chain-server33
D1209 21:29:15.955532 636804 node.py:55] Starting compute instance u'chain34-nat' in data center 'chain-server33'
D1209 21:29:16.867731 636804 simple.py:169] Setting CPU limit for u'chain34-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:29:16.937614 636804 simple.py:215] Setting MEM limit for u'chain34-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:29:16.968885 636804 simple.py:169] Setting CPU limit for u'chain34-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:29:17.033590 636804 simple.py:215] Setting MEM limit for u'chain34-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:29:17.064933 636804 simple.py:215] Setting MEM limit for u'chain34-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:29:17.364406 636804 net.py:233] addLink: n1=chain34-nat intf1=input -- n2=dc42.s1 intf2=dc42.s1-eth7
D1209 21:29:17.667305 636804 net.py:233] addLink: n1=chain34-nat intf1=output -- n2=dc42.s1 intf2=dc42.s1-eth8
I1209 21:29:17.667582 636804 daisy.py:310] successfully created VNF: chain34-nat
I1209 21:29:17.667726 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server33']
I1209 21:29:17.667854 636804 daisy.py:240] creating chain34-vpn on chain-server33
D1209 21:29:17.669203 636804 node.py:55] Starting compute instance u'chain34-vpn' in data center 'chain-server33'
D1209 21:29:18.584336 636804 simple.py:169] Setting CPU limit for u'chain34-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:29:18.643707 636804 simple.py:215] Setting MEM limit for u'chain34-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:29:18.677557 636804 simple.py:169] Setting CPU limit for u'chain34-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:29:18.732693 636804 simple.py:215] Setting MEM limit for u'chain34-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:29:18.761827 636804 simple.py:215] Setting MEM limit for u'chain34-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:29:18.789278 636804 simple.py:215] Setting MEM limit for u'chain34-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:29:19.093245 636804 net.py:233] addLink: n1=chain34-vpn intf1=input-ids -- n2=dc42.s1 intf2=dc42.s1-eth9
D1209 21:29:19.406955 636804 net.py:233] addLink: n1=chain34-vpn intf1=input-fw -- n2=dc42.s1 intf2=dc42.s1-eth10
D1209 21:29:19.679745 636804 net.py:233] addLink: n1=chain34-vpn intf1=output -- n2=dc42.s1 intf2=dc42.s1-eth11
I1209 21:29:19.680011 636804 daisy.py:310] successfully created VNF: chain34-vpn
I1209 21:29:19.680192 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud7']
I1209 21:29:19.680301 636804 daisy.py:240] creating chain34-source on off-cloud7
D1209 21:29:19.681305 636804 node.py:55] Starting compute instance u'chain34-source' in data center 'off-cloud7'
D1209 21:29:20.592740 636804 simple.py:215] Setting MEM limit for u'chain0-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:29:20.620754 636804 simple.py:169] Setting CPU limit for u'chain34-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:29:20.675088 636804 simple.py:215] Setting MEM limit for u'chain34-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:29:20.707262 636804 simple.py:215] Setting MEM limit for u'chain16-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:29:20.738162 636804 simple.py:215] Setting MEM limit for u'chain11-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:29:21.062325 636804 net.py:233] addLink: n1=chain34-source intf1=intf1 -- n2=dc17.s1 intf2=dc17.s1-eth5
I1209 21:29:21.062599 636804 daisy.py:310] successfully created VNF: chain34-source
I1209 21:29:21.062760 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud8']
I1209 21:29:21.062928 636804 daisy.py:240] creating chain34-sink on off-cloud8
D1209 21:29:21.064086 636804 node.py:55] Starting compute instance u'chain34-sink' in data center 'off-cloud8'
D1209 21:29:21.987823 636804 simple.py:215] Setting MEM limit for u'chain0-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:29:22.020632 636804 simple.py:169] Setting CPU limit for u'chain34-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:29:22.086393 636804 simple.py:215] Setting MEM limit for u'chain34-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:29:22.114757 636804 simple.py:215] Setting MEM limit for u'chain12-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:29:22.428311 636804 net.py:233] addLink: n1=chain34-sink intf1=intf2 -- n2=dc22.s1 intf2=dc22.s1-eth4
I1209 21:29:22.428580 636804 daisy.py:310] successfully created VNF: chain34-sink
I1209 21:29:22.428731 636804 daisy.py:311] successfully created chain: 34
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:29:26.269814 636804 daisy.py:401] source, nat, and fw start done
I1209 21:29:26.270134 636804 daisy.py:402] My commands
I1209 21:29:26.442925 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:29:28.443564 636804 daisy.py:419] < 2s wait complete
I1209 21:29:28.443805 636804 daisy.py:420] start VNF chaining
D1209 21:29:28.443970 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain34-source', vnf_src_interface='intf1', vnf_dst_name=u'chain34-nat', vnf_dst_interface='input'
I1209 21:29:28.444214 636804 net.py:665] Path between chain34-source and chain34-nat: ['dc17.s1', u'gsw0', 'dc42.s1']
I1209 21:29:28.444418 636804 net.py:889] add-flow
I1209 21:29:28.444528 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:409,output=1
I1209 21:29:28.451363 636804 net.py:893] add-flow in switch: dc17.s1 in_port: 5 out_port: 1
I1209 21:29:28.451550 636804 net.py:889] add-flow
I1209 21:29:28.451664 636804 net.py:890] in_port=48,dl_vlan=409,action=34
I1209 21:29:28.480524 636804 net.py:893] add-flow in switch: gsw0 in_port: 48 out_port: 34
I1209 21:29:28.480684 636804 net.py:694] end node reached: chain34-nat
I1209 21:29:28.480853 636804 net.py:889] add-flow
I1209 21:29:28.480973 636804 net.py:890] in_port=1,dl_vlan=409,action=strip_vlan,output=7
I1209 21:29:28.507589 636804 net.py:893] add-flow in switch: dc42.s1 in_port: 1 out_port: 7
D1209 21:29:28.507915 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain34-nat', vnf_src_interface='input', vnf_dst_name=u'chain34-source', vnf_dst_interface='intf1'
I1209 21:29:28.508116 636804 net.py:665] Path between chain34-nat and chain34-source: ['dc42.s1', u'gsw0', 'dc17.s1']
I1209 21:29:28.508277 636804 net.py:889] add-flow
I1209 21:29:28.508394 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:410,output=1
I1209 21:29:28.537902 636804 net.py:893] add-flow in switch: dc42.s1 in_port: 7 out_port: 1
I1209 21:29:28.538065 636804 net.py:889] add-flow
I1209 21:29:28.538256 636804 net.py:890] in_port=34,dl_vlan=410,action=48
I1209 21:29:28.566548 636804 net.py:893] add-flow in switch: gsw0 in_port: 34 out_port: 48
I1209 21:29:28.566742 636804 net.py:694] end node reached: chain34-source
I1209 21:29:28.566930 636804 net.py:889] add-flow
I1209 21:29:28.567069 636804 net.py:890] in_port=1,dl_vlan=410,action=strip_vlan,output=5
I1209 21:29:28.597176 636804 net.py:893] add-flow in switch: dc17.s1 in_port: 1 out_port: 5
I1209 21:29:28.597448 636804 daisy.py:322] chain(chain34-source, chain34-nat) output: success: add-flow between chain34-source and chain34-nat with options: {
 "priority": 1000, 
 "path": [
  "dc17.s1", 
  "gsw0", 
  "dc42.s1"
 ], 
 "vlan": 409, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain34-nat and chain34-source with options: {
 "priority": 1000, 
 "path": [
  "dc42.s1", 
  "gsw0", 
  "dc17.s1"
 ], 
 "vlan": 410, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:29:28.597650 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain34-nat', vnf_src_interface='output', vnf_dst_name=u'chain34-fw', vnf_dst_interface='input'
I1209 21:29:28.597851 636804 net.py:665] Path between chain34-nat and chain34-fw: ['dc42.s1']
I1209 21:29:28.598000 636804 net.py:694] end node reached: chain34-fw
I1209 21:29:28.598200 636804 net.py:889] add-flow
I1209 21:29:28.598319 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:411,output=2
I1209 21:29:28.623473 636804 net.py:893] add-flow in switch: dc42.s1 in_port: 8 out_port: 2
I1209 21:29:28.623644 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc42.s1 in_port: 8 out_port: 2
I1209 21:29:28.623769 636804 net.py:931] add-flow
I1209 21:29:28.623929 636804 net.py:932] in_port=8,action=strip_vlan,output=2
I1209 21:29:28.650830 636804 net.py:935] add-flow in switch: dc42.s1 in_port: 8 out_port: 2
D1209 21:29:28.651076 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain34-fw', vnf_src_interface='input', vnf_dst_name=u'chain34-nat', vnf_dst_interface='output'
I1209 21:29:28.651246 636804 net.py:665] Path between chain34-fw and chain34-nat: ['dc42.s1']
I1209 21:29:28.651365 636804 net.py:694] end node reached: chain34-nat
I1209 21:29:28.651498 636804 net.py:889] add-flow
I1209 21:29:28.651643 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:412,output=8
I1209 21:29:28.704708 636804 net.py:893] add-flow in switch: dc42.s1 in_port: 2 out_port: 8
I1209 21:29:28.704895 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc42.s1 in_port: 2 out_port: 8
I1209 21:29:28.705022 636804 net.py:931] add-flow
I1209 21:29:28.705144 636804 net.py:932] in_port=2,action=strip_vlan,output=8
I1209 21:29:28.735439 636804 net.py:935] add-flow in switch: dc42.s1 in_port: 2 out_port: 8
I1209 21:29:28.735686 636804 daisy.py:329] chain(chain34-nat, chain34-fw) output: success: add-flow between chain34-nat and chain34-fw with options: {
 "priority": 1000, 
 "path": [
  "dc42.s1"
 ], 
 "vlan": 411, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain34-fw and chain34-nat with options: {
 "priority": 1000, 
 "path": [
  "dc42.s1"
 ], 
 "vlan": 412, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:29:28.735903 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain34-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain34-ids', vnf_dst_interface='input'
I1209 21:29:28.736088 636804 net.py:665] Path between chain34-fw and chain34-ids: ['dc42.s1']
I1209 21:29:28.736218 636804 net.py:694] end node reached: chain34-ids
I1209 21:29:28.736340 636804 net.py:889] add-flow
I1209 21:29:28.736469 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:413,output=5
I1209 21:29:28.791759 636804 net.py:893] add-flow in switch: dc42.s1 in_port: 3 out_port: 5
D1209 21:29:28.792032 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain34-ids', vnf_src_interface='input', vnf_dst_name=u'chain34-fw', vnf_dst_interface='output-ids'
I1209 21:29:28.792213 636804 net.py:665] Path between chain34-ids and chain34-fw: ['dc42.s1']
I1209 21:29:28.792345 636804 net.py:694] end node reached: chain34-fw
I1209 21:29:28.792474 636804 net.py:889] add-flow
I1209 21:29:28.792587 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:414,output=3
I1209 21:29:28.823992 636804 net.py:893] add-flow in switch: dc42.s1 in_port: 5 out_port: 3
I1209 21:29:28.824145 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc42.s1 in_port: 5 out_port: 3
I1209 21:29:28.824249 636804 net.py:931] add-flow
I1209 21:29:28.824343 636804 net.py:932] in_port=5,action=strip_vlan,output=3
I1209 21:29:28.857153 636804 net.py:935] add-flow in switch: dc42.s1 in_port: 5 out_port: 3
I1209 21:29:28.857402 636804 daisy.py:336] chain(chain34-fw, chain34-ids) output: success: add-flow between chain34-fw and chain34-ids with options: {
 "priority": 1000, 
 "path": [
  "dc42.s1"
 ], 
 "vlan": 413, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain34-ids and chain34-fw with options: {
 "priority": 1000, 
 "path": [
  "dc42.s1"
 ], 
 "vlan": 414, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:29:28.857587 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain34-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain34-vpn', vnf_dst_interface='input-fw'
I1209 21:29:28.857752 636804 net.py:665] Path between chain34-fw and chain34-vpn: ['dc42.s1']
I1209 21:29:28.857924 636804 net.py:694] end node reached: chain34-vpn
I1209 21:29:28.858057 636804 net.py:889] add-flow
I1209 21:29:28.858241 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:415,output=10
I1209 21:29:28.911070 636804 net.py:893] add-flow in switch: dc42.s1 in_port: 4 out_port: 10
D1209 21:29:28.911319 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain34-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain34-fw', vnf_dst_interface='output-vpn'
I1209 21:29:28.911494 636804 net.py:665] Path between chain34-vpn and chain34-fw: ['dc42.s1']
I1209 21:29:28.911633 636804 net.py:694] end node reached: chain34-fw
I1209 21:29:28.911761 636804 net.py:889] add-flow
I1209 21:29:28.911907 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:416,output=4
I1209 21:29:28.942215 636804 net.py:893] add-flow in switch: dc42.s1 in_port: 10 out_port: 4
I1209 21:29:28.942445 636804 daisy.py:343] chain(chain34-fw, chain34-vpn) output: success: add-flow between chain34-fw and chain34-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc42.s1"
 ], 
 "vlan": 415, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain34-vpn and chain34-fw with options: {
 "priority": 1000, 
 "path": [
  "dc42.s1"
 ], 
 "vlan": 416, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:29:28.942615 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain34-ids', vnf_src_interface='output', vnf_dst_name=u'chain34-vpn', vnf_dst_interface='input-ids'
I1209 21:29:28.942806 636804 net.py:665] Path between chain34-ids and chain34-vpn: ['dc42.s1']
I1209 21:29:28.942951 636804 net.py:694] end node reached: chain34-vpn
I1209 21:29:28.943083 636804 net.py:889] add-flow
I1209 21:29:28.943191 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:417,output=9
I1209 21:29:28.974503 636804 net.py:893] add-flow in switch: dc42.s1 in_port: 6 out_port: 9
I1209 21:29:28.974663 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc42.s1 in_port: 6 out_port: 9
I1209 21:29:28.974781 636804 net.py:931] add-flow
I1209 21:29:28.974903 636804 net.py:932] in_port=6,action=strip_vlan,output=9
I1209 21:29:29.006256 636804 net.py:935] add-flow in switch: dc42.s1 in_port: 6 out_port: 9
D1209 21:29:29.006498 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain34-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain34-ids', vnf_dst_interface='output'
I1209 21:29:29.006656 636804 net.py:665] Path between chain34-vpn and chain34-ids: ['dc42.s1']
I1209 21:29:29.006764 636804 net.py:694] end node reached: chain34-ids
I1209 21:29:29.006890 636804 net.py:889] add-flow
I1209 21:29:29.006978 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:418,output=6
I1209 21:29:29.036947 636804 net.py:893] add-flow in switch: dc42.s1 in_port: 9 out_port: 6
I1209 21:29:29.037168 636804 daisy.py:350] chain(chain34-ids, chain34-vpn) output: success: add-flow between chain34-ids and chain34-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc42.s1"
 ], 
 "vlan": 417, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain34-vpn and chain34-ids with options: {
 "priority": 1000, 
 "path": [
  "dc42.s1"
 ], 
 "vlan": 418, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:29:29.037318 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain34-vpn', vnf_src_interface='output', vnf_dst_name=u'chain34-sink', vnf_dst_interface='intf2'
I1209 21:29:29.037472 636804 net.py:665] Path between chain34-vpn and chain34-sink: ['dc42.s1', u'gsw0', 'dc22.s1']
I1209 21:29:29.037576 636804 net.py:889] add-flow
I1209 21:29:29.037661 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:419,output=1
I1209 21:29:29.064192 636804 net.py:893] add-flow in switch: dc42.s1 in_port: 11 out_port: 1
I1209 21:29:29.064358 636804 net.py:889] add-flow
I1209 21:29:29.064452 636804 net.py:890] in_port=34,dl_vlan=419,action=49
I1209 21:29:29.093177 636804 net.py:893] add-flow in switch: gsw0 in_port: 34 out_port: 49
I1209 21:29:29.093312 636804 net.py:694] end node reached: chain34-sink
I1209 21:29:29.093420 636804 net.py:889] add-flow
I1209 21:29:29.093503 636804 net.py:890] in_port=1,dl_vlan=419,action=strip_vlan,output=4
I1209 21:29:29.118354 636804 net.py:893] add-flow in switch: dc22.s1 in_port: 1 out_port: 4
D1209 21:29:29.119100 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain34-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain34-vpn', vnf_dst_interface='output'
I1209 21:29:29.119266 636804 net.py:665] Path between chain34-sink and chain34-vpn: ['dc22.s1', u'gsw0', 'dc42.s1']
I1209 21:29:29.119374 636804 net.py:889] add-flow
I1209 21:29:29.119457 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:420,output=1
I1209 21:29:29.147707 636804 net.py:893] add-flow in switch: dc22.s1 in_port: 4 out_port: 1
I1209 21:29:29.147907 636804 net.py:889] add-flow
I1209 21:29:29.148029 636804 net.py:890] in_port=49,dl_vlan=420,action=34
I1209 21:29:29.175643 636804 net.py:893] add-flow in switch: gsw0 in_port: 49 out_port: 34
I1209 21:29:29.175827 636804 net.py:694] end node reached: chain34-vpn
I1209 21:29:29.175950 636804 net.py:889] add-flow
I1209 21:29:29.176033 636804 net.py:890] in_port=1,dl_vlan=420,action=strip_vlan,output=11
I1209 21:29:29.213511 636804 net.py:893] add-flow in switch: dc42.s1 in_port: 1 out_port: 11
I1209 21:29:29.213772 636804 daisy.py:357] chain(chain34-vpn, chain34-sink) output: success: add-flow between chain34-vpn and chain34-sink with options: {
 "priority": 1000, 
 "path": [
  "dc42.s1", 
  "gsw0", 
  "dc22.s1"
 ], 
 "vlan": 419, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain34-sink and chain34-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc22.s1", 
  "gsw0", 
  "dc42.s1"
 ], 
 "vlan": 420, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:29:31 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:29:31 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:29:31 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:29:31 2017 UDPv4 link local: [undef]
Sat Dec  9 21:29:31 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:29:31 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=943d357d 59a5dd6d
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:29:31 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:29:31 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:29:31 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:29:31 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:29:31 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:29:31 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:29:31 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:29:31 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:29:31 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:29:31 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:29:31 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:29:33 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:29:33 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:29:33 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:29:33 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:29:33 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:29:33 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:29:33 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:d1
Sat Dec  9 21:29:33 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:29:33 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:29:33 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:29:33 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:29:33 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:29:33 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:29:33 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:29:33 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:29:33 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:29:33 2017 GID set to nogroup
Sat Dec  9 21:29:33 2017 UID set to nobody
Sat Dec  9 21:29:33 2017 Initialization Sequence Completed
I1209 21:29:36.921031 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:29:41.926215 636804 daisy.py:443] < 5s wait complete
I1209 21:29:41.926496 636804 daisy.py:444] VPN client VNF started
chain34-source -> chain34-sink 
chain34-sink -> chain34-source 
*** Results: 0% dropped (2/2 received)
I1209 21:29:44.663896 636804 daisy.py:369] ping chain34-source -> chain34-sink. Packet drop 0.0%
I1209 21:29:44.739383 636804 bench.py:19] Copying traces into the containers...
I1209 21:29:46.273519 636804 bench.py:29] Running dstat...
 mn.chain33-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain33-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain33-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain33-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain33-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain33-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain33-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain33-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain33-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain33-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.022944999999999993, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server33'], [u'ids', u'chain-server33'], [u'nat', u'chain-server33'], [u'vpn', u'chain-server33'], [u'source', u'off-cloud7'], [u'sink', u'off-cloud8']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 1.9007490000000002, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud7', 2], [u'chain-server33', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server33', 2], [u'off-cloud8', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain34-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain34-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain34-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain34-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain34-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain34-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain34-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain34-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain34-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain34-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain34-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain34-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain34-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain34-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain34-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain34-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain34-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain34-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain34-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain34-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain34-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain34-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain34-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain34-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain34-sink dstat --net --time -N iI1209 21:29:48.616641 636804 iter-e2-allocation.py:17] started allocating chain: 35
I1209 21:29:48.617129 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server35']
I1209 21:29:48.617280 636804 daisy.py:240] creating chain35-fw on chain-server35
D1209 21:29:48.618638 636804 node.py:55] Starting compute instance u'chain35-fw' in data center 'chain-server35'
D1209 21:29:49.521078 636804 simple.py:169] Setting CPU limit for u'chain35-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:29:49.577675 636804 simple.py:215] Setting MEM limit for u'chain35-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:29:49.886528 636804 net.py:233] addLink: n1=chain35-fw intf1=input -- n2=dc48.s1 intf2=dc48.s1-eth2
D1209 21:29:50.173888 636804 net.py:233] addLink: n1=chain35-fw intf1=output-ids -- n2=dc48.s1 intf2=dc48.s1-eth3
D1209 21:29:50.478327 636804 net.py:233] addLink: n1=chain35-fw intf1=output-vpn -- n2=dc48.s1 intf2=dc48.s1-eth4
I1209 21:29:50.478594 636804 daisy.py:310] successfully created VNF: chain35-fw
I1209 21:29:50.478754 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server35']
I1209 21:29:50.478878 636804 daisy.py:240] creating chain35-ids on chain-server35
D1209 21:29:50.480032 636804 node.py:55] Starting compute instance u'chain35-ids' in data center 'chain-server35'
D1209 21:29:51.329072 636804 simple.py:169] Setting CPU limit for u'chain35-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:29:51.392937 636804 simple.py:215] Setting MEM limit for u'chain35-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:29:51.421933 636804 simple.py:169] Setting CPU limit for u'chain35-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:29:51.479412 636804 simple.py:215] Setting MEM limit for u'chain35-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:29:51.824042 636804 net.py:233] addLink: n1=chain35-ids intf1=input -- n2=dc48.s1 intf2=dc48.s1-eth5
D1209 21:29:52.097768 636804 net.py:233] addLink: n1=chain35-ids intf1=output -- n2=dc48.s1 intf2=dc48.s1-eth6
I1209 21:29:52.098045 636804 daisy.py:310] successfully created VNF: chain35-ids
I1209 21:29:52.098263 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server35']
I1209 21:29:52.098376 636804 daisy.py:240] creating chain35-nat on chain-server35
D1209 21:29:52.099514 636804 node.py:55] Starting compute instance u'chain35-nat' in data center 'chain-server35'
D1209 21:29:52.952013 636804 simple.py:215] Setting MEM limit for u'chain35-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:29:52.986598 636804 simple.py:169] Setting CPU limit for u'chain35-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:29:53.052592 636804 simple.py:215] Setting MEM limit for u'chain35-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:29:53.084207 636804 simple.py:169] Setting CPU limit for u'chain35-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:29:53.149579 636804 simple.py:215] Setting MEM limit for u'chain35-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:29:53.461394 636804 net.py:233] addLink: n1=chain35-nat intf1=input -- n2=dc48.s1 intf2=dc48.s1-eth7
D1209 21:29:53.747204 636804 net.py:233] addLink: n1=chain35-nat intf1=output -- n2=dc48.s1 intf2=dc48.s1-eth8
I1209 21:29:53.747503 636804 daisy.py:310] successfully created VNF: chain35-nat
I1209 21:29:53.747674 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server35']
I1209 21:29:53.747844 636804 daisy.py:240] creating chain35-vpn on chain-server35
D1209 21:29:53.749092 636804 node.py:55] Starting compute instance u'chain35-vpn' in data center 'chain-server35'
D1209 21:29:54.683418 636804 simple.py:215] Setting MEM limit for u'chain35-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:29:54.719433 636804 simple.py:215] Setting MEM limit for u'chain35-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:29:54.752588 636804 simple.py:169] Setting CPU limit for u'chain35-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:29:54.813683 636804 simple.py:215] Setting MEM limit for u'chain35-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:29:54.843234 636804 simple.py:169] Setting CPU limit for u'chain35-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:29:54.910963 636804 simple.py:215] Setting MEM limit for u'chain35-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:29:55.253560 636804 net.py:233] addLink: n1=chain35-vpn intf1=input-ids -- n2=dc48.s1 intf2=dc48.s1-eth9
D1209 21:29:55.545001 636804 net.py:233] addLink: n1=chain35-vpn intf1=input-fw -- n2=dc48.s1 intf2=dc48.s1-eth10
D1209 21:29:55.861779 636804 net.py:233] addLink: n1=chain35-vpn intf1=output -- n2=dc48.s1 intf2=dc48.s1-eth11
I1209 21:29:55.862070 636804 daisy.py:310] successfully created VNF: chain35-vpn
I1209 21:29:55.862318 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud7']
I1209 21:29:55.862466 636804 daisy.py:240] creating chain35-source on off-cloud7
D1209 21:29:55.863746 636804 node.py:55] Starting compute instance u'chain35-source' in data center 'off-cloud7'
D1209 21:29:56.851463 636804 simple.py:215] Setting MEM limit for u'chain0-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:29:56.891978 636804 simple.py:215] Setting MEM limit for u'chain34-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:29:56.924815 636804 simple.py:169] Setting CPU limit for u'chain35-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:29:56.978970 636804 simple.py:215] Setting MEM limit for u'chain35-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:29:57.010348 636804 simple.py:215] Setting MEM limit for u'chain16-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:29:57.037373 636804 simple.py:215] Setting MEM limit for u'chain11-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:29:57.351250 636804 net.py:233] addLink: n1=chain35-source intf1=intf1 -- n2=dc17.s1 intf2=dc17.s1-eth6
I1209 21:29:57.351535 636804 daisy.py:310] successfully created VNF: chain35-source
I1209 21:29:57.351731 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud8']
I1209 21:29:57.351862 636804 daisy.py:240] creating chain35-sink on off-cloud8
D1209 21:29:57.353084 636804 node.py:55] Starting compute instance u'chain35-sink' in data center 'off-cloud8'
D1209 21:29:58.300839 636804 simple.py:215] Setting MEM limit for u'chain0-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:29:58.337532 636804 simple.py:169] Setting CPU limit for u'chain35-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:29:58.402487 636804 simple.py:215] Setting MEM limit for u'chain35-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:29:58.430821 636804 simple.py:215] Setting MEM limit for u'chain34-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:29:58.461541 636804 simple.py:215] Setting MEM limit for u'chain12-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:29:58.793401 636804 net.py:233] addLink: n1=chain35-sink intf1=intf2 -- n2=dc22.s1 intf2=dc22.s1-eth5
I1209 21:29:58.793648 636804 daisy.py:310] successfully created VNF: chain35-sink
I1209 21:29:58.793837 636804 daisy.py:311] successfully created chain: 35
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:30:02.471266 636804 daisy.py:401] source, nat, and fw start done
I1209 21:30:02.471839 636804 daisy.py:402] My commands
I1209 21:30:02.633893 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:30:04.636287 636804 daisy.py:419] < 2s wait complete
I1209 21:30:04.636545 636804 daisy.py:420] start VNF chaining
D1209 21:30:04.636866 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain35-source', vnf_src_interface='intf1', vnf_dst_name=u'chain35-nat', vnf_dst_interface='input'
I1209 21:30:04.637286 636804 net.py:665] Path between chain35-source and chain35-nat: ['dc17.s1', u'gsw0', 'dc48.s1']
I1209 21:30:04.637569 636804 net.py:889] add-flow
I1209 21:30:04.637680 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:421,output=1
I1209 21:30:04.642513 636804 net.py:893] add-flow in switch: dc17.s1 in_port: 6 out_port: 1
I1209 21:30:04.642716 636804 net.py:889] add-flow
I1209 21:30:04.642864 636804 net.py:890] in_port=48,dl_vlan=421,action=36
I1209 21:30:04.666980 636804 net.py:893] add-flow in switch: gsw0 in_port: 48 out_port: 36
I1209 21:30:04.667143 636804 net.py:694] end node reached: chain35-nat
I1209 21:30:04.667279 636804 net.py:889] add-flow
I1209 21:30:04.667391 636804 net.py:890] in_port=1,dl_vlan=421,action=strip_vlan,output=7
I1209 21:30:04.698688 636804 net.py:893] add-flow in switch: dc48.s1 in_port: 1 out_port: 7
D1209 21:30:04.699240 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain35-nat', vnf_src_interface='input', vnf_dst_name=u'chain35-source', vnf_dst_interface='intf1'
I1209 21:30:04.699453 636804 net.py:665] Path between chain35-nat and chain35-source: ['dc48.s1', u'gsw0', 'dc17.s1']
I1209 21:30:04.699625 636804 net.py:889] add-flow
I1209 21:30:04.699768 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:422,output=1
I1209 21:30:04.731920 636804 net.py:893] add-flow in switch: dc48.s1 in_port: 7 out_port: 1
I1209 21:30:04.732096 636804 net.py:889] add-flow
I1209 21:30:04.732213 636804 net.py:890] in_port=36,dl_vlan=422,action=48
I1209 21:30:04.762500 636804 net.py:893] add-flow in switch: gsw0 in_port: 36 out_port: 48
I1209 21:30:04.762662 636804 net.py:694] end node reached: chain35-source
I1209 21:30:04.762820 636804 net.py:889] add-flow
I1209 21:30:04.762933 636804 net.py:890] in_port=1,dl_vlan=422,action=strip_vlan,output=6
I1209 21:30:04.791636 636804 net.py:893] add-flow in switch: dc17.s1 in_port: 1 out_port: 6
I1209 21:30:04.791919 636804 daisy.py:322] chain(chain35-source, chain35-nat) output: success: add-flow between chain35-source and chain35-nat with options: {
 "priority": 1000, 
 "path": [
  "dc17.s1", 
  "gsw0", 
  "dc48.s1"
 ], 
 "vlan": 421, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain35-nat and chain35-source with options: {
 "priority": 1000, 
 "path": [
  "dc48.s1", 
  "gsw0", 
  "dc17.s1"
 ], 
 "vlan": 422, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:30:04.792206 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain35-nat', vnf_src_interface='output', vnf_dst_name=u'chain35-fw', vnf_dst_interface='input'
I1209 21:30:04.792418 636804 net.py:665] Path between chain35-nat and chain35-fw: ['dc48.s1']
I1209 21:30:04.792556 636804 net.py:694] end node reached: chain35-fw
I1209 21:30:04.792741 636804 net.py:889] add-flow
I1209 21:30:04.792860 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:423,output=2
I1209 21:30:04.822387 636804 net.py:893] add-flow in switch: dc48.s1 in_port: 8 out_port: 2
I1209 21:30:04.822565 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc48.s1 in_port: 8 out_port: 2
I1209 21:30:04.822686 636804 net.py:931] add-flow
I1209 21:30:04.822828 636804 net.py:932] in_port=8,action=strip_vlan,output=2
I1209 21:30:04.853024 636804 net.py:935] add-flow in switch: dc48.s1 in_port: 8 out_port: 2
D1209 21:30:04.853265 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain35-fw', vnf_src_interface='input', vnf_dst_name=u'chain35-nat', vnf_dst_interface='output'
I1209 21:30:04.853424 636804 net.py:665] Path between chain35-fw and chain35-nat: ['dc48.s1']
I1209 21:30:04.853552 636804 net.py:694] end node reached: chain35-nat
I1209 21:30:04.853677 636804 net.py:889] add-flow
I1209 21:30:04.853816 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:424,output=8
I1209 21:30:04.914225 636804 net.py:893] add-flow in switch: dc48.s1 in_port: 2 out_port: 8
I1209 21:30:04.914411 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc48.s1 in_port: 2 out_port: 8
I1209 21:30:04.914541 636804 net.py:931] add-flow
I1209 21:30:04.914654 636804 net.py:932] in_port=2,action=strip_vlan,output=8
I1209 21:30:04.942902 636804 net.py:935] add-flow in switch: dc48.s1 in_port: 2 out_port: 8
I1209 21:30:04.943171 636804 daisy.py:329] chain(chain35-nat, chain35-fw) output: success: add-flow between chain35-nat and chain35-fw with options: {
 "priority": 1000, 
 "path": [
  "dc48.s1"
 ], 
 "vlan": 423, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain35-fw and chain35-nat with options: {
 "priority": 1000, 
 "path": [
  "dc48.s1"
 ], 
 "vlan": 424, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:30:04.943383 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain35-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain35-ids', vnf_dst_interface='input'
I1209 21:30:04.943574 636804 net.py:665] Path between chain35-fw and chain35-ids: ['dc48.s1']
I1209 21:30:04.943739 636804 net.py:694] end node reached: chain35-ids
I1209 21:30:04.943897 636804 net.py:889] add-flow
I1209 21:30:04.944020 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:425,output=5
I1209 21:30:05.009469 636804 net.py:893] add-flow in switch: dc48.s1 in_port: 3 out_port: 5
D1209 21:30:05.009731 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain35-ids', vnf_src_interface='input', vnf_dst_name=u'chain35-fw', vnf_dst_interface='output-ids'
I1209 21:30:05.009927 636804 net.py:665] Path between chain35-ids and chain35-fw: ['dc48.s1']
I1209 21:30:05.010071 636804 net.py:694] end node reached: chain35-fw
I1209 21:30:05.010291 636804 net.py:889] add-flow
I1209 21:30:05.010411 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:426,output=3
I1209 21:30:05.037034 636804 net.py:893] add-flow in switch: dc48.s1 in_port: 5 out_port: 3
I1209 21:30:05.037203 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc48.s1 in_port: 5 out_port: 3
I1209 21:30:05.037328 636804 net.py:931] add-flow
I1209 21:30:05.037425 636804 net.py:932] in_port=5,action=strip_vlan,output=3
I1209 21:30:05.068015 636804 net.py:935] add-flow in switch: dc48.s1 in_port: 5 out_port: 3
I1209 21:30:05.068268 636804 daisy.py:336] chain(chain35-fw, chain35-ids) output: success: add-flow between chain35-fw and chain35-ids with options: {
 "priority": 1000, 
 "path": [
  "dc48.s1"
 ], 
 "vlan": 425, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain35-ids and chain35-fw with options: {
 "priority": 1000, 
 "path": [
  "dc48.s1"
 ], 
 "vlan": 426, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:30:05.068490 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain35-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain35-vpn', vnf_dst_interface='input-fw'
I1209 21:30:05.068675 636804 net.py:665] Path between chain35-fw and chain35-vpn: ['dc48.s1']
I1209 21:30:05.068829 636804 net.py:694] end node reached: chain35-vpn
I1209 21:30:05.068960 636804 net.py:889] add-flow
I1209 21:30:05.069082 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:427,output=10
I1209 21:30:05.128174 636804 net.py:893] add-flow in switch: dc48.s1 in_port: 4 out_port: 10
D1209 21:30:05.128424 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain35-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain35-fw', vnf_dst_interface='output-vpn'
I1209 21:30:05.128643 636804 net.py:665] Path between chain35-vpn and chain35-fw: ['dc48.s1']
I1209 21:30:05.128812 636804 net.py:694] end node reached: chain35-fw
I1209 21:30:05.128958 636804 net.py:889] add-flow
I1209 21:30:05.129075 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:428,output=4
I1209 21:30:05.157452 636804 net.py:893] add-flow in switch: dc48.s1 in_port: 10 out_port: 4
I1209 21:30:05.157675 636804 daisy.py:343] chain(chain35-fw, chain35-vpn) output: success: add-flow between chain35-fw and chain35-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc48.s1"
 ], 
 "vlan": 427, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain35-vpn and chain35-fw with options: {
 "priority": 1000, 
 "path": [
  "dc48.s1"
 ], 
 "vlan": 428, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:30:05.157901 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain35-ids', vnf_src_interface='output', vnf_dst_name=u'chain35-vpn', vnf_dst_interface='input-ids'
I1209 21:30:05.158078 636804 net.py:665] Path between chain35-ids and chain35-vpn: ['dc48.s1']
I1209 21:30:05.158307 636804 net.py:694] end node reached: chain35-vpn
I1209 21:30:05.158442 636804 net.py:889] add-flow
I1209 21:30:05.158555 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:429,output=9
I1209 21:30:05.186723 636804 net.py:893] add-flow in switch: dc48.s1 in_port: 6 out_port: 9
I1209 21:30:05.186888 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc48.s1 in_port: 6 out_port: 9
I1209 21:30:05.187012 636804 net.py:931] add-flow
I1209 21:30:05.187125 636804 net.py:932] in_port=6,action=strip_vlan,output=9
I1209 21:30:05.216937 636804 net.py:935] add-flow in switch: dc48.s1 in_port: 6 out_port: 9
D1209 21:30:05.217170 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain35-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain35-ids', vnf_dst_interface='output'
I1209 21:30:05.217339 636804 net.py:665] Path between chain35-vpn and chain35-ids: ['dc48.s1']
I1209 21:30:05.217492 636804 net.py:694] end node reached: chain35-ids
I1209 21:30:05.217669 636804 net.py:889] add-flow
I1209 21:30:05.217813 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:430,output=6
I1209 21:30:05.282645 636804 net.py:893] add-flow in switch: dc48.s1 in_port: 9 out_port: 6
I1209 21:30:05.282952 636804 daisy.py:350] chain(chain35-ids, chain35-vpn) output: success: add-flow between chain35-ids and chain35-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc48.s1"
 ], 
 "vlan": 429, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain35-vpn and chain35-ids with options: {
 "priority": 1000, 
 "path": [
  "dc48.s1"
 ], 
 "vlan": 430, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:30:05.283149 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain35-vpn', vnf_src_interface='output', vnf_dst_name=u'chain35-sink', vnf_dst_interface='intf2'
I1209 21:30:05.283396 636804 net.py:665] Path between chain35-vpn and chain35-sink: ['dc48.s1', u'gsw0', 'dc22.s1']
I1209 21:30:05.283575 636804 net.py:889] add-flow
I1209 21:30:05.283735 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:431,output=1
I1209 21:30:05.311450 636804 net.py:893] add-flow in switch: dc48.s1 in_port: 11 out_port: 1
I1209 21:30:05.311654 636804 net.py:889] add-flow
I1209 21:30:05.311806 636804 net.py:890] in_port=36,dl_vlan=431,action=49
I1209 21:30:05.339869 636804 net.py:893] add-flow in switch: gsw0 in_port: 36 out_port: 49
I1209 21:30:05.340034 636804 net.py:694] end node reached: chain35-sink
I1209 21:30:05.340168 636804 net.py:889] add-flow
I1209 21:30:05.340277 636804 net.py:890] in_port=1,dl_vlan=431,action=strip_vlan,output=5
I1209 21:30:05.366899 636804 net.py:893] add-flow in switch: dc22.s1 in_port: 1 out_port: 5
D1209 21:30:05.367146 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain35-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain35-vpn', vnf_dst_interface='output'
I1209 21:30:05.367367 636804 net.py:665] Path between chain35-sink and chain35-vpn: ['dc22.s1', u'gsw0', 'dc48.s1']
I1209 21:30:05.367528 636804 net.py:889] add-flow
I1209 21:30:05.367649 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:432,output=1
I1209 21:30:05.398458 636804 net.py:893] add-flow in switch: dc22.s1 in_port: 5 out_port: 1
I1209 21:30:05.398641 636804 net.py:889] add-flow
I1209 21:30:05.398792 636804 net.py:890] in_port=49,dl_vlan=432,action=36
I1209 21:30:05.426035 636804 net.py:893] add-flow in switch: gsw0 in_port: 49 out_port: 36
I1209 21:30:05.426258 636804 net.py:694] end node reached: chain35-vpn
I1209 21:30:05.426392 636804 net.py:889] add-flow
I1209 21:30:05.426505 636804 net.py:890] in_port=1,dl_vlan=432,action=strip_vlan,output=11
I1209 21:30:05.453392 636804 net.py:893] add-flow in switch: dc48.s1 in_port: 1 out_port: 11
I1209 21:30:05.453624 636804 daisy.py:357] chain(chain35-vpn, chain35-sink) output: success: add-flow between chain35-vpn and chain35-sink with options: {
 "priority": 1000, 
 "path": [
  "dc48.s1", 
  "gsw0", 
  "dc22.s1"
 ], 
 "vlan": 431, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain35-sink and chain35-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc22.s1", 
  "gsw0", 
  "dc48.s1"
 ], 
 "vlan": 432, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:30:07 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:30:07 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:30:07 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:30:07 2017 UDPv4 link local: [undef]
Sat Dec  9 21:30:07 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:30:07 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=af415aef d4b69a16
VPN client VNF ready.
SIOCDELRT: No such process
Sat Dec  9 21:30:07 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:30:07 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:30:07 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:30:07 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:30:07 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:30:07 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:30:07 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:30:07 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:30:07 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:30:07 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:30:07 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:30:10 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:30:10 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:30:10 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:30:10 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:30:10 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:30:10 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:30:10 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:d7
Sat Dec  9 21:30:10 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:30:10 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:30:10 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:30:10 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:30:10 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:30:10 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:30:10 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:30:10 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:30:10 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:30:10 2017 GID set to nogroup
Sat Dec  9 21:30:10 2017 UID set to nobody
Sat Dec  9 21:30:10 2017 Initialization Sequence Completed
I1209 21:30:12.954756 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:30:17.958240 636804 daisy.py:443] < 5s wait complete
I1209 21:30:17.958470 636804 daisy.py:444] VPN client VNF started
chain35-source -> chain35-sink 
chain35-sink -> chain35-source 
*** Results: 0% dropped (2/2 received)
I1209 21:30:20.923100 636804 daisy.py:369] ping chain35-source -> chain35-sink. Packet drop 0.0%
I1209 21:30:21.017791 636804 bench.py:19] Copying traces into the containers...
I1209 21:30:22.641623 636804 bench.py:29] Running dstat...
I1209 21:30:25.614478 636804 iter-e2-allocation.py:17] started allocating chain: 36
I1209 21:30:25.614892 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server34']
I1209 21:30:25.615032 636804 daisy.py:240] creating chain36-fw on chain-server34
D1209 21:30:25.617544 636804 node.py:55] Starting compute instance u'chain36-fw' in data center 'chain-server34'
D1209 21:30:26.650989 636804 simple.py:169] Setting CPU limit for u'chain36-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:30:26.711808 636804 simple.py:215] Setting MEM limit for u'chain36-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:30:27.057391 636804 net.py:233] addLink: n1=chain36-fw intf1=input -- n2=dc47.s1 intf2=dc47.s1-eth2
D1209 21:30:27.358305 636804 net.py:233] addLink: n1=chain36-fw intf1=output-ids -- n2=dc47.s1 intf2=dc47.s1-eth3
D1209 21:30:27.689678 636804 net.py:233] addLink: n1=chain36-fw intf1=output-vpn -- n2=dc47.s1 intf2=dc47.s1-eth4
I1209 21:30:27.689945 636804 daisy.py:310] successfully created VNF: chain36-fw
I1209 21:30:27.690152 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server34']
I1209 21:30:27.690310 636804 daisy.py:240] creating chain36-ids on chain-server34
D1209 21:30:27.691525 636804 node.py:55] Starting compute instance u'chain36-ids' in data center 'chain-server34'
D1209 21:30:28.628786 636804 simple.py:169] Setting CPU limit for u'chain36-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:30:28.686661 636804 simple.py:215] Setting MEM limit for u'chain36-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:30:28.724633 636804 simple.py:169] Setting CPU limit for u'chain36-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:30:28.777306 636804 simple.py:215] Setting MEM limit for u'chain36-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:30:29.108931 636804 net.py:233] addLink: n1=chain36-ids intf1=input -- n2=dc47.s1 intf2=dc47.s1-eth5
D1209 21:30:29.539098 636804 net.py:233] addLink: n1=chain36-ids intf1=output -- n2=dc47.s1 intf2=dc47.s1-eth6
I1209 21:30:29.539360 636804 daisy.py:310] successfully created VNF: chain36-ids
I1209 21:30:29.539506 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server34']
I1209 21:30:29.539618 636804 daisy.py:240] creating chain36-nat on chain-server34
D1209 21:30:29.540863 636804 node.py:55] Starting compute instance u'chain36-nat' in data center 'chain-server34'
D1209 21:30:30.609797 636804 simple.py:169] Setting CPU limit for u'chain36-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:30:30.673686 636804 simple.py:215] Setting MEM limit for u'chain36-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:30:30.705667 636804 simple.py:215] Setting MEM limit for u'chain36-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:30:30.739708 636804 simple.py:169] Setting CPU limit for u'chain36-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:30:30.800976 636804 simple.py:215] Setting MEM limit for u'chain36-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:30:31.131896 636804 net.py:233] addLink: n1=chain36-nat intf1=input -- n2=dc47.s1 intf2=dc47.s1-eth7
D1209 21:30:31.451339 636804 net.py:233] addLink: n1=chain36-nat intf1=output -- n2=dc47.s1 intf2=dc47.s1-eth8
I1209 21:30:31.451595 636804 daisy.py:310] successfully created VNF: chain36-nat
I1209 21:30:31.451759 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server34']
I1209 21:30:31.451868 636804 daisy.py:240] creating chain36-vpn on chain-server34
D1209 21:30:31.453083 636804 node.py:55] Starting compute instance u'chain36-vpn' in data center 'chain-server34'
D1209 21:30:32.427067 636804 simple.py:215] Setting MEM limit for u'chain36-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:30:32.462907 636804 simple.py:215] Setting MEM limit for u'chain36-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:30:32.489974 636804 simple.py:169] Setting CPU limit for u'chain36-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:30:32.544303 636804 simple.py:215] Setting MEM limit for u'chain36-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:30:32.579511 636804 simple.py:169] Setting CPU limit for u'chain36-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:30:32.643198 636804 simple.py:215] Setting MEM limit for u'chain36-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:30:32.939109 636804 net.py:233] addLink: n1=chain36-vpn intf1=input-ids -- n2=dc47.s1 intf2=dc47.s1-eth9
D1209 21:30:33.252520 636804 net.py:233] addLink: n1=chain36-vpn intf1=input-fw -- n2=dc47.s1 intf2=dc47.s1-eth10
D1209 21:30:33.546672 636804 net.py:233] addLink: n1=chain36-vpn intf1=output -- n2=dc47.s1 intf2=dc47.s1-eth11
I1209 21:30:33.546969 636804 daisy.py:310] successfully created VNF: chain36-vpn
I1209 21:30:33.547173 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud7']
I1209 21:30:33.547332 636804 daisy.py:240] creating chain36-source on off-cloud7
D1209 21:30:33.548578 636804 node.py:55] Starting compute instance u'chain36-source' in data center 'off-cloud7'
D1209 21:30:34.523575 636804 simple.py:169] Setting CPU limit for u'chain36-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:30:34.593806 636804 simple.py:215] Setting MEM limit for u'chain36-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:30:34.627470 636804 simple.py:215] Setting MEM limit for u'chain16-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:30:34.657876 636804 simple.py:215] Setting MEM limit for u'chain0-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:30:34.690320 636804 simple.py:215] Setting MEM limit for u'chain34-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:30:34.719855 636804 simple.py:215] Setting MEM limit for u'chain35-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:30:34.747821 636804 simple.py:215] Setting MEM limit for u'chain11-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:30:35.068341 636804 net.py:233] addLink: n1=chain36-source intf1=intf1 -- n2=dc17.s1 intf2=dc17.s1-eth7
I1209 21:30:35.068623 636804 daisy.py:310] successfully created VNF: chain36-source
I1209 21:30:35.068814 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud8']
I1209 21:30:35.068947 636804 daisy.py:240] creating chain36-sink on off-cloud8
D1209 21:30:35.070259 636804 node.py:55] Starting compute instance u'chain36-sink' in data center 'off-cloud8'
D1209 21:30:36.008157 636804 simple.py:215] Setting MEM limit for u'chain0-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:30:36.045769 636804 simple.py:215] Setting MEM limit for u'chain35-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:30:36.071321 636804 simple.py:169] Setting CPU limit for u'chain36-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:30:36.128973 636804 simple.py:215] Setting MEM limit for u'chain36-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:30:36.162586 636804 simple.py:215] Setting MEM limit for u'chain34-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:30:36.191013 636804 simple.py:215] Setting MEM limit for u'chain12-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:30:36.545732 636804 net.py:233] addLink: n1=chain36-sink intf1=intf2 -- n2=dc22.s1 intf2=dc22.s1-eth6
I1209 21:30:36.545999 636804 daisy.py:310] successfully created VNF: chain36-sink
I1209 21:30:36.546222 636804 daisy.py:311] successfully created chain: 36
ntf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain34-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.02244299999999999, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server35'], [u'ids', u'chain-server35'], [u'nat', u'chain-server35'], [u'vpn', u'chain-server35'], [u'source', u'off-cloud7'], [u'sink', u'off-cloud8']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 1.86292, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud7', 2], [u'chain-server35', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server35', 2], [u'off-cloud8', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain35-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain35-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain35-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain35-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain35-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain35-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain35-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain35-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain35-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain35-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain35-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain35-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain35-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain35-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain35-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain35-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain35-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain35-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain35-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain35-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain35-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain35-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain35-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain35-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain35-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain35-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.02316000000000029, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server34'], [u'ids', u'chain-server34'], [u'nat', u'chain-server34'], [u'vpn', u'chain-server34'], [u'source', u'off-cloud7'], [u'sink', u'off-cloud8']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 1.8259950000000003, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud7', 2], [u'chain-server34', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server34', 2], [u'off-cloud8', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:30:40.596050 636804 daisy.py:401] source, nat, and fw start done
I1209 21:30:40.596344 636804 daisy.py:402] My commands
I1209 21:30:40.779711 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:30:42.782035 636804 daisy.py:419] < 2s wait complete
I1209 21:30:42.782329 636804 daisy.py:420] start VNF chaining
D1209 21:30:42.782489 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain36-source', vnf_src_interface='intf1', vnf_dst_name=u'chain36-nat', vnf_dst_interface='input'
I1209 21:30:42.782773 636804 net.py:665] Path between chain36-source and chain36-nat: ['dc17.s1', u'gsw0', 'dc47.s1']
I1209 21:30:42.782958 636804 net.py:889] add-flow
I1209 21:30:42.783052 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:433,output=1
I1209 21:30:42.790332 636804 net.py:893] add-flow in switch: dc17.s1 in_port: 7 out_port: 1
I1209 21:30:42.790664 636804 net.py:889] add-flow
I1209 21:30:42.790818 636804 net.py:890] in_port=48,dl_vlan=433,action=35
I1209 21:30:42.820429 636804 net.py:893] add-flow in switch: gsw0 in_port: 48 out_port: 35
I1209 21:30:42.820576 636804 net.py:694] end node reached: chain36-nat
I1209 21:30:42.820708 636804 net.py:889] add-flow
I1209 21:30:42.820791 636804 net.py:890] in_port=1,dl_vlan=433,action=strip_vlan,output=7
I1209 21:30:42.856652 636804 net.py:893] add-flow in switch: dc47.s1 in_port: 1 out_port: 7
D1209 21:30:42.856956 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain36-nat', vnf_src_interface='input', vnf_dst_name=u'chain36-source', vnf_dst_interface='intf1'
I1209 21:30:42.857101 636804 net.py:665] Path between chain36-nat and chain36-source: ['dc47.s1', u'gsw0', 'dc17.s1']
I1209 21:30:42.857194 636804 net.py:889] add-flow
I1209 21:30:42.857261 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:434,output=1
I1209 21:30:42.884377 636804 net.py:893] add-flow in switch: dc47.s1 in_port: 7 out_port: 1
I1209 21:30:42.884541 636804 net.py:889] add-flow
I1209 21:30:42.884668 636804 net.py:890] in_port=35,dl_vlan=434,action=48
I1209 21:30:42.918072 636804 net.py:893] add-flow in switch: gsw0 in_port: 35 out_port: 48
I1209 21:30:42.918293 636804 net.py:694] end node reached: chain36-source
I1209 21:30:42.918410 636804 net.py:889] add-flow
I1209 21:30:42.918508 636804 net.py:890] in_port=1,dl_vlan=434,action=strip_vlan,output=7
I1209 21:30:42.946192 636804 net.py:893] add-flow in switch: dc17.s1 in_port: 1 out_port: 7
I1209 21:30:42.946434 636804 daisy.py:322] chain(chain36-source, chain36-nat) output: success: add-flow between chain36-source and chain36-nat with options: {
 "priority": 1000, 
 "path": [
  "dc17.s1", 
  "gsw0", 
  "dc47.s1"
 ], 
 "vlan": 433, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain36-nat and chain36-source with options: {
 "priority": 1000, 
 "path": [
  "dc47.s1", 
  "gsw0", 
  "dc17.s1"
 ], 
 "vlan": 434, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:30:42.946592 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain36-nat', vnf_src_interface='output', vnf_dst_name=u'chain36-fw', vnf_dst_interface='input'
I1209 21:30:42.946762 636804 net.py:665] Path between chain36-nat and chain36-fw: ['dc47.s1']
I1209 21:30:42.946861 636804 net.py:694] end node reached: chain36-fw
I1209 21:30:42.946957 636804 net.py:889] add-flow
I1209 21:30:42.947046 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:435,output=2
I1209 21:30:42.976404 636804 net.py:893] add-flow in switch: dc47.s1 in_port: 8 out_port: 2
I1209 21:30:42.976552 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc47.s1 in_port: 8 out_port: 2
I1209 21:30:42.976670 636804 net.py:931] add-flow
I1209 21:30:42.976773 636804 net.py:932] in_port=8,action=strip_vlan,output=2
I1209 21:30:43.006076 636804 net.py:935] add-flow in switch: dc47.s1 in_port: 8 out_port: 2
D1209 21:30:43.006360 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain36-fw', vnf_src_interface='input', vnf_dst_name=u'chain36-nat', vnf_dst_interface='output'
I1209 21:30:43.006493 636804 net.py:665] Path between chain36-fw and chain36-nat: ['dc47.s1']
I1209 21:30:43.006592 636804 net.py:694] end node reached: chain36-nat
I1209 21:30:43.006714 636804 net.py:889] add-flow
I1209 21:30:43.006795 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:436,output=8
I1209 21:30:43.067632 636804 net.py:893] add-flow in switch: dc47.s1 in_port: 2 out_port: 8
I1209 21:30:43.067780 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc47.s1 in_port: 2 out_port: 8
I1209 21:30:43.067867 636804 net.py:931] add-flow
I1209 21:30:43.067945 636804 net.py:932] in_port=2,action=strip_vlan,output=8
I1209 21:30:43.099302 636804 net.py:935] add-flow in switch: dc47.s1 in_port: 2 out_port: 8
I1209 21:30:43.099497 636804 daisy.py:329] chain(chain36-nat, chain36-fw) output: success: add-flow between chain36-nat and chain36-fw with options: {
 "priority": 1000, 
 "path": [
  "dc47.s1"
 ], 
 "vlan": 435, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain36-fw and chain36-nat with options: {
 "priority": 1000, 
 "path": [
  "dc47.s1"
 ], 
 "vlan": 436, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:30:43.099683 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain36-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain36-ids', vnf_dst_interface='input'
I1209 21:30:43.099823 636804 net.py:665] Path between chain36-fw and chain36-ids: ['dc47.s1']
I1209 21:30:43.099924 636804 net.py:694] end node reached: chain36-ids
I1209 21:30:43.100019 636804 net.py:889] add-flow
I1209 21:30:43.100671 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:437,output=5
I1209 21:30:43.177428 636804 net.py:893] add-flow in switch: dc47.s1 in_port: 3 out_port: 5
D1209 21:30:43.177684 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain36-ids', vnf_src_interface='input', vnf_dst_name=u'chain36-fw', vnf_dst_interface='output-ids'
I1209 21:30:43.177835 636804 net.py:665] Path between chain36-ids and chain36-fw: ['dc47.s1']
I1209 21:30:43.177956 636804 net.py:694] end node reached: chain36-fw
I1209 21:30:43.178069 636804 net.py:889] add-flow
I1209 21:30:43.178174 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:438,output=3
I1209 21:30:43.209433 636804 net.py:893] add-flow in switch: dc47.s1 in_port: 5 out_port: 3
I1209 21:30:43.209566 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc47.s1 in_port: 5 out_port: 3
I1209 21:30:43.209678 636804 net.py:931] add-flow
I1209 21:30:43.209758 636804 net.py:932] in_port=5,action=strip_vlan,output=3
I1209 21:30:43.240112 636804 net.py:935] add-flow in switch: dc47.s1 in_port: 5 out_port: 3
I1209 21:30:43.240334 636804 daisy.py:336] chain(chain36-fw, chain36-ids) output: success: add-flow between chain36-fw and chain36-ids with options: {
 "priority": 1000, 
 "path": [
  "dc47.s1"
 ], 
 "vlan": 437, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain36-ids and chain36-fw with options: {
 "priority": 1000, 
 "path": [
  "dc47.s1"
 ], 
 "vlan": 438, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:30:43.240479 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain36-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain36-vpn', vnf_dst_interface='input-fw'
I1209 21:30:43.240633 636804 net.py:665] Path between chain36-fw and chain36-vpn: ['dc47.s1']
I1209 21:30:43.240740 636804 net.py:694] end node reached: chain36-vpn
I1209 21:30:43.240848 636804 net.py:889] add-flow
I1209 21:30:43.240930 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:439,output=10
I1209 21:30:43.295995 636804 net.py:893] add-flow in switch: dc47.s1 in_port: 4 out_port: 10
D1209 21:30:43.296196 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain36-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain36-fw', vnf_dst_interface='output-vpn'
I1209 21:30:43.296334 636804 net.py:665] Path between chain36-vpn and chain36-fw: ['dc47.s1']
I1209 21:30:43.296431 636804 net.py:694] end node reached: chain36-fw
I1209 21:30:43.296524 636804 net.py:889] add-flow
I1209 21:30:43.296617 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:440,output=4
I1209 21:30:43.325983 636804 net.py:893] add-flow in switch: dc47.s1 in_port: 10 out_port: 4
I1209 21:30:43.326281 636804 daisy.py:343] chain(chain36-fw, chain36-vpn) output: success: add-flow between chain36-fw and chain36-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc47.s1"
 ], 
 "vlan": 439, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain36-vpn and chain36-fw with options: {
 "priority": 1000, 
 "path": [
  "dc47.s1"
 ], 
 "vlan": 440, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:30:43.326421 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain36-ids', vnf_src_interface='output', vnf_dst_name=u'chain36-vpn', vnf_dst_interface='input-ids'
I1209 21:30:43.326541 636804 net.py:665] Path between chain36-ids and chain36-vpn: ['dc47.s1']
I1209 21:30:43.326683 636804 net.py:694] end node reached: chain36-vpn
I1209 21:30:43.326795 636804 net.py:889] add-flow
I1209 21:30:43.326889 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:441,output=9
I1209 21:30:43.355107 636804 net.py:893] add-flow in switch: dc47.s1 in_port: 6 out_port: 9
I1209 21:30:43.355242 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc47.s1 in_port: 6 out_port: 9
I1209 21:30:43.355344 636804 net.py:931] add-flow
I1209 21:30:43.355436 636804 net.py:932] in_port=6,action=strip_vlan,output=9
I1209 21:30:43.385488 636804 net.py:935] add-flow in switch: dc47.s1 in_port: 6 out_port: 9
D1209 21:30:43.385709 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain36-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain36-ids', vnf_dst_interface='output'
I1209 21:30:43.385845 636804 net.py:665] Path between chain36-vpn and chain36-ids: ['dc47.s1']
I1209 21:30:43.385947 636804 net.py:694] end node reached: chain36-ids
I1209 21:30:43.386043 636804 net.py:889] add-flow
I1209 21:30:43.386145 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:442,output=6
I1209 21:30:43.441586 636804 net.py:893] add-flow in switch: dc47.s1 in_port: 9 out_port: 6
I1209 21:30:43.441806 636804 daisy.py:350] chain(chain36-ids, chain36-vpn) output: success: add-flow between chain36-ids and chain36-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc47.s1"
 ], 
 "vlan": 441, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain36-vpn and chain36-ids with options: {
 "priority": 1000, 
 "path": [
  "dc47.s1"
 ], 
 "vlan": 442, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:30:43.441945 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain36-vpn', vnf_src_interface='output', vnf_dst_name=u'chain36-sink', vnf_dst_interface='intf2'
I1209 21:30:43.442193 636804 net.py:665] Path between chain36-vpn and chain36-sink: ['dc47.s1', u'gsw0', 'dc22.s1']
I1209 21:30:43.442318 636804 net.py:889] add-flow
I1209 21:30:43.442401 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:443,output=1
I1209 21:30:43.547158 636804 net.py:893] add-flow in switch: dc47.s1 in_port: 11 out_port: 1
I1209 21:30:43.547370 636804 net.py:889] add-flow
I1209 21:30:43.547482 636804 net.py:890] in_port=35,dl_vlan=443,action=49
I1209 21:30:43.577106 636804 net.py:893] add-flow in switch: gsw0 in_port: 35 out_port: 49
I1209 21:30:43.577271 636804 net.py:694] end node reached: chain36-sink
I1209 21:30:43.577383 636804 net.py:889] add-flow
I1209 21:30:43.577452 636804 net.py:890] in_port=1,dl_vlan=443,action=strip_vlan,output=6
I1209 21:30:43.606859 636804 net.py:893] add-flow in switch: dc22.s1 in_port: 1 out_port: 6
D1209 21:30:43.607089 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain36-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain36-vpn', vnf_dst_interface='output'
I1209 21:30:43.607258 636804 net.py:665] Path between chain36-sink and chain36-vpn: ['dc22.s1', u'gsw0', 'dc47.s1']
I1209 21:30:43.607391 636804 net.py:889] add-flow
I1209 21:30:43.607477 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:444,output=1
I1209 21:30:43.635591 636804 net.py:893] add-flow in switch: dc22.s1 in_port: 6 out_port: 1
I1209 21:30:43.635751 636804 net.py:889] add-flow
I1209 21:30:43.635844 636804 net.py:890] in_port=49,dl_vlan=444,action=35
I1209 21:30:43.668751 636804 net.py:893] add-flow in switch: gsw0 in_port: 49 out_port: 35
I1209 21:30:43.668900 636804 net.py:694] end node reached: chain36-vpn
I1209 21:30:43.669007 636804 net.py:889] add-flow
I1209 21:30:43.669089 636804 net.py:890] in_port=1,dl_vlan=444,action=strip_vlan,output=11
I1209 21:30:43.696881 636804 net.py:893] add-flow in switch: dc47.s1 in_port: 1 out_port: 11
I1209 21:30:43.697084 636804 daisy.py:357] chain(chain36-vpn, chain36-sink) output: success: add-flow between chain36-vpn and chain36-sink with options: {
 "priority": 1000, 
 "path": [
  "dc47.s1", 
  "gsw0", 
  "dc22.s1"
 ], 
 "vlan": 443, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain36-sink and chain36-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc22.s1", 
  "gsw0", 
  "dc47.s1"
 ], 
 "vlan": 444, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:30:45 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:30:45 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:30:45 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:30:45 2017 UDPv4 link local: [undef]
Sat Dec  9 21:30:45 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:30:45 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=531e47c3 4482c573
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:30:45 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:30:45 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:30:45 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:30:45 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:30:45 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:30:45 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:30:45 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:30:45 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:30:45 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:30:45 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:30:45 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:30:47 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:30:47 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:30:47 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:30:47 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:30:47 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:30:47 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:30:47 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:dd
Sat Dec  9 21:30:47 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:30:47 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:30:47 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:30:47 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:30:47 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:30:47 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:30:47 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:30:47 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:30:47 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:30:47 2017 GID set to nogroup
Sat Dec  9 21:30:47 2017 UID set to nobody
Sat Dec  9 21:30:47 2017 Initialization Sequence Completed
I1209 21:30:50.740005 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:30:55.742211 636804 daisy.py:443] < 5s wait complete
I1209 21:30:55.742436 636804 daisy.py:444] VPN client VNF started
chain36-source -> chain36-sink 
chain36-sink -> chain36-source 
*** Results: 0% dropped (2/2 received)
I1209 21:30:59.129439 636804 daisy.py:369] ping chain36-source -> chain36-sink. Packet drop 0.0%
I1209 21:30:59.212536 636804 bench.py:19] Copying traces into the containers...
I1209 21:31:00.648549 636804 bench.py:29] Running dstat...
I1209 21:31:02.984338 636804 iter-e2-allocation.py:17] started allocating chain: 37
I1209 21:31:02.984929 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server34']
I1209 21:31:02.985249 636804 daisy.py:240] creating chain37-fw on chain-server34
D1209 21:31:02.986747 636804 node.py:55] Starting compute instance u'chain37-fw' in data center 'chain-server34'
D1209 21:31:03.990920 636804 simple.py:215] Setting MEM limit for u'chain36-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:04.034037 636804 simple.py:215] Setting MEM limit for u'chain36-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:31:04.063462 636804 simple.py:215] Setting MEM limit for u'chain36-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:04.091069 636804 simple.py:169] Setting CPU limit for u'chain36-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:31:04.155843 636804 simple.py:215] Setting MEM limit for u'chain36-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:04.186073 636804 simple.py:169] Setting CPU limit for u'chain37-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:31:04.246447 636804 simple.py:215] Setting MEM limit for u'chain37-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:04.584131 636804 net.py:233] addLink: n1=chain37-fw intf1=input -- n2=dc47.s1 intf2=dc47.s1-eth12
D1209 21:31:04.904359 636804 net.py:233] addLink: n1=chain37-fw intf1=output-ids -- n2=dc47.s1 intf2=dc47.s1-eth13
D1209 21:31:05.231121 636804 net.py:233] addLink: n1=chain37-fw intf1=output-vpn -- n2=dc47.s1 intf2=dc47.s1-eth14
I1209 21:31:05.231347 636804 daisy.py:310] successfully created VNF: chain37-fw
I1209 21:31:05.231498 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server34']
I1209 21:31:05.231650 636804 daisy.py:240] creating chain37-ids on chain-server34
D1209 21:31:05.232898 636804 node.py:55] Starting compute instance u'chain37-ids' in data center 'chain-server34'
D1209 21:31:06.189713 636804 simple.py:169] Setting CPU limit for u'chain37-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:31:06.263426 636804 simple.py:215] Setting MEM limit for u'chain37-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:06.290697 636804 simple.py:169] Setting CPU limit for u'chain36-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:31:06.344913 636804 simple.py:215] Setting MEM limit for u'chain36-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:06.371336 636804 simple.py:169] Setting CPU limit for u'chain37-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:31:06.426922 636804 simple.py:215] Setting MEM limit for u'chain37-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:31:06.451160 636804 simple.py:215] Setting MEM limit for u'chain36-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:06.475541 636804 simple.py:215] Setting MEM limit for u'chain36-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:06.506192 636804 simple.py:215] Setting MEM limit for u'chain36-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:31:06.888067 636804 net.py:233] addLink: n1=chain37-ids intf1=input -- n2=dc47.s1 intf2=dc47.s1-eth15
D1209 21:31:07.205383 636804 net.py:233] addLink: n1=chain37-ids intf1=output -- n2=dc47.s1 intf2=dc47.s1-eth16
I1209 21:31:07.205658 636804 daisy.py:310] successfully created VNF: chain37-ids
I1209 21:31:07.205806 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server34']
I1209 21:31:07.205926 636804 daisy.py:240] creating chain37-nat on chain-server34
D1209 21:31:07.207175 636804 node.py:55] Starting compute instance u'chain37-nat' in data center 'chain-server34'
D1209 21:31:08.184416 636804 simple.py:169] Setting CPU limit for u'chain37-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:31:08.250457 636804 simple.py:215] Setting MEM limit for u'chain37-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:08.283142 636804 simple.py:169] Setting CPU limit for u'chain37-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:31:08.345745 636804 simple.py:215] Setting MEM limit for u'chain37-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:08.373972 636804 simple.py:169] Setting CPU limit for u'chain36-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:31:08.436069 636804 simple.py:215] Setting MEM limit for u'chain36-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:08.468772 636804 simple.py:215] Setting MEM limit for u'chain37-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:31:08.499892 636804 simple.py:215] Setting MEM limit for u'chain36-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:08.533157 636804 simple.py:215] Setting MEM limit for u'chain36-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:08.567646 636804 simple.py:215] Setting MEM limit for u'chain36-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:31:08.919644 636804 net.py:233] addLink: n1=chain37-nat intf1=input -- n2=dc47.s1 intf2=dc47.s1-eth17
D1209 21:31:09.250195 636804 net.py:233] addLink: n1=chain37-nat intf1=output -- n2=dc47.s1 intf2=dc47.s1-eth18
I1209 21:31:09.250545 636804 daisy.py:310] successfully created VNF: chain37-nat
I1209 21:31:09.250735 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server34']
I1209 21:31:09.250889 636804 daisy.py:240] creating chain37-vpn on chain-server34
D1209 21:31:09.253072 636804 node.py:55] Starting compute instance u'chain37-vpn' in data center 'chain-server34'
D1209 21:31:10.198353 636804 simple.py:215] Setting MEM limit for u'chain37-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:10.231223 636804 simple.py:169] Setting CPU limit for u'chain37-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:31:10.292131 636804 simple.py:215] Setting MEM limit for u'chain37-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:10.320739 636804 simple.py:169] Setting CPU limit for u'chain36-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:31:10.383805 636804 simple.py:215] Setting MEM limit for u'chain36-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:10.409734 636804 simple.py:215] Setting MEM limit for u'chain37-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:31:10.441740 636804 simple.py:169] Setting CPU limit for u'chain37-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:31:10.502635 636804 simple.py:215] Setting MEM limit for u'chain37-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:10.537988 636804 simple.py:215] Setting MEM limit for u'chain36-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:10.572685 636804 simple.py:215] Setting MEM limit for u'chain36-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:10.600411 636804 simple.py:215] Setting MEM limit for u'chain36-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:31:10.937942 636804 net.py:233] addLink: n1=chain37-vpn intf1=input-ids -- n2=dc47.s1 intf2=dc47.s1-eth19
D1209 21:31:11.440658 636804 net.py:233] addLink: n1=chain37-vpn intf1=input-fw -- n2=dc47.s1 intf2=dc47.s1-eth20
D1209 21:31:11.763525 636804 net.py:233] addLink: n1=chain37-vpn intf1=output -- n2=dc47.s1 intf2=dc47.s1-eth21
I1209 21:31:11.763811 636804 daisy.py:310] successfully created VNF: chain37-vpn
I1209 21:31:11.763953 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud3']
I1209 21:31:11.764064 636804 daisy.py:240] creating chain37-source on off-cloud3
D1209 21:31:11.765281 636804 node.py:55] Starting compute instance u'chain37-source' in data center 'off-cloud3'
D1209 21:31:12.763614 636804 simple.py:215] Setting MEM limit for u'chain12-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:12.800375 636804 simple.py:169] Setting CPU limit for u'chain37-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:31:12.862683 636804 simple.py:215] Setting MEM limit for u'chain37-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:13.243398 636804 net.py:233] addLink: n1=chain37-source intf1=intf1 -- n2=dc13.s1 intf2=dc13.s1-eth3
I1209 21:31:13.243665 636804 daisy.py:310] successfully created VNF: chain37-source
I1209 21:31:13.243801 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud8']
I1209 21:31:13.243901 636804 daisy.py:240] creating chain37-sink on off-cloud8
D1209 21:31:13.244910 636804 node.py:55] Starting compute instance u'chain37-sink' in data center 'off-cloud8'
D1209 21:31:14.207314 636804 simple.py:215] Setting MEM limit for u'chain12-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:14.247112 636804 simple.py:215] Setting MEM limit for u'chain35-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:14.282743 636804 simple.py:215] Setting MEM limit for u'chain36-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:14.315079 636804 simple.py:215] Setting MEM limit for u'chain0-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:14.344608 636804 simple.py:215] Setting MEM limit for u'chain34-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:14.378876 636804 simple.py:169] Setting CPU limit for u'chain37-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:31:14.442325 636804 simple.py:215] Setting MEM limit for u'chain37-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:14.805968 636804 net.py:233] addLink: n1=chain37-sink intf1=intf2 -- n2=dc22.s1 intf2=dc22.s1-eth7
I1209 21:31:14.806334 636804 daisy.py:310] successfully created VNF: chain37-sink
I1209 21:31:14.806505 636804 daisy.py:311] successfully created chain: 37
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
chain36-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain36-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain36-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain36-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain36-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain36-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain36-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain36-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain36-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain36-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain36-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain36-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain36-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain36-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain36-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain36-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain36-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain36-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain36-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain36-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain36-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain36-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain36-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain36-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain36-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain36-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.022402000000000033, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server34'], [u'ids', u'chain-server34'], [u'nat', u'chain-server34'], [u'vpn', u'chain-server34'], [u'source', u'off-cloud3'], [u'sink', u'off-cloud8']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 1.788183, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud3', 2], [u'chain-server34', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server34', 2], [u'off-cloud8', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain37-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain37-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain37-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain37-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain37-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain37-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain37-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain37-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain37-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sI1209 21:31:19.262111 636804 daisy.py:401] source, nat, and fw start done
I1209 21:31:19.262402 636804 daisy.py:402] My commands
I1209 21:31:19.438007 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:31:21.438461 636804 daisy.py:419] < 2s wait complete
I1209 21:31:21.438713 636804 daisy.py:420] start VNF chaining
D1209 21:31:21.438884 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain37-source', vnf_src_interface='intf1', vnf_dst_name=u'chain37-nat', vnf_dst_interface='input'
I1209 21:31:21.439136 636804 net.py:665] Path between chain37-source and chain37-nat: ['dc13.s1', u'gsw0', 'dc47.s1']
I1209 21:31:21.439327 636804 net.py:889] add-flow
I1209 21:31:21.439436 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:445,output=1
I1209 21:31:21.449644 636804 net.py:893] add-flow in switch: dc13.s1 in_port: 3 out_port: 1
I1209 21:31:21.449798 636804 net.py:889] add-flow
I1209 21:31:21.449884 636804 net.py:890] in_port=44,dl_vlan=445,action=35
I1209 21:31:21.480073 636804 net.py:893] add-flow in switch: gsw0 in_port: 44 out_port: 35
I1209 21:31:21.480209 636804 net.py:694] end node reached: chain37-nat
I1209 21:31:21.480314 636804 net.py:889] add-flow
I1209 21:31:21.480396 636804 net.py:890] in_port=1,dl_vlan=445,action=strip_vlan,output=17
I1209 21:31:21.516427 636804 net.py:893] add-flow in switch: dc47.s1 in_port: 1 out_port: 17
D1209 21:31:21.516910 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain37-nat', vnf_src_interface='input', vnf_dst_name=u'chain37-source', vnf_dst_interface='intf1'
I1209 21:31:21.517076 636804 net.py:665] Path between chain37-nat and chain37-source: ['dc47.s1', u'gsw0', 'dc13.s1']
I1209 21:31:21.517172 636804 net.py:889] add-flow
I1209 21:31:21.517239 636804 net.py:890] -O OpenFlow13 in_port=17,action=mod_vlan_vid:446,output=1
I1209 21:31:21.546742 636804 net.py:893] add-flow in switch: dc47.s1 in_port: 17 out_port: 1
I1209 21:31:21.546907 636804 net.py:889] add-flow
I1209 21:31:21.546981 636804 net.py:890] in_port=35,dl_vlan=446,action=44
I1209 21:31:21.578864 636804 net.py:893] add-flow in switch: gsw0 in_port: 35 out_port: 44
I1209 21:31:21.578980 636804 net.py:694] end node reached: chain37-source
I1209 21:31:21.579063 636804 net.py:889] add-flow
I1209 21:31:21.579127 636804 net.py:890] in_port=1,dl_vlan=446,action=strip_vlan,output=3
I1209 21:31:21.610644 636804 net.py:893] add-flow in switch: dc13.s1 in_port: 1 out_port: 3
I1209 21:31:21.610972 636804 daisy.py:322] chain(chain37-source, chain37-nat) output: success: add-flow between chain37-source and chain37-nat with options: {
 "priority": 1000, 
 "path": [
  "dc13.s1", 
  "gsw0", 
  "dc47.s1"
 ], 
 "vlan": 445, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain37-nat and chain37-source with options: {
 "priority": 1000, 
 "path": [
  "dc47.s1", 
  "gsw0", 
  "dc13.s1"
 ], 
 "vlan": 446, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:31:21.611186 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain37-nat', vnf_src_interface='output', vnf_dst_name=u'chain37-fw', vnf_dst_interface='input'
I1209 21:31:21.611344 636804 net.py:665] Path between chain37-nat and chain37-fw: ['dc47.s1']
I1209 21:31:21.611447 636804 net.py:694] end node reached: chain37-fw
I1209 21:31:21.611574 636804 net.py:889] add-flow
I1209 21:31:21.611661 636804 net.py:890] -O OpenFlow13 in_port=18,action=mod_vlan_vid:447,output=12
I1209 21:31:21.704684 636804 net.py:893] add-flow in switch: dc47.s1 in_port: 18 out_port: 12
I1209 21:31:21.704911 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc47.s1 in_port: 18 out_port: 12
I1209 21:31:21.705013 636804 net.py:931] add-flow
I1209 21:31:21.705096 636804 net.py:932] in_port=18,action=strip_vlan,output=12
I1209 21:31:21.743118 636804 net.py:935] add-flow in switch: dc47.s1 in_port: 18 out_port: 12
D1209 21:31:21.743427 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain37-fw', vnf_src_interface='input', vnf_dst_name=u'chain37-nat', vnf_dst_interface='output'
I1209 21:31:21.743628 636804 net.py:665] Path between chain37-fw and chain37-nat: ['dc47.s1']
I1209 21:31:21.743757 636804 net.py:694] end node reached: chain37-nat
I1209 21:31:21.743882 636804 net.py:889] add-flow
I1209 21:31:21.743990 636804 net.py:890] -O OpenFlow13 in_port=12,action=mod_vlan_vid:448,output=18
I1209 21:31:21.813149 636804 net.py:893] add-flow in switch: dc47.s1 in_port: 12 out_port: 18
I1209 21:31:21.813348 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc47.s1 in_port: 12 out_port: 18
I1209 21:31:21.813441 636804 net.py:931] add-flow
I1209 21:31:21.813549 636804 net.py:932] in_port=12,action=strip_vlan,output=18
I1209 21:31:21.849879 636804 net.py:935] add-flow in switch: dc47.s1 in_port: 12 out_port: 18
I1209 21:31:21.850178 636804 daisy.py:329] chain(chain37-nat, chain37-fw) output: success: add-flow between chain37-nat and chain37-fw with options: {
 "priority": 1000, 
 "path": [
  "dc47.s1"
 ], 
 "vlan": 447, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain37-fw and chain37-nat with options: {
 "priority": 1000, 
 "path": [
  "dc47.s1"
 ], 
 "vlan": 448, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:31:21.850349 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain37-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain37-ids', vnf_dst_interface='input'
I1209 21:31:21.850507 636804 net.py:665] Path between chain37-fw and chain37-ids: ['dc47.s1']
I1209 21:31:21.850613 636804 net.py:694] end node reached: chain37-ids
I1209 21:31:21.850722 636804 net.py:889] add-flow
I1209 21:31:21.850805 636804 net.py:890] -O OpenFlow13 in_port=13,action=mod_vlan_vid:449,output=15
I1209 21:31:21.884685 636804 net.py:893] add-flow in switch: dc47.s1 in_port: 13 out_port: 15
D1209 21:31:21.884895 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain37-ids', vnf_src_interface='input', vnf_dst_name=u'chain37-fw', vnf_dst_interface='output-ids'
I1209 21:31:21.885026 636804 net.py:665] Path between chain37-ids and chain37-fw: ['dc47.s1']
I1209 21:31:21.885123 636804 net.py:694] end node reached: chain37-fw
I1209 21:31:21.885229 636804 net.py:889] add-flow
I1209 21:31:21.885301 636804 net.py:890] -O OpenFlow13 in_port=15,action=mod_vlan_vid:450,output=13
I1209 21:31:21.917145 636804 net.py:893] add-flow in switch: dc47.s1 in_port: 15 out_port: 13
I1209 21:31:21.917282 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc47.s1 in_port: 15 out_port: 13
I1209 21:31:21.917372 636804 net.py:931] add-flow
I1209 21:31:21.917452 636804 net.py:932] in_port=15,action=strip_vlan,output=13
I1209 21:31:21.950234 636804 net.py:935] add-flow in switch: dc47.s1 in_port: 15 out_port: 13
I1209 21:31:21.950448 636804 daisy.py:336] chain(chain37-fw, chain37-ids) output: success: add-flow between chain37-fw and chain37-ids with options: {
 "priority": 1000, 
 "path": [
  "dc47.s1"
 ], 
 "vlan": 449, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain37-ids and chain37-fw with options: {
 "priority": 1000, 
 "path": [
  "dc47.s1"
 ], 
 "vlan": 450, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:31:21.950613 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain37-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain37-vpn', vnf_dst_interface='input-fw'
I1209 21:31:21.950762 636804 net.py:665] Path between chain37-fw and chain37-vpn: ['dc47.s1']
I1209 21:31:21.950871 636804 net.py:694] end node reached: chain37-vpn
I1209 21:31:21.950972 636804 net.py:889] add-flow
I1209 21:31:21.951052 636804 net.py:890] -O OpenFlow13 in_port=14,action=mod_vlan_vid:451,output=20
I1209 21:31:22.007163 636804 net.py:893] add-flow in switch: dc47.s1 in_port: 14 out_port: 20
D1209 21:31:22.007388 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain37-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain37-fw', vnf_dst_interface='output-vpn'
I1209 21:31:22.007534 636804 net.py:665] Path between chain37-vpn and chain37-fw: ['dc47.s1']
I1209 21:31:22.007658 636804 net.py:694] end node reached: chain37-fw
I1209 21:31:22.007766 636804 net.py:889] add-flow
I1209 21:31:22.007846 636804 net.py:890] -O OpenFlow13 in_port=20,action=mod_vlan_vid:452,output=14
I1209 21:31:22.038034 636804 net.py:893] add-flow in switch: dc47.s1 in_port: 20 out_port: 14
I1209 21:31:22.038307 636804 daisy.py:343] chain(chain37-fw, chain37-vpn) output: success: add-flow between chain37-fw and chain37-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc47.s1"
 ], 
 "vlan": 451, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain37-vpn and chain37-fw with options: {
 "priority": 1000, 
 "path": [
  "dc47.s1"
 ], 
 "vlan": 452, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:31:22.038456 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain37-ids', vnf_src_interface='output', vnf_dst_name=u'chain37-vpn', vnf_dst_interface='input-ids'
I1209 21:31:22.038595 636804 net.py:665] Path between chain37-ids and chain37-vpn: ['dc47.s1']
I1209 21:31:22.038697 636804 net.py:694] end node reached: chain37-vpn
I1209 21:31:22.038794 636804 net.py:889] add-flow
I1209 21:31:22.038875 636804 net.py:890] -O OpenFlow13 in_port=16,action=mod_vlan_vid:453,output=19
I1209 21:31:22.068222 636804 net.py:893] add-flow in switch: dc47.s1 in_port: 16 out_port: 19
I1209 21:31:22.068356 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc47.s1 in_port: 16 out_port: 19
I1209 21:31:22.068442 636804 net.py:931] add-flow
I1209 21:31:22.068519 636804 net.py:932] in_port=16,action=strip_vlan,output=19
I1209 21:31:22.098051 636804 net.py:935] add-flow in switch: dc47.s1 in_port: 16 out_port: 19
D1209 21:31:22.098350 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain37-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain37-ids', vnf_dst_interface='output'
I1209 21:31:22.098486 636804 net.py:665] Path between chain37-vpn and chain37-ids: ['dc47.s1']
I1209 21:31:22.098615 636804 net.py:694] end node reached: chain37-ids
I1209 21:31:22.098711 636804 net.py:889] add-flow
I1209 21:31:22.098779 636804 net.py:890] -O OpenFlow13 in_port=19,action=mod_vlan_vid:454,output=16
I1209 21:31:22.126786 636804 net.py:893] add-flow in switch: dc47.s1 in_port: 19 out_port: 16
I1209 21:31:22.126966 636804 daisy.py:350] chain(chain37-ids, chain37-vpn) output: success: add-flow between chain37-ids and chain37-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc47.s1"
 ], 
 "vlan": 453, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain37-vpn and chain37-ids with options: {
 "priority": 1000, 
 "path": [
  "dc47.s1"
 ], 
 "vlan": 454, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:31:22.127127 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain37-vpn', vnf_src_interface='output', vnf_dst_name=u'chain37-sink', vnf_dst_interface='intf2'
I1209 21:31:22.127305 636804 net.py:665] Path between chain37-vpn and chain37-sink: ['dc47.s1', u'gsw0', 'dc22.s1']
I1209 21:31:22.127429 636804 net.py:889] add-flow
I1209 21:31:22.127499 636804 net.py:890] -O OpenFlow13 in_port=21,action=mod_vlan_vid:455,output=1
I1209 21:31:22.178476 636804 net.py:893] add-flow in switch: dc47.s1 in_port: 21 out_port: 1
I1209 21:31:22.178685 636804 net.py:889] add-flow
I1209 21:31:22.178771 636804 net.py:890] in_port=35,dl_vlan=455,action=49
I1209 21:31:22.202411 636804 net.py:893] add-flow in switch: gsw0 in_port: 35 out_port: 49
I1209 21:31:22.202543 636804 net.py:694] end node reached: chain37-sink
I1209 21:31:22.202672 636804 net.py:889] add-flow
I1209 21:31:22.202779 636804 net.py:890] in_port=1,dl_vlan=455,action=strip_vlan,output=7
I1209 21:31:22.235101 636804 net.py:893] add-flow in switch: dc22.s1 in_port: 1 out_port: 7
D1209 21:31:22.235299 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain37-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain37-vpn', vnf_dst_interface='output'
I1209 21:31:22.235445 636804 net.py:665] Path between chain37-sink and chain37-vpn: ['dc22.s1', u'gsw0', 'dc47.s1']
I1209 21:31:22.235580 636804 net.py:889] add-flow
I1209 21:31:22.235672 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:456,output=1
I1209 21:31:22.263426 636804 net.py:893] add-flow in switch: dc22.s1 in_port: 7 out_port: 1
I1209 21:31:22.263600 636804 net.py:889] add-flow
I1209 21:31:22.263720 636804 net.py:890] in_port=49,dl_vlan=456,action=35
I1209 21:31:22.292610 636804 net.py:893] add-flow in switch: gsw0 in_port: 49 out_port: 35
I1209 21:31:22.292754 636804 net.py:694] end node reached: chain37-vpn
I1209 21:31:22.292896 636804 net.py:889] add-flow
I1209 21:31:22.292999 636804 net.py:890] in_port=1,dl_vlan=456,action=strip_vlan,output=21
I1209 21:31:22.330293 636804 net.py:893] add-flow in switch: dc47.s1 in_port: 1 out_port: 21
I1209 21:31:22.330501 636804 daisy.py:357] chain(chain37-vpn, chain37-sink) output: success: add-flow between chain37-vpn and chain37-sink with options: {
 "priority": 1000, 
 "path": [
  "dc47.s1", 
  "gsw0", 
  "dc22.s1"
 ], 
 "vlan": 455, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain37-sink and chain37-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc22.s1", 
  "gsw0", 
  "dc47.s1"
 ], 
 "vlan": 456, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:31:24 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:31:24 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:31:24 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:31:24 2017 UDPv4 link local: [undef]
Sat Dec  9 21:31:24 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:31:24 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=7517c1ff 7598adaf
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:31:24 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:31:24 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:31:24 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:31:25 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:31:25 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:31:25 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:31:25 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:31:25 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:31:25 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:31:25 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:31:25 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:31:27 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:31:27 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:31:27 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:31:27 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:31:27 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:31:27 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:31:27 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:e3
Sat Dec  9 21:31:27 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:31:27 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:31:27 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:31:27 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:31:27 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:31:27 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:31:27 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:31:27 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:31:27 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:31:27 2017 GID set to nogroup
Sat Dec  9 21:31:27 2017 UID set to nobody
Sat Dec  9 21:31:27 2017 Initialization Sequence Completed
I1209 21:31:30.738967 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:31:35.742237 636804 daisy.py:443] < 5s wait complete
I1209 21:31:35.742460 636804 daisy.py:444] VPN client VNF started
chain37-source -> chain37-sink 
chain37-sink -> chain37-source 
*** Results: 0% dropped (2/2 received)
I1209 21:31:38.303936 636804 daisy.py:369] ping chain37-source -> chain37-sink. Packet drop 0.0%
I1209 21:31:38.392455 636804 bench.py:19] Copying traces into the containers...
I1209 21:31:39.868686 636804 bench.py:29] Running dstat...
I1209 21:31:42.619416 636804 iter-e2-allocation.py:17] started allocating chain: 38
I1209 21:31:42.619883 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server35']
I1209 21:31:42.620028 636804 daisy.py:240] creating chain38-fw on chain-server35
D1209 21:31:42.621910 636804 node.py:55] Starting compute instance u'chain38-fw' in data center 'chain-server35'
D1209 21:31:43.700679 636804 simple.py:215] Setting MEM limit for u'chain35-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:31:43.736777 636804 simple.py:215] Setting MEM limit for u'chain35-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:43.771063 636804 simple.py:169] Setting CPU limit for u'chain35-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:31:43.834327 636804 simple.py:215] Setting MEM limit for u'chain35-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:43.869096 636804 simple.py:169] Setting CPU limit for u'chain38-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:31:43.930864 636804 simple.py:215] Setting MEM limit for u'chain38-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:43.960243 636804 simple.py:215] Setting MEM limit for u'chain35-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:44.329489 636804 net.py:233] addLink: n1=chain38-fw intf1=input -- n2=dc48.s1 intf2=dc48.s1-eth12
D1209 21:31:44.634512 636804 net.py:233] addLink: n1=chain38-fw intf1=output-ids -- n2=dc48.s1 intf2=dc48.s1-eth13
D1209 21:31:44.934458 636804 net.py:233] addLink: n1=chain38-fw intf1=output-vpn -- n2=dc48.s1 intf2=dc48.s1-eth14
I1209 21:31:44.934782 636804 daisy.py:310] successfully created VNF: chain38-fw
I1209 21:31:44.934957 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server35']
I1209 21:31:44.935106 636804 daisy.py:240] creating chain38-ids on chain-server35
D1209 21:31:44.936350 636804 node.py:55] Starting compute instance u'chain38-ids' in data center 'chain-server35'
D1209 21:31:45.920501 636804 simple.py:169] Setting CPU limit for u'chain38-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:31:45.997633 636804 simple.py:215] Setting MEM limit for u'chain38-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:31:46.036079 636804 simple.py:215] Setting MEM limit for u'chain35-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:31:46.070590 636804 simple.py:215] Setting MEM limit for u'chain35-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:46.107366 636804 simple.py:169] Setting CPU limit for u'chain35-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:31:46.179502 636804 simple.py:215] Setting MEM limit for u'chain35-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:46.212992 636804 simple.py:215] Setting MEM limit for u'chain35-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:46.245311 636804 simple.py:169] Setting CPU limit for u'chain38-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:31:46.306639 636804 simple.py:215] Setting MEM limit for u'chain38-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:46.670083 636804 net.py:233] addLink: n1=chain38-ids intf1=input -- n2=dc48.s1 intf2=dc48.s1-eth15
D1209 21:31:46.981525 636804 net.py:233] addLink: n1=chain38-ids intf1=output -- n2=dc48.s1 intf2=dc48.s1-eth16
I1209 21:31:46.981808 636804 daisy.py:310] successfully created VNF: chain38-ids
I1209 21:31:46.981966 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server35']
I1209 21:31:46.982086 636804 daisy.py:240] creating chain38-nat on chain-server35
D1209 21:31:46.983370 636804 node.py:55] Starting compute instance u'chain38-nat' in data center 'chain-server35'
D1209 21:31:47.974267 636804 simple.py:215] Setting MEM limit for u'chain38-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:31:48.014406 636804 simple.py:215] Setting MEM limit for u'chain35-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:31:48.044548 636804 simple.py:215] Setting MEM limit for u'chain35-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:48.075850 636804 simple.py:169] Setting CPU limit for u'chain35-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:31:48.141032 636804 simple.py:215] Setting MEM limit for u'chain35-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:48.173774 636804 simple.py:215] Setting MEM limit for u'chain35-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:48.203834 636804 simple.py:169] Setting CPU limit for u'chain38-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:31:48.272804 636804 simple.py:215] Setting MEM limit for u'chain38-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:48.301651 636804 simple.py:169] Setting CPU limit for u'chain38-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:31:48.360001 636804 simple.py:215] Setting MEM limit for u'chain38-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:48.723352 636804 net.py:233] addLink: n1=chain38-nat intf1=input -- n2=dc48.s1 intf2=dc48.s1-eth17
D1209 21:31:49.093648 636804 net.py:233] addLink: n1=chain38-nat intf1=output -- n2=dc48.s1 intf2=dc48.s1-eth18
I1209 21:31:49.093909 636804 daisy.py:310] successfully created VNF: chain38-nat
I1209 21:31:49.094186 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server35']
I1209 21:31:49.094408 636804 daisy.py:240] creating chain38-vpn on chain-server35
D1209 21:31:49.095710 636804 node.py:55] Starting compute instance u'chain38-vpn' in data center 'chain-server35'
D1209 21:31:50.103624 636804 simple.py:215] Setting MEM limit for u'chain38-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:31:50.142184 636804 simple.py:215] Setting MEM limit for u'chain35-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:31:50.175093 636804 simple.py:169] Setting CPU limit for u'chain38-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:31:50.240153 636804 simple.py:215] Setting MEM limit for u'chain38-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:50.275554 636804 simple.py:215] Setting MEM limit for u'chain35-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:50.319686 636804 simple.py:169] Setting CPU limit for u'chain35-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:31:50.382296 636804 simple.py:215] Setting MEM limit for u'chain35-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:50.419186 636804 simple.py:215] Setting MEM limit for u'chain35-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:50.452794 636804 simple.py:215] Setting MEM limit for u'chain38-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:50.486937 636804 simple.py:169] Setting CPU limit for u'chain38-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:31:50.545948 636804 simple.py:215] Setting MEM limit for u'chain38-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:50.968573 636804 net.py:233] addLink: n1=chain38-vpn intf1=input-ids -- n2=dc48.s1 intf2=dc48.s1-eth19
D1209 21:31:51.344574 636804 net.py:233] addLink: n1=chain38-vpn intf1=input-fw -- n2=dc48.s1 intf2=dc48.s1-eth20
D1209 21:31:51.677084 636804 net.py:233] addLink: n1=chain38-vpn intf1=output -- n2=dc48.s1 intf2=dc48.s1-eth21
I1209 21:31:51.677331 636804 daisy.py:310] successfully created VNF: chain38-vpn
I1209 21:31:51.677553 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud3']
I1209 21:31:51.677661 636804 daisy.py:240] creating chain38-sink on off-cloud3
D1209 21:31:51.678838 636804 node.py:55] Starting compute instance u'chain38-sink' in data center 'off-cloud3'
D1209 21:31:52.647064 636804 simple.py:215] Setting MEM limit for u'chain12-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:52.683842 636804 simple.py:215] Setting MEM limit for u'chain37-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:52.716752 636804 simple.py:169] Setting CPU limit for u'chain38-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:31:52.785221 636804 simple.py:215] Setting MEM limit for u'chain38-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:53.415899 636804 net.py:233] addLink: n1=chain38-sink intf1=intf2 -- n2=dc13.s1 intf2=dc13.s1-eth4
I1209 21:31:53.416198 636804 daisy.py:310] successfully created VNF: chain38-sink
I1209 21:31:53.416362 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud3']
I1209 21:31:53.416527 636804 daisy.py:240] creating chain38-source on off-cloud3
D1209 21:31:53.417772 636804 node.py:55] Starting compute instance u'chain38-source' in data center 'off-cloud3'
D1209 21:31:54.487442 636804 simple.py:215] Setting MEM limit for u'chain12-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:54.521804 636804 simple.py:215] Setting MEM limit for u'chain37-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:54.549801 636804 simple.py:215] Setting MEM limit for u'chain38-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:54.585253 636804 simple.py:169] Setting CPU limit for u'chain38-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:31:54.649667 636804 simple.py:215] Setting MEM limit for u'chain38-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:31:55.017147 636804 net.py:233] addLink: n1=chain38-source intf1=intf1 -- n2=dc13.s1 intf2=dc13.s1-eth5
I1209 21:31:55.017411 636804 daisy.py:310] successfully created VNF: chain38-source
I1209 21:31:55.017595 636804 daisy.py:311] successfully created chain: 38
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:31:58.851850 636804 daisy.py:401] source, nat, and fw start done
I1209 21:31:58.852133 636804 daisy.py:402] My commands
I1209 21:31:59.035031 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:32:01.037319 636804 daisy.py:419] < 2s wait complete
I1209 21:32:01.037596 636804 daisy.py:420] start VNF chaining
D1209 21:32:01.037779 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain38-source', vnf_src_interface='intf1', vnf_dst_name=u'chain38-nat', vnf_dst_interface='input'
I1209 21:32:01.038059 636804 net.py:665] Path between chain38-source and chain38-nat: ['dc13.s1', u'gsw0', 'dc48.s1']
I1209 21:32:01.038268 636804 net.py:889] add-flow
I1209 21:32:01.038373 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:457,output=1
I1209 21:32:01.044039 636804 net.py:893] add-flow in switch: dc13.s1 in_port: 5 out_port: 1
I1209 21:32:01.044208 636804 net.py:889] add-flow
I1209 21:32:01.044325 636804 net.py:890] in_port=44,dl_vlan=457,action=36
I1209 21:32:01.071785 636804 net.py:893] add-flow in switch: gsw0 in_port: 44 out_port: 36
I1209 21:32:01.071944 636804 net.py:694] end node reached: chain38-nat
I1209 21:32:01.072082 636804 net.py:889] add-flow
I1209 21:32:01.072185 636804 net.py:890] in_port=1,dl_vlan=457,action=strip_vlan,output=17
I1209 21:32:01.108195 636804 net.py:893] add-flow in switch: dc48.s1 in_port: 1 out_port: 17
D1209 21:32:01.108515 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain38-nat', vnf_src_interface='input', vnf_dst_name=u'chain38-source', vnf_dst_interface='intf1'
I1209 21:32:01.108733 636804 net.py:665] Path between chain38-nat and chain38-source: ['dc48.s1', u'gsw0', 'dc13.s1']
I1209 21:32:01.108894 636804 net.py:889] add-flow
I1209 21:32:01.109014 636804 net.py:890] -O OpenFlow13 in_port=17,action=mod_vlan_vid:458,output=1
I1209 21:32:01.142528 636804 net.py:893] add-flow in switch: dc48.s1 in_port: 17 out_port: 1
I1209 21:32:01.142707 636804 net.py:889] add-flow
I1209 21:32:01.142823 636804 net.py:890] in_port=36,dl_vlan=458,action=44
I1209 21:32:01.174911 636804 net.py:893] add-flow in switch: gsw0 in_port: 36 out_port: 44
I1209 21:32:01.175074 636804 net.py:694] end node reached: chain38-source
I1209 21:32:01.175209 636804 net.py:889] add-flow
I1209 21:32:01.175342 636804 net.py:890] in_port=1,dl_vlan=458,action=strip_vlan,output=5
I1209 21:32:01.204986 636804 net.py:893] add-flow in switch: dc13.s1 in_port: 1 out_port: 5
I1209 21:32:01.205240 636804 daisy.py:322] chain(chain38-source, chain38-nat) output: success: add-flow between chain38-source and chain38-nat with options: {
 "priority": 1000, 
 "path": [
  "dc13.s1", 
  "gsw0", 
  "dc48.s1"
 ], 
 "vlan": 457, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain38-nat and chain38-source with options: {
 "priority": 1000, 
 "path": [
  "dc48.s1", 
  "gsw0", 
  "dc13.s1"
 ], 
 "vlan": 458, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:32:01.205451 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain38-nat', vnf_src_interface='output', vnf_dst_name=u'chain38-fw', vnf_dst_interface='input'
I1209 21:32:01.205640 636804 net.py:665] Path between chain38-nat and chain38-fw: ['dc48.s1']
I1209 21:32:01.205775 636804 net.py:694] end node reached: chain38-fw
I1209 21:32:01.205907 636804 net.py:889] add-flow
I1209 21:32:01.206018 636804 net.py:890] -O OpenFlow13 in_port=18,action=mod_vlan_vid:459,output=12
I1209 21:32:01.239644 636804 net.py:893] add-flow in switch: dc48.s1 in_port: 18 out_port: 12
I1209 21:32:01.239809 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc48.s1 in_port: 18 out_port: 12
I1209 21:32:01.239927 636804 net.py:931] add-flow
I1209 21:32:01.240037 636804 net.py:932] in_port=18,action=strip_vlan,output=12
I1209 21:32:01.274178 636804 net.py:935] add-flow in switch: dc48.s1 in_port: 18 out_port: 12
D1209 21:32:01.274413 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain38-fw', vnf_src_interface='input', vnf_dst_name=u'chain38-nat', vnf_dst_interface='output'
I1209 21:32:01.274609 636804 net.py:665] Path between chain38-fw and chain38-nat: ['dc48.s1']
I1209 21:32:01.274755 636804 net.py:694] end node reached: chain38-nat
I1209 21:32:01.274892 636804 net.py:889] add-flow
I1209 21:32:01.275005 636804 net.py:890] -O OpenFlow13 in_port=12,action=mod_vlan_vid:460,output=18
I1209 21:32:01.336276 636804 net.py:893] add-flow in switch: dc48.s1 in_port: 12 out_port: 18
I1209 21:32:01.336426 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc48.s1 in_port: 12 out_port: 18
I1209 21:32:01.336564 636804 net.py:931] add-flow
I1209 21:32:01.336658 636804 net.py:932] in_port=12,action=strip_vlan,output=18
I1209 21:32:01.371968 636804 net.py:935] add-flow in switch: dc48.s1 in_port: 12 out_port: 18
I1209 21:32:01.372204 636804 daisy.py:329] chain(chain38-nat, chain38-fw) output: success: add-flow between chain38-nat and chain38-fw with options: {
 "priority": 1000, 
 "path": [
  "dc48.s1"
 ], 
 "vlan": 459, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain38-fw and chain38-nat with options: {
 "priority": 1000, 
 "path": [
  "dc48.s1"
 ], 
 "vlan": 460, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:32:01.372387 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain38-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain38-ids', vnf_dst_interface='input'
I1209 21:32:01.372576 636804 net.py:665] Path between chain38-fw and chain38-ids: ['dc48.s1']
I1209 21:32:01.372689 636804 net.py:694] end node reached: chain38-ids
I1209 21:32:01.372800 636804 net.py:889] add-flow
I1209 21:32:01.372891 636804 net.py:890] -O OpenFlow13 in_port=13,action=mod_vlan_vid:461,output=15
I1209 21:32:01.437135 636804 net.py:893] add-flow in switch: dc48.s1 in_port: 13 out_port: 15
D1209 21:32:01.437366 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain38-ids', vnf_src_interface='input', vnf_dst_name=u'chain38-fw', vnf_dst_interface='output-ids'
I1209 21:32:01.437536 636804 net.py:665] Path between chain38-ids and chain38-fw: ['dc48.s1']
I1209 21:32:01.437659 636804 net.py:694] end node reached: chain38-fw
I1209 21:32:01.437777 636804 net.py:889] add-flow
I1209 21:32:01.437880 636804 net.py:890] -O OpenFlow13 in_port=15,action=mod_vlan_vid:462,output=13
I1209 21:32:01.471158 636804 net.py:893] add-flow in switch: dc48.s1 in_port: 15 out_port: 13
I1209 21:32:01.471330 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc48.s1 in_port: 15 out_port: 13
I1209 21:32:01.471440 636804 net.py:931] add-flow
I1209 21:32:01.471564 636804 net.py:932] in_port=15,action=strip_vlan,output=13
I1209 21:32:01.503518 636804 net.py:935] add-flow in switch: dc48.s1 in_port: 15 out_port: 13
I1209 21:32:01.503756 636804 daisy.py:336] chain(chain38-fw, chain38-ids) output: success: add-flow between chain38-fw and chain38-ids with options: {
 "priority": 1000, 
 "path": [
  "dc48.s1"
 ], 
 "vlan": 461, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain38-ids and chain38-fw with options: {
 "priority": 1000, 
 "path": [
  "dc48.s1"
 ], 
 "vlan": 462, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:32:01.503928 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain38-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain38-vpn', vnf_dst_interface='input-fw'
I1209 21:32:01.504082 636804 net.py:665] Path between chain38-fw and chain38-vpn: ['dc48.s1']
I1209 21:32:01.504199 636804 net.py:694] end node reached: chain38-vpn
I1209 21:32:01.504328 636804 net.py:889] add-flow
I1209 21:32:01.504431 636804 net.py:890] -O OpenFlow13 in_port=14,action=mod_vlan_vid:463,output=20
I1209 21:32:01.536771 636804 net.py:893] add-flow in switch: dc48.s1 in_port: 14 out_port: 20
D1209 21:32:01.537034 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain38-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain38-fw', vnf_dst_interface='output-vpn'
I1209 21:32:01.537200 636804 net.py:665] Path between chain38-vpn and chain38-fw: ['dc48.s1']
I1209 21:32:01.537318 636804 net.py:694] end node reached: chain38-fw
I1209 21:32:01.537472 636804 net.py:889] add-flow
I1209 21:32:01.537594 636804 net.py:890] -O OpenFlow13 in_port=20,action=mod_vlan_vid:464,output=14
I1209 21:32:01.568387 636804 net.py:893] add-flow in switch: dc48.s1 in_port: 20 out_port: 14
I1209 21:32:01.568676 636804 daisy.py:343] chain(chain38-fw, chain38-vpn) output: success: add-flow between chain38-fw and chain38-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc48.s1"
 ], 
 "vlan": 463, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain38-vpn and chain38-fw with options: {
 "priority": 1000, 
 "path": [
  "dc48.s1"
 ], 
 "vlan": 464, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:32:01.568871 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain38-ids', vnf_src_interface='output', vnf_dst_name=u'chain38-vpn', vnf_dst_interface='input-ids'
I1209 21:32:01.569051 636804 net.py:665] Path between chain38-ids and chain38-vpn: ['dc48.s1']
I1209 21:32:01.569191 636804 net.py:694] end node reached: chain38-vpn
I1209 21:32:01.569333 636804 net.py:889] add-flow
I1209 21:32:01.569478 636804 net.py:890] -O OpenFlow13 in_port=16,action=mod_vlan_vid:465,output=19
I1209 21:32:01.598356 636804 net.py:893] add-flow in switch: dc48.s1 in_port: 16 out_port: 19
I1209 21:32:01.598556 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc48.s1 in_port: 16 out_port: 19
I1209 21:32:01.598684 636804 net.py:931] add-flow
I1209 21:32:01.598797 636804 net.py:932] in_port=16,action=strip_vlan,output=19
I1209 21:32:01.629930 636804 net.py:935] add-flow in switch: dc48.s1 in_port: 16 out_port: 19
D1209 21:32:01.630256 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain38-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain38-ids', vnf_dst_interface='output'
I1209 21:32:01.630459 636804 net.py:665] Path between chain38-vpn and chain38-ids: ['dc48.s1']
I1209 21:32:01.630619 636804 net.py:694] end node reached: chain38-ids
I1209 21:32:01.630753 636804 net.py:889] add-flow
I1209 21:32:01.630870 636804 net.py:890] -O OpenFlow13 in_port=19,action=mod_vlan_vid:466,output=16
I1209 21:32:01.701214 636804 net.py:893] add-flow in switch: dc48.s1 in_port: 19 out_port: 16
I1209 21:32:01.701499 636804 daisy.py:350] chain(chain38-ids, chain38-vpn) output: success: add-flow between chain38-ids and chain38-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc48.s1"
 ], 
 "vlan": 465, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain38-vpn and chain38-ids with options: {
 "priority": 1000, 
 "path": [
  "dc48.s1"
 ], 
 "vlan": 466, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:32:01.701689 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain38-vpn', vnf_src_interface='output', vnf_dst_name=u'chain38-sink', vnf_dst_interface='intf2'
I1209 21:32:01.701884 636804 net.py:665] Path between chain38-vpn and chain38-sink: ['dc48.s1', u'gsw0', 'dc13.s1']
I1209 21:32:01.702044 636804 net.py:889] add-flow
I1209 21:32:01.702255 636804 net.py:890] -O OpenFlow13 in_port=21,action=mod_vlan_vid:467,output=1
I1209 21:32:01.738348 636804 net.py:893] add-flow in switch: dc48.s1 in_port: 21 out_port: 1
I1209 21:32:01.738548 636804 net.py:889] add-flow
I1209 21:32:01.738679 636804 net.py:890] in_port=36,dl_vlan=467,action=44
I1209 21:32:01.771727 636804 net.py:893] add-flow in switch: gsw0 in_port: 36 out_port: 44
I1209 21:32:01.771895 636804 net.py:694] end node reached: chain38-sink
I1209 21:32:01.772034 636804 net.py:889] add-flow
I1209 21:32:01.772161 636804 net.py:890] in_port=1,dl_vlan=467,action=strip_vlan,output=4
I1209 21:32:01.805665 636804 net.py:893] add-flow in switch: dc13.s1 in_port: 1 out_port: 4
D1209 21:32:01.805921 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain38-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain38-vpn', vnf_dst_interface='output'
I1209 21:32:01.806200 636804 net.py:665] Path between chain38-sink and chain38-vpn: ['dc13.s1', u'gsw0', 'dc48.s1']
I1209 21:32:01.806360 636804 net.py:889] add-flow
I1209 21:32:01.806497 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:468,output=1
I1209 21:32:01.840581 636804 net.py:893] add-flow in switch: dc13.s1 in_port: 4 out_port: 1
I1209 21:32:01.840764 636804 net.py:889] add-flow
I1209 21:32:01.840893 636804 net.py:890] in_port=44,dl_vlan=468,action=36
I1209 21:32:01.869337 636804 net.py:893] add-flow in switch: gsw0 in_port: 44 out_port: 36
I1209 21:32:01.869523 636804 net.py:694] end node reached: chain38-vpn
I1209 21:32:01.869663 636804 net.py:889] add-flow
I1209 21:32:01.869788 636804 net.py:890] in_port=1,dl_vlan=468,action=strip_vlan,output=21
I1209 21:32:01.899682 636804 net.py:893] add-flow in switch: dc48.s1 in_port: 1 out_port: 21
I1209 21:32:01.899920 636804 daisy.py:357] chain(chain38-vpn, chain38-sink) output: success: add-flow between chain38-vpn and chain38-sink with options: {
 "priority": 1000, 
 "path": [
  "dc48.s1", 
  "gsw0", 
  "dc13.s1"
 ], 
 "vlan": 467, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain38-sink and chain38-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc13.s1", 
  "gsw0", 
  "dc48.s1"
 ], 
 "vlan": 468, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
udo docker exec mn.chain37-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain37-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain37-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain37-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain37-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain37-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain37-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain37-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain37-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain37-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain37-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain37-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain37-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain37-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain37-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain37-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain37-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.0238799999999999, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server35'], [u'ids', u'chain-server35'], [u'nat', u'chain-server35'], [u'vpn', u'chain-server35'], [u'sink', u'off-cloud3'], [u'source', u'off-cloud3']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 1.7512159999999999, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud3', 2], [u'chain-server35', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server35', 2], [u'off-cloud3', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain38-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain38-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain38-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain38-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain38-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain38-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain38-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain38-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain38-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain38-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain38-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain38-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain38-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain38-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain38-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain38-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain38-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain38-sink ufw enable (0 is success)
r * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:32:04 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:32:04 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:32:04 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:32:04 2017 UDPv4 link local: [undef]
Sat Dec  9 21:32:04 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:32:04 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=c8933ea0 a609211b
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:32:04 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:32:04 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:32:04 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:32:04 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:32:04 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:32:04 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:32:04 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:32:04 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:32:04 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:32:04 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:32:04 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:32:06 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:32:06 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:32:06 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:32:06 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:32:06 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:32:06 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:32:06 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:e9
Sat Dec  9 21:32:06 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:32:06 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:32:06 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:32:06 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:32:06 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:32:06 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:32:06 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:32:06 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:32:06 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:32:06 2017 GID set to nogroup
Sat Dec  9 21:32:06 2017 UID set to nobody
Sat Dec  9 21:32:06 2017 Initialization Sequence Completed
I1209 21:32:09.455463 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:32:14.458239 636804 daisy.py:443] < 5s wait complete
I1209 21:32:14.458499 636804 daisy.py:444] VPN client VNF started
chain38-source -> chain38-sink 
chain38-sink -> chain38-source 
*** Results: 0% dropped (2/2 received)
I1209 21:32:17.945240 636804 daisy.py:369] ping chain38-source -> chain38-sink. Packet drop 0.0%
I1209 21:32:18.025186 636804 bench.py:19] Copying traces into the containers...
I1209 21:32:19.681298 636804 bench.py:29] Running dstat...
I1209 21:32:22.035197 636804 iter-e2-allocation.py:17] started allocating chain: 39
I1209 21:32:22.035794 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server37']
I1209 21:32:22.036041 636804 daisy.py:240] creating chain39-fw on chain-server37
D1209 21:32:22.037436 636804 node.py:55] Starting compute instance u'chain39-fw' in data center 'chain-server37'
D1209 21:32:23.042149 636804 simple.py:169] Setting CPU limit for u'chain12-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:32:23.120892 636804 simple.py:215] Setting MEM limit for u'chain12-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:32:23.155875 636804 simple.py:215] Setting MEM limit for u'chain12-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:32:23.187956 636804 simple.py:215] Setting MEM limit for u'chain12-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:32:23.222165 636804 simple.py:215] Setting MEM limit for u'chain12-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:32:23.256144 636804 simple.py:169] Setting CPU limit for u'chain39-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:32:23.319674 636804 simple.py:215] Setting MEM limit for u'chain39-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:32:23.687762 636804 net.py:233] addLink: n1=chain39-fw intf1=input -- n2=dc12.s1 intf2=dc12.s1-eth12
D1209 21:32:24.024519 636804 net.py:233] addLink: n1=chain39-fw intf1=output-ids -- n2=dc12.s1 intf2=dc12.s1-eth13
D1209 21:32:24.354866 636804 net.py:233] addLink: n1=chain39-fw intf1=output-vpn -- n2=dc12.s1 intf2=dc12.s1-eth14
I1209 21:32:24.355124 636804 daisy.py:310] successfully created VNF: chain39-fw
I1209 21:32:24.355289 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server37']
I1209 21:32:24.355422 636804 daisy.py:240] creating chain39-ids on chain-server37
D1209 21:32:24.356853 636804 node.py:55] Starting compute instance u'chain39-ids' in data center 'chain-server37'
D1209 21:32:25.353595 636804 simple.py:215] Setting MEM limit for u'chain12-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:32:25.391211 636804 simple.py:215] Setting MEM limit for u'chain12-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:32:25.425105 636804 simple.py:169] Setting CPU limit for u'chain39-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:32:25.483598 636804 simple.py:215] Setting MEM limit for u'chain39-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:32:25.515844 636804 simple.py:169] Setting CPU limit for u'chain12-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:32:25.584810 636804 simple.py:215] Setting MEM limit for u'chain12-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:32:25.616400 636804 simple.py:215] Setting MEM limit for u'chain12-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:32:25.646023 636804 simple.py:169] Setting CPU limit for u'chain39-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:32:25.714641 636804 simple.py:215] Setting MEM limit for u'chain39-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:32:26.083966 636804 net.py:233] addLink: n1=chain39-ids intf1=input -- n2=dc12.s1 intf2=dc12.s1-eth15
D1209 21:32:26.418880 636804 net.py:233] addLink: n1=chain39-ids intf1=output -- n2=dc12.s1 intf2=dc12.s1-eth16
I1209 21:32:26.419169 636804 daisy.py:310] successfully created VNF: chain39-ids
I1209 21:32:26.419321 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server37']
I1209 21:32:26.419460 636804 daisy.py:240] creating chain39-nat on chain-server37
D1209 21:32:26.420777 636804 node.py:55] Starting compute instance u'chain39-nat' in data center 'chain-server37'
D1209 21:32:27.374353 636804 simple.py:215] Setting MEM limit for u'chain12-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:32:27.413455 636804 simple.py:215] Setting MEM limit for u'chain12-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:32:27.446297 636804 simple.py:169] Setting CPU limit for u'chain39-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:32:27.515253 636804 simple.py:215] Setting MEM limit for u'chain39-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:32:27.552553 636804 simple.py:169] Setting CPU limit for u'chain12-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:32:27.619508 636804 simple.py:215] Setting MEM limit for u'chain12-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:32:27.655297 636804 simple.py:215] Setting MEM limit for u'chain12-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:32:27.686923 636804 simple.py:169] Setting CPU limit for u'chain39-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:32:27.747963 636804 simple.py:215] Setting MEM limit for u'chain39-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:32:27.776223 636804 simple.py:215] Setting MEM limit for u'chain39-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:32:28.163696 636804 net.py:233] addLink: n1=chain39-nat intf1=input -- n2=dc12.s1 intf2=dc12.s1-eth17
D1209 21:32:28.513231 636804 net.py:233] addLink: n1=chain39-nat intf1=output -- n2=dc12.s1 intf2=dc12.s1-eth18
I1209 21:32:28.513515 636804 daisy.py:310] successfully created VNF: chain39-nat
I1209 21:32:28.513669 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server37']
I1209 21:32:28.513803 636804 daisy.py:240] creating chain39-vpn on chain-server37
D1209 21:32:28.515197 636804 node.py:55] Starting compute instance u'chain39-vpn' in data center 'chain-server37'
D1209 21:32:29.551470 636804 simple.py:215] Setting MEM limit for u'chain12-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:32:29.585149 636804 simple.py:215] Setting MEM limit for u'chain12-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:32:29.616267 636804 simple.py:169] Setting CPU limit for u'chain39-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:32:29.684586 636804 simple.py:215] Setting MEM limit for u'chain39-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:32:29.718358 636804 simple.py:169] Setting CPU limit for u'chain39-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:32:29.782676 636804 simple.py:215] Setting MEM limit for u'chain39-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:32:29.814054 636804 simple.py:169] Setting CPU limit for u'chain12-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:32:29.873270 636804 simple.py:215] Setting MEM limit for u'chain12-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:32:29.903038 636804 simple.py:215] Setting MEM limit for u'chain12-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:32:29.935061 636804 simple.py:215] Setting MEM limit for u'chain39-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:32:29.966506 636804 simple.py:215] Setting MEM limit for u'chain39-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:32:30.334562 636804 net.py:233] addLink: n1=chain39-vpn intf1=input-ids -- n2=dc12.s1 intf2=dc12.s1-eth19
D1209 21:32:30.656220 636804 net.py:233] addLink: n1=chain39-vpn intf1=input-fw -- n2=dc12.s1 intf2=dc12.s1-eth20
D1209 21:32:30.992774 636804 net.py:233] addLink: n1=chain39-vpn intf1=output -- n2=dc12.s1 intf2=dc12.s1-eth21
I1209 21:32:30.993052 636804 daisy.py:310] successfully created VNF: chain39-vpn
I1209 21:32:30.993237 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud3']
I1209 21:32:30.993406 636804 daisy.py:240] creating chain39-sink on off-cloud3
D1209 21:32:30.994733 636804 node.py:55] Starting compute instance u'chain39-sink' in data center 'off-cloud3'
D1209 21:32:32.027034 636804 simple.py:215] Setting MEM limit for u'chain12-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:32:32.066950 636804 simple.py:215] Setting MEM limit for u'chain37-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:32:32.104218 636804 simple.py:215] Setting MEM limit for u'chain38-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:32:32.141272 636804 simple.py:215] Setting MEM limit for u'chain38-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:32:32.178294 636804 simple.py:169] Setting CPU limit for u'chain39-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:32:32.240652 636804 simple.py:215] Setting MEM limit for u'chain39-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:32:32.632651 636804 net.py:233] addLink: n1=chain39-sink intf1=intf2 -- n2=dc13.s1 intf2=dc13.s1-eth6
I1209 21:32:32.632940 636804 daisy.py:310] successfully created VNF: chain39-sink
I1209 21:32:32.633091 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud3']
I1209 21:32:32.633213 636804 daisy.py:240] creating chain39-source on off-cloud3
D1209 21:32:32.634588 636804 node.py:55] Starting compute instance u'chain39-source' in data center 'off-cloud3'
D1209 21:32:33.572994 636804 simple.py:169] Setting CPU limit for u'chain39-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:32:33.637027 636804 simple.py:215] Setting MEM limit for u'chain39-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:32:33.671901 636804 simple.py:215] Setting MEM limit for u'chain38-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:32:33.704667 636804 simple.py:215] Setting MEM limit for u'chain39-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:32:33.743522 636804 simple.py:215] Setting MEM limit for u'chain37-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:32:33.777815 636804 simple.py:215] Setting MEM limit for u'chain12-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:32:33.812958 636804 simple.py:215] Setting MEM limit for u'chain38-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:32:34.194528 636804 net.py:233] addLink: n1=chain39-source intf1=intf1 -- n2=dc13.s1 intf2=dc13.s1-eth7
I1209 21:32:34.194861 636804 daisy.py:310] successfully created VNF: chain39-source
I1209 21:32:34.195050 636804 daisy.py:311] successfully created chain: 39
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:32:38.276634 636804 daisy.py:401] source, nat, and fw start done
I1209 21:32:38.276902 636804 daisy.py:402] My commands
I1209 21:32:38.485809 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:32:40.488274 636804 daisy.py:419] < 2s wait complete
I1209 21:32:40.488507 636804 daisy.py:420] start VNF chaining
D1209 21:32:40.488651 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain39-source', vnf_src_interface='intf1', vnf_dst_name=u'chain39-nat', vnf_dst_interface='input'
I1209 21:32:40.488945 636804 net.py:665] Path between chain39-source and chain39-nat: ['dc13.s1', u'gsw0', 'dc12.s1']
I1209 21:32:40.489119 636804 net.py:889] add-flow
I1209 21:32:40.489193 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:469,output=1
I1209 21:32:40.497235 636804 net.py:893] add-flow in switch: dc13.s1 in_port: 7 out_port: 1
I1209 21:32:40.497422 636804 net.py:889] add-flow
I1209 21:32:40.497510 636804 net.py:890] in_port=44,dl_vlan=469,action=38
I1209 21:32:40.527085 636804 net.py:893] add-flow in switch: gsw0 in_port: 44 out_port: 38
I1209 21:32:40.527224 636804 net.py:694] end node reached: chain39-nat
I1209 21:32:40.527364 636804 net.py:889] add-flow
I1209 21:32:40.527467 636804 net.py:890] in_port=1,dl_vlan=469,action=strip_vlan,output=17
I1209 21:32:40.572192 636804 net.py:893] add-flow in switch: dc12.s1 in_port: 1 out_port: 17
D1209 21:32:40.572514 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain39-nat', vnf_src_interface='input', vnf_dst_name=u'chain39-source', vnf_dst_interface='intf1'
I1209 21:32:40.572720 636804 net.py:665] Path between chain39-nat and chain39-source: ['dc12.s1', u'gsw0', 'dc13.s1']
I1209 21:32:40.572853 636804 net.py:889] add-flow
I1209 21:32:40.572940 636804 net.py:890] -O OpenFlow13 in_port=17,action=mod_vlan_vid:470,output=1
I1209 21:32:40.606153 636804 net.py:893] add-flow in switch: dc12.s1 in_port: 17 out_port: 1
I1209 21:32:40.606312 636804 net.py:889] add-flow
I1209 21:32:40.606427 636804 net.py:890] in_port=38,dl_vlan=470,action=44
I1209 21:32:40.643474 636804 net.py:893] add-flow in switch: gsw0 in_port: 38 out_port: 44
I1209 21:32:40.643647 636804 net.py:694] end node reached: chain39-source
I1209 21:32:40.643760 636804 net.py:889] add-flow
I1209 21:32:40.643847 636804 net.py:890] in_port=1,dl_vlan=470,action=strip_vlan,output=7
I1209 21:32:40.676027 636804 net.py:893] add-flow in switch: dc13.s1 in_port: 1 out_port: 7
I1209 21:32:40.676258 636804 daisy.py:322] chain(chain39-source, chain39-nat) output: success: add-flow between chain39-source and chain39-nat with options: {
 "priority": 1000, 
 "path": [
  "dc13.s1", 
  "gsw0", 
  "dc12.s1"
 ], 
 "vlan": 469, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain39-nat and chain39-source with options: {
 "priority": 1000, 
 "path": [
  "dc12.s1", 
  "gsw0", 
  "dc13.s1"
 ], 
 "vlan": 470, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:32:40.676462 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain39-nat', vnf_src_interface='output', vnf_dst_name=u'chain39-fw', vnf_dst_interface='input'
I1209 21:32:40.676647 636804 net.py:665] Path between chain39-nat and chain39-fw: ['dc12.s1']
I1209 21:32:40.676748 636804 net.py:694] end node reached: chain39-fw
I1209 21:32:40.676842 636804 net.py:889] add-flow
I1209 21:32:40.676933 636804 net.py:890] -O OpenFlow13 in_port=18,action=mod_vlan_vid:471,output=12
I1209 21:32:40.712204 636804 net.py:893] add-flow in switch: dc12.s1 in_port: 18 out_port: 12
I1209 21:32:40.712379 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc12.s1 in_port: 18 out_port: 12
I1209 21:32:40.712498 636804 net.py:931] add-flow
I1209 21:32:40.712575 636804 net.py:932] in_port=18,action=strip_vlan,output=12
I1209 21:32:40.744896 636804 net.py:935] add-flow in switch: dc12.s1 in_port: 18 out_port: 12
D1209 21:32:40.745114 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain39-fw', vnf_src_interface='input', vnf_dst_name=u'chain39-nat', vnf_dst_interface='output'
I1209 21:32:40.745245 636804 net.py:665] Path between chain39-fw and chain39-nat: ['dc12.s1']
I1209 21:32:40.745374 636804 net.py:694] end node reached: chain39-nat
I1209 21:32:40.745452 636804 net.py:889] add-flow
I1209 21:32:40.745512 636804 net.py:890] -O OpenFlow13 in_port=12,action=mod_vlan_vid:472,output=18
I1209 21:32:40.817250 636804 net.py:893] add-flow in switch: dc12.s1 in_port: 12 out_port: 18
I1209 21:32:40.817440 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc12.s1 in_port: 12 out_port: 18
I1209 21:32:40.817549 636804 net.py:931] add-flow
I1209 21:32:40.817630 636804 net.py:932] in_port=12,action=strip_vlan,output=18
I1209 21:32:40.853617 636804 net.py:935] add-flow in switch: dc12.s1 in_port: 12 out_port: 18
I1209 21:32:40.853857 636804 daisy.py:329] chain(chain39-nat, chain39-fw) output: success: add-flow between chain39-nat and chain39-fw with options: {
 "priority": 1000, 
 "path": [
  "dc12.s1"
 ], 
 "vlan": 471, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain39-fw and chain39-nat with options: {
 "priority": 1000, 
 "path": [
  "dc12.s1"
 ], 
 "vlan": 472, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:32:40.854018 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain39-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain39-ids', vnf_dst_interface='input'
I1209 21:32:40.854260 636804 net.py:665] Path between chain39-fw and chain39-ids: ['dc12.s1']
I1209 21:32:40.854439 636804 net.py:694] end node reached: chain39-ids
I1209 21:32:40.854552 636804 net.py:889] add-flow
I1209 21:32:40.854624 636804 net.py:890] -O OpenFlow13 in_port=13,action=mod_vlan_vid:473,output=15
I1209 21:32:40.915641 636804 net.py:893] add-flow in switch: dc12.s1 in_port: 13 out_port: 15
D1209 21:32:40.916829 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain39-ids', vnf_src_interface='input', vnf_dst_name=u'chain39-fw', vnf_dst_interface='output-ids'
I1209 21:32:40.916949 636804 net.py:665] Path between chain39-ids and chain39-fw: ['dc12.s1']
I1209 21:32:40.917027 636804 net.py:694] end node reached: chain39-fw
I1209 21:32:40.917114 636804 net.py:889] add-flow
I1209 21:32:40.917192 636804 net.py:890] -O OpenFlow13 in_port=15,action=mod_vlan_vid:474,output=13
I1209 21:32:40.951033 636804 net.py:893] add-flow in switch: dc12.s1 in_port: 15 out_port: 13
I1209 21:32:40.951138 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc12.s1 in_port: 15 out_port: 13
I1209 21:32:40.951193 636804 net.py:931] add-flow
I1209 21:32:40.951234 636804 net.py:932] in_port=15,action=strip_vlan,output=13
I1209 21:32:40.986186 636804 net.py:935] add-flow in switch: dc12.s1 in_port: 15 out_port: 13
I1209 21:32:40.986454 636804 daisy.py:336] chain(chain39-fw, chain39-ids) output: success: add-flow between chain39-fw and chain39-ids with options: {
 "priority": 1000, 
 "path": [
  "dc12.s1"
 ], 
 "vlan": 473, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain39-ids and chain39-fw with options: {
 "priority": 1000, 
 "path": [
  "dc12.s1"
 ], 
 "vlan": 474, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:32:40.986650 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain39-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain39-vpn', vnf_dst_interface='input-fw'
I1209 21:32:40.986867 636804 net.py:665] Path between chain39-fw and chain39-vpn: ['dc12.s1']
I1209 21:32:40.986959 636804 net.py:694] end node reached: chain39-vpn
I1209 21:32:40.987031 636804 net.py:889] add-flow
I1209 21:32:40.987087 636804 net.py:890] -O OpenFlow13 in_port=14,action=mod_vlan_vid:475,output=20
I1209 21:32:41.051573 636804 net.py:893] add-flow in switch: dc12.s1 in_port: 14 out_port: 20
D1209 21:32:41.051738 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain39-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain39-fw', vnf_dst_interface='output-vpn'
I1209 21:32:41.051841 636804 net.py:665] Path between chain39-vpn and chain39-fw: ['dc12.s1']
I1209 21:32:41.051943 636804 net.py:694] end node reached: chain39-fw
I1209 21:32:41.052032 636804 net.py:889] add-flow
I1209 21:32:41.052089 636804 net.py:890] -O OpenFlow13 in_port=20,action=mod_vlan_vid:476,output=14
I1209 21:32:41.086410 636804 net.py:893] add-flow in switch: dc12.s1 in_port: 20 out_port: 14
I1209 21:32:41.086656 636804 daisy.py:343] chain(chain39-fw, chain39-vpn) output: success: add-flow between chain39-fw and chain39-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc12.s1"
 ], 
 "vlan": 475, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain39-vpn and chain39-fw with options: {
 "priority": 1000, 
 "path": [
  "dc12.s1"
 ], 
 "vlan": 476, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:32:41.086827 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain39-ids', vnf_src_interface='output', vnf_dst_name=u'chain39-vpn', vnf_dst_interface='input-ids'
I1209 21:32:41.087007 636804 net.py:665] Path between chain39-ids and chain39-vpn: ['dc12.s1']
I1209 21:32:41.087132 636804 net.py:694] end node reached: chain39-vpn
I1209 21:32:41.087254 636804 net.py:889] add-flow
I1209 21:32:41.087390 636804 net.py:890] -O OpenFlow13 in_port=16,action=mod_vlan_vid:477,output=19
I1209 21:32:41.122025 636804 net.py:893] add-flow in switch: dc12.s1 in_port: 16 out_port: 19
I1209 21:32:41.122248 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc12.s1 in_port: 16 out_port: 19
I1209 21:32:41.122317 636804 net.py:931] add-flow
I1209 21:32:41.122407 636804 net.py:932] in_port=16,action=strip_vlan,output=19
I1209 21:32:41.156431 636804 net.py:935] add-flow in switch: dc12.s1 in_port: 16 out_port: 19
D1209 21:32:41.156668 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain39-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain39-ids', vnf_dst_interface='output'
I1209 21:32:41.156845 636804 net.py:665] Path between chain39-vpn and chain39-ids: ['dc12.s1']
I1209 21:32:41.156977 636804 net.py:694] end node reached: chain39-ids
I1209 21:32:41.157105 636804 net.py:889] add-flow
I1209 21:32:41.157217 636804 net.py:890] -O OpenFlow13 in_port=19,action=mod_vlan_vid:478,output=16
I1209 21:32:41.226212 636804 net.py:893] add-flow in switch: dc12.s1 in_port: 19 out_port: 16
I1209 21:32:41.226483 636804 daisy.py:350] chain(chain39-ids, chain39-vpn) output: success: add-flow between chain39-ids and chain39-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc12.s1"
 ], 
 "vlan": 477, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain39-vpn and chain39-ids with options: {
 "priority": 1000, 
 "path": [
  "dc12.s1"
 ], 
 "vlan": 478, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:32:41.226639 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain39-vpn', vnf_src_interface='output', vnf_dst_name=u'chain39-sink', vnf_dst_interface='intf2'
I1209 21:32:41.226807 636804 net.py:665] Path between chain39-vpn and chain39-sink: ['dc12.s1', u'gsw0', 'dc13.s1']
I1209 21:32:41.226947 636804 net.py:889] add-flow
I1209 21:32:41.227039 636804 net.py:890] -O OpenFlow13 in_port=21,action=mod_vlan_vid:479,output=1
I1209 21:32:41.257138 636804 net.py:893] add-flow in switch: dc12.s1 in_port: 21 out_port: 1
I1209 21:32:41.257291 636804 net.py:889] add-flow
I1209 21:32:41.257411 636804 net.py:890] in_port=38,dl_vlan=479,action=44
I1209 21:32:41.294219 636804 net.py:893] add-flow in switch: gsw0 in_port: 38 out_port: 44
I1209 21:32:41.294378 636804 net.py:694] end node reached: chain39-sink
I1209 21:32:41.294495 636804 net.py:889] add-flow
I1209 21:32:41.294585 636804 net.py:890] in_port=1,dl_vlan=479,action=strip_vlan,output=6
I1209 21:32:41.326761 636804 net.py:893] add-flow in switch: dc13.s1 in_port: 1 out_port: 6
D1209 21:32:41.326996 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain39-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain39-vpn', vnf_dst_interface='output'
I1209 21:32:41.327171 636804 net.py:665] Path between chain39-sink and chain39-vpn: ['dc13.s1', u'gsw0', 'dc12.s1']
I1209 21:32:41.327303 636804 net.py:889] add-flow
I1209 21:32:41.327434 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:480,output=1
I1209 21:32:41.362143 636804 net.py:893] add-flow in switch: dc13.s1 in_port: 6 out_port: 1
I1209 21:32:41.362312 636804 net.py:889] add-flow
I1209 21:32:41.362447 636804 net.py:890] in_port=44,dl_vlan=480,action=38
I1209 21:32:41.394627 636804 net.py:893] add-flow in switch: gsw0 in_port: 44 out_port: 38
I1209 21:32:41.394759 636804 net.py:694] end node reached: chain39-vpn
I1209 21:32:41.394865 636804 net.py:889] add-flow
I1209 21:32:41.394932 636804 net.py:890] in_port=1,dl_vlan=480,action=strip_vlan,output=21
I1209 21:32:41.429809 636804 net.py:893] add-flow in switch: dc12.s1 in_port: 1 out_port: 21
I1209 21:32:41.430042 636804 daisy.py:357] chain(chain39-vpn, chain39-sink) output: success: add-flow between chain39-vpn and chain39-sink with options: {
 "priority": 1000, 
 "path": [
  "dc12.s1", 
  "gsw0", 
  "dc13.s1"
 ], 
 "vlan": 479, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain39-sink and chain39-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc13.s1", 
  "gsw0", 
  "dc12.s1"
 ], 
 "vlan": 480, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:32:43 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:32:43 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:32:43 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:32:43 2017 UDPv4 link local: [undef]
Sat Dec  9 21:32:43 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:32:43 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=efa85d13 9aad56da
Sat Dec  9 21:32:43 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:32:43 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:32:43 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:32:43 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:32:43 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:32:43 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:32:43 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:32:43 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:32:43 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:32:43 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:32:43 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:32:46 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:32:46 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:32:46 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:32:46 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:32:46 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:32:46 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:32:46 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:ef
Sat Dec  9 21:32:46 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:32:46 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:32:46 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:32:46 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:32:46 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:32:46 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:32:46 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:32:46 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:32:46 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:32:46 2017 GID set to nogroup
Sat Dec  9 21:32:46 2017 UID set to nobody
Sat Dec  9 21:32:46 2017 Initialization Sequence Completed
I1209 21:32:49.046890 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:32:54.050189 636804 daisy.py:443] < 5s wait complete
I1209 21:32:54.050467 636804 daisy.py:444] VPN client VNF started
chain39-source -> chain39-sink 
chain39-sink -> chain39-source 
*** Results: 0% dropped (2/2 received)
I1209 21:32:56.475435 636804 daisy.py:369] ping chain39-source -> chain39-sink. Packet drop 0.0%
I1209 21:32:56.558998 636804 bench.py:19] Copying traces into the containers...
I1209 21:32:58.149596 636804 bench.py:29] Running dstat...
eturned 0 from sudo docker exec mn.chain38-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain38-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain38-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain38-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain38-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain38-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain38-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain38-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.022440999999999933, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server37'], [u'ids', u'chain-server37'], [u'nat', u'chain-server37'], [u'vpn', u'chain-server37'], [u'sink', u'off-cloud3'], [u'source', u'off-cloud3']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 1.712831, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud3', 2], [u'chain-server37', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server37', 2], [u'off-cloud3', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain39-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain39-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain39-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain39-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain39-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain39-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain39-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain39-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain39-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain39-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain39-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain39-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain39-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain39-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain39-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain39-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain39-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain39-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain39-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain39-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain39-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain39-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain39-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain39-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain39-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain39-I1209 21:33:01.652206 636804 iter-e2-allocation.py:17] started allocating chain: 40
I1209 21:33:01.652652 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server36']
I1209 21:33:01.652786 636804 daisy.py:240] creating chain40-fw on chain-server36
D1209 21:33:01.655306 636804 node.py:55] Starting compute instance u'chain40-fw' in data center 'chain-server36'
D1209 21:33:02.685379 636804 simple.py:169] Setting CPU limit for u'chain40-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:33:02.828668 636804 simple.py:215] Setting MEM limit for u'chain40-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:03.203977 636804 net.py:233] addLink: n1=chain40-fw intf1=input -- n2=dc11.s1 intf2=dc11.s1-eth2
D1209 21:33:03.508852 636804 net.py:233] addLink: n1=chain40-fw intf1=output-ids -- n2=dc11.s1 intf2=dc11.s1-eth3
D1209 21:33:03.824609 636804 net.py:233] addLink: n1=chain40-fw intf1=output-vpn -- n2=dc11.s1 intf2=dc11.s1-eth4
I1209 21:33:03.824830 636804 daisy.py:310] successfully created VNF: chain40-fw
I1209 21:33:03.825007 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server36']
I1209 21:33:03.825153 636804 daisy.py:240] creating chain40-ids on chain-server36
D1209 21:33:03.826374 636804 node.py:55] Starting compute instance u'chain40-ids' in data center 'chain-server36'
D1209 21:33:04.871279 636804 simple.py:169] Setting CPU limit for u'chain40-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:33:04.943784 636804 simple.py:215] Setting MEM limit for u'chain40-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:33:04.978866 636804 simple.py:169] Setting CPU limit for u'chain40-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:33:05.043495 636804 simple.py:215] Setting MEM limit for u'chain40-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:05.412240 636804 net.py:233] addLink: n1=chain40-ids intf1=input -- n2=dc11.s1 intf2=dc11.s1-eth5
D1209 21:33:05.739185 636804 net.py:233] addLink: n1=chain40-ids intf1=output -- n2=dc11.s1 intf2=dc11.s1-eth6
I1209 21:33:05.739459 636804 daisy.py:310] successfully created VNF: chain40-ids
I1209 21:33:05.739610 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server36']
I1209 21:33:05.739732 636804 daisy.py:240] creating chain40-nat on chain-server36
D1209 21:33:05.740974 636804 node.py:55] Starting compute instance u'chain40-nat' in data center 'chain-server36'
D1209 21:33:06.769256 636804 simple.py:215] Setting MEM limit for u'chain40-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:33:06.809415 636804 simple.py:169] Setting CPU limit for u'chain40-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:33:06.877886 636804 simple.py:215] Setting MEM limit for u'chain40-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:06.911106 636804 simple.py:169] Setting CPU limit for u'chain40-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:33:06.989460 636804 simple.py:215] Setting MEM limit for u'chain40-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:07.356885 636804 net.py:233] addLink: n1=chain40-nat intf1=input -- n2=dc11.s1 intf2=dc11.s1-eth7
D1209 21:33:07.707432 636804 net.py:233] addLink: n1=chain40-nat intf1=output -- n2=dc11.s1 intf2=dc11.s1-eth8
I1209 21:33:07.707729 636804 daisy.py:310] successfully created VNF: chain40-nat
I1209 21:33:07.707884 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server36']
I1209 21:33:07.707994 636804 daisy.py:240] creating chain40-vpn on chain-server36
D1209 21:33:07.709491 636804 node.py:55] Starting compute instance u'chain40-vpn' in data center 'chain-server36'
D1209 21:33:08.710494 636804 simple.py:169] Setting CPU limit for u'chain40-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:33:08.784478 636804 simple.py:215] Setting MEM limit for u'chain40-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:08.819132 636804 simple.py:215] Setting MEM limit for u'chain40-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:33:08.852684 636804 simple.py:215] Setting MEM limit for u'chain40-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:08.888361 636804 simple.py:169] Setting CPU limit for u'chain40-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:33:08.960989 636804 simple.py:215] Setting MEM limit for u'chain40-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:09.349559 636804 net.py:233] addLink: n1=chain40-vpn intf1=input-ids -- n2=dc11.s1 intf2=dc11.s1-eth9
D1209 21:33:09.710180 636804 net.py:233] addLink: n1=chain40-vpn intf1=input-fw -- n2=dc11.s1 intf2=dc11.s1-eth10
D1209 21:33:10.070785 636804 net.py:233] addLink: n1=chain40-vpn intf1=output -- n2=dc11.s1 intf2=dc11.s1-eth11
I1209 21:33:10.071094 636804 daisy.py:310] successfully created VNF: chain40-vpn
I1209 21:33:10.071305 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud3']
I1209 21:33:10.071436 636804 daisy.py:240] creating chain40-sink on off-cloud3
D1209 21:33:10.072756 636804 node.py:55] Starting compute instance u'chain40-sink' in data center 'off-cloud3'
D1209 21:33:11.138060 636804 simple.py:215] Setting MEM limit for u'chain39-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:11.178668 636804 simple.py:215] Setting MEM limit for u'chain38-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:11.210577 636804 simple.py:215] Setting MEM limit for u'chain39-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:11.246778 636804 simple.py:215] Setting MEM limit for u'chain37-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:11.279551 636804 simple.py:215] Setting MEM limit for u'chain12-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:11.308649 636804 simple.py:169] Setting CPU limit for u'chain40-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:33:11.378388 636804 simple.py:215] Setting MEM limit for u'chain40-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:11.408026 636804 simple.py:215] Setting MEM limit for u'chain38-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:11.848731 636804 net.py:233] addLink: n1=chain40-sink intf1=intf2 -- n2=dc13.s1 intf2=dc13.s1-eth8
I1209 21:33:11.848989 636804 daisy.py:310] successfully created VNF: chain40-sink
I1209 21:33:11.849148 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud3']
I1209 21:33:11.849241 636804 daisy.py:240] creating chain40-source on off-cloud3
D1209 21:33:11.850588 636804 node.py:55] Starting compute instance u'chain40-source' in data center 'off-cloud3'
D1209 21:33:12.930433 636804 simple.py:215] Setting MEM limit for u'chain39-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:12.969753 636804 simple.py:215] Setting MEM limit for u'chain38-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:13.004993 636804 simple.py:215] Setting MEM limit for u'chain39-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:13.037214 636804 simple.py:215] Setting MEM limit for u'chain37-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:13.067470 636804 simple.py:169] Setting CPU limit for u'chain40-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:33:13.128698 636804 simple.py:215] Setting MEM limit for u'chain40-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:13.160515 636804 simple.py:215] Setting MEM limit for u'chain12-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:13.196300 636804 simple.py:215] Setting MEM limit for u'chain40-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:13.233251 636804 simple.py:215] Setting MEM limit for u'chain38-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:13.647953 636804 net.py:233] addLink: n1=chain40-source intf1=intf1 -- n2=dc13.s1 intf2=dc13.s1-eth9
I1209 21:33:13.648283 636804 daisy.py:310] successfully created VNF: chain40-source
I1209 21:33:13.648467 636804 daisy.py:311] successfully created chain: 40
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:33:17.032828 636804 daisy.py:401] source, nat, and fw start done
I1209 21:33:17.033103 636804 daisy.py:402] My commands
I1209 21:33:17.203525 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:33:19.205869 636804 daisy.py:419] < 2s wait complete
I1209 21:33:19.206182 636804 daisy.py:420] start VNF chaining
D1209 21:33:19.206379 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain40-source', vnf_src_interface='intf1', vnf_dst_name=u'chain40-nat', vnf_dst_interface='input'
I1209 21:33:19.206703 636804 net.py:665] Path between chain40-source and chain40-nat: ['dc13.s1', u'gsw0', 'dc11.s1']
I1209 21:33:19.206892 636804 net.py:889] add-flow
I1209 21:33:19.206991 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:481,output=1
I1209 21:33:19.213022 636804 net.py:893] add-flow in switch: dc13.s1 in_port: 9 out_port: 1
I1209 21:33:19.213188 636804 net.py:889] add-flow
I1209 21:33:19.213325 636804 net.py:890] in_port=44,dl_vlan=481,action=37
I1209 21:33:19.245558 636804 net.py:893] add-flow in switch: gsw0 in_port: 44 out_port: 37
I1209 21:33:19.245699 636804 net.py:694] end node reached: chain40-nat
I1209 21:33:19.245848 636804 net.py:889] add-flow
I1209 21:33:19.245966 636804 net.py:890] in_port=1,dl_vlan=481,action=strip_vlan,output=7
I1209 21:33:19.284491 636804 net.py:893] add-flow in switch: dc11.s1 in_port: 1 out_port: 7
D1209 21:33:19.284837 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain40-nat', vnf_src_interface='input', vnf_dst_name=u'chain40-source', vnf_dst_interface='intf1'
I1209 21:33:19.285733 636804 net.py:665] Path between chain40-nat and chain40-source: ['dc11.s1', u'gsw0', 'dc13.s1']
I1209 21:33:19.285849 636804 net.py:889] add-flow
I1209 21:33:19.285917 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:482,output=1
I1209 21:33:19.321681 636804 net.py:893] add-flow in switch: dc11.s1 in_port: 7 out_port: 1
I1209 21:33:19.322071 636804 net.py:889] add-flow
I1209 21:33:19.322304 636804 net.py:890] in_port=37,dl_vlan=482,action=44
I1209 21:33:19.355525 636804 net.py:893] add-flow in switch: gsw0 in_port: 37 out_port: 44
I1209 21:33:19.355659 636804 net.py:694] end node reached: chain40-source
I1209 21:33:19.355784 636804 net.py:889] add-flow
I1209 21:33:19.355858 636804 net.py:890] in_port=1,dl_vlan=482,action=strip_vlan,output=9
I1209 21:33:19.397351 636804 net.py:893] add-flow in switch: dc13.s1 in_port: 1 out_port: 9
I1209 21:33:19.397640 636804 daisy.py:322] chain(chain40-source, chain40-nat) output: success: add-flow between chain40-source and chain40-nat with options: {
 "priority": 1000, 
 "path": [
  "dc13.s1", 
  "gsw0", 
  "dc11.s1"
 ], 
 "vlan": 481, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain40-nat and chain40-source with options: {
 "priority": 1000, 
 "path": [
  "dc11.s1", 
  "gsw0", 
  "dc13.s1"
 ], 
 "vlan": 482, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:33:19.397824 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain40-nat', vnf_src_interface='output', vnf_dst_name=u'chain40-fw', vnf_dst_interface='input'
I1209 21:33:19.397996 636804 net.py:665] Path between chain40-nat and chain40-fw: ['dc11.s1']
I1209 21:33:19.398133 636804 net.py:694] end node reached: chain40-fw
I1209 21:33:19.398247 636804 net.py:889] add-flow
I1209 21:33:19.398355 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:483,output=2
I1209 21:33:19.429074 636804 net.py:893] add-flow in switch: dc11.s1 in_port: 8 out_port: 2
I1209 21:33:19.429233 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc11.s1 in_port: 8 out_port: 2
I1209 21:33:19.429354 636804 net.py:931] add-flow
I1209 21:33:19.429438 636804 net.py:932] in_port=8,action=strip_vlan,output=2
I1209 21:33:19.461761 636804 net.py:935] add-flow in switch: dc11.s1 in_port: 8 out_port: 2
D1209 21:33:19.462017 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain40-fw', vnf_src_interface='input', vnf_dst_name=u'chain40-nat', vnf_dst_interface='output'
I1209 21:33:19.462294 636804 net.py:665] Path between chain40-fw and chain40-nat: ['dc11.s1']
I1209 21:33:19.462435 636804 net.py:694] end node reached: chain40-nat
I1209 21:33:19.462562 636804 net.py:889] add-flow
I1209 21:33:19.462651 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:484,output=8
I1209 21:33:19.531056 636804 net.py:893] add-flow in switch: dc11.s1 in_port: 2 out_port: 8
I1209 21:33:19.531271 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc11.s1 in_port: 2 out_port: 8
I1209 21:33:19.531373 636804 net.py:931] add-flow
I1209 21:33:19.531455 636804 net.py:932] in_port=2,action=strip_vlan,output=8
I1209 21:33:19.571245 636804 net.py:935] add-flow in switch: dc11.s1 in_port: 2 out_port: 8
I1209 21:33:19.571558 636804 daisy.py:329] chain(chain40-nat, chain40-fw) output: success: add-flow between chain40-nat and chain40-fw with options: {
 "priority": 1000, 
 "path": [
  "dc11.s1"
 ], 
 "vlan": 483, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain40-fw and chain40-nat with options: {
 "priority": 1000, 
 "path": [
  "dc11.s1"
 ], 
 "vlan": 484, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:33:19.571719 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain40-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain40-ids', vnf_dst_interface='input'
I1209 21:33:19.571876 636804 net.py:665] Path between chain40-fw and chain40-ids: ['dc11.s1']
I1209 21:33:19.572004 636804 net.py:694] end node reached: chain40-ids
I1209 21:33:19.572125 636804 net.py:889] add-flow
I1209 21:33:19.572215 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:485,output=5
I1209 21:33:19.611089 636804 net.py:893] add-flow in switch: dc11.s1 in_port: 3 out_port: 5
D1209 21:33:19.611357 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain40-ids', vnf_src_interface='input', vnf_dst_name=u'chain40-fw', vnf_dst_interface='output-ids'
I1209 21:33:19.611515 636804 net.py:665] Path between chain40-ids and chain40-fw: ['dc11.s1']
I1209 21:33:19.611618 636804 net.py:694] end node reached: chain40-fw
I1209 21:33:19.611730 636804 net.py:889] add-flow
I1209 21:33:19.611816 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:486,output=3
I1209 21:33:19.661416 636804 net.py:893] add-flow in switch: dc11.s1 in_port: 5 out_port: 3
I1209 21:33:19.661569 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc11.s1 in_port: 5 out_port: 3
I1209 21:33:19.661662 636804 net.py:931] add-flow
I1209 21:33:19.661752 636804 net.py:932] in_port=5,action=strip_vlan,output=3
I1209 21:33:19.693886 636804 net.py:935] add-flow in switch: dc11.s1 in_port: 5 out_port: 3
I1209 21:33:19.694117 636804 daisy.py:336] chain(chain40-fw, chain40-ids) output: success: add-flow between chain40-fw and chain40-ids with options: {
 "priority": 1000, 
 "path": [
  "dc11.s1"
 ], 
 "vlan": 485, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain40-ids and chain40-fw with options: {
 "priority": 1000, 
 "path": [
  "dc11.s1"
 ], 
 "vlan": 486, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:33:19.694289 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain40-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain40-vpn', vnf_dst_interface='input-fw'
I1209 21:33:19.694449 636804 net.py:665] Path between chain40-fw and chain40-vpn: ['dc11.s1']
I1209 21:33:19.694552 636804 net.py:694] end node reached: chain40-vpn
I1209 21:33:19.694665 636804 net.py:889] add-flow
I1209 21:33:19.694751 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:487,output=10
I1209 21:33:19.760663 636804 net.py:893] add-flow in switch: dc11.s1 in_port: 4 out_port: 10
D1209 21:33:19.760929 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain40-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain40-fw', vnf_dst_interface='output-vpn'
I1209 21:33:19.761082 636804 net.py:665] Path between chain40-vpn and chain40-fw: ['dc11.s1']
I1209 21:33:19.761185 636804 net.py:694] end node reached: chain40-fw
I1209 21:33:19.761315 636804 net.py:889] add-flow
I1209 21:33:19.761404 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:488,output=4
I1209 21:33:19.791965 636804 net.py:893] add-flow in switch: dc11.s1 in_port: 10 out_port: 4
I1209 21:33:19.792187 636804 daisy.py:343] chain(chain40-fw, chain40-vpn) output: success: add-flow between chain40-fw and chain40-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc11.s1"
 ], 
 "vlan": 487, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain40-vpn and chain40-fw with options: {
 "priority": 1000, 
 "path": [
  "dc11.s1"
 ], 
 "vlan": 488, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:33:19.792354 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain40-ids', vnf_src_interface='output', vnf_dst_name=u'chain40-vpn', vnf_dst_interface='input-ids'
I1209 21:33:19.792500 636804 net.py:665] Path between chain40-ids and chain40-vpn: ['dc11.s1']
I1209 21:33:19.792602 636804 net.py:694] end node reached: chain40-vpn
I1209 21:33:19.792718 636804 net.py:889] add-flow
I1209 21:33:19.792819 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:489,output=9
I1209 21:33:19.863604 636804 net.py:893] add-flow in switch: dc11.s1 in_port: 6 out_port: 9
I1209 21:33:19.863773 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc11.s1 in_port: 6 out_port: 9
I1209 21:33:19.863867 636804 net.py:931] add-flow
I1209 21:33:19.863960 636804 net.py:932] in_port=6,action=strip_vlan,output=9
I1209 21:33:19.973681 636804 net.py:935] add-flow in switch: dc11.s1 in_port: 6 out_port: 9
D1209 21:33:19.973983 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain40-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain40-ids', vnf_dst_interface='output'
I1209 21:33:19.974230 636804 net.py:665] Path between chain40-vpn and chain40-ids: ['dc11.s1']
I1209 21:33:19.974378 636804 net.py:694] end node reached: chain40-ids
I1209 21:33:19.974483 636804 net.py:889] add-flow
I1209 21:33:19.974580 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:490,output=6
I1209 21:33:20.040541 636804 net.py:893] add-flow in switch: dc11.s1 in_port: 9 out_port: 6
I1209 21:33:20.040783 636804 daisy.py:350] chain(chain40-ids, chain40-vpn) output: success: add-flow between chain40-ids and chain40-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc11.s1"
 ], 
 "vlan": 489, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain40-vpn and chain40-ids with options: {
 "priority": 1000, 
 "path": [
  "dc11.s1"
 ], 
 "vlan": 490, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:33:20.040940 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain40-vpn', vnf_src_interface='output', vnf_dst_name=u'chain40-sink', vnf_dst_interface='intf2'
I1209 21:33:20.041101 636804 net.py:665] Path between chain40-vpn and chain40-sink: ['dc11.s1', u'gsw0', 'dc13.s1']
I1209 21:33:20.041241 636804 net.py:889] add-flow
I1209 21:33:20.041352 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:491,output=1
I1209 21:33:20.092063 636804 net.py:893] add-flow in switch: dc11.s1 in_port: 11 out_port: 1
I1209 21:33:20.092242 636804 net.py:889] add-flow
I1209 21:33:20.092359 636804 net.py:890] in_port=37,dl_vlan=491,action=44
I1209 21:33:20.135164 636804 net.py:893] add-flow in switch: gsw0 in_port: 37 out_port: 44
I1209 21:33:20.135341 636804 net.py:694] end node reached: chain40-sink
I1209 21:33:20.135454 636804 net.py:889] add-flow
I1209 21:33:20.135538 636804 net.py:890] in_port=1,dl_vlan=491,action=strip_vlan,output=8
I1209 21:33:20.180968 636804 net.py:893] add-flow in switch: dc13.s1 in_port: 1 out_port: 8
D1209 21:33:20.181232 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain40-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain40-vpn', vnf_dst_interface='output'
I1209 21:33:20.181478 636804 net.py:665] Path between chain40-sink and chain40-vpn: ['dc13.s1', u'gsw0', 'dc11.s1']
I1209 21:33:20.181626 636804 net.py:889] add-flow
I1209 21:33:20.181714 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:492,output=1
I1209 21:33:20.217355 636804 net.py:893] add-flow in switch: dc13.s1 in_port: 8 out_port: 1
I1209 21:33:20.217513 636804 net.py:889] add-flow
I1209 21:33:20.217633 636804 net.py:890] in_port=44,dl_vlan=492,action=37
I1209 21:33:20.251120 636804 net.py:893] add-flow in switch: gsw0 in_port: 44 out_port: 37
I1209 21:33:20.251307 636804 net.py:694] end node reached: chain40-vpn
I1209 21:33:20.251442 636804 net.py:889] add-flow
I1209 21:33:20.251538 636804 net.py:890] in_port=1,dl_vlan=492,action=strip_vlan,output=11
I1209 21:33:20.280353 636804 net.py:893] add-flow in switch: dc11.s1 in_port: 1 out_port: 11
I1209 21:33:20.280610 636804 daisy.py:357] chain(chain40-vpn, chain40-sink) output: success: add-flow between chain40-vpn and chain40-sink with options: {
 "priority": 1000, 
 "path": [
  "dc11.s1", 
  "gsw0", 
  "dc13.s1"
 ], 
 "vlan": 491, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain40-sink and chain40-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc13.s1", 
  "gsw0", 
  "dc11.s1"
 ], 
 "vlan": 492, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:33:22 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:33:22 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:33:22 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:33:22 2017 UDPv4 link local: [undef]
Sat Dec  9 21:33:22 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:33:22 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=82378049 25a342c4
Sat Dec  9 21:33:22 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:33:22 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:33:22 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:33:23 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:33:23 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:33:23 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:33:23 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:33:23 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:33:23 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:33:23 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:33:23 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:33:26 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:33:26 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:33:26 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:33:26 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:33:26 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:33:26 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:33:26 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:f5
Sat Dec  9 21:33:26 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:33:26 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:33:26 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:33:26 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:33:26 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:33:26 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:33:26 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:33:26 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:33:26 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:33:26 2017 GID set to nogroup
Sat Dec  9 21:33:26 2017 UID set to nobody
Sat Dec  9 21:33:26 2017 Initialization Sequence Completed
I1209 21:33:29.032155 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:33:34.034198 636804 daisy.py:443] < 5s wait complete
I1209 21:33:34.034445 636804 daisy.py:444] VPN client VNF started
chain40-source -> chain40-sink 
chain40-sink -> chain40-source 
*** Results: 0% dropped (2/2 received)
I1209 21:33:37.567666 636804 daisy.py:369] ping chain40-source -> chain40-sink. Packet drop 0.0%
I1209 21:33:37.680907 636804 bench.py:19] Copying traces into the containers...
I1209 21:33:39.049880 636804 bench.py:29] Running dstat...
I1209 21:33:41.668273 636804 iter-e2-allocation.py:17] started allocating chain: 41
I1209 21:33:41.668720 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server36']
I1209 21:33:41.668843 636804 daisy.py:240] creating chain41-fw on chain-server36
D1209 21:33:41.670411 636804 node.py:55] Starting compute instance u'chain41-fw' in data center 'chain-server36'
D1209 21:33:42.691153 636804 simple.py:215] Setting MEM limit for u'chain40-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:42.731791 636804 simple.py:169] Setting CPU limit for u'chain41-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:33:42.799803 636804 simple.py:215] Setting MEM limit for u'chain41-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:42.838228 636804 simple.py:215] Setting MEM limit for u'chain40-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:33:42.875638 636804 simple.py:215] Setting MEM limit for u'chain40-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:42.919193 636804 simple.py:169] Setting CPU limit for u'chain40-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:33:42.994856 636804 simple.py:215] Setting MEM limit for u'chain40-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:43.362720 636804 net.py:233] addLink: n1=chain41-fw intf1=input -- n2=dc11.s1 intf2=dc11.s1-eth12
D1209 21:33:43.732549 636804 net.py:233] addLink: n1=chain41-fw intf1=output-ids -- n2=dc11.s1 intf2=dc11.s1-eth13
D1209 21:33:44.077964 636804 net.py:233] addLink: n1=chain41-fw intf1=output-vpn -- n2=dc11.s1 intf2=dc11.s1-eth14
I1209 21:33:44.078407 636804 daisy.py:310] successfully created VNF: chain41-fw
I1209 21:33:44.078597 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server36']
I1209 21:33:44.078739 636804 daisy.py:240] creating chain41-ids on chain-server36
D1209 21:33:44.081250 636804 node.py:55] Starting compute instance u'chain41-ids' in data center 'chain-server36'
D1209 21:33:45.095144 636804 simple.py:215] Setting MEM limit for u'chain40-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:45.132101 636804 simple.py:169] Setting CPU limit for u'chain41-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:33:45.206271 636804 simple.py:215] Setting MEM limit for u'chain41-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:45.244532 636804 simple.py:215] Setting MEM limit for u'chain40-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:33:45.280482 636804 simple.py:169] Setting CPU limit for u'chain41-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:33:45.347002 636804 simple.py:215] Setting MEM limit for u'chain41-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:33:45.380279 636804 simple.py:169] Setting CPU limit for u'chain40-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:33:45.448012 636804 simple.py:215] Setting MEM limit for u'chain40-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:45.481697 636804 simple.py:215] Setting MEM limit for u'chain40-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:45.872028 636804 net.py:233] addLink: n1=chain41-ids intf1=input -- n2=dc11.s1 intf2=dc11.s1-eth15
D1209 21:33:46.280116 636804 net.py:233] addLink: n1=chain41-ids intf1=output -- n2=dc11.s1 intf2=dc11.s1-eth16
I1209 21:33:46.280391 636804 daisy.py:310] successfully created VNF: chain41-ids
I1209 21:33:46.280575 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server36']
I1209 21:33:46.280719 636804 daisy.py:240] creating chain41-nat on chain-server36
D1209 21:33:46.282023 636804 node.py:55] Starting compute instance u'chain41-nat' in data center 'chain-server36'
D1209 21:33:47.385410 636804 simple.py:215] Setting MEM limit for u'chain40-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:47.419883 636804 simple.py:169] Setting CPU limit for u'chain41-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:33:47.479959 636804 simple.py:215] Setting MEM limit for u'chain41-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:47.512079 636804 simple.py:169] Setting CPU limit for u'chain41-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:33:47.579236 636804 simple.py:215] Setting MEM limit for u'chain41-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:47.616498 636804 simple.py:215] Setting MEM limit for u'chain40-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:33:47.652590 636804 simple.py:215] Setting MEM limit for u'chain41-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:33:47.690651 636804 simple.py:169] Setting CPU limit for u'chain40-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:33:47.762042 636804 simple.py:215] Setting MEM limit for u'chain40-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:47.790599 636804 simple.py:215] Setting MEM limit for u'chain40-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:48.172781 636804 net.py:233] addLink: n1=chain41-nat intf1=input -- n2=dc11.s1 intf2=dc11.s1-eth17
D1209 21:33:48.632630 636804 net.py:233] addLink: n1=chain41-nat intf1=output -- n2=dc11.s1 intf2=dc11.s1-eth18
I1209 21:33:48.632913 636804 daisy.py:310] successfully created VNF: chain41-nat
I1209 21:33:48.633085 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server36']
I1209 21:33:48.633236 636804 daisy.py:240] creating chain41-vpn on chain-server36
D1209 21:33:48.634597 636804 node.py:55] Starting compute instance u'chain41-vpn' in data center 'chain-server36'
D1209 21:33:49.690429 636804 simple.py:215] Setting MEM limit for u'chain40-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:49.732702 636804 simple.py:215] Setting MEM limit for u'chain41-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:49.770777 636804 simple.py:169] Setting CPU limit for u'chain41-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:33:49.844310 636804 simple.py:215] Setting MEM limit for u'chain41-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:49.874445 636804 simple.py:215] Setting MEM limit for u'chain40-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:33:49.904700 636804 simple.py:215] Setting MEM limit for u'chain41-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:33:49.941293 636804 simple.py:169] Setting CPU limit for u'chain41-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:33:50.006550 636804 simple.py:215] Setting MEM limit for u'chain41-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:50.039566 636804 simple.py:169] Setting CPU limit for u'chain40-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:33:50.097979 636804 simple.py:215] Setting MEM limit for u'chain40-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:50.131645 636804 simple.py:215] Setting MEM limit for u'chain40-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:50.511415 636804 net.py:233] addLink: n1=chain41-vpn intf1=input-ids -- n2=dc11.s1 intf2=dc11.s1-eth19
D1209 21:33:50.851265 636804 net.py:233] addLink: n1=chain41-vpn intf1=input-fw -- n2=dc11.s1 intf2=dc11.s1-eth20
D1209 21:33:51.200167 636804 net.py:233] addLink: n1=chain41-vpn intf1=output -- n2=dc11.s1 intf2=dc11.s1-eth21
I1209 21:33:51.200494 636804 daisy.py:310] successfully created VNF: chain41-vpn
I1209 21:33:51.200645 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud3']
I1209 21:33:51.200751 636804 daisy.py:240] creating chain41-sink on off-cloud3
D1209 21:33:51.201836 636804 node.py:55] Starting compute instance u'chain41-sink' in data center 'off-cloud3'
D1209 21:33:52.276768 636804 simple.py:215] Setting MEM limit for u'chain39-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:52.316839 636804 simple.py:215] Setting MEM limit for u'chain38-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:52.350044 636804 simple.py:215] Setting MEM limit for u'chain39-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:52.383868 636804 simple.py:215] Setting MEM limit for u'chain37-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:52.417773 636804 simple.py:169] Setting CPU limit for u'chain41-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:33:52.483675 636804 simple.py:215] Setting MEM limit for u'chain41-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:52.513792 636804 simple.py:215] Setting MEM limit for u'chain40-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:52.545550 636804 simple.py:215] Setting MEM limit for u'chain12-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:52.576766 636804 simple.py:215] Setting MEM limit for u'chain40-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:52.608408 636804 simple.py:215] Setting MEM limit for u'chain38-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:52.996257 636804 net.py:233] addLink: n1=chain41-sink intf1=intf2 -- n2=dc13.s1 intf2=dc13.s1-eth10
I1209 21:33:52.996522 636804 daisy.py:310] successfully created VNF: chain41-sink
I1209 21:33:52.996679 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud3']
I1209 21:33:52.996784 636804 daisy.py:240] creating chain41-source on off-cloud3
D1209 21:33:52.998053 636804 node.py:55] Starting compute instance u'chain41-source' in data center 'off-cloud3'
D1209 21:33:54.048072 636804 simple.py:215] Setting MEM limit for u'chain39-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:54.085654 636804 simple.py:215] Setting MEM limit for u'chain38-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:54.122750 636804 simple.py:215] Setting MEM limit for u'chain39-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:54.161036 636804 simple.py:215] Setting MEM limit for u'chain37-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:54.195540 636804 simple.py:215] Setting MEM limit for u'chain41-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:54.232491 636804 simple.py:169] Setting CPU limit for u'chain41-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:33:54.305500 636804 simple.py:215] Setting MEM limit for u'chain41-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:54.340061 636804 simple.py:215] Setting MEM limit for u'chain40-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:54.375133 636804 simple.py:215] Setting MEM limit for u'chain12-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:54.405097 636804 simple.py:215] Setting MEM limit for u'chain40-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:54.442822 636804 simple.py:215] Setting MEM limit for u'chain38-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:33:54.813941 636804 net.py:233] addLink: n1=chain41-source intf1=intf1 -- n2=dc13.s1 intf2=dc13.s1-eth11
I1209 21:33:54.814313 636804 daisy.py:310] successfully created VNF: chain41-source
I1209 21:33:54.814490 636804 daisy.py:311] successfully created chain: 41
source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.023017999999999983, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server36'], [u'ids', u'chain-server36'], [u'nat', u'chain-server36'], [u'vpn', u'chain-server36'], [u'sink', u'off-cloud3'], [u'source', u'off-cloud3']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 1.676096, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud3', 2], [u'chain-server36', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server36', 2], [u'off-cloud3', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain40-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain40-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain40-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain40-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain40-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain40-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain40-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain40-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain40-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain40-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain40-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain40-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain40-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain40-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain40-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain40-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain40-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain40-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain40-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain40-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain40-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain40-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain40-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain40-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain40-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain40-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.024612999999999996, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server36'], [u'ids', u'chain-server36'], [u'nat', u'chain-server36'], [u'vpn', u'chain-server36'], [u'sink', u'off-cloud3'], [u'source', u'off-cloud3']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 1.638728, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud3', 2], [u'chain-server36', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server36', 2], [u'off-cloud3', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain41-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain41-source route add -net 10.0.0.0/16 dev intf1 (Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:33:58.811959 636804 daisy.py:401] source, nat, and fw start done
I1209 21:33:58.812268 636804 daisy.py:402] My commands
I1209 21:33:58.985205 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:34:00.987082 636804 daisy.py:419] < 2s wait complete
I1209 21:34:00.987360 636804 daisy.py:420] start VNF chaining
D1209 21:34:00.987536 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain41-source', vnf_src_interface='intf1', vnf_dst_name=u'chain41-nat', vnf_dst_interface='input'
I1209 21:34:00.987816 636804 net.py:665] Path between chain41-source and chain41-nat: ['dc13.s1', u'gsw0', 'dc11.s1']
I1209 21:34:00.988009 636804 net.py:889] add-flow
I1209 21:34:00.988114 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:493,output=1
I1209 21:34:01.000332 636804 net.py:893] add-flow in switch: dc13.s1 in_port: 11 out_port: 1
I1209 21:34:01.000526 636804 net.py:889] add-flow
I1209 21:34:01.000647 636804 net.py:890] in_port=44,dl_vlan=493,action=37
I1209 21:34:01.041671 636804 net.py:893] add-flow in switch: gsw0 in_port: 44 out_port: 37
I1209 21:34:01.041881 636804 net.py:694] end node reached: chain41-nat
I1209 21:34:01.042020 636804 net.py:889] add-flow
I1209 21:34:01.042268 636804 net.py:890] in_port=1,dl_vlan=493,action=strip_vlan,output=17
I1209 21:34:01.086232 636804 net.py:893] add-flow in switch: dc11.s1 in_port: 1 out_port: 17
D1209 21:34:01.086559 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain41-nat', vnf_src_interface='input', vnf_dst_name=u'chain41-source', vnf_dst_interface='intf1'
I1209 21:34:01.086777 636804 net.py:665] Path between chain41-nat and chain41-source: ['dc11.s1', u'gsw0', 'dc13.s1']
I1209 21:34:01.086935 636804 net.py:889] add-flow
I1209 21:34:01.087066 636804 net.py:890] -O OpenFlow13 in_port=17,action=mod_vlan_vid:494,output=1
I1209 21:34:01.128912 636804 net.py:893] add-flow in switch: dc11.s1 in_port: 17 out_port: 1
I1209 21:34:01.129090 636804 net.py:889] add-flow
I1209 21:34:01.129224 636804 net.py:890] in_port=37,dl_vlan=494,action=44
I1209 21:34:01.162220 636804 net.py:893] add-flow in switch: gsw0 in_port: 37 out_port: 44
I1209 21:34:01.162404 636804 net.py:694] end node reached: chain41-source
I1209 21:34:01.162544 636804 net.py:889] add-flow
I1209 21:34:01.162662 636804 net.py:890] in_port=1,dl_vlan=494,action=strip_vlan,output=11
I1209 21:34:01.197062 636804 net.py:893] add-flow in switch: dc13.s1 in_port: 1 out_port: 11
I1209 21:34:01.197351 636804 daisy.py:322] chain(chain41-source, chain41-nat) output: success: add-flow between chain41-source and chain41-nat with options: {
 "priority": 1000, 
 "path": [
  "dc13.s1", 
  "gsw0", 
  "dc11.s1"
 ], 
 "vlan": 493, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain41-nat and chain41-source with options: {
 "priority": 1000, 
 "path": [
  "dc11.s1", 
  "gsw0", 
  "dc13.s1"
 ], 
 "vlan": 494, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:34:01.197561 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain41-nat', vnf_src_interface='output', vnf_dst_name=u'chain41-fw', vnf_dst_interface='input'
I1209 21:34:01.197721 636804 net.py:665] Path between chain41-nat and chain41-fw: ['dc11.s1']
I1209 21:34:01.197833 636804 net.py:694] end node reached: chain41-fw
I1209 21:34:01.197942 636804 net.py:889] add-flow
I1209 21:34:01.198036 636804 net.py:890] -O OpenFlow13 in_port=18,action=mod_vlan_vid:495,output=12
I1209 21:34:01.225790 636804 net.py:893] add-flow in switch: dc11.s1 in_port: 18 out_port: 12
I1209 21:34:01.225945 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc11.s1 in_port: 18 out_port: 12
I1209 21:34:01.226047 636804 net.py:931] add-flow
I1209 21:34:01.226233 636804 net.py:932] in_port=18,action=strip_vlan,output=12
I1209 21:34:01.257986 636804 net.py:935] add-flow in switch: dc11.s1 in_port: 18 out_port: 12
D1209 21:34:01.258328 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain41-fw', vnf_src_interface='input', vnf_dst_name=u'chain41-nat', vnf_dst_interface='output'
I1209 21:34:01.258486 636804 net.py:665] Path between chain41-fw and chain41-nat: ['dc11.s1']
I1209 21:34:01.258616 636804 net.py:694] end node reached: chain41-nat
I1209 21:34:01.258755 636804 net.py:889] add-flow
I1209 21:34:01.258869 636804 net.py:890] -O OpenFlow13 in_port=12,action=mod_vlan_vid:496,output=18
I1209 21:34:01.319926 636804 net.py:893] add-flow in switch: dc11.s1 in_port: 12 out_port: 18
I1209 21:34:01.320095 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc11.s1 in_port: 12 out_port: 18
I1209 21:34:01.320216 636804 net.py:931] add-flow
I1209 21:34:01.320328 636804 net.py:932] in_port=12,action=strip_vlan,output=18
I1209 21:34:01.362268 636804 net.py:935] add-flow in switch: dc11.s1 in_port: 12 out_port: 18
I1209 21:34:01.362520 636804 daisy.py:329] chain(chain41-nat, chain41-fw) output: success: add-flow between chain41-nat and chain41-fw with options: {
 "priority": 1000, 
 "path": [
  "dc11.s1"
 ], 
 "vlan": 495, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain41-fw and chain41-nat with options: {
 "priority": 1000, 
 "path": [
  "dc11.s1"
 ], 
 "vlan": 496, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:34:01.362715 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain41-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain41-ids', vnf_dst_interface='input'
I1209 21:34:01.362890 636804 net.py:665] Path between chain41-fw and chain41-ids: ['dc11.s1']
I1209 21:34:01.363018 636804 net.py:694] end node reached: chain41-ids
I1209 21:34:01.363146 636804 net.py:889] add-flow
I1209 21:34:01.363285 636804 net.py:890] -O OpenFlow13 in_port=13,action=mod_vlan_vid:497,output=15
I1209 21:34:01.396259 636804 net.py:893] add-flow in switch: dc11.s1 in_port: 13 out_port: 15
D1209 21:34:01.396497 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain41-ids', vnf_src_interface='input', vnf_dst_name=u'chain41-fw', vnf_dst_interface='output-ids'
I1209 21:34:01.396671 636804 net.py:665] Path between chain41-ids and chain41-fw: ['dc11.s1']
I1209 21:34:01.396800 636804 net.py:694] end node reached: chain41-fw
I1209 21:34:01.396924 636804 net.py:889] add-flow
I1209 21:34:01.397032 636804 net.py:890] -O OpenFlow13 in_port=15,action=mod_vlan_vid:498,output=13
I1209 21:34:01.433064 636804 net.py:893] add-flow in switch: dc11.s1 in_port: 15 out_port: 13
I1209 21:34:01.433207 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc11.s1 in_port: 15 out_port: 13
I1209 21:34:01.433284 636804 net.py:931] add-flow
I1209 21:34:01.433346 636804 net.py:932] in_port=15,action=strip_vlan,output=13
I1209 21:34:01.468427 636804 net.py:935] add-flow in switch: dc11.s1 in_port: 15 out_port: 13
I1209 21:34:01.468642 636804 daisy.py:336] chain(chain41-fw, chain41-ids) output: success: add-flow between chain41-fw and chain41-ids with options: {
 "priority": 1000, 
 "path": [
  "dc11.s1"
 ], 
 "vlan": 497, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain41-ids and chain41-fw with options: {
 "priority": 1000, 
 "path": [
  "dc11.s1"
 ], 
 "vlan": 498, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:34:01.468789 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain41-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain41-vpn', vnf_dst_interface='input-fw'
I1209 21:34:01.468936 636804 net.py:665] Path between chain41-fw and chain41-vpn: ['dc11.s1']
I1209 21:34:01.469037 636804 net.py:694] end node reached: chain41-vpn
I1209 21:34:01.469172 636804 net.py:889] add-flow
I1209 21:34:01.469269 636804 net.py:890] -O OpenFlow13 in_port=14,action=mod_vlan_vid:499,output=20
I1209 21:34:01.532840 636804 net.py:893] add-flow in switch: dc11.s1 in_port: 14 out_port: 20
D1209 21:34:01.533058 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain41-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain41-fw', vnf_dst_interface='output-vpn'
I1209 21:34:01.533220 636804 net.py:665] Path between chain41-vpn and chain41-fw: ['dc11.s1']
I1209 21:34:01.533324 636804 net.py:694] end node reached: chain41-fw
I1209 21:34:01.533432 636804 net.py:889] add-flow
I1209 21:34:01.533526 636804 net.py:890] -O OpenFlow13 in_port=20,action=mod_vlan_vid:500,output=14
I1209 21:34:01.568008 636804 net.py:893] add-flow in switch: dc11.s1 in_port: 20 out_port: 14
I1209 21:34:01.568262 636804 daisy.py:343] chain(chain41-fw, chain41-vpn) output: success: add-flow between chain41-fw and chain41-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc11.s1"
 ], 
 "vlan": 499, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain41-vpn and chain41-fw with options: {
 "priority": 1000, 
 "path": [
  "dc11.s1"
 ], 
 "vlan": 500, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:34:01.568425 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain41-ids', vnf_src_interface='output', vnf_dst_name=u'chain41-vpn', vnf_dst_interface='input-ids'
I1209 21:34:01.568568 636804 net.py:665] Path between chain41-ids and chain41-vpn: ['dc11.s1']
I1209 21:34:01.568687 636804 net.py:694] end node reached: chain41-vpn
I1209 21:34:01.568799 636804 net.py:889] add-flow
I1209 21:34:01.568897 636804 net.py:890] -O OpenFlow13 in_port=16,action=mod_vlan_vid:501,output=19
I1209 21:34:01.604603 636804 net.py:893] add-flow in switch: dc11.s1 in_port: 16 out_port: 19
I1209 21:34:01.604757 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc11.s1 in_port: 16 out_port: 19
I1209 21:34:01.604856 636804 net.py:931] add-flow
I1209 21:34:01.604943 636804 net.py:932] in_port=16,action=strip_vlan,output=19
I1209 21:34:01.638727 636804 net.py:935] add-flow in switch: dc11.s1 in_port: 16 out_port: 19
D1209 21:34:01.638957 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain41-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain41-ids', vnf_dst_interface='output'
I1209 21:34:01.639106 636804 net.py:665] Path between chain41-vpn and chain41-ids: ['dc11.s1']
I1209 21:34:01.639238 636804 net.py:694] end node reached: chain41-ids
I1209 21:34:01.639367 636804 net.py:889] add-flow
I1209 21:34:01.639466 636804 net.py:890] -O OpenFlow13 in_port=19,action=mod_vlan_vid:502,output=16
I1209 21:34:01.697911 636804 net.py:893] add-flow in switch: dc11.s1 in_port: 19 out_port: 16
I1209 21:34:01.698251 636804 daisy.py:350] chain(chain41-ids, chain41-vpn) output: success: add-flow between chain41-ids and chain41-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc11.s1"
 ], 
 "vlan": 501, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain41-vpn and chain41-ids with options: {
 "priority": 1000, 
 "path": [
  "dc11.s1"
 ], 
 "vlan": 502, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:34:01.698417 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain41-vpn', vnf_src_interface='output', vnf_dst_name=u'chain41-sink', vnf_dst_interface='intf2'
I1209 21:34:01.698586 636804 net.py:665] Path between chain41-vpn and chain41-sink: ['dc11.s1', u'gsw0', 'dc13.s1']
I1209 21:34:01.698718 636804 net.py:889] add-flow
I1209 21:34:01.698816 636804 net.py:890] -O OpenFlow13 in_port=21,action=mod_vlan_vid:503,output=1
I1209 21:34:01.727896 636804 net.py:893] add-flow in switch: dc11.s1 in_port: 21 out_port: 1
I1209 21:34:01.728065 636804 net.py:889] add-flow
I1209 21:34:01.728204 636804 net.py:890] in_port=37,dl_vlan=503,action=44
I1209 21:34:01.762465 636804 net.py:893] add-flow in switch: gsw0 in_port: 37 out_port: 44
I1209 21:34:01.762623 636804 net.py:694] end node reached: chain41-sink
I1209 21:34:01.762738 636804 net.py:889] add-flow
I1209 21:34:01.762831 636804 net.py:890] in_port=1,dl_vlan=503,action=strip_vlan,output=10
I1209 21:34:01.791999 636804 net.py:893] add-flow in switch: dc13.s1 in_port: 1 out_port: 10
D1209 21:34:01.792268 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain41-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain41-vpn', vnf_dst_interface='output'
I1209 21:34:01.792463 636804 net.py:665] Path between chain41-sink and chain41-vpn: ['dc13.s1', u'gsw0', 'dc11.s1']
I1209 21:34:01.792594 636804 net.py:889] add-flow
I1209 21:34:01.792687 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:504,output=1
I1209 21:34:01.827305 636804 net.py:893] add-flow in switch: dc13.s1 in_port: 10 out_port: 1
I1209 21:34:01.827464 636804 net.py:889] add-flow
I1209 21:34:01.827560 636804 net.py:890] in_port=44,dl_vlan=504,action=37
I1209 21:34:01.861598 636804 net.py:893] add-flow in switch: gsw0 in_port: 44 out_port: 37
I1209 21:34:01.861748 636804 net.py:694] end node reached: chain41-vpn
I1209 21:34:01.861865 636804 net.py:889] add-flow
I1209 21:34:01.861953 636804 net.py:890] in_port=1,dl_vlan=504,action=strip_vlan,output=21
I1209 21:34:01.895766 636804 net.py:893] add-flow in switch: dc11.s1 in_port: 1 out_port: 21
I1209 21:34:01.896001 636804 daisy.py:357] chain(chain41-vpn, chain41-sink) output: success: add-flow between chain41-vpn and chain41-sink with options: {
 "priority": 1000, 
 "path": [
  "dc11.s1", 
  "gsw0", 
  "dc13.s1"
 ], 
 "vlan": 503, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain41-sink and chain41-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc13.s1", 
  "gsw0", 
  "dc11.s1"
 ], 
 "vlan": 504, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:34:04 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:34:04 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:34:04 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:34:04 2017 UDPv4 link local: [undef]
Sat Dec  9 21:34:04 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:34:04 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=03b8eaeb a470b89f
Sat Dec  9 21:34:04 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:34:04 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:34:04 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:34:04 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:34:04 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:34:04 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:34:04 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:34:04 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:34:04 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:34:04 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:34:04 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:34:06 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:34:06 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:34:06 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:34:06 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:34:06 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:34:06 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:34:06 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:fb
Sat Dec  9 21:34:06 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:34:06 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:34:06 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:34:06 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:34:06 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:34:06 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:34:06 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:34:06 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:34:06 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:34:06 2017 GID set to nogroup
Sat Dec  9 21:34:06 2017 UID set to nobody
Sat Dec  9 21:34:06 2017 Initialization Sequence Completed
I1209 21:34:09.299806 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:34:14.302203 636804 daisy.py:443] < 5s wait complete
I1209 21:34:14.302428 636804 daisy.py:444] VPN client VNF started
chain41-source -> chain41-sink 
chain41-sink -> chain41-source 
*** Results: 0% dropped (2/2 received)
I1209 21:34:15.868355 636804 daisy.py:369] ping chain41-source -> chain41-sink. Packet drop 0.0%
I1209 21:34:15.949956 636804 bench.py:19] Copying traces into the containers...
I1209 21:34:17.777941 636804 bench.py:29] Running dstat...
I1209 21:34:20.158893 636804 iter-e2-allocation.py:17] started allocating chain: 42
I1209 21:34:20.159284 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server32']
I1209 21:34:20.159404 636804 daisy.py:240] creating chain42-fw on chain-server32
D1209 21:34:20.160561 636804 node.py:55] Starting compute instance u'chain42-fw' in data center 'chain-server32'
D1209 21:34:21.279345 636804 simple.py:169] Setting CPU limit for u'chain42-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:34:21.357140 636804 simple.py:215] Setting MEM limit for u'chain42-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:34:21.761493 636804 net.py:233] addLink: n1=chain42-fw intf1=input -- n2=dc41.s1 intf2=dc41.s1-eth2
D1209 21:34:22.130964 636804 net.py:233] addLink: n1=chain42-fw intf1=output-ids -- n2=dc41.s1 intf2=dc41.s1-eth3
D1209 21:34:22.473414 636804 net.py:233] addLink: n1=chain42-fw intf1=output-vpn -- n2=dc41.s1 intf2=dc41.s1-eth4
I1209 21:34:22.473638 636804 daisy.py:310] successfully created VNF: chain42-fw
I1209 21:34:22.473781 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server32']
I1209 21:34:22.473916 636804 daisy.py:240] creating chain42-ids on chain-server32
D1209 21:34:22.475135 636804 node.py:55] Starting compute instance u'chain42-ids' in data center 'chain-server32'
D1209 21:34:23.579761 636804 simple.py:169] Setting CPU limit for u'chain42-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:34:23.652477 636804 simple.py:215] Setting MEM limit for u'chain42-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:34:23.684319 636804 simple.py:169] Setting CPU limit for u'chain42-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:34:23.754750 636804 simple.py:215] Setting MEM limit for u'chain42-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:34:24.168371 636804 net.py:233] addLink: n1=chain42-ids intf1=input -- n2=dc41.s1 intf2=dc41.s1-eth5
D1209 21:34:24.519823 636804 net.py:233] addLink: n1=chain42-ids intf1=output -- n2=dc41.s1 intf2=dc41.s1-eth6
I1209 21:34:24.520149 636804 daisy.py:310] successfully created VNF: chain42-ids
I1209 21:34:24.520330 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server32']
I1209 21:34:24.520457 636804 daisy.py:240] creating chain42-nat on chain-server32
D1209 21:34:24.521764 636804 node.py:55] Starting compute instance u'chain42-nat' in data center 'chain-server32'
D1209 21:34:25.663674 636804 simple.py:215] Setting MEM limit for u'chain42-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:34:25.697746 636804 simple.py:169] Setting CPU limit for u'chain42-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:34:25.757391 636804 simple.py:215] Setting MEM limit for u'chain42-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:34:25.788847 636804 simple.py:169] Setting CPU limit for u'chain42-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:34:25.856816 636804 simple.py:215] Setting MEM limit for u'chain42-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:34:26.241908 636804 net.py:233] addLink: n1=chain42-nat intf1=input -- n2=dc41.s1 intf2=dc41.s1-eth7
D1209 21:34:26.567241 636804 net.py:233] addLink: n1=chain42-nat intf1=output -- n2=dc41.s1 intf2=dc41.s1-eth8
I1209 21:34:26.567548 636804 daisy.py:310] successfully created VNF: chain42-nat
I1209 21:34:26.567715 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server32']
I1209 21:34:26.567836 636804 daisy.py:240] creating chain42-vpn on chain-server32
D1209 21:34:26.570442 636804 node.py:55] Starting compute instance u'chain42-vpn' in data center 'chain-server32'
D1209 21:34:27.480530 636804 simple.py:215] Setting MEM limit for u'chain42-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:34:27.522974 636804 simple.py:215] Setting MEM limit for u'chain42-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:34:27.559160 636804 simple.py:169] Setting CPU limit for u'chain42-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:34:27.622698 636804 simple.py:215] Setting MEM limit for u'chain42-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:34:27.657923 636804 simple.py:169] Setting CPU limit for u'chain42-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:34:27.734409 636804 simple.py:215] Setting MEM limit for u'chain42-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:34:28.114032 636804 net.py:233] addLink: n1=chain42-vpn intf1=input-ids -- n2=dc41.s1 intf2=dc41.s1-eth9
D1209 21:34:28.462373 636804 net.py:233] addLink: n1=chain42-vpn intf1=input-fw -- n2=dc41.s1 intf2=dc41.s1-eth10
D1209 21:34:28.794924 636804 net.py:233] addLink: n1=chain42-vpn intf1=output -- n2=dc41.s1 intf2=dc41.s1-eth11
I1209 21:34:28.795245 636804 daisy.py:310] successfully created VNF: chain42-vpn
I1209 21:34:28.795422 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud7']
I1209 21:34:28.795564 636804 daisy.py:240] creating chain42-source on off-cloud7
D1209 21:34:28.796931 636804 node.py:55] Starting compute instance u'chain42-source' in data center 'off-cloud7'
D1209 21:34:29.751724 636804 simple.py:215] Setting MEM limit for u'chain36-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:34:29.793519 636804 simple.py:215] Setting MEM limit for u'chain16-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:34:29.831232 636804 simple.py:215] Setting MEM limit for u'chain0-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:34:29.869641 636804 simple.py:169] Setting CPU limit for u'chain42-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:34:29.935622 636804 simple.py:215] Setting MEM limit for u'chain42-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:34:29.970021 636804 simple.py:215] Setting MEM limit for u'chain34-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:34:29.998879 636804 simple.py:215] Setting MEM limit for u'chain35-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:34:30.032398 636804 simple.py:215] Setting MEM limit for u'chain11-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:34:30.423301 636804 net.py:233] addLink: n1=chain42-source intf1=intf1 -- n2=dc17.s1 intf2=dc17.s1-eth8
I1209 21:34:30.423558 636804 daisy.py:310] successfully created VNF: chain42-source
I1209 21:34:30.423708 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud8']
I1209 21:34:30.423823 636804 daisy.py:240] creating chain42-sink on off-cloud8
D1209 21:34:30.425177 636804 node.py:55] Starting compute instance u'chain42-sink' in data center 'off-cloud8'
D1209 21:34:31.410434 636804 simple.py:169] Setting CPU limit for u'chain42-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:34:31.473342 636804 simple.py:215] Setting MEM limit for u'chain42-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:34:31.509078 636804 simple.py:215] Setting MEM limit for u'chain12-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:34:31.539474 636804 simple.py:215] Setting MEM limit for u'chain35-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:34:31.567960 636804 simple.py:215] Setting MEM limit for u'chain36-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:34:31.603055 636804 simple.py:215] Setting MEM limit for u'chain0-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:34:31.637025 636804 simple.py:215] Setting MEM limit for u'chain34-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:34:31.673970 636804 simple.py:215] Setting MEM limit for u'chain37-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:34:32.060748 636804 net.py:233] addLink: n1=chain42-sink intf1=intf2 -- n2=dc22.s1 intf2=dc22.s1-eth8
I1209 21:34:32.060996 636804 daisy.py:310] successfully created VNF: chain42-sink
I1209 21:34:32.061136 636804 daisy.py:311] successfully created chain: 42
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
0 is success)
returned 0 from sudo docker exec mn.chain41-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain41-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain41-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain41-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain41-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain41-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain41-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain41-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain41-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain41-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain41-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain41-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain41-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain41-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain41-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain41-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain41-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain41-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain41-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain41-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain41-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain41-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain41-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain41-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.02336399999999994, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server32'], [u'ids', u'chain-server32'], [u'nat', u'chain-server32'], [u'vpn', u'chain-server32'], [u'source', u'off-cloud7'], [u'sink', u'off-cloud8']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 1.9773399999999999, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud7', 2], [u'chain-server32', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server32', 2], [u'off-cloud8', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain42-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain42-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain42-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain42-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain42-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain42-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain42-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain42-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain42-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain42-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain42-fw route del -net 10.I1209 21:34:36.385284 636804 daisy.py:401] source, nat, and fw start done
I1209 21:34:36.385595 636804 daisy.py:402] My commands
I1209 21:34:36.570199 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:34:38.572591 636804 daisy.py:419] < 2s wait complete
I1209 21:34:38.572777 636804 daisy.py:420] start VNF chaining
D1209 21:34:38.572962 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain42-source', vnf_src_interface='intf1', vnf_dst_name=u'chain42-nat', vnf_dst_interface='input'
I1209 21:34:38.573205 636804 net.py:665] Path between chain42-source and chain42-nat: ['dc17.s1', u'gsw0', 'dc41.s1']
I1209 21:34:38.573360 636804 net.py:889] add-flow
I1209 21:34:38.573441 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:505,output=1
I1209 21:34:38.582431 636804 net.py:893] add-flow in switch: dc17.s1 in_port: 8 out_port: 1
I1209 21:34:38.582581 636804 net.py:889] add-flow
I1209 21:34:38.582664 636804 net.py:890] in_port=48,dl_vlan=505,action=33
I1209 21:34:38.615567 636804 net.py:893] add-flow in switch: gsw0 in_port: 48 out_port: 33
I1209 21:34:38.615710 636804 net.py:694] end node reached: chain42-nat
I1209 21:34:38.615818 636804 net.py:889] add-flow
I1209 21:34:38.615894 636804 net.py:890] in_port=1,dl_vlan=505,action=strip_vlan,output=7
I1209 21:34:38.659780 636804 net.py:893] add-flow in switch: dc41.s1 in_port: 1 out_port: 7
D1209 21:34:38.660027 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain42-nat', vnf_src_interface='input', vnf_dst_name=u'chain42-source', vnf_dst_interface='intf1'
I1209 21:34:38.660213 636804 net.py:665] Path between chain42-nat and chain42-source: ['dc41.s1', u'gsw0', 'dc17.s1']
I1209 21:34:38.660366 636804 net.py:889] add-flow
I1209 21:34:38.660478 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:506,output=1
I1209 21:34:38.706448 636804 net.py:893] add-flow in switch: dc41.s1 in_port: 7 out_port: 1
I1209 21:34:38.706593 636804 net.py:889] add-flow
I1209 21:34:38.706674 636804 net.py:890] in_port=33,dl_vlan=506,action=48
I1209 21:34:38.750159 636804 net.py:893] add-flow in switch: gsw0 in_port: 33 out_port: 48
I1209 21:34:38.750336 636804 net.py:694] end node reached: chain42-source
I1209 21:34:38.750458 636804 net.py:889] add-flow
I1209 21:34:38.750535 636804 net.py:890] in_port=1,dl_vlan=506,action=strip_vlan,output=8
I1209 21:34:38.790781 636804 net.py:893] add-flow in switch: dc17.s1 in_port: 1 out_port: 8
I1209 21:34:38.791024 636804 daisy.py:322] chain(chain42-source, chain42-nat) output: success: add-flow between chain42-source and chain42-nat with options: {
 "priority": 1000, 
 "path": [
  "dc17.s1", 
  "gsw0", 
  "dc41.s1"
 ], 
 "vlan": 505, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain42-nat and chain42-source with options: {
 "priority": 1000, 
 "path": [
  "dc41.s1", 
  "gsw0", 
  "dc17.s1"
 ], 
 "vlan": 506, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:34:38.791223 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain42-nat', vnf_src_interface='output', vnf_dst_name=u'chain42-fw', vnf_dst_interface='input'
I1209 21:34:38.791367 636804 net.py:665] Path between chain42-nat and chain42-fw: ['dc41.s1']
I1209 21:34:38.791462 636804 net.py:694] end node reached: chain42-fw
I1209 21:34:38.791585 636804 net.py:889] add-flow
I1209 21:34:38.791692 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:507,output=2
I1209 21:34:38.834858 636804 net.py:893] add-flow in switch: dc41.s1 in_port: 8 out_port: 2
I1209 21:34:38.834995 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc41.s1 in_port: 8 out_port: 2
I1209 21:34:38.835098 636804 net.py:931] add-flow
I1209 21:34:38.835175 636804 net.py:932] in_port=8,action=strip_vlan,output=2
I1209 21:34:38.880249 636804 net.py:935] add-flow in switch: dc41.s1 in_port: 8 out_port: 2
D1209 21:34:38.880439 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain42-fw', vnf_src_interface='input', vnf_dst_name=u'chain42-nat', vnf_dst_interface='output'
I1209 21:34:38.880572 636804 net.py:665] Path between chain42-fw and chain42-nat: ['dc41.s1']
I1209 21:34:38.880670 636804 net.py:694] end node reached: chain42-nat
I1209 21:34:38.880757 636804 net.py:889] add-flow
I1209 21:34:38.880831 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:508,output=8
I1209 21:34:38.947331 636804 net.py:893] add-flow in switch: dc41.s1 in_port: 2 out_port: 8
I1209 21:34:38.947484 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc41.s1 in_port: 2 out_port: 8
I1209 21:34:38.947599 636804 net.py:931] add-flow
I1209 21:34:38.947701 636804 net.py:932] in_port=2,action=strip_vlan,output=8
I1209 21:34:38.988085 636804 net.py:935] add-flow in switch: dc41.s1 in_port: 2 out_port: 8
I1209 21:34:38.988321 636804 daisy.py:329] chain(chain42-nat, chain42-fw) output: success: add-flow between chain42-nat and chain42-fw with options: {
 "priority": 1000, 
 "path": [
  "dc41.s1"
 ], 
 "vlan": 507, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain42-fw and chain42-nat with options: {
 "priority": 1000, 
 "path": [
  "dc41.s1"
 ], 
 "vlan": 508, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:34:38.988492 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain42-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain42-ids', vnf_dst_interface='input'
I1209 21:34:38.988643 636804 net.py:665] Path between chain42-fw and chain42-ids: ['dc41.s1']
I1209 21:34:38.988764 636804 net.py:694] end node reached: chain42-ids
I1209 21:34:38.988887 636804 net.py:889] add-flow
I1209 21:34:38.988991 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:509,output=5
I1209 21:34:39.065124 636804 net.py:893] add-flow in switch: dc41.s1 in_port: 3 out_port: 5
D1209 21:34:39.065362 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain42-ids', vnf_src_interface='input', vnf_dst_name=u'chain42-fw', vnf_dst_interface='output-ids'
I1209 21:34:39.065531 636804 net.py:665] Path between chain42-ids and chain42-fw: ['dc41.s1']
I1209 21:34:39.065658 636804 net.py:694] end node reached: chain42-fw
I1209 21:34:39.065785 636804 net.py:889] add-flow
I1209 21:34:39.065896 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:510,output=3
I1209 21:34:39.106935 636804 net.py:893] add-flow in switch: dc41.s1 in_port: 5 out_port: 3
I1209 21:34:39.107126 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc41.s1 in_port: 5 out_port: 3
I1209 21:34:39.107269 636804 net.py:931] add-flow
I1209 21:34:39.107388 636804 net.py:932] in_port=5,action=strip_vlan,output=3
I1209 21:34:39.148999 636804 net.py:935] add-flow in switch: dc41.s1 in_port: 5 out_port: 3
I1209 21:34:39.149256 636804 daisy.py:336] chain(chain42-fw, chain42-ids) output: success: add-flow between chain42-fw and chain42-ids with options: {
 "priority": 1000, 
 "path": [
  "dc41.s1"
 ], 
 "vlan": 509, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain42-ids and chain42-fw with options: {
 "priority": 1000, 
 "path": [
  "dc41.s1"
 ], 
 "vlan": 510, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:34:39.149449 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain42-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain42-vpn', vnf_dst_interface='input-fw'
I1209 21:34:39.149624 636804 net.py:665] Path between chain42-fw and chain42-vpn: ['dc41.s1']
I1209 21:34:39.149751 636804 net.py:694] end node reached: chain42-vpn
I1209 21:34:39.149880 636804 net.py:889] add-flow
I1209 21:34:39.149988 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:511,output=10
I1209 21:34:39.216439 636804 net.py:893] add-flow in switch: dc41.s1 in_port: 4 out_port: 10
D1209 21:34:39.216695 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain42-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain42-fw', vnf_dst_interface='output-vpn'
I1209 21:34:39.216900 636804 net.py:665] Path between chain42-vpn and chain42-fw: ['dc41.s1']
I1209 21:34:39.217041 636804 net.py:694] end node reached: chain42-fw
I1209 21:34:39.217195 636804 net.py:889] add-flow
I1209 21:34:39.217307 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:512,output=4
I1209 21:34:39.260389 636804 net.py:893] add-flow in switch: dc41.s1 in_port: 10 out_port: 4
I1209 21:34:39.260653 636804 daisy.py:343] chain(chain42-fw, chain42-vpn) output: success: add-flow between chain42-fw and chain42-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc41.s1"
 ], 
 "vlan": 511, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain42-vpn and chain42-fw with options: {
 "priority": 1000, 
 "path": [
  "dc41.s1"
 ], 
 "vlan": 512, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:34:39.260845 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain42-ids', vnf_src_interface='output', vnf_dst_name=u'chain42-vpn', vnf_dst_interface='input-ids'
I1209 21:34:39.261042 636804 net.py:665] Path between chain42-ids and chain42-vpn: ['dc41.s1']
I1209 21:34:39.261218 636804 net.py:694] end node reached: chain42-vpn
I1209 21:34:39.261348 636804 net.py:889] add-flow
I1209 21:34:39.261459 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:513,output=9
I1209 21:34:39.295444 636804 net.py:893] add-flow in switch: dc41.s1 in_port: 6 out_port: 9
I1209 21:34:39.295648 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc41.s1 in_port: 6 out_port: 9
I1209 21:34:39.295773 636804 net.py:931] add-flow
I1209 21:34:39.295870 636804 net.py:932] in_port=6,action=strip_vlan,output=9
I1209 21:34:39.329617 636804 net.py:935] add-flow in switch: dc41.s1 in_port: 6 out_port: 9
D1209 21:34:39.329844 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain42-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain42-ids', vnf_dst_interface='output'
I1209 21:34:39.330027 636804 net.py:665] Path between chain42-vpn and chain42-ids: ['dc41.s1']
I1209 21:34:39.330272 636804 net.py:694] end node reached: chain42-ids
I1209 21:34:39.330426 636804 net.py:889] add-flow
I1209 21:34:39.330563 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:514,output=6
I1209 21:34:39.400667 636804 net.py:893] add-flow in switch: dc41.s1 in_port: 9 out_port: 6
I1209 21:34:39.401376 636804 daisy.py:350] chain(chain42-ids, chain42-vpn) output: success: add-flow between chain42-ids and chain42-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc41.s1"
 ], 
 "vlan": 513, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain42-vpn and chain42-ids with options: {
 "priority": 1000, 
 "path": [
  "dc41.s1"
 ], 
 "vlan": 514, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:34:39.401578 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain42-vpn', vnf_src_interface='output', vnf_dst_name=u'chain42-sink', vnf_dst_interface='intf2'
I1209 21:34:39.401799 636804 net.py:665] Path between chain42-vpn and chain42-sink: ['dc41.s1', u'gsw0', 'dc22.s1']
I1209 21:34:39.401948 636804 net.py:889] add-flow
I1209 21:34:39.402168 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:515,output=1
I1209 21:34:39.438792 636804 net.py:893] add-flow in switch: dc41.s1 in_port: 11 out_port: 1
I1209 21:34:39.439001 636804 net.py:889] add-flow
I1209 21:34:39.439157 636804 net.py:890] in_port=33,dl_vlan=515,action=49
I1209 21:34:39.474515 636804 net.py:893] add-flow in switch: gsw0 in_port: 33 out_port: 49
I1209 21:34:39.474700 636804 net.py:694] end node reached: chain42-sink
I1209 21:34:39.474848 636804 net.py:889] add-flow
I1209 21:34:39.474963 636804 net.py:890] in_port=1,dl_vlan=515,action=strip_vlan,output=8
I1209 21:34:39.510979 636804 net.py:893] add-flow in switch: dc22.s1 in_port: 1 out_port: 8
D1209 21:34:39.511236 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain42-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain42-vpn', vnf_dst_interface='output'
I1209 21:34:39.511409 636804 net.py:665] Path between chain42-sink and chain42-vpn: ['dc22.s1', u'gsw0', 'dc41.s1']
I1209 21:34:39.511539 636804 net.py:889] add-flow
I1209 21:34:39.511636 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:516,output=1
I1209 21:34:39.544537 636804 net.py:893] add-flow in switch: dc22.s1 in_port: 8 out_port: 1
I1209 21:34:39.544693 636804 net.py:889] add-flow
I1209 21:34:39.544785 636804 net.py:890] in_port=49,dl_vlan=516,action=33
I1209 21:34:39.582331 636804 net.py:893] add-flow in switch: gsw0 in_port: 49 out_port: 33
I1209 21:34:39.582463 636804 net.py:694] end node reached: chain42-vpn
I1209 21:34:39.582566 636804 net.py:889] add-flow
I1209 21:34:39.582648 636804 net.py:890] in_port=1,dl_vlan=516,action=strip_vlan,output=11
I1209 21:34:39.625344 636804 net.py:893] add-flow in switch: dc41.s1 in_port: 1 out_port: 11
I1209 21:34:39.625552 636804 daisy.py:357] chain(chain42-vpn, chain42-sink) output: success: add-flow between chain42-vpn and chain42-sink with options: {
 "priority": 1000, 
 "path": [
  "dc41.s1", 
  "gsw0", 
  "dc22.s1"
 ], 
 "vlan": 515, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain42-sink and chain42-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc22.s1", 
  "gsw0", 
  "dc41.s1"
 ], 
 "vlan": 516, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:34:41 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:34:41 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:34:41 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:34:41 2017 UDPv4 link local: [undef]
Sat Dec  9 21:34:41 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:34:41 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=05b42791 797251e0
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:34:41 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:34:41 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:34:41 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:34:42 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:34:42 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:34:42 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:34:42 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:34:42 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:34:42 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:34:42 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:34:42 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:34:44 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:34:44 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:34:44 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:34:44 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:34:44 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:34:44 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:34:44 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:01:01
Sat Dec  9 21:34:44 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:34:44 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:34:44 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:34:44 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:34:44 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:34:44 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:34:44 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:34:44 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:34:44 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:34:44 2017 GID set to nogroup
Sat Dec  9 21:34:44 2017 UID set to nobody
Sat Dec  9 21:34:44 2017 Initialization Sequence Completed
I1209 21:34:47.949383 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:34:52.954196 636804 daisy.py:443] < 5s wait complete
I1209 21:34:52.954480 636804 daisy.py:444] VPN client VNF started
chain42-source -> chain42-sink 
chain42-sink -> chain42-source 
*** Results: 0% dropped (2/2 received)
I1209 21:34:55.705266 636804 daisy.py:369] ping chain42-source -> chain42-sink. Packet drop 0.0%
I1209 21:34:55.803380 636804 bench.py:19] Copying traces into the containers...
I1209 21:34:57.384049 636804 bench.py:29] Running dstat...
I1209 21:34:59.750940 636804 iter-e2-allocation.py:17] started allocating chain: 43
I1209 21:34:59.751394 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server32']
I1209 21:34:59.751534 636804 daisy.py:240] creating chain43-fw on chain-server32
D1209 21:34:59.752991 636804 node.py:55] Starting compute instance u'chain43-fw' in data center 'chain-server32'
D1209 21:35:00.822822 636804 simple.py:169] Setting CPU limit for u'chain43-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:35:00.902765 636804 simple.py:215] Setting MEM limit for u'chain43-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:00.939224 636804 simple.py:215] Setting MEM limit for u'chain42-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:35:00.972027 636804 simple.py:215] Setting MEM limit for u'chain42-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:01.007390 636804 simple.py:169] Setting CPU limit for u'chain42-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:35:01.072092 636804 simple.py:215] Setting MEM limit for u'chain42-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:01.100193 636804 simple.py:215] Setting MEM limit for u'chain42-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:01.536881 636804 net.py:233] addLink: n1=chain43-fw intf1=input -- n2=dc41.s1 intf2=dc41.s1-eth12
D1209 21:35:01.918251 636804 net.py:233] addLink: n1=chain43-fw intf1=output-ids -- n2=dc41.s1 intf2=dc41.s1-eth13
D1209 21:35:02.281768 636804 net.py:233] addLink: n1=chain43-fw intf1=output-vpn -- n2=dc41.s1 intf2=dc41.s1-eth14
I1209 21:35:02.282058 636804 daisy.py:310] successfully created VNF: chain43-fw
I1209 21:35:02.282294 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server32']
I1209 21:35:02.282413 636804 daisy.py:240] creating chain43-ids on chain-server32
D1209 21:35:02.283730 636804 node.py:55] Starting compute instance u'chain43-ids' in data center 'chain-server32'
D1209 21:35:03.345293 636804 simple.py:215] Setting MEM limit for u'chain42-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:35:03.388004 636804 simple.py:215] Setting MEM limit for u'chain42-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:03.424416 636804 simple.py:169] Setting CPU limit for u'chain43-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:35:03.491966 636804 simple.py:215] Setting MEM limit for u'chain43-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:03.521790 636804 simple.py:215] Setting MEM limit for u'chain42-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:03.558166 636804 simple.py:169] Setting CPU limit for u'chain43-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:35:03.623805 636804 simple.py:215] Setting MEM limit for u'chain43-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:35:03.659564 636804 simple.py:169] Setting CPU limit for u'chain42-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:35:03.732944 636804 simple.py:215] Setting MEM limit for u'chain42-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:04.201076 636804 net.py:233] addLink: n1=chain43-ids intf1=input -- n2=dc41.s1 intf2=dc41.s1-eth15
D1209 21:35:04.574641 636804 net.py:233] addLink: n1=chain43-ids intf1=output -- n2=dc41.s1 intf2=dc41.s1-eth16
I1209 21:35:04.574908 636804 daisy.py:310] successfully created VNF: chain43-ids
I1209 21:35:04.575037 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server32']
I1209 21:35:04.575160 636804 daisy.py:240] creating chain43-nat on chain-server32
D1209 21:35:04.576520 636804 node.py:55] Starting compute instance u'chain43-nat' in data center 'chain-server32'
D1209 21:35:05.603823 636804 simple.py:215] Setting MEM limit for u'chain42-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:35:05.644619 636804 simple.py:215] Setting MEM limit for u'chain42-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:05.682903 636804 simple.py:169] Setting CPU limit for u'chain43-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:35:05.764498 636804 simple.py:215] Setting MEM limit for u'chain43-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:05.797092 636804 simple.py:169] Setting CPU limit for u'chain43-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:35:05.870831 636804 simple.py:215] Setting MEM limit for u'chain43-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:05.904902 636804 simple.py:215] Setting MEM limit for u'chain42-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:05.938770 636804 simple.py:215] Setting MEM limit for u'chain43-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:35:05.972207 636804 simple.py:169] Setting CPU limit for u'chain42-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:35:06.032299 636804 simple.py:215] Setting MEM limit for u'chain42-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:06.458941 636804 net.py:233] addLink: n1=chain43-nat intf1=input -- n2=dc41.s1 intf2=dc41.s1-eth17
D1209 21:35:06.831964 636804 net.py:233] addLink: n1=chain43-nat intf1=output -- n2=dc41.s1 intf2=dc41.s1-eth18
I1209 21:35:06.832281 636804 daisy.py:310] successfully created VNF: chain43-nat
I1209 21:35:06.832489 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server32']
I1209 21:35:06.832612 636804 daisy.py:240] creating chain43-vpn on chain-server32
D1209 21:35:06.833726 636804 node.py:55] Starting compute instance u'chain43-vpn' in data center 'chain-server32'
D1209 21:35:07.946393 636804 simple.py:215] Setting MEM limit for u'chain42-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:35:07.982863 636804 simple.py:215] Setting MEM limit for u'chain42-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:08.016426 636804 simple.py:169] Setting CPU limit for u'chain43-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:35:08.083728 636804 simple.py:215] Setting MEM limit for u'chain43-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:08.114809 636804 simple.py:215] Setting MEM limit for u'chain43-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:08.150526 636804 simple.py:169] Setting CPU limit for u'chain43-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:35:08.214251 636804 simple.py:215] Setting MEM limit for u'chain43-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:08.252887 636804 simple.py:215] Setting MEM limit for u'chain42-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:08.291666 636804 simple.py:215] Setting MEM limit for u'chain43-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:35:08.328411 636804 simple.py:169] Setting CPU limit for u'chain42-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:35:08.394948 636804 simple.py:215] Setting MEM limit for u'chain42-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:08.826278 636804 net.py:233] addLink: n1=chain43-vpn intf1=input-ids -- n2=dc41.s1 intf2=dc41.s1-eth19
D1209 21:35:09.219804 636804 net.py:233] addLink: n1=chain43-vpn intf1=input-fw -- n2=dc41.s1 intf2=dc41.s1-eth20
D1209 21:35:09.620981 636804 net.py:233] addLink: n1=chain43-vpn intf1=output -- n2=dc41.s1 intf2=dc41.s1-eth21
I1209 21:35:09.621257 636804 daisy.py:310] successfully created VNF: chain43-vpn
I1209 21:35:09.621401 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud7']
I1209 21:35:09.621520 636804 daisy.py:240] creating chain43-source on off-cloud7
D1209 21:35:09.622864 636804 node.py:55] Starting compute instance u'chain43-source' in data center 'off-cloud7'
D1209 21:35:10.639600 636804 simple.py:215] Setting MEM limit for u'chain36-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:10.680387 636804 simple.py:215] Setting MEM limit for u'chain16-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:10.716587 636804 simple.py:215] Setting MEM limit for u'chain0-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:10.750801 636804 simple.py:215] Setting MEM limit for u'chain42-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:10.785213 636804 simple.py:215] Setting MEM limit for u'chain34-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:10.826404 636804 simple.py:215] Setting MEM limit for u'chain35-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:10.864891 636804 simple.py:215] Setting MEM limit for u'chain11-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:10.896588 636804 simple.py:169] Setting CPU limit for u'chain43-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:35:10.960432 636804 simple.py:215] Setting MEM limit for u'chain43-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:11.391606 636804 net.py:233] addLink: n1=chain43-source intf1=intf1 -- n2=dc17.s1 intf2=dc17.s1-eth9
I1209 21:35:11.391884 636804 daisy.py:310] successfully created VNF: chain43-source
I1209 21:35:11.392059 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud8']
I1209 21:35:11.392184 636804 daisy.py:240] creating chain43-sink on off-cloud8
D1209 21:35:11.394478 636804 node.py:55] Starting compute instance u'chain43-sink' in data center 'off-cloud8'
D1209 21:35:12.453319 636804 simple.py:215] Setting MEM limit for u'chain42-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:12.495577 636804 simple.py:215] Setting MEM limit for u'chain12-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:12.532810 636804 simple.py:169] Setting CPU limit for u'chain43-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:35:12.602381 636804 simple.py:215] Setting MEM limit for u'chain43-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:12.634212 636804 simple.py:215] Setting MEM limit for u'chain35-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:12.666604 636804 simple.py:215] Setting MEM limit for u'chain36-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:12.702449 636804 simple.py:215] Setting MEM limit for u'chain0-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:12.736335 636804 simple.py:215] Setting MEM limit for u'chain34-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:12.769681 636804 simple.py:215] Setting MEM limit for u'chain37-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:13.393335 636804 net.py:233] addLink: n1=chain43-sink intf1=intf2 -- n2=dc22.s1 intf2=dc22.s1-eth9
I1209 21:35:13.393575 636804 daisy.py:310] successfully created VNF: chain43-sink
I1209 21:35:13.393759 636804 daisy.py:311] successfully created chain: 43
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:35:16.909451 636804 daisy.py:401] source, nat, and fw start done
I1209 21:35:16.909786 636804 daisy.py:402] My commands
I1209 21:35:17.096807 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:35:19.098237 636804 daisy.py:419] < 2s wait complete
I1209 21:35:19.098440 636804 daisy.py:420] start VNF chaining
D1209 21:35:19.098579 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain43-source', vnf_src_interface='intf1', vnf_dst_name=u'chain43-nat', vnf_dst_interface='input'
I1209 21:35:19.098813 636804 net.py:665] Path between chain43-source and chain43-nat: ['dc17.s1', u'gsw0', 'dc41.s1']
I1209 21:35:19.098972 636804 net.py:889] add-flow
I1209 21:35:19.099093 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:517,output=1
I1209 21:35:19.107460 636804 net.py:893] add-flow in switch: dc17.s1 in_port: 9 out_port: 1
I1209 21:35:19.107609 636804 net.py:889] add-flow
I1209 21:35:19.107686 636804 net.py:890] in_port=48,dl_vlan=517,action=33
I1209 21:35:19.141976 636804 net.py:893] add-flow in switch: gsw0 in_port: 48 out_port: 33
I1209 21:35:19.142216 636804 net.py:694] end node reached: chain43-nat
I1209 21:35:19.142317 636804 net.py:889] add-flow
I1209 21:35:19.142381 636804 net.py:890] in_port=1,dl_vlan=517,action=strip_vlan,output=17
I1209 21:35:19.187671 636804 net.py:893] add-flow in switch: dc41.s1 in_port: 1 out_port: 17
D1209 21:35:19.187957 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain43-nat', vnf_src_interface='input', vnf_dst_name=u'chain43-source', vnf_dst_interface='intf1'
I1209 21:35:19.188144 636804 net.py:665] Path between chain43-nat and chain43-source: ['dc41.s1', u'gsw0', 'dc17.s1']
I1209 21:35:19.188252 636804 net.py:889] add-flow
I1209 21:35:19.188323 636804 net.py:890] -O OpenFlow13 in_port=17,action=mod_vlan_vid:518,output=1
I1209 21:35:19.229749 636804 net.py:893] add-flow in switch: dc41.s1 in_port: 17 out_port: 1
I1209 21:35:19.229897 636804 net.py:889] add-flow
I1209 21:35:19.230020 636804 net.py:890] in_port=33,dl_vlan=518,action=48
I1209 21:35:19.264725 636804 net.py:893] add-flow in switch: gsw0 in_port: 33 out_port: 48
I1209 21:35:19.264894 636804 net.py:694] end node reached: chain43-source
I1209 21:35:19.265021 636804 net.py:889] add-flow
I1209 21:35:19.265110 636804 net.py:890] in_port=1,dl_vlan=518,action=strip_vlan,output=9
I1209 21:35:19.307951 636804 net.py:893] add-flow in switch: dc17.s1 in_port: 1 out_port: 9
I1209 21:35:19.308284 636804 daisy.py:322] chain(chain43-source, chain43-nat) output: success: add-flow between chain43-source and chain43-nat with options: {
 "priority": 1000, 
 "path": [
  "dc17.s1", 
  "gsw0", 
  "dc41.s1"
 ], 
 "vlan": 517, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain43-nat and chain43-source with options: {
 "priority": 1000, 
 "path": [
  "dc41.s1", 
  "gsw0", 
  "dc17.s1"
 ], 
 "vlan": 518, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:35:19.308459 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain43-nat', vnf_src_interface='output', vnf_dst_name=u'chain43-fw', vnf_dst_interface='input'
I1209 21:35:19.308620 636804 net.py:665] Path between chain43-nat and chain43-fw: ['dc41.s1']
I1209 21:35:19.308727 636804 net.py:694] end node reached: chain43-fw
I1209 21:35:19.308828 636804 net.py:889] add-flow
I1209 21:35:19.308908 636804 net.py:890] -O OpenFlow13 in_port=18,action=mod_vlan_vid:519,output=12
I1209 21:35:19.344896 636804 net.py:893] add-flow in switch: dc41.s1 in_port: 18 out_port: 12
I1209 21:35:19.345093 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc41.s1 in_port: 18 out_port: 12
I1209 21:35:19.345216 636804 net.py:931] add-flow
I1209 21:35:19.345320 636804 net.py:932] in_port=18,action=strip_vlan,output=12
I1209 21:35:19.380147 636804 net.py:935] add-flow in switch: dc41.s1 in_port: 18 out_port: 12
D1209 21:35:19.380428 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain43-fw', vnf_src_interface='input', vnf_dst_name=u'chain43-nat', vnf_dst_interface='output'
I1209 21:35:19.380587 636804 net.py:665] Path between chain43-fw and chain43-nat: ['dc41.s1']
I1209 21:35:19.380692 636804 net.py:694] end node reached: chain43-nat
I1209 21:35:19.380796 636804 net.py:889] add-flow
I1209 21:35:19.380880 636804 net.py:890] -O OpenFlow13 in_port=12,action=mod_vlan_vid:520,output=18
I1209 21:35:19.452584 636804 net.py:893] add-flow in switch: dc41.s1 in_port: 12 out_port: 18
I1209 21:35:19.452785 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc41.s1 in_port: 12 out_port: 18
I1209 21:35:19.452878 636804 net.py:931] add-flow
I1209 21:35:19.452970 636804 net.py:932] in_port=12,action=strip_vlan,output=18
I1209 21:35:19.487763 636804 net.py:935] add-flow in switch: dc41.s1 in_port: 12 out_port: 18
I1209 21:35:19.488070 636804 daisy.py:329] chain(chain43-nat, chain43-fw) output: success: add-flow between chain43-nat and chain43-fw with options: {
 "priority": 1000, 
 "path": [
  "dc41.s1"
 ], 
 "vlan": 519, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain43-fw and chain43-nat with options: {
 "priority": 1000, 
 "path": [
  "dc41.s1"
 ], 
 "vlan": 520, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:35:19.488236 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain43-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain43-ids', vnf_dst_interface='input'
I1209 21:35:19.488419 636804 net.py:665] Path between chain43-fw and chain43-ids: ['dc41.s1']
I1209 21:35:19.488532 636804 net.py:694] end node reached: chain43-ids
I1209 21:35:19.488635 636804 net.py:889] add-flow
I1209 21:35:19.488719 636804 net.py:890] -O OpenFlow13 in_port=13,action=mod_vlan_vid:521,output=15
I1209 21:35:19.572113 636804 net.py:893] add-flow in switch: dc41.s1 in_port: 13 out_port: 15
D1209 21:35:19.572393 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain43-ids', vnf_src_interface='input', vnf_dst_name=u'chain43-fw', vnf_dst_interface='output-ids'
I1209 21:35:19.572565 636804 net.py:665] Path between chain43-ids and chain43-fw: ['dc41.s1']
I1209 21:35:19.572676 636804 net.py:694] end node reached: chain43-fw
I1209 21:35:19.572793 636804 net.py:889] add-flow
I1209 21:35:19.572880 636804 net.py:890] -O OpenFlow13 in_port=15,action=mod_vlan_vid:522,output=13
I1209 21:35:19.609477 636804 net.py:893] add-flow in switch: dc41.s1 in_port: 15 out_port: 13
I1209 21:35:19.609642 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc41.s1 in_port: 15 out_port: 13
I1209 21:35:19.609750 636804 net.py:931] add-flow
I1209 21:35:19.609836 636804 net.py:932] in_port=15,action=strip_vlan,output=13
I1209 21:35:19.654259 636804 net.py:935] add-flow in switch: dc41.s1 in_port: 15 out_port: 13
I1209 21:35:19.654512 636804 daisy.py:336] chain(chain43-fw, chain43-ids) output: success: add-flow between chain43-fw and chain43-ids with options: {
 "priority": 1000, 
 "path": [
  "dc41.s1"
 ], 
 "vlan": 521, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain43-ids and chain43-fw with options: {
 "priority": 1000, 
 "path": [
  "dc41.s1"
 ], 
 "vlan": 522, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:35:19.654685 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain43-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain43-vpn', vnf_dst_interface='input-fw'
I1209 21:35:19.654860 636804 net.py:665] Path between chain43-fw and chain43-vpn: ['dc41.s1']
I1209 21:35:19.654973 636804 net.py:694] end node reached: chain43-vpn
I1209 21:35:19.655098 636804 net.py:889] add-flow
I1209 21:35:19.655184 636804 net.py:890] -O OpenFlow13 in_port=14,action=mod_vlan_vid:523,output=20
I1209 21:35:19.690282 636804 net.py:893] add-flow in switch: dc41.s1 in_port: 14 out_port: 20
D1209 21:35:19.690521 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain43-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain43-fw', vnf_dst_interface='output-vpn'
I1209 21:35:19.690669 636804 net.py:665] Path between chain43-vpn and chain43-fw: ['dc41.s1']
I1209 21:35:19.690789 636804 net.py:694] end node reached: chain43-fw
I1209 21:35:19.690903 636804 net.py:889] add-flow
I1209 21:35:19.691005 636804 net.py:890] -O OpenFlow13 in_port=20,action=mod_vlan_vid:524,output=14
I1209 21:35:19.727118 636804 net.py:893] add-flow in switch: dc41.s1 in_port: 20 out_port: 14
I1209 21:35:19.727323 636804 daisy.py:343] chain(chain43-fw, chain43-vpn) output: success: add-flow between chain43-fw and chain43-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc41.s1"
 ], 
 "vlan": 523, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain43-vpn and chain43-fw with options: {
 "priority": 1000, 
 "path": [
  "dc41.s1"
 ], 
 "vlan": 524, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:35:19.727468 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain43-ids', vnf_src_interface='output', vnf_dst_name=u'chain43-vpn', vnf_dst_interface='input-ids'
I1209 21:35:19.727601 636804 net.py:665] Path between chain43-ids and chain43-vpn: ['dc41.s1']
I1209 21:35:19.727713 636804 net.py:694] end node reached: chain43-vpn
I1209 21:35:19.727814 636804 net.py:889] add-flow
I1209 21:35:19.727906 636804 net.py:890] -O OpenFlow13 in_port=16,action=mod_vlan_vid:525,output=19
I1209 21:35:19.760610 636804 net.py:893] add-flow in switch: dc41.s1 in_port: 16 out_port: 19
I1209 21:35:19.760759 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc41.s1 in_port: 16 out_port: 19
I1209 21:35:19.760854 636804 net.py:931] add-flow
I1209 21:35:19.760936 636804 net.py:932] in_port=16,action=strip_vlan,output=19
I1209 21:35:19.795969 636804 net.py:935] add-flow in switch: dc41.s1 in_port: 16 out_port: 19
D1209 21:35:19.796215 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain43-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain43-ids', vnf_dst_interface='output'
I1209 21:35:19.796375 636804 net.py:665] Path between chain43-vpn and chain43-ids: ['dc41.s1']
I1209 21:35:19.796480 636804 net.py:694] end node reached: chain43-ids
I1209 21:35:19.796587 636804 net.py:889] add-flow
I1209 21:35:19.796694 636804 net.py:890] -O OpenFlow13 in_port=19,action=mod_vlan_vid:526,output=16
I1209 21:35:19.870923 636804 net.py:893] add-flow in switch: dc41.s1 in_port: 19 out_port: 16
I1209 21:35:19.871171 636804 daisy.py:350] chain(chain43-ids, chain43-vpn) output: success: add-flow between chain43-ids and chain43-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc41.s1"
 ], 
 "vlan": 525, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain43-vpn and chain43-ids with options: {
 "priority": 1000, 
 "path": [
  "dc41.s1"
 ], 
 "vlan": 526, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:35:19.871337 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain43-vpn', vnf_src_interface='output', vnf_dst_name=u'chain43-sink', vnf_dst_interface='intf2'
I1209 21:35:19.871529 636804 net.py:665] Path between chain43-vpn and chain43-sink: ['dc41.s1', u'gsw0', 'dc22.s1']
I1209 21:35:19.871653 636804 net.py:889] add-flow
I1209 21:35:19.871738 636804 net.py:890] -O OpenFlow13 in_port=21,action=mod_vlan_vid:527,output=1
I1209 21:35:19.908757 636804 net.py:893] add-flow in switch: dc41.s1 in_port: 21 out_port: 1
I1209 21:35:19.908919 636804 net.py:889] add-flow
I1209 21:35:19.909032 636804 net.py:890] in_port=33,dl_vlan=527,action=49
I1209 21:35:19.944214 636804 net.py:893] add-flow in switch: gsw0 in_port: 33 out_port: 49
I1209 21:35:19.944364 636804 net.py:694] end node reached: chain43-sink
I1209 21:35:19.944477 636804 net.py:889] add-flow
I1209 21:35:19.944575 636804 net.py:890] in_port=1,dl_vlan=527,action=strip_vlan,output=9
I1209 21:35:19.977871 636804 net.py:893] add-flow in switch: dc22.s1 in_port: 1 out_port: 9
D1209 21:35:19.978234 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain43-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain43-vpn', vnf_dst_interface='output'
I1209 21:35:19.978426 636804 net.py:665] Path between chain43-sink and chain43-vpn: ['dc22.s1', u'gsw0', 'dc41.s1']
I1209 21:35:19.978553 636804 net.py:889] add-flow
I1209 21:35:19.978641 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:528,output=1
I1209 21:35:20.010451 636804 net.py:893] add-flow in switch: dc22.s1 in_port: 9 out_port: 1
I1209 21:35:20.010607 636804 net.py:889] add-flow
I1209 21:35:20.010700 636804 net.py:890] in_port=49,dl_vlan=528,action=33
I1209 21:35:20.054908 636804 net.py:893] add-flow in switch: gsw0 in_port: 49 out_port: 33
I1209 21:35:20.055074 636804 net.py:694] end node reached: chain43-vpn
I1209 21:35:20.055187 636804 net.py:889] add-flow
I1209 21:35:20.055274 636804 net.py:890] in_port=1,dl_vlan=528,action=strip_vlan,output=21
I1209 21:35:20.087177 636804 net.py:893] add-flow in switch: dc41.s1 in_port: 1 out_port: 21
I1209 21:35:20.087402 636804 daisy.py:357] chain(chain43-vpn, chain43-sink) output: success: add-flow between chain43-vpn and chain43-sink with options: {
 "priority": 1000, 
 "path": [
  "dc41.s1", 
  "gsw0", 
  "dc22.s1"
 ], 
 "vlan": 527, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain43-sink and chain43-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc22.s1", 
  "gsw0", 
  "dc41.s1"
 ], 
 "vlan": 528, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain42-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain42-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain42-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain42-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain42-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain42-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain42-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain42-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain42-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain42-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain42-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain42-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain42-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain42-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain42-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.023337000000000163, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server32'], [u'ids', u'chain-server32'], [u'nat', u'chain-server32'], [u'vpn', u'chain-server32'], [u'source', u'off-cloud7'], [u'sink', u'off-cloud8']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 1.939095, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud7', 2], [u'chain-server32', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server32', 2], [u'off-cloud8', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain43-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain43-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain43-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain43-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain43-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain43-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain43-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain43-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain43-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain43-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain43-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain43-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain43-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain43-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain43-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain43-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain43-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain43-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain43-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain43-sink service openvpn start (0 is succeSetting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:35:22 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:35:22 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:35:22 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:35:22 2017 UDPv4 link local: [undef]
Sat Dec  9 21:35:22 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:35:22 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=ee28d3e0 7879a2a3
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:35:22 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:35:22 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:35:22 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:35:22 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:35:22 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:35:22 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:35:22 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:35:22 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:35:22 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:35:22 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:35:22 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:35:24 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:35:24 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:35:24 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:35:24 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:35:24 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:35:24 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:35:24 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:01:07
Sat Dec  9 21:35:24 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:35:24 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:35:24 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:35:24 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:35:24 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:35:24 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:35:24 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:35:24 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:35:24 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:35:24 2017 GID set to nogroup
Sat Dec  9 21:35:24 2017 UID set to nobody
Sat Dec  9 21:35:24 2017 Initialization Sequence Completed
I1209 21:35:27.330450 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:35:32.334172 636804 daisy.py:443] < 5s wait complete
I1209 21:35:32.334409 636804 daisy.py:444] VPN client VNF started
chain43-source -> chain43-sink 
chain43-sink -> chain43-source 
*** Results: 0% dropped (2/2 received)
I1209 21:35:35.619518 636804 daisy.py:369] ping chain43-source -> chain43-sink. Packet drop 0.0%
I1209 21:35:35.716861 636804 bench.py:19] Copying traces into the containers...
I1209 21:35:37.352905 636804 bench.py:29] Running dstat...
I1209 21:35:40.043813 636804 iter-e2-allocation.py:17] started allocating chain: 44
I1209 21:35:40.044243 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server31']
I1209 21:35:40.044409 636804 daisy.py:240] creating chain44-fw on chain-server31
D1209 21:35:40.045806 636804 node.py:55] Starting compute instance u'chain44-fw' in data center 'chain-server31'
D1209 21:35:41.167478 636804 simple.py:169] Setting CPU limit for u'chain44-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:35:41.239192 636804 simple.py:215] Setting MEM limit for u'chain44-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:41.677445 636804 net.py:233] addLink: n1=chain44-fw intf1=input -- n2=dc44.s1 intf2=dc44.s1-eth2
D1209 21:35:42.062387 636804 net.py:233] addLink: n1=chain44-fw intf1=output-ids -- n2=dc44.s1 intf2=dc44.s1-eth3
D1209 21:35:42.458548 636804 net.py:233] addLink: n1=chain44-fw intf1=output-vpn -- n2=dc44.s1 intf2=dc44.s1-eth4
I1209 21:35:42.458810 636804 daisy.py:310] successfully created VNF: chain44-fw
I1209 21:35:42.458990 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server31']
I1209 21:35:42.459144 636804 daisy.py:240] creating chain44-ids on chain-server31
D1209 21:35:42.461055 636804 node.py:55] Starting compute instance u'chain44-ids' in data center 'chain-server31'
D1209 21:35:43.634284 636804 simple.py:169] Setting CPU limit for u'chain44-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:35:43.705009 636804 simple.py:215] Setting MEM limit for u'chain44-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:35:43.734756 636804 simple.py:169] Setting CPU limit for u'chain44-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:35:43.804459 636804 simple.py:215] Setting MEM limit for u'chain44-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:44.266815 636804 net.py:233] addLink: n1=chain44-ids intf1=input -- n2=dc44.s1 intf2=dc44.s1-eth5
D1209 21:35:44.892949 636804 net.py:233] addLink: n1=chain44-ids intf1=output -- n2=dc44.s1 intf2=dc44.s1-eth6
I1209 21:35:44.893265 636804 daisy.py:310] successfully created VNF: chain44-ids
I1209 21:35:44.893424 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server31']
I1209 21:35:44.893546 636804 daisy.py:240] creating chain44-nat on chain-server31
D1209 21:35:44.894943 636804 node.py:55] Starting compute instance u'chain44-nat' in data center 'chain-server31'
D1209 21:35:45.960227 636804 simple.py:215] Setting MEM limit for u'chain44-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:35:46.000272 636804 simple.py:169] Setting CPU limit for u'chain44-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:35:46.069600 636804 simple.py:215] Setting MEM limit for u'chain44-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:46.108158 636804 simple.py:169] Setting CPU limit for u'chain44-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:35:46.178194 636804 simple.py:215] Setting MEM limit for u'chain44-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:46.569576 636804 net.py:233] addLink: n1=chain44-nat intf1=input -- n2=dc44.s1 intf2=dc44.s1-eth7
D1209 21:35:46.959558 636804 net.py:233] addLink: n1=chain44-nat intf1=output -- n2=dc44.s1 intf2=dc44.s1-eth8
I1209 21:35:46.959840 636804 daisy.py:310] successfully created VNF: chain44-nat
I1209 21:35:46.960026 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server31']
I1209 21:35:46.960150 636804 daisy.py:240] creating chain44-vpn on chain-server31
D1209 21:35:46.961472 636804 node.py:55] Starting compute instance u'chain44-vpn' in data center 'chain-server31'
D1209 21:35:48.041418 636804 simple.py:215] Setting MEM limit for u'chain44-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:35:48.081357 636804 simple.py:215] Setting MEM limit for u'chain44-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:48.120376 636804 simple.py:169] Setting CPU limit for u'chain44-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:35:48.195579 636804 simple.py:215] Setting MEM limit for u'chain44-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:48.224626 636804 simple.py:169] Setting CPU limit for u'chain44-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:35:48.290401 636804 simple.py:215] Setting MEM limit for u'chain44-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:48.748508 636804 net.py:233] addLink: n1=chain44-vpn intf1=input-ids -- n2=dc44.s1 intf2=dc44.s1-eth9
D1209 21:35:49.171802 636804 net.py:233] addLink: n1=chain44-vpn intf1=input-fw -- n2=dc44.s1 intf2=dc44.s1-eth10
D1209 21:35:49.581490 636804 net.py:233] addLink: n1=chain44-vpn intf1=output -- n2=dc44.s1 intf2=dc44.s1-eth11
I1209 21:35:49.581762 636804 daisy.py:310] successfully created VNF: chain44-vpn
I1209 21:35:49.581928 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud4']
I1209 21:35:49.582041 636804 daisy.py:240] creating chain44-sink on off-cloud4
D1209 21:35:49.583399 636804 node.py:55] Starting compute instance u'chain44-sink' in data center 'off-cloud4'
D1209 21:35:50.625042 636804 simple.py:215] Setting MEM limit for u'chain14-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:50.664069 636804 simple.py:169] Setting CPU limit for u'chain44-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:35:50.731064 636804 simple.py:215] Setting MEM limit for u'chain44-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:50.768224 636804 simple.py:215] Setting MEM limit for u'chain25-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:50.803570 636804 simple.py:215] Setting MEM limit for u'chain13-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:50.838690 636804 simple.py:215] Setting MEM limit for u'chain27-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:50.871865 636804 simple.py:215] Setting MEM limit for u'chain26-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:50.901691 636804 simple.py:215] Setting MEM limit for u'chain24-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:51.308010 636804 net.py:233] addLink: n1=chain44-sink intf1=intf2 -- n2=dc20.s1 intf2=dc20.s1-eth8
I1209 21:35:51.308234 636804 daisy.py:310] successfully created VNF: chain44-sink
I1209 21:35:51.308357 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud9']
I1209 21:35:51.308463 636804 daisy.py:240] creating chain44-source on off-cloud9
D1209 21:35:51.309581 636804 node.py:55] Starting compute instance u'chain44-source' in data center 'off-cloud9'
D1209 21:35:52.352294 636804 simple.py:215] Setting MEM limit for u'chain2-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:52.400392 636804 simple.py:215] Setting MEM limit for u'chain15-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:52.434286 636804 simple.py:215] Setting MEM limit for u'chain14-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:52.467832 636804 simple.py:215] Setting MEM limit for u'chain13-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:52.508534 636804 simple.py:215] Setting MEM limit for u'chain2-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:52.542287 636804 simple.py:215] Setting MEM limit for u'chain25-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:52.575581 636804 simple.py:169] Setting CPU limit for u'chain44-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:35:52.657978 636804 simple.py:215] Setting MEM limit for u'chain44-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:35:53.084358 636804 net.py:233] addLink: n1=chain44-source intf1=intf1 -- n2=dc21.s1 intf2=dc21.s1-eth8
I1209 21:35:53.084621 636804 daisy.py:310] successfully created VNF: chain44-source
I1209 21:35:53.084739 636804 daisy.py:311] successfully created chain: 44
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:35:56.428716 636804 daisy.py:401] source, nat, and fw start done
I1209 21:35:56.429033 636804 daisy.py:402] My commands
I1209 21:35:56.647030 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:35:58.649399 636804 daisy.py:419] < 2s wait complete
I1209 21:35:58.649671 636804 daisy.py:420] start VNF chaining
D1209 21:35:58.649842 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain44-source', vnf_src_interface='intf1', vnf_dst_name=u'chain44-nat', vnf_dst_interface='input'
I1209 21:35:58.650150 636804 net.py:665] Path between chain44-source and chain44-nat: ['dc21.s1', u'gsw0', 'dc44.s1']
I1209 21:35:58.650348 636804 net.py:889] add-flow
I1209 21:35:58.650454 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:529,output=1
I1209 21:35:58.668842 636804 net.py:893] add-flow in switch: dc21.s1 in_port: 8 out_port: 1
I1209 21:35:58.669029 636804 net.py:889] add-flow
I1209 21:35:58.669126 636804 net.py:890] in_port=50,dl_vlan=529,action=32
I1209 21:35:58.712285 636804 net.py:893] add-flow in switch: gsw0 in_port: 50 out_port: 32
I1209 21:35:58.712433 636804 net.py:694] end node reached: chain44-nat
I1209 21:35:58.712559 636804 net.py:889] add-flow
I1209 21:35:58.712646 636804 net.py:890] in_port=1,dl_vlan=529,action=strip_vlan,output=7
I1209 21:35:58.759452 636804 net.py:893] add-flow in switch: dc44.s1 in_port: 1 out_port: 7
D1209 21:35:58.759757 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain44-nat', vnf_src_interface='input', vnf_dst_name=u'chain44-source', vnf_dst_interface='intf1'
I1209 21:35:58.759968 636804 net.py:665] Path between chain44-nat and chain44-source: ['dc44.s1', u'gsw0', 'dc21.s1']
I1209 21:35:58.760122 636804 net.py:889] add-flow
I1209 21:35:58.760236 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:530,output=1
I1209 21:35:58.799885 636804 net.py:893] add-flow in switch: dc44.s1 in_port: 7 out_port: 1
I1209 21:35:58.800205 636804 net.py:889] add-flow
I1209 21:35:58.800395 636804 net.py:890] in_port=32,dl_vlan=530,action=50
I1209 21:35:58.836213 636804 net.py:893] add-flow in switch: gsw0 in_port: 32 out_port: 50
I1209 21:35:58.836397 636804 net.py:694] end node reached: chain44-source
I1209 21:35:58.836546 636804 net.py:889] add-flow
I1209 21:35:58.836649 636804 net.py:890] in_port=1,dl_vlan=530,action=strip_vlan,output=8
I1209 21:35:58.881437 636804 net.py:893] add-flow in switch: dc21.s1 in_port: 1 out_port: 8
I1209 21:35:58.881761 636804 daisy.py:322] chain(chain44-source, chain44-nat) output: success: add-flow between chain44-source and chain44-nat with options: {
 "priority": 1000, 
 "path": [
  "dc21.s1", 
  "gsw0", 
  "dc44.s1"
 ], 
 "vlan": 529, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain44-nat and chain44-source with options: {
 "priority": 1000, 
 "path": [
  "dc44.s1", 
  "gsw0", 
  "dc21.s1"
 ], 
 "vlan": 530, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:35:58.881999 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain44-nat', vnf_src_interface='output', vnf_dst_name=u'chain44-fw', vnf_dst_interface='input'
I1209 21:35:58.882263 636804 net.py:665] Path between chain44-nat and chain44-fw: ['dc44.s1']
I1209 21:35:58.882411 636804 net.py:694] end node reached: chain44-fw
I1209 21:35:58.882559 636804 net.py:889] add-flow
I1209 21:35:58.882672 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:531,output=2
I1209 21:35:58.918204 636804 net.py:893] add-flow in switch: dc44.s1 in_port: 8 out_port: 2
I1209 21:35:58.918397 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc44.s1 in_port: 8 out_port: 2
I1209 21:35:58.918560 636804 net.py:931] add-flow
I1209 21:35:58.918695 636804 net.py:932] in_port=8,action=strip_vlan,output=2
I1209 21:35:58.956792 636804 net.py:935] add-flow in switch: dc44.s1 in_port: 8 out_port: 2
D1209 21:35:58.957662 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain44-fw', vnf_src_interface='input', vnf_dst_name=u'chain44-nat', vnf_dst_interface='output'
I1209 21:35:58.957864 636804 net.py:665] Path between chain44-fw and chain44-nat: ['dc44.s1']
I1209 21:35:58.958024 636804 net.py:694] end node reached: chain44-nat
I1209 21:35:58.958229 636804 net.py:889] add-flow
I1209 21:35:58.958340 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:532,output=8
I1209 21:35:59.047120 636804 net.py:893] add-flow in switch: dc44.s1 in_port: 2 out_port: 8
I1209 21:35:59.047336 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc44.s1 in_port: 2 out_port: 8
I1209 21:35:59.047480 636804 net.py:931] add-flow
I1209 21:35:59.047579 636804 net.py:932] in_port=2,action=strip_vlan,output=8
I1209 21:35:59.093941 636804 net.py:935] add-flow in switch: dc44.s1 in_port: 2 out_port: 8
I1209 21:35:59.094357 636804 daisy.py:329] chain(chain44-nat, chain44-fw) output: success: add-flow between chain44-nat and chain44-fw with options: {
 "priority": 1000, 
 "path": [
  "dc44.s1"
 ], 
 "vlan": 531, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain44-fw and chain44-nat with options: {
 "priority": 1000, 
 "path": [
  "dc44.s1"
 ], 
 "vlan": 532, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:35:59.094558 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain44-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain44-ids', vnf_dst_interface='input'
I1209 21:35:59.094743 636804 net.py:665] Path between chain44-fw and chain44-ids: ['dc44.s1']
I1209 21:35:59.094878 636804 net.py:694] end node reached: chain44-ids
I1209 21:35:59.095037 636804 net.py:889] add-flow
I1209 21:35:59.095146 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:533,output=5
I1209 21:35:59.178674 636804 net.py:893] add-flow in switch: dc44.s1 in_port: 3 out_port: 5
D1209 21:35:59.179019 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain44-ids', vnf_src_interface='input', vnf_dst_name=u'chain44-fw', vnf_dst_interface='output-ids'
I1209 21:35:59.179224 636804 net.py:665] Path between chain44-ids and chain44-fw: ['dc44.s1']
I1209 21:35:59.179374 636804 net.py:694] end node reached: chain44-fw
I1209 21:35:59.179493 636804 net.py:889] add-flow
I1209 21:35:59.179605 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:534,output=3
I1209 21:35:59.220837 636804 net.py:893] add-flow in switch: dc44.s1 in_port: 5 out_port: 3
I1209 21:35:59.221048 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc44.s1 in_port: 5 out_port: 3
I1209 21:35:59.221170 636804 net.py:931] add-flow
I1209 21:35:59.221282 636804 net.py:932] in_port=5,action=strip_vlan,output=3
I1209 21:35:59.267307 636804 net.py:935] add-flow in switch: dc44.s1 in_port: 5 out_port: 3
I1209 21:35:59.267600 636804 daisy.py:336] chain(chain44-fw, chain44-ids) output: success: add-flow between chain44-fw and chain44-ids with options: {
 "priority": 1000, 
 "path": [
  "dc44.s1"
 ], 
 "vlan": 533, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain44-ids and chain44-fw with options: {
 "priority": 1000, 
 "path": [
  "dc44.s1"
 ], 
 "vlan": 534, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:35:59.267807 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain44-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain44-vpn', vnf_dst_interface='input-fw'
I1209 21:35:59.268016 636804 net.py:665] Path between chain44-fw and chain44-vpn: ['dc44.s1']
I1209 21:35:59.268158 636804 net.py:694] end node reached: chain44-vpn
I1209 21:35:59.268289 636804 net.py:889] add-flow
I1209 21:35:59.268400 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:535,output=10
I1209 21:35:59.337084 636804 net.py:893] add-flow in switch: dc44.s1 in_port: 4 out_port: 10
D1209 21:35:59.337382 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain44-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain44-fw', vnf_dst_interface='output-vpn'
I1209 21:35:59.337580 636804 net.py:665] Path between chain44-vpn and chain44-fw: ['dc44.s1']
I1209 21:35:59.337718 636804 net.py:694] end node reached: chain44-fw
I1209 21:35:59.337850 636804 net.py:889] add-flow
I1209 21:35:59.337990 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:536,output=4
I1209 21:35:59.376360 636804 net.py:893] add-flow in switch: dc44.s1 in_port: 10 out_port: 4
I1209 21:35:59.376622 636804 daisy.py:343] chain(chain44-fw, chain44-vpn) output: success: add-flow between chain44-fw and chain44-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc44.s1"
 ], 
 "vlan": 535, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain44-vpn and chain44-fw with options: {
 "priority": 1000, 
 "path": [
  "dc44.s1"
 ], 
 "vlan": 536, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:35:59.376805 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain44-ids', vnf_src_interface='output', vnf_dst_name=u'chain44-vpn', vnf_dst_interface='input-ids'
I1209 21:35:59.376982 636804 net.py:665] Path between chain44-ids and chain44-vpn: ['dc44.s1']
I1209 21:35:59.377116 636804 net.py:694] end node reached: chain44-vpn
I1209 21:35:59.377243 636804 net.py:889] add-flow
I1209 21:35:59.377352 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:537,output=9
I1209 21:35:59.408780 636804 net.py:893] add-flow in switch: dc44.s1 in_port: 6 out_port: 9
I1209 21:35:59.408955 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc44.s1 in_port: 6 out_port: 9
I1209 21:35:59.409065 636804 net.py:931] add-flow
I1209 21:35:59.409174 636804 net.py:932] in_port=6,action=strip_vlan,output=9
I1209 21:35:59.452419 636804 net.py:935] add-flow in switch: dc44.s1 in_port: 6 out_port: 9
D1209 21:35:59.452668 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain44-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain44-ids', vnf_dst_interface='output'
I1209 21:35:59.452832 636804 net.py:665] Path between chain44-vpn and chain44-ids: ['dc44.s1']
I1209 21:35:59.452976 636804 net.py:694] end node reached: chain44-ids
I1209 21:35:59.453093 636804 net.py:889] add-flow
I1209 21:35:59.453208 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:538,output=6
I1209 21:35:59.520497 636804 net.py:893] add-flow in switch: dc44.s1 in_port: 9 out_port: 6
I1209 21:35:59.520761 636804 daisy.py:350] chain(chain44-ids, chain44-vpn) output: success: add-flow between chain44-ids and chain44-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc44.s1"
 ], 
 "vlan": 537, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain44-vpn and chain44-ids with options: {
 "priority": 1000, 
 "path": [
  "dc44.s1"
 ], 
 "vlan": 538, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:35:59.521034 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain44-vpn', vnf_src_interface='output', vnf_dst_name=u'chain44-sink', vnf_dst_interface='intf2'
I1209 21:35:59.521228 636804 net.py:665] Path between chain44-vpn and chain44-sink: ['dc44.s1', u'gsw0', 'dc20.s1']
I1209 21:35:59.521368 636804 net.py:889] add-flow
I1209 21:35:59.521472 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:539,output=1
I1209 21:35:59.561597 636804 net.py:893] add-flow in switch: dc44.s1 in_port: 11 out_port: 1
I1209 21:35:59.561795 636804 net.py:889] add-flow
I1209 21:35:59.561929 636804 net.py:890] in_port=32,dl_vlan=539,action=45
I1209 21:35:59.602567 636804 net.py:893] add-flow in switch: gsw0 in_port: 32 out_port: 45
I1209 21:35:59.602741 636804 net.py:694] end node reached: chain44-sink
I1209 21:35:59.602866 636804 net.py:889] add-flow
I1209 21:35:59.602992 636804 net.py:890] in_port=1,dl_vlan=539,action=strip_vlan,output=8
I1209 21:35:59.638946 636804 net.py:893] add-flow in switch: dc20.s1 in_port: 1 out_port: 8
D1209 21:35:59.639206 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain44-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain44-vpn', vnf_dst_interface='output'
I1209 21:35:59.639441 636804 net.py:665] Path between chain44-sink and chain44-vpn: ['dc20.s1', u'gsw0', 'dc44.s1']
I1209 21:35:59.639595 636804 net.py:889] add-flow
I1209 21:35:59.639724 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:540,output=1
I1209 21:35:59.679641 636804 net.py:893] add-flow in switch: dc20.s1 in_port: 8 out_port: 1
I1209 21:35:59.679841 636804 net.py:889] add-flow
I1209 21:35:59.679965 636804 net.py:890] in_port=45,dl_vlan=540,action=32
I1209 21:35:59.719124 636804 net.py:893] add-flow in switch: gsw0 in_port: 45 out_port: 32
I1209 21:35:59.719295 636804 net.py:694] end node reached: chain44-vpn
I1209 21:35:59.719439 636804 net.py:889] add-flow
I1209 21:35:59.719561 636804 net.py:890] in_port=1,dl_vlan=540,action=strip_vlan,output=11
I1209 21:35:59.760683 636804 net.py:893] add-flow in switch: dc44.s1 in_port: 1 out_port: 11
I1209 21:35:59.760950 636804 daisy.py:357] chain(chain44-vpn, chain44-sink) output: success: add-flow between chain44-vpn and chain44-sink with options: {
 "priority": 1000, 
 "path": [
  "dc44.s1", 
  "gsw0", 
  "dc20.s1"
 ], 
 "vlan": 539, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain44-sink and chain44-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc20.s1", 
  "gsw0", 
  "dc44.s1"
 ], 
 "vlan": 540, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:36:02 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:36:02 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:36:02 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:36:02 2017 UDPv4 link local: [undef]
Sat Dec  9 21:36:02 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:36:02 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=069d5693 3f080f45
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:36:02 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:36:02 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:36:02 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:36:02 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:36:02 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:36:02 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:36:02 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:36:02 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:36:02 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:36:02 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:36:02 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:36:04 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:36:04 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:36:04 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:36:04 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:36:04 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:36:04 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:36:04 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:01:0d
Sat Dec  9 21:36:04 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:36:04 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:36:04 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:36:04 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:36:04 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:36:04 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:36:04 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:36:04 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:36:04 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:36:04 2017 GID set to nogroup
Sat Dec  9 21:36:04 2017 UID set to nobody
Sat Dec  9 21:36:04 2017 Initialization Sequence Completed
I1209 21:36:07.549957 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:36:12.554183 636804 daisy.py:443] < 5s wait complete
I1209 21:36:12.554424 636804 daisy.py:444] VPN client VNF started
chain44-source -> chain44-sink 
chain44-sink -> chain44-source 
*** Results: 0% dropped (2/2 received)
I1209 21:36:14.595566 636804 daisy.py:369] ping chain44-source -> chain44-sink. Packet drop 0.0%
I1209 21:36:14.697738 636804 bench.py:19] Copying traces into the containers...
I1209 21:36:16.558218 636804 bench.py:29] Running dstat...
I1209 21:36:19.755666 636804 iter-e2-allocation.py:17] started allocating chain: 45
ss)
returned 0 from sudo docker exec mn.chain43-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain43-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain43-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain43-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain43-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain43-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.028097999999999956, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server31'], [u'ids', u'chain-server31'], [u'nat', u'chain-server31'], [u'vpn', u'chain-server31'], [u'sink', u'off-cloud4'], [u'source', u'off-cloud9']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 2.208573, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud9', 2], [u'chain-server31', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server31', 2], [u'off-cloud4', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain44-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain44-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain44-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain44-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain44-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain44-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain44-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain44-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain44-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain44-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain44-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain44-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain44-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain44-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain44-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain44-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain44-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain44-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain44-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain44-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain44-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain44-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain44-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain44-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain44-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain44-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.0304009999999999, u'locality': u'datacenter', u'assignI1209 21:36:19.756190 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server29']
I1209 21:36:19.756347 636804 daisy.py:240] creating chain45-fw on chain-server29
D1209 21:36:19.757797 636804 node.py:55] Starting compute instance u'chain45-fw' in data center 'chain-server29'
D1209 21:36:21.204715 636804 simple.py:169] Setting CPU limit for u'chain45-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:36:21.290899 636804 simple.py:215] Setting MEM limit for u'chain45-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:21.329909 636804 simple.py:215] Setting MEM limit for u'chain13-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:36:21.367075 636804 simple.py:215] Setting MEM limit for u'chain13-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:21.409413 636804 simple.py:169] Setting CPU limit for u'chain13-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:36:21.468907 636804 simple.py:215] Setting MEM limit for u'chain13-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:21.496680 636804 simple.py:215] Setting MEM limit for u'chain13-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:21.955928 636804 net.py:233] addLink: n1=chain45-fw intf1=input -- n2=dc1.s1 intf2=dc1.s1-eth12
D1209 21:36:22.375447 636804 net.py:233] addLink: n1=chain45-fw intf1=output-ids -- n2=dc1.s1 intf2=dc1.s1-eth13
D1209 21:36:22.776129 636804 net.py:233] addLink: n1=chain45-fw intf1=output-vpn -- n2=dc1.s1 intf2=dc1.s1-eth14
I1209 21:36:22.776463 636804 daisy.py:310] successfully created VNF: chain45-fw
I1209 21:36:22.776647 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server29']
I1209 21:36:22.776787 636804 daisy.py:240] creating chain45-ids on chain-server29
D1209 21:36:22.779189 636804 node.py:55] Starting compute instance u'chain45-ids' in data center 'chain-server29'
D1209 21:36:23.939629 636804 simple.py:215] Setting MEM limit for u'chain13-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:36:23.984972 636804 simple.py:215] Setting MEM limit for u'chain13-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:24.025713 636804 simple.py:169] Setting CPU limit for u'chain45-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:36:24.097023 636804 simple.py:215] Setting MEM limit for u'chain45-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:24.133220 636804 simple.py:169] Setting CPU limit for u'chain13-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:36:24.205832 636804 simple.py:215] Setting MEM limit for u'chain13-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:24.238955 636804 simple.py:169] Setting CPU limit for u'chain45-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:36:24.315686 636804 simple.py:215] Setting MEM limit for u'chain45-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:36:24.352061 636804 simple.py:215] Setting MEM limit for u'chain13-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:24.804209 636804 net.py:233] addLink: n1=chain45-ids intf1=input -- n2=dc1.s1 intf2=dc1.s1-eth15
D1209 21:36:25.186491 636804 net.py:233] addLink: n1=chain45-ids intf1=output -- n2=dc1.s1 intf2=dc1.s1-eth16
I1209 21:36:25.186748 636804 daisy.py:310] successfully created VNF: chain45-ids
I1209 21:36:25.186958 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server29']
I1209 21:36:25.187114 636804 daisy.py:240] creating chain45-nat on chain-server29
D1209 21:36:25.188461 636804 node.py:55] Starting compute instance u'chain45-nat' in data center 'chain-server29'
D1209 21:36:26.361701 636804 simple.py:215] Setting MEM limit for u'chain13-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:36:26.402951 636804 simple.py:215] Setting MEM limit for u'chain13-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:26.439467 636804 simple.py:169] Setting CPU limit for u'chain45-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:36:26.522594 636804 simple.py:215] Setting MEM limit for u'chain45-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:26.557785 636804 simple.py:169] Setting CPU limit for u'chain13-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:36:26.625237 636804 simple.py:215] Setting MEM limit for u'chain13-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:26.657937 636804 simple.py:215] Setting MEM limit for u'chain45-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:36:26.689213 636804 simple.py:215] Setting MEM limit for u'chain13-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:26.723906 636804 simple.py:169] Setting CPU limit for u'chain45-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:36:26.786550 636804 simple.py:215] Setting MEM limit for u'chain45-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:27.243927 636804 net.py:233] addLink: n1=chain45-nat intf1=input -- n2=dc1.s1 intf2=dc1.s1-eth17
D1209 21:36:27.639858 636804 net.py:233] addLink: n1=chain45-nat intf1=output -- n2=dc1.s1 intf2=dc1.s1-eth18
I1209 21:36:27.640119 636804 daisy.py:310] successfully created VNF: chain45-nat
I1209 21:36:27.640269 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server29']
I1209 21:36:27.640364 636804 daisy.py:240] creating chain45-vpn on chain-server29
D1209 21:36:27.641701 636804 node.py:55] Starting compute instance u'chain45-vpn' in data center 'chain-server29'
D1209 21:36:28.715634 636804 simple.py:215] Setting MEM limit for u'chain13-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:36:28.758765 636804 simple.py:215] Setting MEM limit for u'chain13-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:28.796330 636804 simple.py:169] Setting CPU limit for u'chain45-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:36:28.862349 636804 simple.py:215] Setting MEM limit for u'chain45-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:28.895613 636804 simple.py:169] Setting CPU limit for u'chain13-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:36:28.969773 636804 simple.py:215] Setting MEM limit for u'chain13-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:29.004931 636804 simple.py:215] Setting MEM limit for u'chain45-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:36:29.041347 636804 simple.py:215] Setting MEM limit for u'chain13-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:29.076190 636804 simple.py:169] Setting CPU limit for u'chain45-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:36:29.155386 636804 simple.py:215] Setting MEM limit for u'chain45-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:29.191081 636804 simple.py:215] Setting MEM limit for u'chain45-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:29.653908 636804 net.py:233] addLink: n1=chain45-vpn intf1=input-ids -- n2=dc1.s1 intf2=dc1.s1-eth19
D1209 21:36:30.066381 636804 net.py:233] addLink: n1=chain45-vpn intf1=input-fw -- n2=dc1.s1 intf2=dc1.s1-eth20
D1209 21:36:30.494765 636804 net.py:233] addLink: n1=chain45-vpn intf1=output -- n2=dc1.s1 intf2=dc1.s1-eth21
I1209 21:36:30.495126 636804 daisy.py:310] successfully created VNF: chain45-vpn
I1209 21:36:30.495306 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud4']
I1209 21:36:30.495443 636804 daisy.py:240] creating chain45-sink on off-cloud4
D1209 21:36:30.496834 636804 node.py:55] Starting compute instance u'chain45-sink' in data center 'off-cloud4'
D1209 21:36:31.628906 636804 simple.py:215] Setting MEM limit for u'chain14-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:31.672868 636804 simple.py:215] Setting MEM limit for u'chain44-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:31.714597 636804 simple.py:215] Setting MEM limit for u'chain25-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:31.760612 636804 simple.py:215] Setting MEM limit for u'chain13-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:31.802522 636804 simple.py:215] Setting MEM limit for u'chain27-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:31.840475 636804 simple.py:215] Setting MEM limit for u'chain26-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:31.876993 636804 simple.py:215] Setting MEM limit for u'chain24-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:31.912280 636804 simple.py:169] Setting CPU limit for u'chain45-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:36:31.989831 636804 simple.py:215] Setting MEM limit for u'chain45-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:32.515266 636804 net.py:233] addLink: n1=chain45-sink intf1=intf2 -- n2=dc20.s1 intf2=dc20.s1-eth9
I1209 21:36:32.515521 636804 daisy.py:310] successfully created VNF: chain45-sink
I1209 21:36:32.515662 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud9']
I1209 21:36:32.515769 636804 daisy.py:240] creating chain45-source on off-cloud9
D1209 21:36:32.517155 636804 node.py:55] Starting compute instance u'chain45-source' in data center 'off-cloud9'
D1209 21:36:33.656169 636804 simple.py:215] Setting MEM limit for u'chain2-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:33.702708 636804 simple.py:215] Setting MEM limit for u'chain15-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:33.740878 636804 simple.py:215] Setting MEM limit for u'chain14-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:33.777201 636804 simple.py:215] Setting MEM limit for u'chain13-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:33.812298 636804 simple.py:215] Setting MEM limit for u'chain2-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:33.843763 636804 simple.py:169] Setting CPU limit for u'chain45-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:36:33.925638 636804 simple.py:215] Setting MEM limit for u'chain45-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:33.964060 636804 simple.py:215] Setting MEM limit for u'chain25-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:34.004383 636804 simple.py:215] Setting MEM limit for u'chain44-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:36:34.466244 636804 net.py:233] addLink: n1=chain45-source intf1=intf1 -- n2=dc21.s1 intf2=dc21.s1-eth9
I1209 21:36:34.468655 636804 daisy.py:310] successfully created VNF: chain45-source
I1209 21:36:34.468841 636804 daisy.py:311] successfully created chain: 45
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:36:38.377748 636804 daisy.py:401] source, nat, and fw start done
I1209 21:36:38.377995 636804 daisy.py:402] My commands
I1209 21:36:38.576721 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:36:40.580777 636804 daisy.py:419] < 2s wait complete
I1209 21:36:40.581013 636804 daisy.py:420] start VNF chaining
D1209 21:36:40.581180 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain45-source', vnf_src_interface='intf1', vnf_dst_name=u'chain45-nat', vnf_dst_interface='input'
I1209 21:36:40.581439 636804 net.py:665] Path between chain45-source and chain45-nat: ['dc21.s1', u'gsw0', 'dc1.s1']
I1209 21:36:40.581624 636804 net.py:889] add-flow
I1209 21:36:40.581722 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:541,output=1
I1209 21:36:40.590733 636804 net.py:893] add-flow in switch: dc21.s1 in_port: 9 out_port: 1
I1209 21:36:40.590899 636804 net.py:889] add-flow
I1209 21:36:40.590977 636804 net.py:890] in_port=50,dl_vlan=541,action=30
I1209 21:36:40.626651 636804 net.py:893] add-flow in switch: gsw0 in_port: 50 out_port: 30
I1209 21:36:40.626782 636804 net.py:694] end node reached: chain45-nat
I1209 21:36:40.626909 636804 net.py:889] add-flow
I1209 21:36:40.626996 636804 net.py:890] in_port=1,dl_vlan=541,action=strip_vlan,output=17
I1209 21:36:40.677781 636804 net.py:893] add-flow in switch: dc1.s1 in_port: 1 out_port: 17
D1209 21:36:40.678126 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain45-nat', vnf_src_interface='input', vnf_dst_name=u'chain45-source', vnf_dst_interface='intf1'
I1209 21:36:40.678303 636804 net.py:665] Path between chain45-nat and chain45-source: ['dc1.s1', u'gsw0', 'dc21.s1']
I1209 21:36:40.678415 636804 net.py:889] add-flow
I1209 21:36:40.678489 636804 net.py:890] -O OpenFlow13 in_port=17,action=mod_vlan_vid:542,output=1
I1209 21:36:40.716815 636804 net.py:893] add-flow in switch: dc1.s1 in_port: 17 out_port: 1
I1209 21:36:40.716960 636804 net.py:889] add-flow
I1209 21:36:40.717035 636804 net.py:890] in_port=30,dl_vlan=542,action=50
I1209 21:36:40.755037 636804 net.py:893] add-flow in switch: gsw0 in_port: 30 out_port: 50
I1209 21:36:40.755186 636804 net.py:694] end node reached: chain45-source
I1209 21:36:40.755280 636804 net.py:889] add-flow
I1209 21:36:40.755363 636804 net.py:890] in_port=1,dl_vlan=542,action=strip_vlan,output=9
I1209 21:36:40.815080 636804 net.py:893] add-flow in switch: dc21.s1 in_port: 1 out_port: 9
I1209 21:36:40.815336 636804 daisy.py:322] chain(chain45-source, chain45-nat) output: success: add-flow between chain45-source and chain45-nat with options: {
 "priority": 1000, 
 "path": [
  "dc21.s1", 
  "gsw0", 
  "dc1.s1"
 ], 
 "vlan": 541, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain45-nat and chain45-source with options: {
 "priority": 1000, 
 "path": [
  "dc1.s1", 
  "gsw0", 
  "dc21.s1"
 ], 
 "vlan": 542, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:36:40.815498 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain45-nat', vnf_src_interface='output', vnf_dst_name=u'chain45-fw', vnf_dst_interface='input'
I1209 21:36:40.815639 636804 net.py:665] Path between chain45-nat and chain45-fw: ['dc1.s1']
I1209 21:36:40.815728 636804 net.py:694] end node reached: chain45-fw
I1209 21:36:40.815830 636804 net.py:889] add-flow
I1209 21:36:40.815905 636804 net.py:890] -O OpenFlow13 in_port=18,action=mod_vlan_vid:543,output=12
I1209 21:36:40.852899 636804 net.py:893] add-flow in switch: dc1.s1 in_port: 18 out_port: 12
I1209 21:36:40.853034 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc1.s1 in_port: 18 out_port: 12
I1209 21:36:40.853111 636804 net.py:931] add-flow
I1209 21:36:40.853176 636804 net.py:932] in_port=18,action=strip_vlan,output=12
I1209 21:36:40.885149 636804 net.py:935] add-flow in switch: dc1.s1 in_port: 18 out_port: 12
D1209 21:36:40.885381 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain45-fw', vnf_src_interface='input', vnf_dst_name=u'chain45-nat', vnf_dst_interface='output'
I1209 21:36:40.885529 636804 net.py:665] Path between chain45-fw and chain45-nat: ['dc1.s1']
I1209 21:36:40.885632 636804 net.py:694] end node reached: chain45-nat
I1209 21:36:40.885752 636804 net.py:889] add-flow
I1209 21:36:40.885859 636804 net.py:890] -O OpenFlow13 in_port=12,action=mod_vlan_vid:544,output=18
I1209 21:36:40.969043 636804 net.py:893] add-flow in switch: dc1.s1 in_port: 12 out_port: 18
I1209 21:36:40.969186 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc1.s1 in_port: 12 out_port: 18
I1209 21:36:40.969255 636804 net.py:931] add-flow
I1209 21:36:40.969315 636804 net.py:932] in_port=12,action=strip_vlan,output=18
I1209 21:36:41.010519 636804 net.py:935] add-flow in switch: dc1.s1 in_port: 12 out_port: 18
I1209 21:36:41.010762 636804 daisy.py:329] chain(chain45-nat, chain45-fw) output: success: add-flow between chain45-nat and chain45-fw with options: {
 "priority": 1000, 
 "path": [
  "dc1.s1"
 ], 
 "vlan": 543, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain45-fw and chain45-nat with options: {
 "priority": 1000, 
 "path": [
  "dc1.s1"
 ], 
 "vlan": 544, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:36:41.010911 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain45-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain45-ids', vnf_dst_interface='input'
I1209 21:36:41.011029 636804 net.py:665] Path between chain45-fw and chain45-ids: ['dc1.s1']
I1209 21:36:41.011146 636804 net.py:694] end node reached: chain45-ids
I1209 21:36:41.011224 636804 net.py:889] add-flow
I1209 21:36:41.011281 636804 net.py:890] -O OpenFlow13 in_port=13,action=mod_vlan_vid:545,output=15
I1209 21:36:41.136015 636804 net.py:893] add-flow in switch: dc1.s1 in_port: 13 out_port: 15
D1209 21:36:41.136324 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain45-ids', vnf_src_interface='input', vnf_dst_name=u'chain45-fw', vnf_dst_interface='output-ids'
I1209 21:36:41.136478 636804 net.py:665] Path between chain45-ids and chain45-fw: ['dc1.s1']
I1209 21:36:41.136570 636804 net.py:694] end node reached: chain45-fw
I1209 21:36:41.136655 636804 net.py:889] add-flow
I1209 21:36:41.136722 636804 net.py:890] -O OpenFlow13 in_port=15,action=mod_vlan_vid:546,output=13
I1209 21:36:41.277020 636804 net.py:893] add-flow in switch: dc1.s1 in_port: 15 out_port: 13
I1209 21:36:41.277225 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc1.s1 in_port: 15 out_port: 13
I1209 21:36:41.277328 636804 net.py:931] add-flow
I1209 21:36:41.277410 636804 net.py:932] in_port=15,action=strip_vlan,output=13
I1209 21:36:41.320715 636804 net.py:935] add-flow in switch: dc1.s1 in_port: 15 out_port: 13
I1209 21:36:41.320976 636804 daisy.py:336] chain(chain45-fw, chain45-ids) output: success: add-flow between chain45-fw and chain45-ids with options: {
 "priority": 1000, 
 "path": [
  "dc1.s1"
 ], 
 "vlan": 545, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain45-ids and chain45-fw with options: {
 "priority": 1000, 
 "path": [
  "dc1.s1"
 ], 
 "vlan": 546, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:36:41.321131 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain45-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain45-vpn', vnf_dst_interface='input-fw'
I1209 21:36:41.321275 636804 net.py:665] Path between chain45-fw and chain45-vpn: ['dc1.s1']
I1209 21:36:41.321378 636804 net.py:694] end node reached: chain45-vpn
I1209 21:36:41.321475 636804 net.py:889] add-flow
I1209 21:36:41.321557 636804 net.py:890] -O OpenFlow13 in_port=14,action=mod_vlan_vid:547,output=20
I1209 21:36:41.402522 636804 net.py:893] add-flow in switch: dc1.s1 in_port: 14 out_port: 20
D1209 21:36:41.402760 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain45-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain45-fw', vnf_dst_interface='output-vpn'
I1209 21:36:41.402926 636804 net.py:665] Path between chain45-vpn and chain45-fw: ['dc1.s1']
I1209 21:36:41.403038 636804 net.py:694] end node reached: chain45-fw
I1209 21:36:41.403140 636804 net.py:889] add-flow
I1209 21:36:41.403223 636804 net.py:890] -O OpenFlow13 in_port=20,action=mod_vlan_vid:548,output=14
I1209 21:36:41.449278 636804 net.py:893] add-flow in switch: dc1.s1 in_port: 20 out_port: 14
I1209 21:36:41.449491 636804 daisy.py:343] chain(chain45-fw, chain45-vpn) output: success: add-flow between chain45-fw and chain45-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc1.s1"
 ], 
 "vlan": 547, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain45-vpn and chain45-fw with options: {
 "priority": 1000, 
 "path": [
  "dc1.s1"
 ], 
 "vlan": 548, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:36:41.449640 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain45-ids', vnf_src_interface='output', vnf_dst_name=u'chain45-vpn', vnf_dst_interface='input-ids'
I1209 21:36:41.449767 636804 net.py:665] Path between chain45-ids and chain45-vpn: ['dc1.s1']
I1209 21:36:41.449897 636804 net.py:694] end node reached: chain45-vpn
I1209 21:36:41.449996 636804 net.py:889] add-flow
I1209 21:36:41.450079 636804 net.py:890] -O OpenFlow13 in_port=16,action=mod_vlan_vid:549,output=19
I1209 21:36:41.489177 636804 net.py:893] add-flow in switch: dc1.s1 in_port: 16 out_port: 19
I1209 21:36:41.489312 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc1.s1 in_port: 16 out_port: 19
I1209 21:36:41.489387 636804 net.py:931] add-flow
I1209 21:36:41.489449 636804 net.py:932] in_port=16,action=strip_vlan,output=19
I1209 21:36:41.532635 636804 net.py:935] add-flow in switch: dc1.s1 in_port: 16 out_port: 19
D1209 21:36:41.532887 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain45-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain45-ids', vnf_dst_interface='output'
I1209 21:36:41.533036 636804 net.py:665] Path between chain45-vpn and chain45-ids: ['dc1.s1']
I1209 21:36:41.533124 636804 net.py:694] end node reached: chain45-ids
I1209 21:36:41.533204 636804 net.py:889] add-flow
I1209 21:36:41.533267 636804 net.py:890] -O OpenFlow13 in_port=19,action=mod_vlan_vid:550,output=16
I1209 21:36:41.612191 636804 net.py:893] add-flow in switch: dc1.s1 in_port: 19 out_port: 16
I1209 21:36:41.612422 636804 daisy.py:350] chain(chain45-ids, chain45-vpn) output: success: add-flow between chain45-ids and chain45-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc1.s1"
 ], 
 "vlan": 549, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain45-vpn and chain45-ids with options: {
 "priority": 1000, 
 "path": [
  "dc1.s1"
 ], 
 "vlan": 550, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:36:41.612567 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain45-vpn', vnf_src_interface='output', vnf_dst_name=u'chain45-sink', vnf_dst_interface='intf2'
I1209 21:36:41.612741 636804 net.py:665] Path between chain45-vpn and chain45-sink: ['dc1.s1', u'gsw0', 'dc20.s1']
I1209 21:36:41.612881 636804 net.py:889] add-flow
I1209 21:36:41.612972 636804 net.py:890] -O OpenFlow13 in_port=21,action=mod_vlan_vid:551,output=1
I1209 21:36:41.651360 636804 net.py:893] add-flow in switch: dc1.s1 in_port: 21 out_port: 1
I1209 21:36:41.651529 636804 net.py:889] add-flow
I1209 21:36:41.651607 636804 net.py:890] in_port=30,dl_vlan=551,action=45
I1209 21:36:41.692413 636804 net.py:893] add-flow in switch: gsw0 in_port: 30 out_port: 45
I1209 21:36:41.692554 636804 net.py:694] end node reached: chain45-sink
I1209 21:36:41.692662 636804 net.py:889] add-flow
I1209 21:36:41.692730 636804 net.py:890] in_port=1,dl_vlan=551,action=strip_vlan,output=9
I1209 21:36:41.736162 636804 net.py:893] add-flow in switch: dc20.s1 in_port: 1 out_port: 9
D1209 21:36:41.736422 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain45-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain45-vpn', vnf_dst_interface='output'
I1209 21:36:41.736601 636804 net.py:665] Path between chain45-sink and chain45-vpn: ['dc20.s1', u'gsw0', 'dc1.s1']
I1209 21:36:41.736732 636804 net.py:889] add-flow
I1209 21:36:41.736851 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:552,output=1
I1209 21:36:41.774133 636804 net.py:893] add-flow in switch: dc20.s1 in_port: 9 out_port: 1
I1209 21:36:41.774291 636804 net.py:889] add-flow
I1209 21:36:41.774383 636804 net.py:890] in_port=45,dl_vlan=552,action=30
I1209 21:36:41.812731 636804 net.py:893] add-flow in switch: gsw0 in_port: 45 out_port: 30
I1209 21:36:41.812951 636804 net.py:694] end node reached: chain45-vpn
I1209 21:36:41.813061 636804 net.py:889] add-flow
I1209 21:36:41.813152 636804 net.py:890] in_port=1,dl_vlan=552,action=strip_vlan,output=21
I1209 21:36:41.853585 636804 net.py:893] add-flow in switch: dc1.s1 in_port: 1 out_port: 21
I1209 21:36:41.853852 636804 daisy.py:357] chain(chain45-vpn, chain45-sink) output: success: add-flow between chain45-vpn and chain45-sink with options: {
 "priority": 1000, 
 "path": [
  "dc1.s1", 
  "gsw0", 
  "dc20.s1"
 ], 
 "vlan": 551, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain45-sink and chain45-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc20.s1", 
  "gsw0", 
  "dc1.s1"
 ], 
 "vlan": 552, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:36:44 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:36:44 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:36:44 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:36:44 2017 UDPv4 link local: [undef]
Sat Dec  9 21:36:44 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:36:44 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=80ef69c4 9d228859
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:36:44 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:36:44 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:36:44 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:36:45 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:36:45 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:36:45 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:36:45 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:36:45 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:36:45 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:36:45 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:36:45 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:36:47 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:36:47 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:36:47 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:36:47 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:36:47 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:36:47 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:36:47 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:01:13
Sat Dec  9 21:36:47 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:36:47 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:36:47 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:36:47 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:36:47 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:36:47 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:36:47 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:36:47 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:36:47 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:36:47 2017 GID set to nogroup
Sat Dec  9 21:36:47 2017 UID set to nobody
Sat Dec  9 21:36:47 2017 Initialization Sequence Completed
I1209 21:36:50.466408 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:36:55.470252 636804 daisy.py:443] < 5s wait complete
I1209 21:36:55.470503 636804 daisy.py:444] VPN client VNF started
chain45-source -> chain45-sink 
chain45-sink -> chain45-source 
*** Results: 0% dropped (2/2 received)
I1209 21:36:58.462340 636804 daisy.py:369] ping chain45-source -> chain45-sink. Packet drop 0.0%
I1209 21:36:58.571118 636804 bench.py:19] Copying traces into the containers...
I1209 21:37:00.297928 636804 bench.py:29] Running dstat...
I1209 21:37:03.246875 636804 iter-e2-allocation.py:17] started allocating chain: 46
I1209 21:37:03.247392 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server28']
I1209 21:37:03.247561 636804 daisy.py:240] creating chain46-fw on chain-server28
D1209 21:37:03.249093 636804 node.py:55] Starting compute instance u'chain46-fw' in data center 'chain-server28'
D1209 21:37:04.391277 636804 simple.py:169] Setting CPU limit for u'chain46-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:37:04.462630 636804 simple.py:215] Setting MEM limit for u'chain46-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:04.877844 636804 net.py:233] addLink: n1=chain46-fw intf1=input -- n2=dc2.s1 intf2=dc2.s1-eth2
D1209 21:37:05.308067 636804 net.py:233] addLink: n1=chain46-fw intf1=output-ids -- n2=dc2.s1 intf2=dc2.s1-eth3
D1209 21:37:05.703067 636804 net.py:233] addLink: n1=chain46-fw intf1=output-vpn -- n2=dc2.s1 intf2=dc2.s1-eth4
I1209 21:37:05.703330 636804 daisy.py:310] successfully created VNF: chain46-fw
I1209 21:37:05.703506 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server28']
I1209 21:37:05.703639 636804 daisy.py:240] creating chain46-ids on chain-server28
D1209 21:37:05.705020 636804 node.py:55] Starting compute instance u'chain46-ids' in data center 'chain-server28'
D1209 21:37:06.875960 636804 simple.py:169] Setting CPU limit for u'chain46-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:37:06.958811 636804 simple.py:215] Setting MEM limit for u'chain46-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:06.996939 636804 simple.py:169] Setting CPU limit for u'chain46-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:37:07.063468 636804 simple.py:215] Setting MEM limit for u'chain46-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:37:07.507349 636804 net.py:233] addLink: n1=chain46-ids intf1=input -- n2=dc2.s1 intf2=dc2.s1-eth5
D1209 21:37:07.948492 636804 net.py:233] addLink: n1=chain46-ids intf1=output -- n2=dc2.s1 intf2=dc2.s1-eth6
I1209 21:37:07.948776 636804 daisy.py:310] successfully created VNF: chain46-ids
I1209 21:37:07.948951 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server28']
I1209 21:37:07.949062 636804 daisy.py:240] creating chain46-nat on chain-server28
D1209 21:37:07.951711 636804 node.py:55] Starting compute instance u'chain46-nat' in data center 'chain-server28'
D1209 21:37:09.132508 636804 simple.py:169] Setting CPU limit for u'chain46-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:37:09.217936 636804 simple.py:215] Setting MEM limit for u'chain46-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:09.256211 636804 simple.py:169] Setting CPU limit for u'chain46-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:37:09.332525 636804 simple.py:215] Setting MEM limit for u'chain46-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:09.376028 636804 simple.py:215] Setting MEM limit for u'chain46-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:37:09.838624 636804 net.py:233] addLink: n1=chain46-nat intf1=input -- n2=dc2.s1 intf2=dc2.s1-eth7
D1209 21:37:10.229692 636804 net.py:233] addLink: n1=chain46-nat intf1=output -- n2=dc2.s1 intf2=dc2.s1-eth8
I1209 21:37:10.229983 636804 daisy.py:310] successfully created VNF: chain46-nat
I1209 21:37:10.230218 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server28']
I1209 21:37:10.230345 636804 daisy.py:240] creating chain46-vpn on chain-server28
D1209 21:37:10.231700 636804 node.py:55] Starting compute instance u'chain46-vpn' in data center 'chain-server28'
D1209 21:37:11.417083 636804 simple.py:215] Setting MEM limit for u'chain46-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:11.456444 636804 simple.py:169] Setting CPU limit for u'chain46-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:37:11.532449 636804 simple.py:215] Setting MEM limit for u'chain46-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:11.567600 636804 simple.py:169] Setting CPU limit for u'chain46-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:37:11.644515 636804 simple.py:215] Setting MEM limit for u'chain46-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:11.680080 636804 simple.py:215] Setting MEM limit for u'chain46-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:37:12.121248 636804 net.py:233] addLink: n1=chain46-vpn intf1=input-ids -- n2=dc2.s1 intf2=dc2.s1-eth9
D1209 21:37:12.547339 636804 net.py:233] addLink: n1=chain46-vpn intf1=input-fw -- n2=dc2.s1 intf2=dc2.s1-eth10
D1209 21:37:12.951797 636804 net.py:233] addLink: n1=chain46-vpn intf1=output -- n2=dc2.s1 intf2=dc2.s1-eth11
I1209 21:37:12.952004 636804 daisy.py:310] successfully created VNF: chain46-vpn
I1209 21:37:12.952105 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud4']
I1209 21:37:12.952198 636804 daisy.py:240] creating chain46-sink on off-cloud4
D1209 21:37:12.953284 636804 node.py:55] Starting compute instance u'chain46-sink' in data center 'off-cloud4'
D1209 21:37:14.149357 636804 simple.py:215] Setting MEM limit for u'chain14-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:14.190990 636804 simple.py:215] Setting MEM limit for u'chain44-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:14.231528 636804 simple.py:215] Setting MEM limit for u'chain25-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:14.267440 636804 simple.py:215] Setting MEM limit for u'chain13-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:14.300409 636804 simple.py:215] Setting MEM limit for u'chain27-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:14.339611 636804 simple.py:215] Setting MEM limit for u'chain26-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:14.378603 636804 simple.py:215] Setting MEM limit for u'chain24-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:14.414385 636804 simple.py:215] Setting MEM limit for u'chain45-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:14.447544 636804 simple.py:169] Setting CPU limit for u'chain46-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:37:14.525058 636804 simple.py:215] Setting MEM limit for u'chain46-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:14.977674 636804 net.py:233] addLink: n1=chain46-sink intf1=intf2 -- n2=dc20.s1 intf2=dc20.s1-eth10
I1209 21:37:14.977994 636804 daisy.py:310] successfully created VNF: chain46-sink
I1209 21:37:14.978257 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud9']
I1209 21:37:14.978398 636804 daisy.py:240] creating chain46-source on off-cloud9
D1209 21:37:14.979895 636804 node.py:55] Starting compute instance u'chain46-source' in data center 'off-cloud9'
D1209 21:37:16.150930 636804 simple.py:215] Setting MEM limit for u'chain2-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:16.190602 636804 simple.py:215] Setting MEM limit for u'chain15-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:16.227026 636804 simple.py:169] Setting CPU limit for u'chain46-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:37:16.293564 636804 simple.py:215] Setting MEM limit for u'chain46-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:16.326997 636804 simple.py:215] Setting MEM limit for u'chain14-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:16.360192 636804 simple.py:215] Setting MEM limit for u'chain13-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:16.392379 636804 simple.py:215] Setting MEM limit for u'chain2-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:16.428808 636804 simple.py:215] Setting MEM limit for u'chain45-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:16.463092 636804 simple.py:215] Setting MEM limit for u'chain25-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:16.501218 636804 simple.py:215] Setting MEM limit for u'chain44-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:17.030281 636804 net.py:233] addLink: n1=chain46-source intf1=intf1 -- n2=dc21.s1 intf2=dc21.s1-eth10
I1209 21:37:17.030541 636804 daisy.py:310] successfully created VNF: chain46-source
I1209 21:37:17.030690 636804 daisy.py:311] successfully created chain: 46
ment': [[u'fw', u'chain-server29'], [u'ids', u'chain-server29'], [u'nat', u'chain-server29'], [u'vpn', u'chain-server29'], [u'sink', u'off-cloud4'], [u'source', u'off-cloud9']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 2.255658, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud9', 2], [u'chain-server29', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server29', 2], [u'off-cloud4', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain45-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain45-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain45-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain45-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain45-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain45-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain45-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain45-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain45-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain45-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain45-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain45-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain45-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain45-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain45-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain45-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain45-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain45-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain45-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain45-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain45-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain45-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain45-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain45-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain45-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain45-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.026190999999999853, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server28'], [u'ids', u'chain-server28'], [u'nat', u'chain-server28'], [u'vpn', u'chain-server28'], [u'sink', u'off-cloud4'], [u'source', u'off-cloud9']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 2.300515, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud9', 2], [u'chain-server28', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server28', 2], [u'off-cloud4', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain46-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain46-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain46-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain46-nSetting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:37:20.645230 636804 daisy.py:401] source, nat, and fw start done
I1209 21:37:20.645498 636804 daisy.py:402] My commands
I1209 21:37:20.862565 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:37:22.864921 636804 daisy.py:419] < 2s wait complete
I1209 21:37:22.865124 636804 daisy.py:420] start VNF chaining
D1209 21:37:22.865267 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain46-source', vnf_src_interface='intf1', vnf_dst_name=u'chain46-nat', vnf_dst_interface='input'
I1209 21:37:22.865502 636804 net.py:665] Path between chain46-source and chain46-nat: ['dc21.s1', u'gsw0', 'dc2.s1']
I1209 21:37:22.865662 636804 net.py:889] add-flow
I1209 21:37:22.865760 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:553,output=1
I1209 21:37:22.876034 636804 net.py:893] add-flow in switch: dc21.s1 in_port: 10 out_port: 1
I1209 21:37:22.876189 636804 net.py:889] add-flow
I1209 21:37:22.876283 636804 net.py:890] in_port=50,dl_vlan=553,action=29
I1209 21:37:22.915935 636804 net.py:893] add-flow in switch: gsw0 in_port: 50 out_port: 29
I1209 21:37:22.916089 636804 net.py:694] end node reached: chain46-nat
I1209 21:37:22.916208 636804 net.py:889] add-flow
I1209 21:37:22.916301 636804 net.py:890] in_port=1,dl_vlan=553,action=strip_vlan,output=7
I1209 21:37:22.969674 636804 net.py:893] add-flow in switch: dc2.s1 in_port: 1 out_port: 7
D1209 21:37:22.970037 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain46-nat', vnf_src_interface='input', vnf_dst_name=u'chain46-source', vnf_dst_interface='intf1'
I1209 21:37:22.970247 636804 net.py:665] Path between chain46-nat and chain46-source: ['dc2.s1', u'gsw0', 'dc21.s1']
I1209 21:37:22.970360 636804 net.py:889] add-flow
I1209 21:37:22.970432 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:554,output=1
I1209 21:37:23.016122 636804 net.py:893] add-flow in switch: dc2.s1 in_port: 7 out_port: 1
I1209 21:37:23.016299 636804 net.py:889] add-flow
I1209 21:37:23.016395 636804 net.py:890] in_port=29,dl_vlan=554,action=50
I1209 21:37:23.067863 636804 net.py:893] add-flow in switch: gsw0 in_port: 29 out_port: 50
I1209 21:37:23.068003 636804 net.py:694] end node reached: chain46-source
I1209 21:37:23.068128 636804 net.py:889] add-flow
I1209 21:37:23.068219 636804 net.py:890] in_port=1,dl_vlan=554,action=strip_vlan,output=10
I1209 21:37:23.114398 636804 net.py:893] add-flow in switch: dc21.s1 in_port: 1 out_port: 10
I1209 21:37:23.114655 636804 daisy.py:322] chain(chain46-source, chain46-nat) output: success: add-flow between chain46-source and chain46-nat with options: {
 "priority": 1000, 
 "path": [
  "dc21.s1", 
  "gsw0", 
  "dc2.s1"
 ], 
 "vlan": 553, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain46-nat and chain46-source with options: {
 "priority": 1000, 
 "path": [
  "dc2.s1", 
  "gsw0", 
  "dc21.s1"
 ], 
 "vlan": 554, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:37:23.114831 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain46-nat', vnf_src_interface='output', vnf_dst_name=u'chain46-fw', vnf_dst_interface='input'
I1209 21:37:23.114969 636804 net.py:665] Path between chain46-nat and chain46-fw: ['dc2.s1']
I1209 21:37:23.115081 636804 net.py:694] end node reached: chain46-fw
I1209 21:37:23.115185 636804 net.py:889] add-flow
I1209 21:37:23.115252 636804 net.py:890] -O OpenFlow13 in_port=8,action=mod_vlan_vid:555,output=2
I1209 21:37:23.160377 636804 net.py:893] add-flow in switch: dc2.s1 in_port: 8 out_port: 2
I1209 21:37:23.160561 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc2.s1 in_port: 8 out_port: 2
I1209 21:37:23.160659 636804 net.py:931] add-flow
I1209 21:37:23.160762 636804 net.py:932] in_port=8,action=strip_vlan,output=2
I1209 21:37:23.199378 636804 net.py:935] add-flow in switch: dc2.s1 in_port: 8 out_port: 2
D1209 21:37:23.199611 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain46-fw', vnf_src_interface='input', vnf_dst_name=u'chain46-nat', vnf_dst_interface='output'
I1209 21:37:23.199785 636804 net.py:665] Path between chain46-fw and chain46-nat: ['dc2.s1']
I1209 21:37:23.199914 636804 net.py:694] end node reached: chain46-nat
I1209 21:37:23.200038 636804 net.py:889] add-flow
I1209 21:37:23.200144 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:556,output=8
I1209 21:37:23.277745 636804 net.py:893] add-flow in switch: dc2.s1 in_port: 2 out_port: 8
I1209 21:37:23.277905 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc2.s1 in_port: 2 out_port: 8
I1209 21:37:23.278027 636804 net.py:931] add-flow
I1209 21:37:23.278202 636804 net.py:932] in_port=2,action=strip_vlan,output=8
I1209 21:37:23.325826 636804 net.py:935] add-flow in switch: dc2.s1 in_port: 2 out_port: 8
I1209 21:37:23.326186 636804 daisy.py:329] chain(chain46-nat, chain46-fw) output: success: add-flow between chain46-nat and chain46-fw with options: {
 "priority": 1000, 
 "path": [
  "dc2.s1"
 ], 
 "vlan": 555, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain46-fw and chain46-nat with options: {
 "priority": 1000, 
 "path": [
  "dc2.s1"
 ], 
 "vlan": 556, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:37:23.326363 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain46-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain46-ids', vnf_dst_interface='input'
I1209 21:37:23.326512 636804 net.py:665] Path between chain46-fw and chain46-ids: ['dc2.s1']
I1209 21:37:23.326627 636804 net.py:694] end node reached: chain46-ids
I1209 21:37:23.326757 636804 net.py:889] add-flow
I1209 21:37:23.326853 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:557,output=5
I1209 21:37:23.401407 636804 net.py:893] add-flow in switch: dc2.s1 in_port: 3 out_port: 5
D1209 21:37:23.401654 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain46-ids', vnf_src_interface='input', vnf_dst_name=u'chain46-fw', vnf_dst_interface='output-ids'
I1209 21:37:23.401837 636804 net.py:665] Path between chain46-ids and chain46-fw: ['dc2.s1']
I1209 21:37:23.401963 636804 net.py:694] end node reached: chain46-fw
I1209 21:37:23.402075 636804 net.py:889] add-flow
I1209 21:37:23.402266 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:558,output=3
I1209 21:37:23.449049 636804 net.py:893] add-flow in switch: dc2.s1 in_port: 5 out_port: 3
I1209 21:37:23.449208 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc2.s1 in_port: 5 out_port: 3
I1209 21:37:23.449311 636804 net.py:931] add-flow
I1209 21:37:23.449397 636804 net.py:932] in_port=5,action=strip_vlan,output=3
I1209 21:37:23.494982 636804 net.py:935] add-flow in switch: dc2.s1 in_port: 5 out_port: 3
I1209 21:37:23.495261 636804 daisy.py:336] chain(chain46-fw, chain46-ids) output: success: add-flow between chain46-fw and chain46-ids with options: {
 "priority": 1000, 
 "path": [
  "dc2.s1"
 ], 
 "vlan": 557, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain46-ids and chain46-fw with options: {
 "priority": 1000, 
 "path": [
  "dc2.s1"
 ], 
 "vlan": 558, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:37:23.495454 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain46-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain46-vpn', vnf_dst_interface='input-fw'
I1209 21:37:23.495611 636804 net.py:665] Path between chain46-fw and chain46-vpn: ['dc2.s1']
I1209 21:37:23.495738 636804 net.py:694] end node reached: chain46-vpn
I1209 21:37:23.495846 636804 net.py:889] add-flow
I1209 21:37:23.495945 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:559,output=10
I1209 21:37:23.570213 636804 net.py:893] add-flow in switch: dc2.s1 in_port: 4 out_port: 10
D1209 21:37:23.570496 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain46-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain46-fw', vnf_dst_interface='output-vpn'
I1209 21:37:23.570660 636804 net.py:665] Path between chain46-vpn and chain46-fw: ['dc2.s1']
I1209 21:37:23.570792 636804 net.py:694] end node reached: chain46-fw
I1209 21:37:23.570899 636804 net.py:889] add-flow
I1209 21:37:23.570996 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:560,output=4
I1209 21:37:23.614254 636804 net.py:893] add-flow in switch: dc2.s1 in_port: 10 out_port: 4
I1209 21:37:23.614522 636804 daisy.py:343] chain(chain46-fw, chain46-vpn) output: success: add-flow between chain46-fw and chain46-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc2.s1"
 ], 
 "vlan": 559, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain46-vpn and chain46-fw with options: {
 "priority": 1000, 
 "path": [
  "dc2.s1"
 ], 
 "vlan": 560, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:37:23.614685 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain46-ids', vnf_src_interface='output', vnf_dst_name=u'chain46-vpn', vnf_dst_interface='input-ids'
I1209 21:37:23.614866 636804 net.py:665] Path between chain46-ids and chain46-vpn: ['dc2.s1']
I1209 21:37:23.614979 636804 net.py:694] end node reached: chain46-vpn
I1209 21:37:23.615078 636804 net.py:889] add-flow
I1209 21:37:23.615163 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:561,output=9
I1209 21:37:23.654350 636804 net.py:893] add-flow in switch: dc2.s1 in_port: 6 out_port: 9
I1209 21:37:23.654503 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc2.s1 in_port: 6 out_port: 9
I1209 21:37:23.654592 636804 net.py:931] add-flow
I1209 21:37:23.654659 636804 net.py:932] in_port=6,action=strip_vlan,output=9
I1209 21:37:23.694400 636804 net.py:935] add-flow in switch: dc2.s1 in_port: 6 out_port: 9
D1209 21:37:23.694633 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain46-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain46-ids', vnf_dst_interface='output'
I1209 21:37:23.694818 636804 net.py:665] Path between chain46-vpn and chain46-ids: ['dc2.s1']
I1209 21:37:23.694931 636804 net.py:694] end node reached: chain46-ids
I1209 21:37:23.695055 636804 net.py:889] add-flow
I1209 21:37:23.695154 636804 net.py:890] -O OpenFlow13 in_port=9,action=mod_vlan_vid:562,output=6
I1209 21:37:23.780420 636804 net.py:893] add-flow in switch: dc2.s1 in_port: 9 out_port: 6
I1209 21:37:23.780631 636804 daisy.py:350] chain(chain46-ids, chain46-vpn) output: success: add-flow between chain46-ids and chain46-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc2.s1"
 ], 
 "vlan": 561, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain46-vpn and chain46-ids with options: {
 "priority": 1000, 
 "path": [
  "dc2.s1"
 ], 
 "vlan": 562, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:37:23.780771 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain46-vpn', vnf_src_interface='output', vnf_dst_name=u'chain46-sink', vnf_dst_interface='intf2'
I1209 21:37:23.780915 636804 net.py:665] Path between chain46-vpn and chain46-sink: ['dc2.s1', u'gsw0', 'dc20.s1']
I1209 21:37:23.781004 636804 net.py:889] add-flow
I1209 21:37:23.781064 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:563,output=1
I1209 21:37:23.965509 636804 net.py:893] add-flow in switch: dc2.s1 in_port: 11 out_port: 1
I1209 21:37:23.965807 636804 net.py:889] add-flow
I1209 21:37:23.965910 636804 net.py:890] in_port=29,dl_vlan=563,action=45
I1209 21:37:24.002803 636804 net.py:893] add-flow in switch: gsw0 in_port: 29 out_port: 45
I1209 21:37:24.002942 636804 net.py:694] end node reached: chain46-sink
I1209 21:37:24.003050 636804 net.py:889] add-flow
I1209 21:37:24.003132 636804 net.py:890] in_port=1,dl_vlan=563,action=strip_vlan,output=10
I1209 21:37:24.049856 636804 net.py:893] add-flow in switch: dc20.s1 in_port: 1 out_port: 10
D1209 21:37:24.050190 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain46-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain46-vpn', vnf_dst_interface='output'
I1209 21:37:24.050376 636804 net.py:665] Path between chain46-sink and chain46-vpn: ['dc20.s1', u'gsw0', 'dc2.s1']
I1209 21:37:24.050498 636804 net.py:889] add-flow
I1209 21:37:24.050582 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:564,output=1
I1209 21:37:24.093050 636804 net.py:893] add-flow in switch: dc20.s1 in_port: 10 out_port: 1
I1209 21:37:24.093214 636804 net.py:889] add-flow
I1209 21:37:24.093317 636804 net.py:890] in_port=45,dl_vlan=564,action=29
I1209 21:37:24.135121 636804 net.py:893] add-flow in switch: gsw0 in_port: 45 out_port: 29
I1209 21:37:24.135282 636804 net.py:694] end node reached: chain46-vpn
I1209 21:37:24.135399 636804 net.py:889] add-flow
I1209 21:37:24.135489 636804 net.py:890] in_port=1,dl_vlan=564,action=strip_vlan,output=11
I1209 21:37:24.175786 636804 net.py:893] add-flow in switch: dc2.s1 in_port: 1 out_port: 11
I1209 21:37:24.176023 636804 daisy.py:357] chain(chain46-vpn, chain46-sink) output: success: add-flow between chain46-vpn and chain46-sink with options: {
 "priority": 1000, 
 "path": [
  "dc2.s1", 
  "gsw0", 
  "dc20.s1"
 ], 
 "vlan": 563, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain46-sink and chain46-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc20.s1", 
  "gsw0", 
  "dc2.s1"
 ], 
 "vlan": 564, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:37:26 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:37:26 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:37:26 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:37:26 2017 UDPv4 link local: [undef]
Sat Dec  9 21:37:26 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:37:26 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=60591cdc 84bba2a8
Sat Dec  9 21:37:26 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:37:26 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:37:26 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
VPN client VNF ready.
SIOCDELRT: No such process
Sat Dec  9 21:37:26 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:37:26 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:37:26 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:37:26 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:37:26 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:37:26 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:37:26 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:37:26 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:37:28 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:37:28 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:37:28 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:37:28 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:37:28 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:37:28 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:37:28 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:01:19
Sat Dec  9 21:37:28 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:37:28 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:37:28 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:37:28 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:37:28 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:37:28 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:37:28 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:37:28 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:37:28 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:37:28 2017 GID set to nogroup
Sat Dec  9 21:37:28 2017 UID set to nobody
Sat Dec  9 21:37:28 2017 Initialization Sequence Completed
I1209 21:37:31.843137 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:37:36.846244 636804 daisy.py:443] < 5s wait complete
I1209 21:37:36.846535 636804 daisy.py:444] VPN client VNF started
chain46-source -> chain46-sink 
chain46-sink -> chain46-source 
*** Results: 0% dropped (2/2 received)
I1209 21:37:40.291040 636804 daisy.py:369] ping chain46-source -> chain46-sink. Packet drop 0.0%
I1209 21:37:40.388957 636804 bench.py:19] Copying traces into the containers...
I1209 21:37:42.050343 636804 bench.py:29] Running dstat...
I1209 21:37:45.350627 636804 iter-e2-allocation.py:17] started allocating chain: 47
I1209 21:37:45.351063 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server28']
I1209 21:37:45.351191 636804 daisy.py:240] creating chain47-fw on chain-server28
D1209 21:37:45.352706 636804 node.py:55] Starting compute instance u'chain47-fw' in data center 'chain-server28'
D1209 21:37:46.509557 636804 simple.py:215] Setting MEM limit for u'chain46-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:46.549041 636804 simple.py:169] Setting CPU limit for u'chain46-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:37:46.621836 636804 simple.py:215] Setting MEM limit for u'chain46-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:46.655131 636804 simple.py:215] Setting MEM limit for u'chain46-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:46.691296 636804 simple.py:169] Setting CPU limit for u'chain47-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:37:46.770926 636804 simple.py:215] Setting MEM limit for u'chain47-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:46.801435 636804 simple.py:215] Setting MEM limit for u'chain46-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:37:47.275763 636804 net.py:233] addLink: n1=chain47-fw intf1=input -- n2=dc2.s1 intf2=dc2.s1-eth12
D1209 21:37:47.731743 636804 net.py:233] addLink: n1=chain47-fw intf1=output-ids -- n2=dc2.s1 intf2=dc2.s1-eth13
D1209 21:37:48.144217 636804 net.py:233] addLink: n1=chain47-fw intf1=output-vpn -- n2=dc2.s1 intf2=dc2.s1-eth14
I1209 21:37:48.144505 636804 daisy.py:310] successfully created VNF: chain47-fw
I1209 21:37:48.144668 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server28']
I1209 21:37:48.144784 636804 daisy.py:240] creating chain47-ids on chain-server28
D1209 21:37:48.146174 636804 node.py:55] Starting compute instance u'chain47-ids' in data center 'chain-server28'
D1209 21:37:49.357007 636804 simple.py:215] Setting MEM limit for u'chain46-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:49.400721 636804 simple.py:169] Setting CPU limit for u'chain47-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:37:49.488398 636804 simple.py:215] Setting MEM limit for u'chain47-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:37:49.527426 636804 simple.py:215] Setting MEM limit for u'chain46-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:49.572715 636804 simple.py:169] Setting CPU limit for u'chain46-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:37:49.647627 636804 simple.py:215] Setting MEM limit for u'chain46-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:49.684470 636804 simple.py:169] Setting CPU limit for u'chain47-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:37:49.749085 636804 simple.py:215] Setting MEM limit for u'chain47-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:49.780724 636804 simple.py:215] Setting MEM limit for u'chain46-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:37:50.240864 636804 net.py:233] addLink: n1=chain47-ids intf1=input -- n2=dc2.s1 intf2=dc2.s1-eth15
D1209 21:37:50.688019 636804 net.py:233] addLink: n1=chain47-ids intf1=output -- n2=dc2.s1 intf2=dc2.s1-eth16
I1209 21:37:50.688290 636804 daisy.py:310] successfully created VNF: chain47-ids
I1209 21:37:50.688447 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server28']
I1209 21:37:50.688565 636804 daisy.py:240] creating chain47-nat on chain-server28
D1209 21:37:50.689976 636804 node.py:55] Starting compute instance u'chain47-nat' in data center 'chain-server28'
D1209 21:37:51.752480 636804 simple.py:215] Setting MEM limit for u'chain46-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:51.792763 636804 simple.py:169] Setting CPU limit for u'chain47-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:37:51.865078 636804 simple.py:215] Setting MEM limit for u'chain47-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:51.897330 636804 simple.py:215] Setting MEM limit for u'chain47-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:37:51.930502 636804 simple.py:215] Setting MEM limit for u'chain46-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:51.963227 636804 simple.py:169] Setting CPU limit for u'chain46-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:37:52.040520 636804 simple.py:215] Setting MEM limit for u'chain46-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:52.080689 636804 simple.py:169] Setting CPU limit for u'chain47-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:37:52.160132 636804 simple.py:215] Setting MEM limit for u'chain47-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:52.194684 636804 simple.py:215] Setting MEM limit for u'chain46-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:37:52.685290 636804 net.py:233] addLink: n1=chain47-nat intf1=input -- n2=dc2.s1 intf2=dc2.s1-eth17
D1209 21:37:53.107351 636804 net.py:233] addLink: n1=chain47-nat intf1=output -- n2=dc2.s1 intf2=dc2.s1-eth18
I1209 21:37:53.107610 636804 daisy.py:310] successfully created VNF: chain47-nat
I1209 21:37:53.107770 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server28']
I1209 21:37:53.107873 636804 daisy.py:240] creating chain47-vpn on chain-server28
D1209 21:37:53.109132 636804 node.py:55] Starting compute instance u'chain47-vpn' in data center 'chain-server28'
D1209 21:37:54.332150 636804 simple.py:215] Setting MEM limit for u'chain46-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:54.376221 636804 simple.py:169] Setting CPU limit for u'chain47-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:37:54.456727 636804 simple.py:215] Setting MEM limit for u'chain47-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:54.493562 636804 simple.py:215] Setting MEM limit for u'chain47-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:54.533833 636804 simple.py:215] Setting MEM limit for u'chain47-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:37:54.568734 636804 simple.py:215] Setting MEM limit for u'chain46-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:54.605515 636804 simple.py:169] Setting CPU limit for u'chain46-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:37:54.682039 636804 simple.py:215] Setting MEM limit for u'chain46-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:54.712629 636804 simple.py:169] Setting CPU limit for u'chain47-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:37:54.775139 636804 simple.py:215] Setting MEM limit for u'chain47-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:54.817228 636804 simple.py:215] Setting MEM limit for u'chain46-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:37:55.291215 636804 net.py:233] addLink: n1=chain47-vpn intf1=input-ids -- n2=dc2.s1 intf2=dc2.s1-eth19
D1209 21:37:55.696141 636804 net.py:233] addLink: n1=chain47-vpn intf1=input-fw -- n2=dc2.s1 intf2=dc2.s1-eth20
D1209 21:37:56.135273 636804 net.py:233] addLink: n1=chain47-vpn intf1=output -- n2=dc2.s1 intf2=dc2.s1-eth21
I1209 21:37:56.135531 636804 daisy.py:310] successfully created VNF: chain47-vpn
I1209 21:37:56.135696 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud4']
I1209 21:37:56.135873 636804 daisy.py:240] creating chain47-sink on off-cloud4
D1209 21:37:56.138109 636804 node.py:55] Starting compute instance u'chain47-sink' in data center 'off-cloud4'
D1209 21:37:57.270941 636804 simple.py:215] Setting MEM limit for u'chain14-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:57.310870 636804 simple.py:215] Setting MEM limit for u'chain44-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:57.351141 636804 simple.py:215] Setting MEM limit for u'chain25-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:57.384658 636804 simple.py:215] Setting MEM limit for u'chain13-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:57.419147 636804 simple.py:215] Setting MEM limit for u'chain27-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:57.453983 636804 simple.py:215] Setting MEM limit for u'chain26-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:57.487152 636804 simple.py:169] Setting CPU limit for u'chain47-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:37:57.560750 636804 simple.py:215] Setting MEM limit for u'chain47-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:57.595571 636804 simple.py:215] Setting MEM limit for u'chain24-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:57.632673 636804 simple.py:215] Setting MEM limit for u'chain45-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:57.663420 636804 simple.py:215] Setting MEM limit for u'chain46-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:58.175987 636804 net.py:233] addLink: n1=chain47-sink intf1=intf2 -- n2=dc20.s1 intf2=dc20.s1-eth11
I1209 21:37:58.176240 636804 daisy.py:310] successfully created VNF: chain47-sink
I1209 21:37:58.176383 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud9']
I1209 21:37:58.176492 636804 daisy.py:240] creating chain47-source on off-cloud9
D1209 21:37:58.177934 636804 node.py:55] Starting compute instance u'chain47-source' in data center 'off-cloud9'
D1209 21:37:59.296524 636804 simple.py:169] Setting CPU limit for u'chain47-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:37:59.379806 636804 simple.py:215] Setting MEM limit for u'chain47-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:59.416716 636804 simple.py:215] Setting MEM limit for u'chain2-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:59.457952 636804 simple.py:215] Setting MEM limit for u'chain15-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:59.497812 636804 simple.py:215] Setting MEM limit for u'chain46-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:59.531135 636804 simple.py:215] Setting MEM limit for u'chain14-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:59.566359 636804 simple.py:215] Setting MEM limit for u'chain13-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:59.605017 636804 simple.py:215] Setting MEM limit for u'chain2-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:59.644645 636804 simple.py:215] Setting MEM limit for u'chain45-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:59.680453 636804 simple.py:215] Setting MEM limit for u'chain25-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:37:59.720921 636804 simple.py:215] Setting MEM limit for u'chain44-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:00.183181 636804 net.py:233] addLink: n1=chain47-source intf1=intf1 -- n2=dc21.s1 intf2=dc21.s1-eth11
I1209 21:38:00.183401 636804 daisy.py:310] successfully created VNF: chain47-source
I1209 21:38:00.183509 636804 daisy.py:311] successfully created chain: 47
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
at ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain46-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain46-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain46-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain46-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain46-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain46-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain46-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain46-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain46-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain46-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain46-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain46-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain46-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain46-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain46-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain46-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain46-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain46-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain46-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain46-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain46-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain46-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.024348999999999954, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server28'], [u'ids', u'chain-server28'], [u'nat', u'chain-server28'], [u'vpn', u'chain-server28'], [u'sink', u'off-cloud4'], [u'source', u'off-cloud9']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 2.340884, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud9', 2], [u'chain-server28', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server28', 2], [u'off-cloud4', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain47-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain47-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain47-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain47-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain47-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain47-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain47-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain47-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain47-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain47-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain47-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain47-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec I1209 21:38:03.270055 636804 daisy.py:401] source, nat, and fw start done
I1209 21:38:03.270416 636804 daisy.py:402] My commands
I1209 21:38:03.493675 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:38:05.494249 636804 daisy.py:419] < 2s wait complete
I1209 21:38:05.494501 636804 daisy.py:420] start VNF chaining
D1209 21:38:05.494699 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain47-source', vnf_src_interface='intf1', vnf_dst_name=u'chain47-nat', vnf_dst_interface='input'
I1209 21:38:05.494986 636804 net.py:665] Path between chain47-source and chain47-nat: ['dc21.s1', u'gsw0', 'dc2.s1']
I1209 21:38:05.495171 636804 net.py:889] add-flow
I1209 21:38:05.495268 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:565,output=1
I1209 21:38:05.506412 636804 net.py:893] add-flow in switch: dc21.s1 in_port: 11 out_port: 1
I1209 21:38:05.506746 636804 net.py:889] add-flow
I1209 21:38:05.506854 636804 net.py:890] in_port=50,dl_vlan=565,action=29
I1209 21:38:05.545799 636804 net.py:893] add-flow in switch: gsw0 in_port: 50 out_port: 29
I1209 21:38:05.545931 636804 net.py:694] end node reached: chain47-nat
I1209 21:38:05.546024 636804 net.py:889] add-flow
I1209 21:38:05.546107 636804 net.py:890] in_port=1,dl_vlan=565,action=strip_vlan,output=17
I1209 21:38:05.590672 636804 net.py:893] add-flow in switch: dc2.s1 in_port: 1 out_port: 17
D1209 21:38:05.591026 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain47-nat', vnf_src_interface='input', vnf_dst_name=u'chain47-source', vnf_dst_interface='intf1'
I1209 21:38:05.591212 636804 net.py:665] Path between chain47-nat and chain47-source: ['dc2.s1', u'gsw0', 'dc21.s1']
I1209 21:38:05.591317 636804 net.py:889] add-flow
I1209 21:38:05.591387 636804 net.py:890] -O OpenFlow13 in_port=17,action=mod_vlan_vid:566,output=1
I1209 21:38:05.632339 636804 net.py:893] add-flow in switch: dc2.s1 in_port: 17 out_port: 1
I1209 21:38:05.632622 636804 net.py:889] add-flow
I1209 21:38:05.632812 636804 net.py:890] in_port=29,dl_vlan=566,action=50
I1209 21:38:05.675036 636804 net.py:893] add-flow in switch: gsw0 in_port: 29 out_port: 50
I1209 21:38:05.675187 636804 net.py:694] end node reached: chain47-source
I1209 21:38:05.675296 636804 net.py:889] add-flow
I1209 21:38:05.675376 636804 net.py:890] in_port=1,dl_vlan=566,action=strip_vlan,output=11
I1209 21:38:05.732477 636804 net.py:893] add-flow in switch: dc21.s1 in_port: 1 out_port: 11
I1209 21:38:05.732795 636804 daisy.py:322] chain(chain47-source, chain47-nat) output: success: add-flow between chain47-source and chain47-nat with options: {
 "priority": 1000, 
 "path": [
  "dc21.s1", 
  "gsw0", 
  "dc2.s1"
 ], 
 "vlan": 565, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain47-nat and chain47-source with options: {
 "priority": 1000, 
 "path": [
  "dc2.s1", 
  "gsw0", 
  "dc21.s1"
 ], 
 "vlan": 566, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:38:05.732990 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain47-nat', vnf_src_interface='output', vnf_dst_name=u'chain47-fw', vnf_dst_interface='input'
I1209 21:38:05.733161 636804 net.py:665] Path between chain47-nat and chain47-fw: ['dc2.s1']
I1209 21:38:05.733268 636804 net.py:694] end node reached: chain47-fw
I1209 21:38:05.733367 636804 net.py:889] add-flow
I1209 21:38:05.733449 636804 net.py:890] -O OpenFlow13 in_port=18,action=mod_vlan_vid:567,output=12
I1209 21:38:05.768371 636804 net.py:893] add-flow in switch: dc2.s1 in_port: 18 out_port: 12
I1209 21:38:05.768522 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc2.s1 in_port: 18 out_port: 12
I1209 21:38:05.768637 636804 net.py:931] add-flow
I1209 21:38:05.768724 636804 net.py:932] in_port=18,action=strip_vlan,output=12
I1209 21:38:05.817663 636804 net.py:935] add-flow in switch: dc2.s1 in_port: 18 out_port: 12
D1209 21:38:05.817907 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain47-fw', vnf_src_interface='input', vnf_dst_name=u'chain47-nat', vnf_dst_interface='output'
I1209 21:38:05.818061 636804 net.py:665] Path between chain47-fw and chain47-nat: ['dc2.s1']
I1209 21:38:05.818186 636804 net.py:694] end node reached: chain47-nat
I1209 21:38:05.818299 636804 net.py:889] add-flow
I1209 21:38:05.818384 636804 net.py:890] -O OpenFlow13 in_port=12,action=mod_vlan_vid:568,output=18
I1209 21:38:05.908970 636804 net.py:893] add-flow in switch: dc2.s1 in_port: 12 out_port: 18
I1209 21:38:05.909147 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc2.s1 in_port: 12 out_port: 18
I1209 21:38:05.909241 636804 net.py:931] add-flow
I1209 21:38:05.909343 636804 net.py:932] in_port=12,action=strip_vlan,output=18
I1209 21:38:05.951303 636804 net.py:935] add-flow in switch: dc2.s1 in_port: 12 out_port: 18
I1209 21:38:05.951571 636804 daisy.py:329] chain(chain47-nat, chain47-fw) output: success: add-flow between chain47-nat and chain47-fw with options: {
 "priority": 1000, 
 "path": [
  "dc2.s1"
 ], 
 "vlan": 567, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain47-fw and chain47-nat with options: {
 "priority": 1000, 
 "path": [
  "dc2.s1"
 ], 
 "vlan": 568, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:38:05.951760 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain47-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain47-ids', vnf_dst_interface='input'
I1209 21:38:05.951939 636804 net.py:665] Path between chain47-fw and chain47-ids: ['dc2.s1']
I1209 21:38:05.952044 636804 net.py:694] end node reached: chain47-ids
I1209 21:38:05.952142 636804 net.py:889] add-flow
I1209 21:38:05.952785 636804 net.py:890] -O OpenFlow13 in_port=13,action=mod_vlan_vid:569,output=15
I1209 21:38:06.036547 636804 net.py:893] add-flow in switch: dc2.s1 in_port: 13 out_port: 15
D1209 21:38:06.036843 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain47-ids', vnf_src_interface='input', vnf_dst_name=u'chain47-fw', vnf_dst_interface='output-ids'
I1209 21:38:06.037008 636804 net.py:665] Path between chain47-ids and chain47-fw: ['dc2.s1']
I1209 21:38:06.037113 636804 net.py:694] end node reached: chain47-fw
I1209 21:38:06.037211 636804 net.py:889] add-flow
I1209 21:38:06.037290 636804 net.py:890] -O OpenFlow13 in_port=15,action=mod_vlan_vid:570,output=13
I1209 21:38:06.081302 636804 net.py:893] add-flow in switch: dc2.s1 in_port: 15 out_port: 13
I1209 21:38:06.081454 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc2.s1 in_port: 15 out_port: 13
I1209 21:38:06.081558 636804 net.py:931] add-flow
I1209 21:38:06.081655 636804 net.py:932] in_port=15,action=strip_vlan,output=13
I1209 21:38:06.126511 636804 net.py:935] add-flow in switch: dc2.s1 in_port: 15 out_port: 13
I1209 21:38:06.126780 636804 daisy.py:336] chain(chain47-fw, chain47-ids) output: success: add-flow between chain47-fw and chain47-ids with options: {
 "priority": 1000, 
 "path": [
  "dc2.s1"
 ], 
 "vlan": 569, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain47-ids and chain47-fw with options: {
 "priority": 1000, 
 "path": [
  "dc2.s1"
 ], 
 "vlan": 570, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:38:06.126940 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain47-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain47-vpn', vnf_dst_interface='input-fw'
I1209 21:38:06.127094 636804 net.py:665] Path between chain47-fw and chain47-vpn: ['dc2.s1']
I1209 21:38:06.127196 636804 net.py:694] end node reached: chain47-vpn
I1209 21:38:06.127294 636804 net.py:889] add-flow
I1209 21:38:06.127383 636804 net.py:890] -O OpenFlow13 in_port=14,action=mod_vlan_vid:571,output=20
I1209 21:38:06.212450 636804 net.py:893] add-flow in switch: dc2.s1 in_port: 14 out_port: 20
D1209 21:38:06.212723 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain47-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain47-fw', vnf_dst_interface='output-vpn'
I1209 21:38:06.212873 636804 net.py:665] Path between chain47-vpn and chain47-fw: ['dc2.s1']
I1209 21:38:06.212987 636804 net.py:694] end node reached: chain47-fw
I1209 21:38:06.213097 636804 net.py:889] add-flow
I1209 21:38:06.213184 636804 net.py:890] -O OpenFlow13 in_port=20,action=mod_vlan_vid:572,output=14
I1209 21:38:06.252353 636804 net.py:893] add-flow in switch: dc2.s1 in_port: 20 out_port: 14
I1209 21:38:06.252603 636804 daisy.py:343] chain(chain47-fw, chain47-vpn) output: success: add-flow between chain47-fw and chain47-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc2.s1"
 ], 
 "vlan": 571, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain47-vpn and chain47-fw with options: {
 "priority": 1000, 
 "path": [
  "dc2.s1"
 ], 
 "vlan": 572, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:38:06.252779 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain47-ids', vnf_src_interface='output', vnf_dst_name=u'chain47-vpn', vnf_dst_interface='input-ids'
I1209 21:38:06.252911 636804 net.py:665] Path between chain47-ids and chain47-vpn: ['dc2.s1']
I1209 21:38:06.253019 636804 net.py:694] end node reached: chain47-vpn
I1209 21:38:06.253115 636804 net.py:889] add-flow
I1209 21:38:06.253206 636804 net.py:890] -O OpenFlow13 in_port=16,action=mod_vlan_vid:573,output=19
I1209 21:38:06.294732 636804 net.py:893] add-flow in switch: dc2.s1 in_port: 16 out_port: 19
I1209 21:38:06.294902 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc2.s1 in_port: 16 out_port: 19
I1209 21:38:06.295005 636804 net.py:931] add-flow
I1209 21:38:06.295087 636804 net.py:932] in_port=16,action=strip_vlan,output=19
I1209 21:38:06.338764 636804 net.py:935] add-flow in switch: dc2.s1 in_port: 16 out_port: 19
D1209 21:38:06.339020 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain47-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain47-ids', vnf_dst_interface='output'
I1209 21:38:06.339169 636804 net.py:665] Path between chain47-vpn and chain47-ids: ['dc2.s1']
I1209 21:38:06.339255 636804 net.py:694] end node reached: chain47-ids
I1209 21:38:06.339334 636804 net.py:889] add-flow
I1209 21:38:06.339399 636804 net.py:890] -O OpenFlow13 in_port=19,action=mod_vlan_vid:574,output=16
I1209 21:38:06.415487 636804 net.py:893] add-flow in switch: dc2.s1 in_port: 19 out_port: 16
I1209 21:38:06.415752 636804 daisy.py:350] chain(chain47-ids, chain47-vpn) output: success: add-flow between chain47-ids and chain47-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc2.s1"
 ], 
 "vlan": 573, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain47-vpn and chain47-ids with options: {
 "priority": 1000, 
 "path": [
  "dc2.s1"
 ], 
 "vlan": 574, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:38:06.415919 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain47-vpn', vnf_src_interface='output', vnf_dst_name=u'chain47-sink', vnf_dst_interface='intf2'
I1209 21:38:06.416093 636804 net.py:665] Path between chain47-vpn and chain47-sink: ['dc2.s1', u'gsw0', 'dc20.s1']
I1209 21:38:06.416220 636804 net.py:889] add-flow
I1209 21:38:06.416311 636804 net.py:890] -O OpenFlow13 in_port=21,action=mod_vlan_vid:575,output=1
I1209 21:38:06.454771 636804 net.py:893] add-flow in switch: dc2.s1 in_port: 21 out_port: 1
I1209 21:38:06.454937 636804 net.py:889] add-flow
I1209 21:38:06.455029 636804 net.py:890] in_port=29,dl_vlan=575,action=45
I1209 21:38:06.499494 636804 net.py:893] add-flow in switch: gsw0 in_port: 29 out_port: 45
I1209 21:38:06.499669 636804 net.py:694] end node reached: chain47-sink
I1209 21:38:06.499778 636804 net.py:889] add-flow
I1209 21:38:06.499871 636804 net.py:890] in_port=1,dl_vlan=575,action=strip_vlan,output=11
I1209 21:38:06.589241 636804 net.py:893] add-flow in switch: dc20.s1 in_port: 1 out_port: 11
D1209 21:38:06.589566 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain47-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain47-vpn', vnf_dst_interface='output'
I1209 21:38:06.589787 636804 net.py:665] Path between chain47-sink and chain47-vpn: ['dc20.s1', u'gsw0', 'dc2.s1']
I1209 21:38:06.589916 636804 net.py:889] add-flow
I1209 21:38:06.590003 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:576,output=1
I1209 21:38:06.718219 636804 net.py:893] add-flow in switch: dc20.s1 in_port: 11 out_port: 1
I1209 21:38:06.718405 636804 net.py:889] add-flow
I1209 21:38:06.718480 636804 net.py:890] in_port=45,dl_vlan=576,action=29
I1209 21:38:06.764314 636804 net.py:893] add-flow in switch: gsw0 in_port: 45 out_port: 29
I1209 21:38:06.764489 636804 net.py:694] end node reached: chain47-vpn
I1209 21:38:06.764599 636804 net.py:889] add-flow
I1209 21:38:06.764710 636804 net.py:890] in_port=1,dl_vlan=576,action=strip_vlan,output=21
I1209 21:38:06.809401 636804 net.py:893] add-flow in switch: dc2.s1 in_port: 1 out_port: 21
I1209 21:38:06.809675 636804 daisy.py:357] chain(chain47-vpn, chain47-sink) output: success: add-flow between chain47-vpn and chain47-sink with options: {
 "priority": 1000, 
 "path": [
  "dc2.s1", 
  "gsw0", 
  "dc20.s1"
 ], 
 "vlan": 575, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain47-sink and chain47-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc20.s1", 
  "gsw0", 
  "dc2.s1"
 ], 
 "vlan": 576, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:38:09 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:38:09 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:38:09 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:38:09 2017 UDPv4 link local: [undef]
Sat Dec  9 21:38:09 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:38:09 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=0d38c12b b2eb8346
Sat Dec  9 21:38:09 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:38:09 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:38:09 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:38:09 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:38:09 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:38:09 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:38:09 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:38:09 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:38:09 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:38:09 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:38:09 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:38:11 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:38:11 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:38:11 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:38:11 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:38:11 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:38:11 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:38:11 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:01:1f
Sat Dec  9 21:38:11 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:38:11 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:38:11 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:38:11 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:38:11 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:38:11 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:38:11 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:38:11 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:38:11 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:38:11 2017 GID set to nogroup
Sat Dec  9 21:38:11 2017 UID set to nobody
Sat Dec  9 21:38:11 2017 Initialization Sequence Completed
I1209 21:38:14.804800 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:38:19.810290 636804 daisy.py:443] < 5s wait complete
I1209 21:38:19.810503 636804 daisy.py:444] VPN client VNF started
chain47-source -> chain47-sink 
chain47-sink -> chain47-source 
*** Results: 0% dropped (2/2 received)
I1209 21:38:22.552390 636804 daisy.py:369] ping chain47-source -> chain47-sink. Packet drop 0.0%
I1209 21:38:22.670224 636804 bench.py:19] Copying traces into the containers...
I1209 21:38:24.347489 636804 bench.py:29] Running dstat...
I1209 21:38:27.449068 636804 iter-e2-allocation.py:17] started allocating chain: 48
I1209 21:38:27.449515 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server33']
I1209 21:38:27.449670 636804 daisy.py:240] creating chain48-fw on chain-server33
D1209 21:38:27.451256 636804 node.py:55] Starting compute instance u'chain48-fw' in data center 'chain-server33'
D1209 21:38:28.990984 636804 simple.py:169] Setting CPU limit for u'chain34-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:38:29.064043 636804 simple.py:215] Setting MEM limit for u'chain34-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:29.101550 636804 simple.py:215] Setting MEM limit for u'chain34-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:29.137049 636804 simple.py:215] Setting MEM limit for u'chain34-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:29.180108 636804 simple.py:215] Setting MEM limit for u'chain34-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:38:29.221297 636804 simple.py:169] Setting CPU limit for u'chain48-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:38:29.291743 636804 simple.py:215] Setting MEM limit for u'chain48-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:29.783700 636804 net.py:233] addLink: n1=chain48-fw intf1=input -- n2=dc42.s1 intf2=dc42.s1-eth12
D1209 21:38:30.218050 636804 net.py:233] addLink: n1=chain48-fw intf1=output-ids -- n2=dc42.s1 intf2=dc42.s1-eth13
D1209 21:38:30.659712 636804 net.py:233] addLink: n1=chain48-fw intf1=output-vpn -- n2=dc42.s1 intf2=dc42.s1-eth14
I1209 21:38:30.659948 636804 daisy.py:310] successfully created VNF: chain48-fw
I1209 21:38:30.660064 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server33']
I1209 21:38:30.660147 636804 daisy.py:240] creating chain48-ids on chain-server33
D1209 21:38:30.661259 636804 node.py:55] Starting compute instance u'chain48-ids' in data center 'chain-server33'
D1209 21:38:31.839503 636804 simple.py:215] Setting MEM limit for u'chain34-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:31.883395 636804 simple.py:215] Setting MEM limit for u'chain34-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:31.930037 636804 simple.py:169] Setting CPU limit for u'chain48-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:38:32.007637 636804 simple.py:215] Setting MEM limit for u'chain48-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:38:32.044212 636804 simple.py:169] Setting CPU limit for u'chain48-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:38:32.107768 636804 simple.py:215] Setting MEM limit for u'chain48-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:32.144572 636804 simple.py:169] Setting CPU limit for u'chain34-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:38:32.209852 636804 simple.py:215] Setting MEM limit for u'chain34-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:32.249116 636804 simple.py:215] Setting MEM limit for u'chain34-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:38:32.643210 636804 net.py:233] addLink: n1=chain48-ids intf1=input -- n2=dc42.s1 intf2=dc42.s1-eth15
D1209 21:38:33.085594 636804 net.py:233] addLink: n1=chain48-ids intf1=output -- n2=dc42.s1 intf2=dc42.s1-eth16
I1209 21:38:33.085881 636804 daisy.py:310] successfully created VNF: chain48-ids
I1209 21:38:33.086029 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server33']
I1209 21:38:33.086236 636804 daisy.py:240] creating chain48-nat on chain-server33
D1209 21:38:33.087816 636804 node.py:55] Starting compute instance u'chain48-nat' in data center 'chain-server33'
D1209 21:38:34.275341 636804 simple.py:215] Setting MEM limit for u'chain34-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:34.322936 636804 simple.py:215] Setting MEM limit for u'chain34-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:34.374278 636804 simple.py:215] Setting MEM limit for u'chain48-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:38:34.416770 636804 simple.py:169] Setting CPU limit for u'chain48-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:38:34.495399 636804 simple.py:215] Setting MEM limit for u'chain48-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:34.534372 636804 simple.py:169] Setting CPU limit for u'chain34-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:38:34.608429 636804 simple.py:215] Setting MEM limit for u'chain34-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:34.639451 636804 simple.py:215] Setting MEM limit for u'chain34-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:38:34.677603 636804 simple.py:169] Setting CPU limit for u'chain48-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:38:34.744710 636804 simple.py:215] Setting MEM limit for u'chain48-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:35.231271 636804 net.py:233] addLink: n1=chain48-nat intf1=input -- n2=dc42.s1 intf2=dc42.s1-eth17
D1209 21:38:35.654999 636804 net.py:233] addLink: n1=chain48-nat intf1=output -- n2=dc42.s1 intf2=dc42.s1-eth18
I1209 21:38:35.655266 636804 daisy.py:310] successfully created VNF: chain48-nat
I1209 21:38:35.655433 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server33']
I1209 21:38:35.655567 636804 daisy.py:240] creating chain48-vpn on chain-server33
D1209 21:38:35.656985 636804 node.py:55] Starting compute instance u'chain48-vpn' in data center 'chain-server33'
D1209 21:38:36.839719 636804 simple.py:215] Setting MEM limit for u'chain34-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:36.885854 636804 simple.py:215] Setting MEM limit for u'chain34-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:36.923156 636804 simple.py:215] Setting MEM limit for u'chain48-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:38:36.965464 636804 simple.py:169] Setting CPU limit for u'chain48-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:38:37.044709 636804 simple.py:215] Setting MEM limit for u'chain48-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:37.081562 636804 simple.py:169] Setting CPU limit for u'chain34-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:38:37.159095 636804 simple.py:215] Setting MEM limit for u'chain34-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:37.197109 636804 simple.py:169] Setting CPU limit for u'chain48-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:38:37.270366 636804 simple.py:215] Setting MEM limit for u'chain48-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:37.303188 636804 simple.py:215] Setting MEM limit for u'chain34-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:38:37.340450 636804 simple.py:215] Setting MEM limit for u'chain48-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:37.794297 636804 net.py:233] addLink: n1=chain48-vpn intf1=input-ids -- n2=dc42.s1 intf2=dc42.s1-eth19
D1209 21:38:38.155499 636804 net.py:233] addLink: n1=chain48-vpn intf1=input-fw -- n2=dc42.s1 intf2=dc42.s1-eth20
D1209 21:38:38.611843 636804 net.py:233] addLink: n1=chain48-vpn intf1=output -- n2=dc42.s1 intf2=dc42.s1-eth21
I1209 21:38:38.612142 636804 daisy.py:310] successfully created VNF: chain48-vpn
I1209 21:38:38.612309 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud7']
I1209 21:38:38.612447 636804 daisy.py:240] creating chain48-source on off-cloud7
D1209 21:38:38.613934 636804 node.py:55] Starting compute instance u'chain48-source' in data center 'off-cloud7'
D1209 21:38:39.761219 636804 simple.py:215] Setting MEM limit for u'chain36-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:39.806588 636804 simple.py:215] Setting MEM limit for u'chain16-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:39.844357 636804 simple.py:215] Setting MEM limit for u'chain0-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:39.890846 636804 simple.py:215] Setting MEM limit for u'chain42-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:39.928498 636804 simple.py:215] Setting MEM limit for u'chain34-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:39.964270 636804 simple.py:215] Setting MEM limit for u'chain35-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:40.002846 636804 simple.py:215] Setting MEM limit for u'chain11-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:40.041343 636804 simple.py:169] Setting CPU limit for u'chain48-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:38:40.111066 636804 simple.py:215] Setting MEM limit for u'chain48-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:40.141359 636804 simple.py:215] Setting MEM limit for u'chain43-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:40.605232 636804 net.py:233] addLink: n1=chain48-source intf1=intf1 -- n2=dc17.s1 intf2=dc17.s1-eth10
I1209 21:38:40.605572 636804 daisy.py:310] successfully created VNF: chain48-source
I1209 21:38:40.605746 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud8']
I1209 21:38:40.605870 636804 daisy.py:240] creating chain48-sink on off-cloud8
D1209 21:38:40.610860 636804 node.py:55] Starting compute instance u'chain48-sink' in data center 'off-cloud8'
D1209 21:38:41.758282 636804 simple.py:215] Setting MEM limit for u'chain42-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:41.803018 636804 simple.py:215] Setting MEM limit for u'chain12-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:41.836838 636804 simple.py:215] Setting MEM limit for u'chain43-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:41.876440 636804 simple.py:215] Setting MEM limit for u'chain35-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:41.915448 636804 simple.py:215] Setting MEM limit for u'chain36-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:41.956828 636804 simple.py:215] Setting MEM limit for u'chain0-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:41.999322 636804 simple.py:215] Setting MEM limit for u'chain34-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:42.039688 636804 simple.py:215] Setting MEM limit for u'chain37-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:42.080487 636804 simple.py:169] Setting CPU limit for u'chain48-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:38:42.154691 636804 simple.py:215] Setting MEM limit for u'chain48-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:38:42.666224 636804 net.py:233] addLink: n1=chain48-sink intf1=intf2 -- n2=dc22.s1 intf2=dc22.s1-eth10
I1209 21:38:42.666505 636804 daisy.py:310] successfully created VNF: chain48-sink
I1209 21:38:42.667193 636804 daisy.py:311] successfully created chain: 48
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:38:47.454389 636804 daisy.py:401] source, nat, and fw start done
I1209 21:38:47.454694 636804 daisy.py:402] My commands
I1209 21:38:47.650494 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:38:49.652857 636804 daisy.py:419] < 2s wait complete
I1209 21:38:49.653076 636804 daisy.py:420] start VNF chaining
D1209 21:38:49.653240 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain48-source', vnf_src_interface='intf1', vnf_dst_name=u'chain48-nat', vnf_dst_interface='input'
I1209 21:38:49.653548 636804 net.py:665] Path between chain48-source and chain48-nat: ['dc17.s1', u'gsw0', 'dc42.s1']
I1209 21:38:49.653718 636804 net.py:889] add-flow
I1209 21:38:49.653795 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:577,output=1
I1209 21:38:49.658279 636804 net.py:893] add-flow in switch: dc17.s1 in_port: 10 out_port: 1
I1209 21:38:49.658447 636804 net.py:889] add-flow
I1209 21:38:49.658552 636804 net.py:890] in_port=48,dl_vlan=577,action=34
I1209 21:38:49.709928 636804 net.py:893] add-flow in switch: gsw0 in_port: 48 out_port: 34
I1209 21:38:49.710072 636804 net.py:694] end node reached: chain48-nat
I1209 21:38:49.710185 636804 net.py:889] add-flow
I1209 21:38:49.710253 636804 net.py:890] in_port=1,dl_vlan=577,action=strip_vlan,output=17
I1209 21:38:49.759835 636804 net.py:893] add-flow in switch: dc42.s1 in_port: 1 out_port: 17
D1209 21:38:49.760236 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain48-nat', vnf_src_interface='input', vnf_dst_name=u'chain48-source', vnf_dst_interface='intf1'
I1209 21:38:49.760438 636804 net.py:665] Path between chain48-nat and chain48-source: ['dc42.s1', u'gsw0', 'dc17.s1']
I1209 21:38:49.760570 636804 net.py:889] add-flow
I1209 21:38:49.760647 636804 net.py:890] -O OpenFlow13 in_port=17,action=mod_vlan_vid:578,output=1
I1209 21:38:49.806073 636804 net.py:893] add-flow in switch: dc42.s1 in_port: 17 out_port: 1
I1209 21:38:49.806324 636804 net.py:889] add-flow
I1209 21:38:49.806404 636804 net.py:890] in_port=34,dl_vlan=578,action=48
I1209 21:38:49.847138 636804 net.py:893] add-flow in switch: gsw0 in_port: 34 out_port: 48
I1209 21:38:49.847281 636804 net.py:694] end node reached: chain48-source
I1209 21:38:49.847374 636804 net.py:889] add-flow
I1209 21:38:49.847439 636804 net.py:890] in_port=1,dl_vlan=578,action=strip_vlan,output=10
I1209 21:38:49.900476 636804 net.py:893] add-flow in switch: dc17.s1 in_port: 1 out_port: 10
I1209 21:38:49.900742 636804 daisy.py:322] chain(chain48-source, chain48-nat) output: success: add-flow between chain48-source and chain48-nat with options: {
 "priority": 1000, 
 "path": [
  "dc17.s1", 
  "gsw0", 
  "dc42.s1"
 ], 
 "vlan": 577, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain48-nat and chain48-source with options: {
 "priority": 1000, 
 "path": [
  "dc42.s1", 
  "gsw0", 
  "dc17.s1"
 ], 
 "vlan": 578, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:38:49.900918 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain48-nat', vnf_src_interface='output', vnf_dst_name=u'chain48-fw', vnf_dst_interface='input'
I1209 21:38:49.901072 636804 net.py:665] Path between chain48-nat and chain48-fw: ['dc42.s1']
I1209 21:38:49.901177 636804 net.py:694] end node reached: chain48-fw
I1209 21:38:49.901281 636804 net.py:889] add-flow
I1209 21:38:49.901350 636804 net.py:890] -O OpenFlow13 in_port=18,action=mod_vlan_vid:579,output=12
I1209 21:38:49.950891 636804 net.py:893] add-flow in switch: dc42.s1 in_port: 18 out_port: 12
I1209 21:38:49.951040 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc42.s1 in_port: 18 out_port: 12
I1209 21:38:49.951122 636804 net.py:931] add-flow
I1209 21:38:49.951216 636804 net.py:932] in_port=18,action=strip_vlan,output=12
I1209 21:38:50.000255 636804 net.py:935] add-flow in switch: dc42.s1 in_port: 18 out_port: 12
D1209 21:38:50.000497 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain48-fw', vnf_src_interface='input', vnf_dst_name=u'chain48-nat', vnf_dst_interface='output'
I1209 21:38:50.000673 636804 net.py:665] Path between chain48-fw and chain48-nat: ['dc42.s1']
I1209 21:38:50.000765 636804 net.py:694] end node reached: chain48-nat
I1209 21:38:50.000861 636804 net.py:889] add-flow
I1209 21:38:50.000953 636804 net.py:890] -O OpenFlow13 in_port=12,action=mod_vlan_vid:580,output=18
I1209 21:38:50.084316 636804 net.py:893] add-flow in switch: dc42.s1 in_port: 12 out_port: 18
I1209 21:38:50.084480 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc42.s1 in_port: 12 out_port: 18
I1209 21:38:50.084599 636804 net.py:931] add-flow
I1209 21:38:50.084681 636804 net.py:932] in_port=12,action=strip_vlan,output=18
I1209 21:38:50.192784 636804 net.py:935] add-flow in switch: dc42.s1 in_port: 12 out_port: 18
I1209 21:38:50.193131 636804 daisy.py:329] chain(chain48-nat, chain48-fw) output: success: add-flow between chain48-nat and chain48-fw with options: {
 "priority": 1000, 
 "path": [
  "dc42.s1"
 ], 
 "vlan": 579, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain48-fw and chain48-nat with options: {
 "priority": 1000, 
 "path": [
  "dc42.s1"
 ], 
 "vlan": 580, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:38:50.193319 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain48-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain48-ids', vnf_dst_interface='input'
I1209 21:38:50.193485 636804 net.py:665] Path between chain48-fw and chain48-ids: ['dc42.s1']
I1209 21:38:50.193619 636804 net.py:694] end node reached: chain48-ids
I1209 21:38:50.193708 636804 net.py:889] add-flow
I1209 21:38:50.193778 636804 net.py:890] -O OpenFlow13 in_port=13,action=mod_vlan_vid:581,output=15
I1209 21:38:50.292735 636804 net.py:893] add-flow in switch: dc42.s1 in_port: 13 out_port: 15
D1209 21:38:50.293095 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain48-ids', vnf_src_interface='input', vnf_dst_name=u'chain48-fw', vnf_dst_interface='output-ids'
I1209 21:38:50.293258 636804 net.py:665] Path between chain48-ids and chain48-fw: ['dc42.s1']
I1209 21:38:50.293365 636804 net.py:694] end node reached: chain48-fw
I1209 21:38:50.293466 636804 net.py:889] add-flow
I1209 21:38:50.293574 636804 net.py:890] -O OpenFlow13 in_port=15,action=mod_vlan_vid:582,output=13
I1209 21:38:50.333010 636804 net.py:893] add-flow in switch: dc42.s1 in_port: 15 out_port: 13
I1209 21:38:50.333169 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc42.s1 in_port: 15 out_port: 13
I1209 21:38:50.333261 636804 net.py:931] add-flow
I1209 21:38:50.333338 636804 net.py:932] in_port=15,action=strip_vlan,output=13
I1209 21:38:50.367022 636804 net.py:935] add-flow in switch: dc42.s1 in_port: 15 out_port: 13
I1209 21:38:50.367263 636804 daisy.py:336] chain(chain48-fw, chain48-ids) output: success: add-flow between chain48-fw and chain48-ids with options: {
 "priority": 1000, 
 "path": [
  "dc42.s1"
 ], 
 "vlan": 581, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain48-ids and chain48-fw with options: {
 "priority": 1000, 
 "path": [
  "dc42.s1"
 ], 
 "vlan": 582, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:38:50.367420 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain48-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain48-vpn', vnf_dst_interface='input-fw'
I1209 21:38:50.367589 636804 net.py:665] Path between chain48-fw and chain48-vpn: ['dc42.s1']
I1209 21:38:50.367698 636804 net.py:694] end node reached: chain48-vpn
I1209 21:38:50.367801 636804 net.py:889] add-flow
I1209 21:38:50.367885 636804 net.py:890] -O OpenFlow13 in_port=14,action=mod_vlan_vid:583,output=20
I1209 21:38:50.436376 636804 net.py:893] add-flow in switch: dc42.s1 in_port: 14 out_port: 20
D1209 21:38:50.436636 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain48-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain48-fw', vnf_dst_interface='output-vpn'
I1209 21:38:50.436785 636804 net.py:665] Path between chain48-vpn and chain48-fw: ['dc42.s1']
I1209 21:38:50.436888 636804 net.py:694] end node reached: chain48-fw
I1209 21:38:50.436997 636804 net.py:889] add-flow
I1209 21:38:50.437089 636804 net.py:890] -O OpenFlow13 in_port=20,action=mod_vlan_vid:584,output=14
I1209 21:38:50.469289 636804 net.py:893] add-flow in switch: dc42.s1 in_port: 20 out_port: 14
I1209 21:38:50.469526 636804 daisy.py:343] chain(chain48-fw, chain48-vpn) output: success: add-flow between chain48-fw and chain48-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc42.s1"
 ], 
 "vlan": 583, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain48-vpn and chain48-fw with options: {
 "priority": 1000, 
 "path": [
  "dc42.s1"
 ], 
 "vlan": 584, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:38:50.469672 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain48-ids', vnf_src_interface='output', vnf_dst_name=u'chain48-vpn', vnf_dst_interface='input-ids'
I1209 21:38:50.469805 636804 net.py:665] Path between chain48-ids and chain48-vpn: ['dc42.s1']
I1209 21:38:50.469923 636804 net.py:694] end node reached: chain48-vpn
I1209 21:38:50.470031 636804 net.py:889] add-flow
I1209 21:38:50.470129 636804 net.py:890] -O OpenFlow13 in_port=16,action=mod_vlan_vid:585,output=19
I1209 21:38:50.515822 636804 net.py:893] add-flow in switch: dc42.s1 in_port: 16 out_port: 19
I1209 21:38:50.515966 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc42.s1 in_port: 16 out_port: 19
I1209 21:38:50.516058 636804 net.py:931] add-flow
I1209 21:38:50.516149 636804 net.py:932] in_port=16,action=strip_vlan,output=19
I1209 21:38:50.559138 636804 net.py:935] add-flow in switch: dc42.s1 in_port: 16 out_port: 19
D1209 21:38:50.559401 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain48-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain48-ids', vnf_dst_interface='output'
I1209 21:38:50.559566 636804 net.py:665] Path between chain48-vpn and chain48-ids: ['dc42.s1']
I1209 21:38:50.559674 636804 net.py:694] end node reached: chain48-ids
I1209 21:38:50.559773 636804 net.py:889] add-flow
I1209 21:38:50.559860 636804 net.py:890] -O OpenFlow13 in_port=19,action=mod_vlan_vid:586,output=16
I1209 21:38:50.601988 636804 net.py:893] add-flow in switch: dc42.s1 in_port: 19 out_port: 16
I1209 21:38:50.602304 636804 daisy.py:350] chain(chain48-ids, chain48-vpn) output: success: add-flow between chain48-ids and chain48-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc42.s1"
 ], 
 "vlan": 585, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain48-vpn and chain48-ids with options: {
 "priority": 1000, 
 "path": [
  "dc42.s1"
 ], 
 "vlan": 586, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:38:50.602448 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain48-vpn', vnf_src_interface='output', vnf_dst_name=u'chain48-sink', vnf_dst_interface='intf2'
I1209 21:38:50.602641 636804 net.py:665] Path between chain48-vpn and chain48-sink: ['dc42.s1', u'gsw0', 'dc22.s1']
I1209 21:38:50.602752 636804 net.py:889] add-flow
I1209 21:38:50.602827 636804 net.py:890] -O OpenFlow13 in_port=21,action=mod_vlan_vid:587,output=1
I1209 21:38:50.637525 636804 net.py:893] add-flow in switch: dc42.s1 in_port: 21 out_port: 1
I1209 21:38:50.637712 636804 net.py:889] add-flow
I1209 21:38:50.637809 636804 net.py:890] in_port=34,dl_vlan=587,action=49
I1209 21:38:50.672791 636804 net.py:893] add-flow in switch: gsw0 in_port: 34 out_port: 49
I1209 21:38:50.672955 636804 net.py:694] end node reached: chain48-sink
I1209 21:38:50.673079 636804 net.py:889] add-flow
I1209 21:38:50.673177 636804 net.py:890] in_port=1,dl_vlan=587,action=strip_vlan,output=10
I1209 21:38:50.730178 636804 net.py:893] add-flow in switch: dc22.s1 in_port: 1 out_port: 10
D1209 21:38:50.730588 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain48-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain48-vpn', vnf_dst_interface='output'
I1209 21:38:50.730803 636804 net.py:665] Path between chain48-sink and chain48-vpn: ['dc22.s1', u'gsw0', 'dc42.s1']
I1209 21:38:50.730935 636804 net.py:889] add-flow
I1209 21:38:50.731013 636804 net.py:890] -O OpenFlow13 in_port=10,action=mod_vlan_vid:588,output=1
I1209 21:38:50.772067 636804 net.py:893] add-flow in switch: dc22.s1 in_port: 10 out_port: 1
I1209 21:38:50.772286 636804 net.py:889] add-flow
I1209 21:38:50.772377 636804 net.py:890] in_port=49,dl_vlan=588,action=34
I1209 21:38:50.814970 636804 net.py:893] add-flow in switch: gsw0 in_port: 49 out_port: 34
I1209 21:38:50.815083 636804 net.py:694] end node reached: chain48-vpn
I1209 21:38:50.815165 636804 net.py:889] add-flow
I1209 21:38:50.815233 636804 net.py:890] in_port=1,dl_vlan=588,action=strip_vlan,output=21
I1209 21:38:50.852363 636804 net.py:893] add-flow in switch: dc42.s1 in_port: 1 out_port: 21
I1209 21:38:50.852618 636804 daisy.py:357] chain(chain48-vpn, chain48-sink) output: success: add-flow between chain48-vpn and chain48-sink with options: {
 "priority": 1000, 
 "path": [
  "dc42.s1", 
  "gsw0", 
  "dc22.s1"
 ], 
 "vlan": 587, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain48-sink and chain48-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc22.s1", 
  "gsw0", 
  "dc42.s1"
 ], 
 "vlan": 588, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:38:52 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:38:52 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:38:52 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:38:52 2017 UDPv4 link local: [undef]
Sat Dec  9 21:38:52 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:38:52 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=921c0505 d0f93d1e
Sat Dec  9 21:38:52 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:38:53 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:38:53 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
VPN client VNF ready.
SIOCDELRT: No such process
mn.chain47-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain47-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain47-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain47-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain47-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain47-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain47-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain47-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain47-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain47-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain47-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain47-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain47-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain47-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.023895999999999695, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server33'], [u'ids', u'chain-server33'], [u'nat', u'chain-server33'], [u'vpn', u'chain-server33'], [u'source', u'off-cloud7'], [u'sink', u'off-cloud8']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 2.016361, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud7', 2], [u'chain-server33', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server33', 2], [u'off-cloud8', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain48-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain48-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain48-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain48-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain48-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain48-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain48-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain48-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain48-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain48-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain48-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain48-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain48-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain48-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain48-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain48-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain48-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain48-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain48-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain48-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain48-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain48-vpn route add -net 10.0.0.0/24 input-iSat Dec  9 21:38:53 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:38:53 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:38:53 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:38:53 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:38:53 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:38:53 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:38:53 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:38:53 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:38:55 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:38:55 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:38:55 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:38:55 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:38:55 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:38:55 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:38:55 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:01:25
Sat Dec  9 21:38:55 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:38:55 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:38:55 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:38:55 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:38:55 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:38:55 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:38:55 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:38:55 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:38:55 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:38:55 2017 GID set to nogroup
Sat Dec  9 21:38:55 2017 UID set to nobody
Sat Dec  9 21:38:55 2017 Initialization Sequence Completed
I1209 21:38:58.607455 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:39:03.610235 636804 daisy.py:443] < 5s wait complete
I1209 21:39:03.610469 636804 daisy.py:444] VPN client VNF started
chain48-source -> chain48-sink 
chain48-sink -> chain48-source 
*** Results: 0% dropped (2/2 received)
I1209 21:39:06.411248 636804 daisy.py:369] ping chain48-source -> chain48-sink. Packet drop 0.0%
I1209 21:39:06.523238 636804 bench.py:19] Copying traces into the containers...
I1209 21:39:08.502646 636804 bench.py:29] Running dstat...
I1209 21:39:11.151734 636804 iter-e2-allocation.py:17] started allocating chain: 49
I1209 21:39:11.152126 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server31']
I1209 21:39:11.152241 636804 daisy.py:240] creating chain49-fw on chain-server31
D1209 21:39:11.154148 636804 node.py:55] Starting compute instance u'chain49-fw' in data center 'chain-server31'
D1209 21:39:12.341808 636804 simple.py:215] Setting MEM limit for u'chain44-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:39:12.377259 636804 simple.py:215] Setting MEM limit for u'chain44-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:12.413052 636804 simple.py:169] Setting CPU limit for u'chain44-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:39:12.487186 636804 simple.py:215] Setting MEM limit for u'chain44-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:12.523004 636804 simple.py:169] Setting CPU limit for u'chain49-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:39:12.603347 636804 simple.py:215] Setting MEM limit for u'chain49-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:12.643918 636804 simple.py:215] Setting MEM limit for u'chain44-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:13.122685 636804 net.py:233] addLink: n1=chain49-fw intf1=input -- n2=dc44.s1 intf2=dc44.s1-eth12
D1209 21:39:13.604249 636804 net.py:233] addLink: n1=chain49-fw intf1=output-ids -- n2=dc44.s1 intf2=dc44.s1-eth13
D1209 21:39:14.072793 636804 net.py:233] addLink: n1=chain49-fw intf1=output-vpn -- n2=dc44.s1 intf2=dc44.s1-eth14
I1209 21:39:14.073071 636804 daisy.py:310] successfully created VNF: chain49-fw
I1209 21:39:14.073240 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server31']
I1209 21:39:14.073379 636804 daisy.py:240] creating chain49-ids on chain-server31
D1209 21:39:14.074846 636804 node.py:55] Starting compute instance u'chain49-ids' in data center 'chain-server31'
D1209 21:39:15.380083 636804 simple.py:169] Setting CPU limit for u'chain44-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:39:15.468067 636804 simple.py:215] Setting MEM limit for u'chain44-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:15.507424 636804 simple.py:169] Setting CPU limit for u'chain49-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:39:15.598604 636804 simple.py:215] Setting MEM limit for u'chain49-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:15.640707 636804 simple.py:169] Setting CPU limit for u'chain49-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:39:15.713176 636804 simple.py:215] Setting MEM limit for u'chain49-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:39:15.752309 636804 simple.py:215] Setting MEM limit for u'chain44-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:15.792783 636804 simple.py:215] Setting MEM limit for u'chain44-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:39:15.831636 636804 simple.py:215] Setting MEM limit for u'chain44-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:16.342730 636804 net.py:233] addLink: n1=chain49-ids intf1=input -- n2=dc44.s1 intf2=dc44.s1-eth15
D1209 21:39:16.836400 636804 net.py:233] addLink: n1=chain49-ids intf1=output -- n2=dc44.s1 intf2=dc44.s1-eth16
I1209 21:39:16.836673 636804 daisy.py:310] successfully created VNF: chain49-ids
I1209 21:39:16.836815 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server31']
I1209 21:39:16.836915 636804 daisy.py:240] creating chain49-nat on chain-server31
D1209 21:39:16.838335 636804 node.py:55] Starting compute instance u'chain49-nat' in data center 'chain-server31'
D1209 21:39:18.020729 636804 simple.py:169] Setting CPU limit for u'chain44-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:39:18.103260 636804 simple.py:215] Setting MEM limit for u'chain44-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:18.145114 636804 simple.py:169] Setting CPU limit for u'chain49-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:39:18.219799 636804 simple.py:215] Setting MEM limit for u'chain49-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:18.258019 636804 simple.py:215] Setting MEM limit for u'chain49-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:39:18.294516 636804 simple.py:215] Setting MEM limit for u'chain44-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:18.335444 636804 simple.py:169] Setting CPU limit for u'chain49-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:39:18.418823 636804 simple.py:215] Setting MEM limit for u'chain49-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:18.458340 636804 simple.py:215] Setting MEM limit for u'chain44-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:39:18.499260 636804 simple.py:215] Setting MEM limit for u'chain44-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:18.976543 636804 net.py:233] addLink: n1=chain49-nat intf1=input -- n2=dc44.s1 intf2=dc44.s1-eth17
D1209 21:39:19.470562 636804 net.py:233] addLink: n1=chain49-nat intf1=output -- n2=dc44.s1 intf2=dc44.s1-eth18
I1209 21:39:19.470818 636804 daisy.py:310] successfully created VNF: chain49-nat
I1209 21:39:19.470973 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server31']
I1209 21:39:19.471084 636804 daisy.py:240] creating chain49-vpn on chain-server31
D1209 21:39:19.472553 636804 node.py:55] Starting compute instance u'chain49-vpn' in data center 'chain-server31'
D1209 21:39:20.700987 636804 simple.py:169] Setting CPU limit for u'chain44-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:39:20.780919 636804 simple.py:215] Setting MEM limit for u'chain44-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:20.816392 636804 simple.py:169] Setting CPU limit for u'chain49-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:39:20.885250 636804 simple.py:215] Setting MEM limit for u'chain49-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:20.925146 636804 simple.py:215] Setting MEM limit for u'chain49-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:39:20.962588 636804 simple.py:215] Setting MEM limit for u'chain44-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:21.001313 636804 simple.py:169] Setting CPU limit for u'chain49-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:39:21.080195 636804 simple.py:215] Setting MEM limit for u'chain49-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:21.128665 636804 simple.py:215] Setting MEM limit for u'chain49-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:21.171648 636804 simple.py:215] Setting MEM limit for u'chain44-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:39:21.212842 636804 simple.py:215] Setting MEM limit for u'chain44-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:21.586458 636804 net.py:233] addLink: n1=chain49-vpn intf1=input-ids -- n2=dc44.s1 intf2=dc44.s1-eth19
D1209 21:39:22.061007 636804 net.py:233] addLink: n1=chain49-vpn intf1=input-fw -- n2=dc44.s1 intf2=dc44.s1-eth20
D1209 21:39:22.524063 636804 net.py:233] addLink: n1=chain49-vpn intf1=output -- n2=dc44.s1 intf2=dc44.s1-eth21
I1209 21:39:22.524339 636804 daisy.py:310] successfully created VNF: chain49-vpn
I1209 21:39:22.524494 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud7']
I1209 21:39:22.524612 636804 daisy.py:240] creating chain49-source on off-cloud7
D1209 21:39:22.526067 636804 node.py:55] Starting compute instance u'chain49-source' in data center 'off-cloud7'
D1209 21:39:23.759505 636804 simple.py:215] Setting MEM limit for u'chain36-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:23.806520 636804 simple.py:215] Setting MEM limit for u'chain16-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:23.850536 636804 simple.py:215] Setting MEM limit for u'chain0-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:23.885860 636804 simple.py:215] Setting MEM limit for u'chain42-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:23.921065 636804 simple.py:215] Setting MEM limit for u'chain34-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:23.956134 636804 simple.py:215] Setting MEM limit for u'chain35-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:23.990047 636804 simple.py:169] Setting CPU limit for u'chain49-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:39:24.064574 636804 simple.py:215] Setting MEM limit for u'chain49-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:24.103873 636804 simple.py:215] Setting MEM limit for u'chain11-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:24.142477 636804 simple.py:215] Setting MEM limit for u'chain48-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:24.179697 636804 simple.py:215] Setting MEM limit for u'chain43-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:24.696846 636804 net.py:233] addLink: n1=chain49-source intf1=intf1 -- n2=dc17.s1 intf2=dc17.s1-eth11
I1209 21:39:24.697165 636804 daisy.py:310] successfully created VNF: chain49-source
I1209 21:39:24.697328 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud8']
I1209 21:39:24.697487 636804 daisy.py:240] creating chain49-sink on off-cloud8
D1209 21:39:24.699081 636804 node.py:55] Starting compute instance u'chain49-sink' in data center 'off-cloud8'
D1209 21:39:25.991311 636804 simple.py:215] Setting MEM limit for u'chain42-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:26.038921 636804 simple.py:215] Setting MEM limit for u'chain12-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:26.082556 636804 simple.py:215] Setting MEM limit for u'chain43-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:26.121491 636804 simple.py:215] Setting MEM limit for u'chain35-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:26.156549 636804 simple.py:215] Setting MEM limit for u'chain36-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:26.195178 636804 simple.py:215] Setting MEM limit for u'chain0-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:26.240220 636804 simple.py:215] Setting MEM limit for u'chain34-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:26.281364 636804 simple.py:215] Setting MEM limit for u'chain37-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:26.316940 636804 simple.py:169] Setting CPU limit for u'chain49-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:39:26.385225 636804 simple.py:215] Setting MEM limit for u'chain49-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:26.420960 636804 simple.py:215] Setting MEM limit for u'chain48-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:39:26.919351 636804 net.py:233] addLink: n1=chain49-sink intf1=intf2 -- n2=dc22.s1 intf2=dc22.s1-eth11
I1209 21:39:26.919699 636804 daisy.py:310] successfully created VNF: chain49-sink
I1209 21:39:26.919898 636804 daisy.py:311] successfully created chain: 49
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:39:31.002871 636804 daisy.py:401] source, nat, and fw start done
I1209 21:39:31.003130 636804 daisy.py:402] My commands
I1209 21:39:31.259732 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:39:33.262078 636804 daisy.py:419] < 2s wait complete
I1209 21:39:33.262384 636804 daisy.py:420] start VNF chaining
D1209 21:39:33.262578 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain49-source', vnf_src_interface='intf1', vnf_dst_name=u'chain49-nat', vnf_dst_interface='input'
I1209 21:39:33.262878 636804 net.py:665] Path between chain49-source and chain49-nat: ['dc17.s1', u'gsw0', 'dc44.s1']
I1209 21:39:33.263051 636804 net.py:889] add-flow
I1209 21:39:33.263147 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:589,output=1
I1209 21:39:33.270214 636804 net.py:893] add-flow in switch: dc17.s1 in_port: 11 out_port: 1
I1209 21:39:33.270379 636804 net.py:889] add-flow
I1209 21:39:33.270489 636804 net.py:890] in_port=48,dl_vlan=589,action=32
I1209 21:39:33.313570 636804 net.py:893] add-flow in switch: gsw0 in_port: 48 out_port: 32
I1209 21:39:33.313747 636804 net.py:694] end node reached: chain49-nat
I1209 21:39:33.313868 636804 net.py:889] add-flow
I1209 21:39:33.313939 636804 net.py:890] in_port=1,dl_vlan=589,action=strip_vlan,output=17
I1209 21:39:33.373944 636804 net.py:893] add-flow in switch: dc44.s1 in_port: 1 out_port: 17
D1209 21:39:33.374337 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain49-nat', vnf_src_interface='input', vnf_dst_name=u'chain49-source', vnf_dst_interface='intf1'
I1209 21:39:33.374548 636804 net.py:665] Path between chain49-nat and chain49-source: ['dc44.s1', u'gsw0', 'dc17.s1']
I1209 21:39:33.374661 636804 net.py:889] add-flow
I1209 21:39:33.374737 636804 net.py:890] -O OpenFlow13 in_port=17,action=mod_vlan_vid:590,output=1
I1209 21:39:33.417424 636804 net.py:893] add-flow in switch: dc44.s1 in_port: 17 out_port: 1
I1209 21:39:33.417634 636804 net.py:889] add-flow
I1209 21:39:33.417768 636804 net.py:890] in_port=32,dl_vlan=590,action=48
I1209 21:39:33.460629 636804 net.py:893] add-flow in switch: gsw0 in_port: 32 out_port: 48
I1209 21:39:33.460822 636804 net.py:694] end node reached: chain49-source
I1209 21:39:33.461000 636804 net.py:889] add-flow
I1209 21:39:33.461142 636804 net.py:890] in_port=1,dl_vlan=590,action=strip_vlan,output=11
I1209 21:39:33.509284 636804 net.py:893] add-flow in switch: dc17.s1 in_port: 1 out_port: 11
I1209 21:39:33.509601 636804 daisy.py:322] chain(chain49-source, chain49-nat) output: success: add-flow between chain49-source and chain49-nat with options: {
 "priority": 1000, 
 "path": [
  "dc17.s1", 
  "gsw0", 
  "dc44.s1"
 ], 
 "vlan": 589, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain49-nat and chain49-source with options: {
 "priority": 1000, 
 "path": [
  "dc44.s1", 
  "gsw0", 
  "dc17.s1"
 ], 
 "vlan": 590, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:39:33.509789 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain49-nat', vnf_src_interface='output', vnf_dst_name=u'chain49-fw', vnf_dst_interface='input'
I1209 21:39:33.509951 636804 net.py:665] Path between chain49-nat and chain49-fw: ['dc44.s1']
I1209 21:39:33.510087 636804 net.py:694] end node reached: chain49-fw
I1209 21:39:33.510329 636804 net.py:889] add-flow
I1209 21:39:33.510466 636804 net.py:890] -O OpenFlow13 in_port=18,action=mod_vlan_vid:591,output=12
I1209 21:39:33.555867 636804 net.py:893] add-flow in switch: dc44.s1 in_port: 18 out_port: 12
I1209 21:39:33.556042 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc44.s1 in_port: 18 out_port: 12
I1209 21:39:33.556183 636804 net.py:931] add-flow
I1209 21:39:33.556293 636804 net.py:932] in_port=18,action=strip_vlan,output=12
I1209 21:39:33.601968 636804 net.py:935] add-flow in switch: dc44.s1 in_port: 18 out_port: 12
D1209 21:39:33.602333 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain49-fw', vnf_src_interface='input', vnf_dst_name=u'chain49-nat', vnf_dst_interface='output'
I1209 21:39:33.602571 636804 net.py:665] Path between chain49-fw and chain49-nat: ['dc44.s1']
I1209 21:39:33.602727 636804 net.py:694] end node reached: chain49-nat
I1209 21:39:33.602866 636804 net.py:889] add-flow
I1209 21:39:33.602962 636804 net.py:890] -O OpenFlow13 in_port=12,action=mod_vlan_vid:592,output=18
I1209 21:39:33.693133 636804 net.py:893] add-flow in switch: dc44.s1 in_port: 12 out_port: 18
I1209 21:39:33.693327 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc44.s1 in_port: 12 out_port: 18
I1209 21:39:33.693466 636804 net.py:931] add-flow
I1209 21:39:33.693589 636804 net.py:932] in_port=12,action=strip_vlan,output=18
I1209 21:39:33.742547 636804 net.py:935] add-flow in switch: dc44.s1 in_port: 12 out_port: 18
I1209 21:39:33.742826 636804 daisy.py:329] chain(chain49-nat, chain49-fw) output: success: add-flow between chain49-nat and chain49-fw with options: {
 "priority": 1000, 
 "path": [
  "dc44.s1"
 ], 
 "vlan": 591, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain49-fw and chain49-nat with options: {
 "priority": 1000, 
 "path": [
  "dc44.s1"
 ], 
 "vlan": 592, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:39:33.743026 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain49-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain49-ids', vnf_dst_interface='input'
I1209 21:39:33.743200 636804 net.py:665] Path between chain49-fw and chain49-ids: ['dc44.s1']
I1209 21:39:33.743315 636804 net.py:694] end node reached: chain49-ids
I1209 21:39:33.743463 636804 net.py:889] add-flow
I1209 21:39:33.743580 636804 net.py:890] -O OpenFlow13 in_port=13,action=mod_vlan_vid:593,output=15
I1209 21:39:33.842339 636804 net.py:893] add-flow in switch: dc44.s1 in_port: 13 out_port: 15
D1209 21:39:33.842861 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain49-ids', vnf_src_interface='input', vnf_dst_name=u'chain49-fw', vnf_dst_interface='output-ids'
I1209 21:39:33.843079 636804 net.py:665] Path between chain49-ids and chain49-fw: ['dc44.s1']
I1209 21:39:33.843190 636804 net.py:694] end node reached: chain49-fw
I1209 21:39:33.843293 636804 net.py:889] add-flow
I1209 21:39:33.843394 636804 net.py:890] -O OpenFlow13 in_port=15,action=mod_vlan_vid:594,output=13
I1209 21:39:33.958996 636804 net.py:893] add-flow in switch: dc44.s1 in_port: 15 out_port: 13
I1209 21:39:33.959240 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc44.s1 in_port: 15 out_port: 13
I1209 21:39:33.959336 636804 net.py:931] add-flow
I1209 21:39:33.959439 636804 net.py:932] in_port=15,action=strip_vlan,output=13
I1209 21:39:34.001748 636804 net.py:935] add-flow in switch: dc44.s1 in_port: 15 out_port: 13
I1209 21:39:34.002048 636804 daisy.py:336] chain(chain49-fw, chain49-ids) output: success: add-flow between chain49-fw and chain49-ids with options: {
 "priority": 1000, 
 "path": [
  "dc44.s1"
 ], 
 "vlan": 593, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain49-ids and chain49-fw with options: {
 "priority": 1000, 
 "path": [
  "dc44.s1"
 ], 
 "vlan": 594, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:39:34.002274 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain49-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain49-vpn', vnf_dst_interface='input-fw'
I1209 21:39:34.002451 636804 net.py:665] Path between chain49-fw and chain49-vpn: ['dc44.s1']
I1209 21:39:34.002568 636804 net.py:694] end node reached: chain49-vpn
I1209 21:39:34.002686 636804 net.py:889] add-flow
I1209 21:39:34.002772 636804 net.py:890] -O OpenFlow13 in_port=14,action=mod_vlan_vid:595,output=20
I1209 21:39:34.086777 636804 net.py:893] add-flow in switch: dc44.s1 in_port: 14 out_port: 20
D1209 21:39:34.087157 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain49-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain49-fw', vnf_dst_interface='output-vpn'
I1209 21:39:34.087358 636804 net.py:665] Path between chain49-vpn and chain49-fw: ['dc44.s1']
I1209 21:39:34.087532 636804 net.py:694] end node reached: chain49-fw
I1209 21:39:34.087670 636804 net.py:889] add-flow
I1209 21:39:34.087779 636804 net.py:890] -O OpenFlow13 in_port=20,action=mod_vlan_vid:596,output=14
I1209 21:39:34.132564 636804 net.py:893] add-flow in switch: dc44.s1 in_port: 20 out_port: 14
I1209 21:39:34.132803 636804 daisy.py:343] chain(chain49-fw, chain49-vpn) output: success: add-flow between chain49-fw and chain49-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc44.s1"
 ], 
 "vlan": 595, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain49-vpn and chain49-fw with options: {
 "priority": 1000, 
 "path": [
  "dc44.s1"
 ], 
 "vlan": 596, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:39:34.132986 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain49-ids', vnf_src_interface='output', vnf_dst_name=u'chain49-vpn', vnf_dst_interface='input-ids'
I1209 21:39:34.133131 636804 net.py:665] Path between chain49-ids and chain49-vpn: ['dc44.s1']
I1209 21:39:34.133244 636804 net.py:694] end node reached: chain49-vpn
I1209 21:39:34.133378 636804 net.py:889] add-flow
I1209 21:39:34.133500 636804 net.py:890] -O OpenFlow13 in_port=16,action=mod_vlan_vid:597,output=19
I1209 21:39:34.176789 636804 net.py:893] add-flow in switch: dc44.s1 in_port: 16 out_port: 19
I1209 21:39:34.176974 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc44.s1 in_port: 16 out_port: 19
I1209 21:39:34.177084 636804 net.py:931] add-flow
I1209 21:39:34.177195 636804 net.py:932] in_port=16,action=strip_vlan,output=19
I1209 21:39:34.220983 636804 net.py:935] add-flow in switch: dc44.s1 in_port: 16 out_port: 19
D1209 21:39:34.221265 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain49-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain49-ids', vnf_dst_interface='output'
I1209 21:39:34.221466 636804 net.py:665] Path between chain49-vpn and chain49-ids: ['dc44.s1']
I1209 21:39:34.221590 636804 net.py:694] end node reached: chain49-ids
I1209 21:39:34.221704 636804 net.py:889] add-flow
I1209 21:39:34.221808 636804 net.py:890] -O OpenFlow13 in_port=19,action=mod_vlan_vid:598,output=16
I1209 21:39:34.292480 636804 net.py:893] add-flow in switch: dc44.s1 in_port: 19 out_port: 16
I1209 21:39:34.292819 636804 daisy.py:350] chain(chain49-ids, chain49-vpn) output: success: add-flow between chain49-ids and chain49-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc44.s1"
 ], 
 "vlan": 597, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain49-vpn and chain49-ids with options: {
 "priority": 1000, 
 "path": [
  "dc44.s1"
 ], 
 "vlan": 598, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:39:34.293015 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain49-vpn', vnf_src_interface='output', vnf_dst_name=u'chain49-sink', vnf_dst_interface='intf2'
I1209 21:39:34.293231 636804 net.py:665] Path between chain49-vpn and chain49-sink: ['dc44.s1', u'gsw0', 'dc22.s1']
I1209 21:39:34.293391 636804 net.py:889] add-flow
I1209 21:39:34.293523 636804 net.py:890] -O OpenFlow13 in_port=21,action=mod_vlan_vid:599,output=1
I1209 21:39:34.330740 636804 net.py:893] add-flow in switch: dc44.s1 in_port: 21 out_port: 1
I1209 21:39:34.330971 636804 net.py:889] add-flow
I1209 21:39:34.331077 636804 net.py:890] in_port=32,dl_vlan=599,action=49
I1209 21:39:34.366020 636804 net.py:893] add-flow in switch: gsw0 in_port: 32 out_port: 49
I1209 21:39:34.366266 636804 net.py:694] end node reached: chain49-sink
I1209 21:39:34.366420 636804 net.py:889] add-flow
I1209 21:39:34.366564 636804 net.py:890] in_port=1,dl_vlan=599,action=strip_vlan,output=11
I1209 21:39:34.399102 636804 net.py:893] add-flow in switch: dc22.s1 in_port: 1 out_port: 11
D1209 21:39:34.399383 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain49-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain49-vpn', vnf_dst_interface='output'
I1209 21:39:34.399624 636804 net.py:665] Path between chain49-sink and chain49-vpn: ['dc22.s1', u'gsw0', 'dc44.s1']
I1209 21:39:34.399777 636804 net.py:889] add-flow
I1209 21:39:34.399893 636804 net.py:890] -O OpenFlow13 in_port=11,action=mod_vlan_vid:600,output=1
I1209 21:39:34.436577 636804 net.py:893] add-flow in switch: dc22.s1 in_port: 11 out_port: 1
I1209 21:39:34.436763 636804 net.py:889] add-flow
I1209 21:39:34.436865 636804 net.py:890] in_port=49,dl_vlan=600,action=32
I1209 21:39:34.469077 636804 net.py:893] add-flow in switch: gsw0 in_port: 49 out_port: 32
I1209 21:39:34.469264 636804 net.py:694] end node reached: chain49-vpn
I1209 21:39:34.469388 636804 net.py:889] add-flow
I1209 21:39:34.469512 636804 net.py:890] in_port=1,dl_vlan=600,action=strip_vlan,output=21
I1209 21:39:34.530286 636804 net.py:893] add-flow in switch: dc44.s1 in_port: 1 out_port: 21
I1209 21:39:34.530652 636804 daisy.py:357] chain(chain49-vpn, chain49-sink) output: success: add-flow between chain49-vpn and chain49-sink with options: {
 "priority": 1000, 
 "path": [
  "dc44.s1", 
  "gsw0", 
  "dc22.s1"
 ], 
 "vlan": 599, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain49-sink and chain49-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc22.s1", 
  "gsw0", 
  "dc44.s1"
 ], 
 "vlan": 600, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:39:37 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:39:37 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:39:37 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:39:37 2017 UDPv4 link local: [undef]
Sat Dec  9 21:39:37 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:39:37 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=64e8c5a6 0376c009
Sat Dec  9 21:39:38 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:39:38 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:39:38 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
VPN client VNF ready.
SIOCDELRT: No such process
Sat Dec  9 21:39:38 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:39:38 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:39:38 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:39:38 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:39:38 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:39:38 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:39:38 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:39:38 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:39:40 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:39:40 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:39:40 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:39:40 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:39:40 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:39:40 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:39:40 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:01:2b
Sat Dec  9 21:39:40 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:39:40 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:39:40 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:39:40 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:39:40 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:39:40 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:39:40 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:39:40 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:39:40 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:39:40 2017 GID set to nogroup
Sat Dec  9 21:39:40 2017 UID set to nobody
Sat Dec  9 21:39:40 2017 Initialization Sequence Completed
I1209 21:39:43.363759 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:39:48.366184 636804 daisy.py:443] < 5s wait complete
I1209 21:39:48.366473 636804 daisy.py:444] VPN client VNF started
chain49-source -> chain49-sink 
chain49-sink -> chain49-source 
*** Results: 0% dropped (2/2 received)
I1209 21:39:52.060399 636804 daisy.py:369] ping chain49-source -> chain49-sink. Packet drop 0.0%
I1209 21:39:52.369453 636804 bench.py:19] Copying traces into the containers...
I1209 21:39:54.445859 636804 bench.py:29] Running dstat...
I1209 21:39:57.673645 636804 iter-e2-allocation.py:96] Chain setup done. You should see the terminal now.
I1209 21:39:57.673999 636804 iter-e2-allocation.py:97] >>> wait 600s to complete the experiment
I1209 21:49:57.774175 636804 iter-e2-allocation.py:100] <<< wait complete.
ds (0 is success)
returned 0 from sudo docker exec mn.chain48-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain48-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain48-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain48-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.031804000000000165, u'locality': u'datacenter', u'assignment': [[u'fw', u'chain-server31'], [u'ids', u'chain-server31'], [u'nat', u'chain-server31'], [u'vpn', u'chain-server31'], [u'source', u'off-cloud7'], [u'sink', u'off-cloud8']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 2.064928, u'bandwidth': [[u'nat', u'source', 2, [[u'gsw', u'off-cloud7', 2], [u'chain-server31', u'gsw', 2]]], [u'sink', u'vpn', 2, [[u'gsw', u'chain-server31', 2], [u'off-cloud8', u'gsw', 2]]]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain49-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain49-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain49-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain49-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain49-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain49-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain49-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain49-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain49-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain49-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain49-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain49-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain49-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain49-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain49-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain49-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain49-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain49-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain49-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain49-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain49-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain49-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain49-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/daisy10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain49-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain49-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain49-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
Cleaning up benchmarking information
returned 0 from sudo killall tcpreplay (0 is success)
returned 0 from sudo killall python2 (0 is success)
>>> wait 10s for dstats to terminate
<<< wait complete.
returned 0 from sudo docker cp mn.chain0-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain0-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain1-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain1-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain2-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain2-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain3-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain3-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain4-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain4-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain5-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain5-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain6-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain6-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain7-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain7-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain8-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain8-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain9-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain9-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain10-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain10-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain11-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain11-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain12-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain12-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain13-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain13-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain14-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain14-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain15-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain15-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain16-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain16-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain17-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain17-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain18-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain18-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain19-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain19-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain20-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain20-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain21-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain21-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain22-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain22-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain23-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain23-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain24-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain24-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain25-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain25-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain26-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain26-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain27-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain27-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain28-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain28-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain29-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain29-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain30-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain30-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain31-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain31-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain32-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain32-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain33-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain33-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain34-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain34-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain35-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain35-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain36-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain36-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain37-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain37-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain38-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain38-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain39-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain39-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain40-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain40-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain41-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain41-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain42-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain42-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain43-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain43-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain44-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain44-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain45-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain45-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain46-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain46-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain47-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain47-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain48-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain48-sink.csv (0 is success)
returned 0 from sudo docker cp mn.chain49-sink:/tmp/dstat.csv ./results/iter-allocation/daisy10/e2-allocate-from-chain49-sink.csv (0 is success)
returned 0 from sudo docker exec mn.chain0-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain1-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain2-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain3-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain4-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain5-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain6-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain7-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain8-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain9-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain10-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain11-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain12-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain13-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain14-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain15-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain16-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain17-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain18-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain19-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain20-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain21-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain22-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain23-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain24-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain25-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain26-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain27-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain28-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain29-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain30-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain31-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain32-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain33-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain34-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain35-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain36-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain37-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain38-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain39-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain40-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain41-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain42-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain43-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain44-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain45-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain46-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain47-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain48-sink rm /tmp/dstat.csv (0 is success)
returned 0 from sudo docker exec mn.chain49-sink rm /tmp/dstat.csv (0 is success)
done
('shell died on ', 'c0')
('shell died on ', 'dc25.s1')
('shell died on ', u'gsw0')
('shell died on ', 'dc26.s1')
('shell died on ', 'dc23.s1')
('shell died on ', 'dc24.s1')
('shell died on ', 'dc29.s1')
('shell died on ', 'dc30.s1')
('shell died on ', 'dc27.s1')
('shell died on ', 'dc28.s1')
('shell died on ', 'dc31.s1')
('shell died on ', 'dc32.s1')
('shell died on ', 'dc37.s1')
('shell died on ', 'dc38.s1')
('shell died on ', 'dc39.s1')
('shell died on ', 'dc40.s1')
('shell died on ', 'dc33.s1')
('shell died on ', 'dc34.s1')
('shell died on ', 'dc35.s1')
('shell died on ', 'dc36.s1')
('shell died on ', 'dc45.s1')
('shell died on ', 'dc46.s1')
('shell died on ', 'dc4.s1')
('shell died on ', 'dc3.s1')
('shell died on ', 'dc6.s1')
('shell died on ', 'dc5.s1')
('shell died on ', 'dc8.s1')
('shell died on ', 'dc7.s1')
('shell died on ', 'dc10.s1')
('shell died on ', 'dc9.s1')
('shell died on ', 'dc2.s1')
('shell died on ', 'dc1.s1')
('shell died on ', 'dc43.s1')
('shell died on ', 'dc44.s1')
('shell dSat Dec  9 21:52:20 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:20 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:20 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:22 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:22 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:22 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:23 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:23 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:23 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:24 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:24 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:24 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:24 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:24 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:24 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:24 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:24 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:24 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:25 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:25 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:25 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:25 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:25 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:25 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:26 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:26 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:26 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:26 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:26 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:26 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:26 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:26 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:26 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:27 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:27 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:27 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:27 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:27 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:27 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:27 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:27 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:27 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:27 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:27 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:27 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:28 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:28 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:28 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:28 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:28 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:28 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:28 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:28 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:28 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:28 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:28 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:28 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:28 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:28 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:28 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:29 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:29 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:29 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:29 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:29 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:29 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:29 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:29 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:29 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:29 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:29 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:29 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:29 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:29 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:29 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:30 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:30 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:30 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:30 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:30 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:30 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:30 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:30 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:30 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:30 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:30 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:30 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:30 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:30 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:30 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:30 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:30 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:30 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:31 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:31 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:31 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:31 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:31 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:31 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:32 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:32 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:32 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:32 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:32 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:32 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:34 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:34 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:34 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:35 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:35 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:35 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:36 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:36 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:36 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:36 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:36 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:36 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:37 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:37 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:37 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:37 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:37 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:37 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:37 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:37 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:37 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:38 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:38 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:38 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:38 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:38 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:38 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:38 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:38 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:38 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:38 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:38 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:38 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:38 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:38 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:38 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:38 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:38 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:38 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:38 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:38 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:38 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:38 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:38 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:38 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:38 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:38 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:38 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:39 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:39 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:39 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:39 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:39 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:39 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:40 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:40 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:40 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:40 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:40 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:40 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:40 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:40 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:40 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:40 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:40 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:40 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:40 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:40 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:40 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:40 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:40 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:40 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:40 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:40 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:40 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:41 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:41 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:41 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:41 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:41 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:41 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:41 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:41 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:41 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:42 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:42 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:42 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:43 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:43 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:43 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:43 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:43 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:43 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:43 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:43 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:43 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:43 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:43 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:43 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:43 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:43 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:43 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:43 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:43 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:43 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:43 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:43 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:43 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:43 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:43 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:43 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:44 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:44 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:44 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:44 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:44 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:44 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:44 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:44 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:44 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:44 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:44 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:44 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:45 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:45 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:45 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:45 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:45 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:45 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:45 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:45 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:45 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:45 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:45 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:45 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:45 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:45 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:45 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:45 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:45 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:45 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:46 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:46 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:46 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:46 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:46 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:46 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:46 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:46 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:46 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:46 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:46 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:46 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:47 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:47 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:47 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:47 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:47 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:47 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:47 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:47 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:47 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:47 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:47 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:47 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:48 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:48 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:48 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:48 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:48 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:48 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:48 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:48 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:48 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:49 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:49 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:49 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:49 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:49 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:49 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:49 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:49 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:49 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:49 2017 [server] Inactivity timeout (--ping-restart), restarting
Sat Dec  9 21:52:49 2017 SIGUSR1[soft,ping-restart] received, process restarting
Sat Dec  9 21:52:49 2017 Restart pause, 2 second(s)
Sat Dec  9 21:52:50 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:50 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:50 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:50 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:50 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:50 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:52:51 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:52:51 2017 UDPv4 link local: [undef]
Sat Dec  9 21:52:51 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:22 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:22 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:22 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:22 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:24 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:24 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:24 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:26 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:26 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:26 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:26 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:26 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:26 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:26 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:26 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:26 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:26 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:26 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:26 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:27 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:27 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:27 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:27 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:27 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:27 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:27 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:27 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:28 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:28 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:28 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:28 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:28 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:28 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:28 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:28 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:28 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:29 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:29 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:29 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:29 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:29 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:29 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:29 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:29 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:29 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:29 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:29 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:29 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:29 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:29 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:29 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:29 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:29 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:29 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:30 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:30 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:30 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:30 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:30 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:30 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:30 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:30 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:30 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:30 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:30 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:30 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:30 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:30 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:30 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:30 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:31 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:31 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:31 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:31 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:31 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:31 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:31 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:31 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:31 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:31 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:31 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:31 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:31 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:31 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:31 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:31 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:31 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:31 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:31 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:31 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:31 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:32 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:32 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:32 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:32 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:32 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:32 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:32 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:32 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:32 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:32 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:32 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:32 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:32 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:32 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:32 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:32 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:33 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:33 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:33 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:33 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:33 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:33 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:33 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:33 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:33 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:34 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:34 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:34 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:34 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:34 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:34 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:34 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:36 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:36 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:36 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:37 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:37 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:37 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:37 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:38 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:38 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:38 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:38 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:38 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:38 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:38 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:38 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:39 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:39 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:39 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:39 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:39 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:39 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:39 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:39 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:39 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:39 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:39 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:40 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:40 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:40 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:40 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:40 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:40 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:40 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:40 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:40 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:40 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:40 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:40 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:40 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:40 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:40 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:40 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:40 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:40 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:40 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:40 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:40 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:40 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:40 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:40 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:40 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:40 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:40 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:40 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:40 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:40 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:40 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:40 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:40 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:40 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:41 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:41 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:41 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:41 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:41 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:41 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:42 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:42 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:42 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:42 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:42 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:42 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:42 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:42 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:42 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:42 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:42 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:42 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:42 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:42 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:42 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:42 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:42 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:42 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:42 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:42 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:42 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:43 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:43 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:43 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:43 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:43 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:43 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:43 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:43 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:43 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:43 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:43 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:43 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:44 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:44 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:44 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:44 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:45 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:45 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:45 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:45 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:45 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:45 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:45 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:45 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:45 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:45 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:45 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:45 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:45 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:45 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:45 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:45 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:45 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:45 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:45 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:45 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:45 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:45 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:45 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:45 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:45 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:46 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:46 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:46 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:46 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:46 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:46 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:46 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:46 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:46 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:46 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:46 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:46 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:46 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:46 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:46 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:46 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:46 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:46 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:46 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:47 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:47 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:47 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:47 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:47 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:47 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:47 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:47 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:47 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:47 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:47 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:47 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:48 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:48 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:48 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:48 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:48 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:48 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:48 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:48 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:48 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:48 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:48 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:48 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:48 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:48 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:48 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:48 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:48 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:48 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:48 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:48 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:49 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:49 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:49 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:49 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:49 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:49 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:49 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:49 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:49 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:49 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:49 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:49 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:50 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:50 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:50 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:50 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:50 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:50 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:50 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:50 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:50 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:50 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:50 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:50 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:50 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:50 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:51 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:51 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:51 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:51 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:51 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:51 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:51 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:51 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:51 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:51 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:53:51 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:53:51 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:53:51 2017 Restart pause, 2 second(s)
Sat Dec  9 21:53:52 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:52 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:52 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:52 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:52 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:52 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:53:53 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:53:53 2017 UDPv4 link local: [undef]
Sat Dec  9 21:53:53 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:54:24 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:54:24 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:54:24 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:54:24 2017 Restart pause, 2 second(s)
Sat Dec  9 21:54:26 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:54:26 2017 UDPv4 link local: [undef]
Sat Dec  9 21:54:26 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:54:28 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:54:28 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:54:28 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:54:28 2017 Restart pause, 2 second(s)
Sat Dec  9 21:54:28 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:54:28 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:54:28 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:54:28 2017 Restart pause, 2 second(s)
Sat Dec  9 21:54:30 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:54:30 2017 UDPv4 link local: [undef]
Sat Dec  9 21:54:30 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:54:30 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:54:30 2017 UDPv4 link local: [undef]
Sat Dec  9 21:54:30 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:54:31 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:54:31 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:54:31 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:54:31 2017 Restart pause, 2 second(s)
Sat Dec  9 21:54:32 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:54:32 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:54:32 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:54:32 2017 Restart pause, 2 second(s)
Sat Dec  9 21:54:32 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:54:32 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:54:32 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:54:32 2017 Restart pause, 2 second(s)
Sat Dec  9 21:54:33 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:54:33 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:54:33 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:54:33 2017 Restart pause, 2 second(s)
Sat Dec  9 21:54:33 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:54:33 2017 UDPv4 link local: [undef]
Sat Dec  9 21:54:33 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:54:34 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:54:34 2017 UDPv4 link local: [undef]
Sat Dec  9 21:54:34 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:54:34 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:54:34 2017 UDPv4 link local: [undef]
Sat Dec  9 21:54:34 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:54:34 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:54:34 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:54:34 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:54:34 2017 Restart pause, 2 second(s)
Sat Dec  9 21:54:35 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:54:35 2017 UDPv4 link local: [undef]
Sat Dec  9 21:54:35 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:54:36 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:54:36 2017 UDPv4 link local: [undef]
Sat Dec  9 21:54:36 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:54:36 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:54:36 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:54:36 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:54:36 2017 Restart pause, 2 second(s)
Sat Dec  9 21:54:38 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:54:38 2017 UDPv4 link local: [undef]
Sat Dec  9 21:54:38 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:54:39 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:54:39 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:54:39 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:54:39 2017 Restart pause, 2 second(s)
Sat Dec  9 21:54:40 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:54:40 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:54:40 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:54:40 2017 Restart pause, 2 second(s)
Sat Dec  9 21:54:40 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:54:40 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:54:40 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:54:40 2017 Restart pause, 2 second(s)
Sat Dec  9 21:54:41 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:54:41 2017 UDPv4 link local: [undef]
Sat Dec  9 21:54:41 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:54:41 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:54:41 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:54:41 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:54:41 2017 Restart pause, 2 second(s)
Sat Dec  9 21:54:42 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:54:42 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:54:42 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:54:42 2017 Restart pause, 2 second(s)
Sat Dec  9 21:54:42 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:54:42 2017 UDPv4 link local: [undef]
Sat Dec  9 21:54:42 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:54:42 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:54:42 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:54:42 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:54:42 2017 Restart pause, 2 second(s)
Sat Dec  9 21:54:42 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:54:42 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:54:42 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:54:42 2017 Restart pause, 2 second(s)
Sat Dec  9 21:54:42 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:54:42 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:54:42 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:54:42 2017 Restart pause, 2 second(s)
Sat Dec  9 21:54:42 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:54:42 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:54:42 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:54:42 2017 Restart pause, 2 second(s)
Sat Dec  9 21:54:42 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:54:42 2017 UDPv4 link local: [undef]
Sat Dec  9 21:54:42 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:54:43 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:54:43 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:54:43 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:54:43 2017 Restart pause, 2 second(s)
Sat Dec  9 21:54:43 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:54:43 2017 UDPv4 link local: [undef]
Sat Dec  9 21:54:43 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:54:44 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:54:44 2017 UDPv4 link local: [undef]
Sat Dec  9 21:54:44 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:54:44 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:54:44 2017 UDPv4 link local: [undef]
Sat Dec  9 21:54:44 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:54:44 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:54:44 2017 UDPv4 link local: [undef]
Sat Dec  9 21:54:44 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:54:44 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:54:44 2017 UDPv4 link local: [undef]
Sat Dec  9 21:54:44 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:54:44 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:54:44 2017 UDPv4 link local: [undef]
Sat Dec  9 21:54:44 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:54:45 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:54:45 2017 UDPv4 link local: [undef]
Sat Dec  9 21:54:45 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:54:45 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:54:45 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:54:45 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:54:45 2017 Restart pause, 2 second(s)
Sat Dec  9 21:54:45 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:54:45 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:54:45 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:54:45 2017 Restart pause, 2 second(s)
Sat Dec  9 21:54:45 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:54:45 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:54:45 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:54:45 2017 Restart pause, 2 second(s)
Sat Dec  9 21:54:46 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:54:46 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:54:46 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:54:46 2017 Restart pause, 2 second(s)
Sat Dec  9 21:54:47 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:54:47 2017 UDPv4 link local: [undef]
Sat Dec  9 21:54:47 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:54:47 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:54:47 2017 UDPv4 link local: [undef]
Sat Dec  9 21:54:47 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:54:47 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:54:47 2017 UDPv4 link local: [undef]
Sat Dec  9 21:54:47 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:54:47 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:54:47 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:54:47 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:54:47 2017 Restart pause, 2 second(s)
Sat Dec  9 21:54:47 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:54:47 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:54:47 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:54:47 2017 Restart pause, 2 second(s)
Sat Dec  9 21:54:48 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:54:48 2017 UDPv4 link local: [undef]
Sat Dec  9 21:54:48 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:54:48 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:54:48 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:54:48 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:54:48 2017 Restart pause, 2 second(s)
Sat Dec  9 21:54:48 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:54:48 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:54:48 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:54:48 2017 Restart pause, 2 second(s)
Sat Dec  9 21:54:48 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:54:48 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:54:48 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:54:48 2017 Restart pause, 2 second(s)
Sat Dec  9 21:54:49 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:54:49 2017 UDPv4 link local: [undef]
Sat Dec  9 21:54:49 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:54:49 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:54:49 2017 UDPv4 link local: [undef]
Sat Dec  9 21:54:49 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:54:50 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:54:50 2017 UDPv4 link local: [undef]
Sat Dec  9 21:54:50 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:54:50 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:54:50 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:54:50 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:54:50 2017 Restart pause, 2 second(s)
Sat Dec  9 21:54:50 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:54:50 2017 UDPv4 link local: [undef]
Sat Dec  9 21:54:50 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:54:50 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:54:50 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:54:50 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:54:50 2017 Restart pause, 2 second(s)
Sat Dec  9 21:54:50 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:54:50 2017 UDPv4 link local: [undef]
Sat Dec  9 21:54:50 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:54:52 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:54:52 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:54:52 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:54:52 2017 Restart pause, 2 second(s)
Sat Dec  9 21:54:52 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:54:52 2017 UDPv4 link local: [undef]
Sat Dec  9 21:54:52 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:54:52 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:54:52 2017 UDPv4 link local: [undef]
Sat Dec  9 21:54:52 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:54:53 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:54:53 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:54:53 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:54:53 2017 Restart pause, 2 second(s)
Sat Dec  9 21:54:54 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:54:54 2017 UDPv4 link local: [undef]
Sat Dec  9 21:54:54 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:54:55 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:54:55 2017 UDPv4 link local: [undef]
Sat Dec  9 21:54:55 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:55:42 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:55:42 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:55:42 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:55:42 2017 Restart pause, 2 second(s)
Sat Dec  9 21:55:44 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:55:44 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:55:44 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:55:44 2017 Restart pause, 2 second(s)
Sat Dec  9 21:55:44 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:55:44 2017 UDPv4 link local: [undef]
Sat Dec  9 21:55:44 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:55:45 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:55:45 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:55:45 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:55:45 2017 Restart pause, 2 second(s)
Sat Dec  9 21:55:46 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:55:46 2017 UDPv4 link local: [undef]
Sat Dec  9 21:55:46 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:55:47 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:55:47 2017 UDPv4 link local: [undef]
Sat Dec  9 21:55:47 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:55:49 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:55:49 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:55:49 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:55:49 2017 Restart pause, 2 second(s)
Sat Dec  9 21:55:50 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:55:50 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:55:50 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:55:50 2017 Restart pause, 2 second(s)
Sat Dec  9 21:55:50 2017 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity)
Sat Dec  9 21:55:50 2017 TLS Error: TLS handshake failed
Sat Dec  9 21:55:50 2017 SIGUSR1[soft,tls-error] received, process restarting
Sat Dec  9 21:55:50 2017 Restart pause, 2 second(s)
Sat Dec  9 21:55:51 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:55:51 2017 UDPv4 link local: [undef]
Sat Dec  9 21:55:51 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:55:52 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:55:52 2017 UDPv4 link local: [undef]
Sat Dec  9 21:55:52 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:55:52 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:55:52 2017 UDPv4 link local: [undef]
Sat Dec  9 21:55:52 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
"docker stop" requires at least 1 argument.
See 'docker stop --help'.

Usage:  docker stop [OPTIONS] CONTAINER [CONTAINER...]

Stop one or more running containers
"docker rm" requires at least 1 argument.
See 'docker rm --help'.

Usage:  docker rm [OPTIONS] CONTAINER [CONTAINER...]

Remove one or more containers
*** Removing excess controllers/ofprotocols/ofdatapaths/pings/noxes
killall controller ofprotocol ofdatapath ping nox_core lt-nox_core ovs-openflowd ovs-controller udpbwtest mnexec ivs 2> /dev/null
killall -9 controller ofprotocol ofdatapath ping nox_core lt-nox_core ovs-openflowd ovs-controller udpbwtest mnexec ivs 2> /dev/null
pkill -9 -f "sudo mnexec"
*** Removing junk from /tmp
rm -f /tmp/vconn* /tmp/vlogs* /tmp/*.out /tmp/*.log
*** Removing old X11 tunnels
*** Removing excess kernel datapaths
ps ax | egrep -o 'dp[0-9]+' | sed 's/dp/nl:/'
***  Removing OVS datapaths
ovs-vsctl --timeout=1 list-br
ovs-vsctl --timeout=1 list-br
*** Removing all links of the pattern foo-ethX
ip link show | egrep -o '([-_.[:alnum:]]+-eth[[:digit:]]+)'
ip link show
*** Killing stale mininet node processes
pkill -9 -f mininet:
*** Shutting down stale tunnels
pkill -9 -f Tunnel=Ethernet
pkill -9 -f .ssh/mn
rm -f ~/.ssh/mn/*
***  Removing SAP NAT rules
*** Cleanup complete.
containerd-shim: no process found
docker: no process found
ryu-manager: no process found
iperf3: no process found
root        2090       1  0 19:03 ?        00:00:00 /usr/bin/python3 -u /usr/sbin/waagent -daemon
root        2524    2090  0 19:03 ?        00:00:52 python3 -u bin/WALinuxAgent-2.2.18-py2.7.egg -run-exthandlers
root      636802   17770  0 21:11 pts/1    00:00:00 sudo python iter-e2-allocation.py
root      636804  636802  1 21:11 pts/1    00:00:37 python iter-e2-allocation.py
root      858598  858303  0 21:56 pts/1    00:00:00 grep python
root      636970       1  4 21:11 ?        00:02:03 /usr/bin/dockerd -H fd://
root      858606  858303  0 21:56 pts/1    00:00:00 grep docker
I1209 21:56:30.919322 636804 __init__.py:48] Resource model registrar created with dc_emulation_max_cpu=1200 and dc_emulation_max_mem=417792
I1209 21:56:30.920023 636804 daisy.py:90] read data center description from JSON file {u'chain-server29': [20, 17, 20], u'chain-server28': [20, 17, 20], u'chain-server21': [20, 17, 20], u'chain-server20': [20, 17, 20], u'chain-server23': [20, 17, 20], u'chain-server22': [20, 17, 20], u'chain-server25': [20, 17, 20], u'chain-server24': [20, 17, 20], u'chain-server27': [20, 17, 20], u'chain-server26': [20, 17, 20], u'chain-server36': [20, 17, 20], u'chain-server37': [20, 17, 20], u'off-cloud3': [20, 17, 20], u'off-cloud2': [20, 17, 20], u'off-cloud1': [20, 17, 20], u'off-cloud0': [20, 17, 20], u'off-cloud7': [20, 17, 20], u'off-cloud6': [20, 17, 20], u'off-cloud5': [20, 17, 20], u'off-cloud4': [20, 17, 20], u'off-cloud9': [20, 17, 20], u'off-cloud8': [20, 17, 20], u'chain-server2': [20, 17, 20], u'chain-server3': [20, 17, 20], u'chain-server0': [20, 17, 20], u'chain-server1': [20, 17, 20], u'chain-server6': [20, 17, 20], u'chain-server7': [20, 17, 20], u'chain-server4': [20, 17, 20], u'chain-server5': [20, 17, 20], u'chain-server8': [20, 17, 20], u'chain-server9': [20, 17, 20], u'chain-server14': [20, 17, 20], u'chain-server15': [20, 17, 20], u'chain-server16': [20, 17, 20], u'chain-server17': [20, 17, 20], u'chain-server10': [20, 17, 20], u'chain-server11': [20, 17, 20], u'chain-server12': [20, 17, 20], u'chain-server13': [20, 17, 20], u'chain-server32': [20, 17, 20], u'chain-server33': [20, 17, 20], u'chain-server30': [20, 17, 20], u'chain-server31': [20, 17, 20], u'chain-server18': [20, 17, 20], u'chain-server19': [20, 17, 20], u'chain-server34': [20, 17, 20], u'chain-server35': [20, 17, 20], u'gsw': [0, 0, 0], u'chain-server38': [20, 17, 20], u'chain-server39': [20, 17, 20]}
D1209 21:56:30.987175 636804 node.py:210] created data center switch: dc51.s1
I1209 21:56:30.987313 636804 net.py:146] added data center: chain-server29
D1209 21:56:31.052455 636804 node.py:210] created data center switch: dc52.s1
I1209 21:56:31.052623 636804 net.py:146] added data center: chain-server28
D1209 21:56:31.117235 636804 node.py:210] created data center switch: dc53.s1
I1209 21:56:31.117367 636804 net.py:146] added data center: chain-server21
D1209 21:56:31.186672 636804 node.py:210] created data center switch: dc54.s1
I1209 21:56:31.186912 636804 net.py:146] added data center: chain-server20
D1209 21:56:31.253073 636804 node.py:210] created data center switch: dc55.s1
I1209 21:56:31.253232 636804 net.py:146] added data center: chain-server23
D1209 21:56:31.321041 636804 node.py:210] created data center switch: dc56.s1
I1209 21:56:31.321224 636804 net.py:146] added data center: chain-server22
D1209 21:56:31.387572 636804 node.py:210] created data center switch: dc57.s1
I1209 21:56:31.387682 636804 net.py:146] added data center: chain-server25
D1209 21:56:31.451529 636804 node.py:210] created data center switch: dc58.s1
I1209 21:56:31.451653 636804 net.py:146] added data center: chain-server24
D1209 21:56:31.519043 636804 node.py:210] created data center switch: dc59.s1
I1209 21:56:31.519175 636804 net.py:146] added data center: chain-server27
D1209 21:56:31.583936 636804 node.py:210] created data center switch: dc60.s1
I1209 21:56:31.584459 636804 net.py:146] added data center: chain-server26
D1209 21:56:31.652143 636804 node.py:210] created data center switch: dc61.s1
I1209 21:56:31.652337 636804 net.py:146] added data center: chain-server36
D1209 21:56:31.721770 636804 node.py:210] created data center switch: dc62.s1
I1209 21:56:31.721973 636804 net.py:146] added data center: chain-server37
D1209 21:56:31.787848 636804 node.py:210] created data center switch: dc63.s1
I1209 21:56:31.787961 636804 net.py:146] added data center: off-cloud3
D1209 21:56:31.854935 636804 node.py:210] created data center switch: dc64.s1
I1209 21:56:31.855082 636804 net.py:146] added data center: off-cloud2
D1209 21:56:31.924118 636804 node.py:210] created data center switch: dc65.s1
I1209 21:56:31.924259 636804 net.py:146] added data center: off-cloud1
D1209 21:56:31.991482 636804 node.py:210] created data center switch: dc66.s1
I1209 21:56:31.991635 636804 net.py:146] added data center: off-cloud0
D1209 21:56:32.061928 636804 node.py:210] created data center switch: dc67.s1
I1209 21:56:32.062081 636804 net.py:146] added data center: off-cloud7
D1209 21:56:32.129473 636804 node.py:210] created data center switch: dc68.s1
I1209 21:56:32.129637 636804 net.py:146] added data center: off-cloud6
D1209 21:56:32.199609 636804 node.py:210] created data center switch: dc69.s1
I1209 21:56:32.199774 636804 net.py:146] added data center: off-cloud5
D1209 21:56:32.265326 636804 node.py:210] created data center switch: dc70.s1
I1209 21:56:32.265499 636804 net.py:146] added data center: off-cloud4
D1209 21:56:32.334548 636804 node.py:210] created data center switch: dc71.s1
I1209 21:56:32.334701 636804 net.py:146] added data center: off-cloud9
D1209 21:56:32.401150 636804 node.py:210] created data center switch: dc72.s1
I1209 21:56:32.401261 636804 net.py:146] added data center: off-cloud8
D1209 21:56:32.465667 636804 node.py:210] created data center switch: dc73.s1
I1209 21:56:32.465828 636804 net.py:146] added data center: chain-server2
D1209 21:56:32.534246 636804 node.py:210] created data center switch: dc74.s1
I1209 21:56:32.534449 636804 net.py:146] added data center: chain-server3
D1209 21:56:32.599076 636804 node.py:210] created data center switch: dc75.s1
I1209 21:56:32.599188 636804 net.py:146] added data center: chain-server0
D1209 21:56:32.664900 636804 node.py:210] created data center switch: dc76.s1
I1209 21:56:32.665009 636804 net.py:146] added data center: chain-server1
D1209 21:56:32.732562 636804 node.py:210] created data center switch: dc77.s1
I1209 21:56:32.732767 636804 net.py:146] added data center: chain-server6
D1209 21:56:32.797868 636804 node.py:210] created data center switch: dc78.s1
I1209 21:56:32.798032 636804 net.py:146] added data center: chain-server7
D1209 21:56:32.868443 636804 node.py:210] created data center switch: dc79.s1
I1209 21:56:32.868611 636804 net.py:146] added data center: chain-server4
D1209 21:56:32.939196 636804 node.py:210] created data center switch: dc80.s1
I1209 21:56:32.939423 636804 net.py:146] added data center: chain-server5
D1209 21:56:33.005548 636804 node.py:210] created data center switch: dc81.s1
I1209 21:56:33.005732 636804 net.py:146] added data center: chain-server8
D1209 21:56:33.073169 636804 node.py:210] created data center switch: dc82.s1
I1209 21:56:33.073298 636804 net.py:146] added data center: chain-server9
D1209 21:56:33.140597 636804 node.py:210] created data center switch: dc83.s1
I1209 21:56:33.140861 636804 net.py:146] added data center: chain-server14
D1209 21:56:33.206295 636804 node.py:210] created data center switch: dc84.s1
I1209 21:56:33.206485 636804 net.py:146] added data center: chain-server15
D1209 21:56:33.272217 636804 node.py:210] created data center switch: dc85.s1
I1209 21:56:33.272496 636804 net.py:146] added data center: chain-server16
D1209 21:56:33.336452 636804 node.py:210] created data center switch: dc86.s1
I1209 21:56:33.336601 636804 net.py:146] added data center: chain-server17
D1209 21:56:33.408999 636804 node.py:210] created data center switch: dc87.s1
I1209 21:56:33.409128 636804 net.py:146] added data center: chain-server10
D1209 21:56:33.474529 636804 node.py:210] created data center switch: dc88.s1
I1209 21:56:33.474677 636804 net.py:146] added data center: chain-server11
D1209 21:56:33.547555 636804 node.py:210] created data center switch: dc89.s1
I1209 21:56:33.547738 636804 net.py:146] added data center: chain-server12
D1209 21:56:33.612601 636804 node.py:210] created data center switch: dc90.s1
I1209 21:56:33.612802 636804 net.py:146] added data center: chain-server13
D1209 21:56:33.678282 636804 node.py:210] created data center switch: dc91.s1
I1209 21:56:33.678474 636804 net.py:146] added data center: chain-server32
D1209 21:56:33.747719 636804 node.py:210] created data center switch: dc92.s1
I1209 21:56:33.747873 636804 net.py:146] added data center: chain-server33
D1209 21:56:33.815627 636804 node.py:210] created data center switch: dc93.s1
I1209 21:56:33.815794 636804 net.py:146] added data center: chain-server30
D1209 21:56:33.887059 636804 node.py:210] created data center switch: dc94.s1
I1209 21:56:33.887191 636804 net.py:146] added data center: chain-server31
D1209 21:56:33.952253 636804 node.py:210] created data center switch: dc95.s1
I1209 21:56:33.952394 636804 net.py:146] added data center: chain-server18
D1209 21:56:34.022996 636804 node.py:210] created data center switch: dc96.s1
I1209 21:56:34.023133 636804 net.py:146] added data center: chain-server19
D1209 21:56:34.089940 636804 node.py:210] created data center switch: dc97.s1
I1209 21:56:34.090069 636804 net.py:146] added data center: chain-server34
D1209 21:56:34.159415 636804 node.py:210] created data center switch: dc98.s1
I1209 21:56:34.159600 636804 net.py:146] added data center: chain-server35
D1209 21:56:34.228260 636804 node.py:210] created data center switch: dc99.s1
I1209 21:56:34.228446 636804 net.py:146] added data center: chain-server38
D1209 21:56:34.299946 636804 node.py:210] created data center switch: dc100.s1
I1209 21:56:34.300151 636804 net.py:146] added data center: chain-server39
D1209 21:56:34.300420 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.300509 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.300580 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.300648 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.300730 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.300813 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.300868 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.300924 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.300982 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.301038 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.301091 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.301147 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.301225 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.301280 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.301359 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.301438 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.301532 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.301606 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.301692 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.301742 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.301789 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.301829 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.301871 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.301908 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.301945 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.302030 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.302176 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.302263 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.302313 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.302392 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.302443 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.302501 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.302561 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.302622 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.302690 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.302757 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.302819 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.302882 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.302947 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.302993 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.303039 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.303085 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.303133 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.303194 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.303255 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.303316 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.303364 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.303445 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.303503 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.303564 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.303617 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.303668 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.303720 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.303783 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.303828 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.303870 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.303916 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.303960 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.304003 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.304045 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.304089 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.304131 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.304173 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.304220 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.304294 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.304346 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.304425 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.304482 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.304543 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.304600 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.304653 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.304723 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.304766 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.304810 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.304852 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.304894 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.304944 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.304987 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.305031 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.305073 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.305123 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.305169 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.305212 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.305273 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.305327 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.305397 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.305449 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.305500 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.305551 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.305602 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.305659 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.305757 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.305814 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.305877 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.305932 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.305986 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.306071 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.306169 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.306222 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.306277 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.306363 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.306423 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.306485 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.306564 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.306631 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.306823 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.306902 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.306976 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.307084 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.307132 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.307193 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.307243 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.307332 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.307398 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.307457 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.307521 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.307576 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.307636 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.307709 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.307754 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.307801 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.307853 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.307904 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.307949 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.308001 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.308046 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.308090 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.308136 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.308191 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.308245 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.308357 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.308449 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.308499 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.308545 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.308588 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.308630 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.308672 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.308731 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.308768 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.308804 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.308861 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.308897 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.308995 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.309060 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.309138 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.309216 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.309314 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.309429 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.309499 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.309565 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.309629 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.309712 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.309783 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.309838 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.309890 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.309945 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.309998 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.310086 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.310168 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.310244 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.310312 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.310410 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.310478 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.310545 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.310616 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.310683 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.310789 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.310844 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.310904 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.310971 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.311029 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.311090 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.311162 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.311217 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.311275 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.311347 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.311503 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.311575 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.311645 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.311759 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.311872 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.311938 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.311995 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.312072 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.312181 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.312237 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.312287 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.312475 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.312532 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.312586 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.312638 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.312693 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.312757 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.312843 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.312896 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.312946 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.312994 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.313041 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.313091 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.313138 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.313184 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.313313 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.313935 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.314045 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.314203 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.314265 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.314388 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.314466 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.314536 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.314599 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.314666 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.314738 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.314794 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.314845 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.314893 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.314940 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.315004 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.315051 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.315118 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.315169 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.315217 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.315263 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.315311 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.315387 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.315443 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.315494 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.315541 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.315587 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.315633 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.315676 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.315732 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.315773 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.315815 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.315855 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.315891 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.315927 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.315963 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.315999 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.316035 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.316072 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.316117 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.316158 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.316196 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.316252 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.316308 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.316416 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.316471 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.316514 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.316555 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.316597 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.316642 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.316685 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.316771 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.316811 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.316845 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.316881 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.316941 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.316983 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.317023 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.317065 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.317106 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.317164 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.317202 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.317269 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.317321 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.317394 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.317445 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.317488 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.317531 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.317573 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.317615 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.317656 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.317723 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.317785 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.317821 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.317859 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.317897 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.317931 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.317985 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.318020 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.318058 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.318125 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.318177 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.318214 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.318268 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.318320 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.318418 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.318466 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.318520 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.318567 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.318614 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.318661 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.318722 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.318780 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.318818 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.318871 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.318907 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.318942 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.318977 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.319010 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.319047 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.319083 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.319118 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.319154 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.319195 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.319235 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.319291 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.319394 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.319459 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.319524 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.319567 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.319614 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.319657 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.319730 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.319771 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.319806 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.319859 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.319920 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.319972 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.320008 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.320056 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.320101 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.320162 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.320219 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.320297 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.320336 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.320414 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.320477 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.320535 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.320579 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.320621 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.320662 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.320724 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.320794 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.320885 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.320940 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.321028 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.321093 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.321151 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.321193 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.321238 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.321712 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.321787 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.321846 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.321885 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.321923 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.322007 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.322084 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.322184 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.322227 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.322267 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.322350 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.322413 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.322902 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.322974 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.323024 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.323071 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.323112 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.323167 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.323203 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.323256 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.323312 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.323348 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.323427 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.323473 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.323515 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.323559 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.323601 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.323657 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.323707 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.323781 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.323837 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.323909 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.323946 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.324002 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.324070 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.324109 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.324146 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.324199 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.324237 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.324273 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.324309 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.324383 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.324434 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.324486 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.324533 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.324579 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.324626 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.324673 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.324733 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.324769 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.324810 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.324887 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.324925 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.324961 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.325001 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.325038 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.325074 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.325110 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.325148 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.325191 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.325248 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.325289 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.325326 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.325402 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.325450 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.325494 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.325536 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.325577 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.325623 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.325665 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.325722 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.325814 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.325867 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.325927 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.325968 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.326018 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.326081 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.326160 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.326236 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.326276 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.326312 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.326399 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.326446 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.326544 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.326589 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.326632 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.326674 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.326734 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.326771 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.326807 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.326843 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.326886 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.326926 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.326966 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.327003 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.327044 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.327630 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.327725 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.327841 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.327920 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.327960 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.327999 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.328061 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.328097 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.328133 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.328172 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.328212 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.328275 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.328320 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.328414 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.328466 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.328514 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.328557 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.328600 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.328649 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.328695 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.328756 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.328792 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.328845 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.328881 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.328917 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.328953 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.328994 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.329041 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.329098 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.329138 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.329175 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.329214 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.329251 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.329312 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.329387 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.329436 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.329478 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.329519 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.329561 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.329603 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.329649 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.329691 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.329762 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.329806 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.329864 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.329937 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.329999 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.330041 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.330080 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.330208 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.330249 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.330302 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.330339 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.330414 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.330461 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.330502 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.330545 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.330588 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.330630 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.330681 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.330764 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.330801 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.330838 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.330877 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.330950 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.330986 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.331027 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.331065 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.331101 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.331137 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.331173 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.331209 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.331248 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.331285 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.331325 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.331415 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.331465 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.331511 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.331557 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.331602 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.331648 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.331691 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.331773 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.331809 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.331845 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.331881 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.331959 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.332003 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.332056 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.332093 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.332146 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.332207 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.332263 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.332300 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.332341 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.332426 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.332472 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.332514 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.332556 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.332602 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.332644 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.332690 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.332761 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.332797 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.332832 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.332868 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.332902 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.332948 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.332990 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.333029 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.333069 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.333108 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.333146 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.333182 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.333220 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.333256 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.333293 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.333329 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.333410 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.333453 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.333494 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.333539 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.333581 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.333630 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.333676 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.333734 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.333771 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.333810 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.333848 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.333884 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.333920 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.333955 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.334012 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.334060 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.334147 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.334220 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.334258 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.334294 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.334368 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.334422 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.334469 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.334517 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.334563 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.334609 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.334652 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.334722 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.334760 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.334796 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.334836 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.334872 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.334909 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.334945 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.334980 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.335015 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.335050 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.335093 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.335134 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.335172 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.335211 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.335249 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.335285 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.335323 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.335405 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.335448 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.335490 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.335532 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.335575 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.335616 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.335658 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.335717 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.335752 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.335793 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.335833 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.335870 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.335921 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.336005 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.336049 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.336086 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.336122 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.336157 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.336193 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.336227 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.336266 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.336302 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.336374 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.336421 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.336464 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.336519 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.336572 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.336627 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.336672 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.336728 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.336762 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.336798 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.336850 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.336903 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.336961 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.336997 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.337037 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.337073 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.337107 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.337143 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.337178 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.337241 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.337281 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.337320 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.337398 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.337445 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.337490 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.337534 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.337632 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.337680 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.337744 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.337820 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.337857 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.337893 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.337932 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.337969 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.338005 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.338049 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.338119 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.338180 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.338218 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.338258 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.338294 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.338371 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.338418 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.338460 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.338501 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.338542 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.338587 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.338629 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.338717 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.338773 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.338812 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.338855 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.338898 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.338954 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.338993 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.339030 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.339082 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.339116 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.339149 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.339185 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.339221 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.339255 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.339288 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.339322 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.339404 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.339447 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.339493 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.339545 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.339591 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.339634 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.339679 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.339760 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.339796 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.339833 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.339868 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.339903 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.339936 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.339975 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.340009 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.340044 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.340080 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.340115 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.340148 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.340190 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.340229 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.340267 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.340306 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.340389 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.340437 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.340481 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.340527 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.340569 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.340610 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.340661 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.340775 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.340831 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.340871 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.340905 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.340941 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.340986 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.341028 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.341067 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.341104 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.341161 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.341196 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.341231 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.341264 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.341303 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.341377 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.341423 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.341465 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.341506 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.341551 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.341622 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.341702 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.341764 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.341804 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.341859 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.341896 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.341949 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.341986 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.342020 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.342055 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.342087 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.342154 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.342190 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.342223 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.342261 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.342297 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.342330 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.342407 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.342458 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.345626 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.345742 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.345820 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.345882 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.345925 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.345963 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.345999 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.346036 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.346076 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.346170 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.346210 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.346246 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.346282 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.346317 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.346391 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.346453 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.346504 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.346585 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.346635 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.346678 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.346777 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.346834 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.346893 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.346951 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.347028 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.347080 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.347116 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.347168 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.347202 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.347237 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.347271 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.347312 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.347412 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.347462 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.347508 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.347553 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.347600 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.347644 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.347692 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.347749 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.347812 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.347882 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.347918 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.347958 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.347994 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.348030 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.348066 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
D1209 21:56:34.348108 636804 __init__.py:90] Create flavor 'tiny' with metrics: {'disk': 1, 'compute': 0.5, 'memory': 32}
D1209 21:56:34.348146 636804 __init__.py:90] Create flavor 'small' with metrics: {'disk': 20, 'compute': 1.0, 'memory': 128}
D1209 21:56:34.348186 636804 __init__.py:90] Create flavor 'medium' with metrics: {'disk': 40, 'compute': 4.0, 'memory': 256}
D1209 21:56:34.348223 636804 __init__.py:90] Create flavor 'large' with metrics: {'disk': 80, 'compute': 8.0, 'memory': 512}
D1209 21:56:34.348294 636804 __init__.py:90] Create flavor 'xlarge' with metrics: {'disk': 160, 'compute': 16.0, 'memory': 1024}
D1209 21:56:34.348345 636804 __init__.py:90] Create flavor 'source' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.348416 636804 __init__.py:90] Create flavor 'sink' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.348460 636804 __init__.py:90] Create flavor 'nat' with metrics: {'disk': 20, 'compute': 1, 'memory': 512}
D1209 21:56:34.348503 636804 __init__.py:90] Create flavor 'fw' with metrics: {'disk': 20, 'compute': 3, 'memory': 512}
D1209 21:56:34.348546 636804 __init__.py:90] Create flavor 'ids' with metrics: {'disk': 20, 'compute': 4, 'memory': 2048}
D1209 21:56:34.348589 636804 __init__.py:90] Create flavor 'vpn' with metrics: {'disk': 20, 'compute': 2, 'memory': 512}
D1209 21:56:34.348630 636804 __init__.py:90] Create flavor 'gw' with metrics: {'disk': 20, 'compute': 1, 'memory': 1024}
D1209 21:56:34.348671 636804 __init__.py:90] Create flavor 'wc' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.348732 636804 __init__.py:90] Create flavor 're' with metrics: {'disk': 20, 'compute': 1, 'memory': 1536}
D1209 21:56:34.348829 636804 __init__.py:90] Create flavor 'lb' with metrics: {'disk': 20, 'compute': 3, 'memory': 1536}
I1209 21:56:34.348866 636804 __init__.py:108] Resource model UpbSimpleCloudDcRM initialized
I1209 21:56:34.348912 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.348958 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server29
I1209 21:56:34.349000 636804 daisy.py:105] assigned resource model 139858377698832 to chain-server29
I1209 21:56:34.349052 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.349091 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server28
I1209 21:56:34.349124 636804 daisy.py:105] assigned resource model 139858377749072 to chain-server28
I1209 21:56:34.349183 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.349216 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server21
I1209 21:56:34.349248 636804 daisy.py:105] assigned resource model 139858377750096 to chain-server21
I1209 21:56:34.349287 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.349320 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server20
I1209 21:56:34.349396 636804 daisy.py:105] assigned resource model 139858377751120 to chain-server20
I1209 21:56:34.349450 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.349492 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server23
I1209 21:56:34.349530 636804 daisy.py:105] assigned resource model 139858377752144 to chain-server23
I1209 21:56:34.349581 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.349625 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server22
I1209 21:56:34.349703 636804 daisy.py:105] assigned resource model 139858377794192 to chain-server22
I1209 21:56:34.349776 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.349812 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server25
I1209 21:56:34.349843 636804 daisy.py:105] assigned resource model 139858377795216 to chain-server25
I1209 21:56:34.349884 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.349917 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server24
I1209 21:56:34.349951 636804 daisy.py:105] assigned resource model 139858377796240 to chain-server24
I1209 21:56:34.349989 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.350039 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server27
I1209 21:56:34.350071 636804 daisy.py:105] assigned resource model 139858377797264 to chain-server27
I1209 21:56:34.350159 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.350198 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server26
I1209 21:56:34.350231 636804 daisy.py:105] assigned resource model 139858377835216 to chain-server26
I1209 21:56:34.350274 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.350308 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server18
I1209 21:56:34.350373 636804 daisy.py:105] assigned resource model 139858377163024 to chain-server18
I1209 21:56:34.350429 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.350471 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server19
I1209 21:56:34.350514 636804 daisy.py:105] assigned resource model 139858377164048 to chain-server19
I1209 21:56:34.350594 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.350639 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: off-cloud3
I1209 21:56:34.350678 636804 daisy.py:105] assigned resource model 139858377838288 to off-cloud3
I1209 21:56:34.350742 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.350775 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: off-cloud2
I1209 21:56:34.350809 636804 daisy.py:105] assigned resource model 139858377876240 to off-cloud2
I1209 21:56:34.350848 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.350883 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: off-cloud1
I1209 21:56:34.350930 636804 daisy.py:105] assigned resource model 139858377877264 to off-cloud1
I1209 21:56:34.350970 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.351003 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: off-cloud0
I1209 21:56:34.351036 636804 daisy.py:105] assigned resource model 139858377878288 to off-cloud0
I1209 21:56:34.351074 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.351108 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: off-cloud7
I1209 21:56:34.351139 636804 daisy.py:105] assigned resource model 139858377879312 to off-cloud7
I1209 21:56:34.351177 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.351212 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: off-cloud6
I1209 21:56:34.351243 636804 daisy.py:105] assigned resource model 139858377392976 to off-cloud6
I1209 21:56:34.351280 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.351344 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: off-cloud5
I1209 21:56:34.351409 636804 daisy.py:105] assigned resource model 139858377394000 to off-cloud5
I1209 21:56:34.351500 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.351543 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: off-cloud4
I1209 21:56:34.351583 636804 daisy.py:105] assigned resource model 139858377395024 to off-cloud4
I1209 21:56:34.351634 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.351675 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: off-cloud9
I1209 21:56:34.351727 636804 daisy.py:105] assigned resource model 139858377396048 to off-cloud9
I1209 21:56:34.351788 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.351823 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: off-cloud8
I1209 21:56:34.351854 636804 daisy.py:105] assigned resource model 139858377438096 to off-cloud8
I1209 21:56:34.351893 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.351926 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server2
I1209 21:56:34.351958 636804 daisy.py:105] assigned resource model 139858377439120 to chain-server2
I1209 21:56:34.352000 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.352034 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server3
I1209 21:56:34.352065 636804 daisy.py:105] assigned resource model 139858377440144 to chain-server3
I1209 21:56:34.352103 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.352135 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server0
I1209 21:56:34.352201 636804 daisy.py:105] assigned resource model 139858377441168 to chain-server0
I1209 21:56:34.352258 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.352293 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server1
I1209 21:56:34.352325 636804 daisy.py:105] assigned resource model 139858377479120 to chain-server1
I1209 21:56:34.352418 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.352462 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server6
I1209 21:56:34.352500 636804 daisy.py:105] assigned resource model 139858377480144 to chain-server6
I1209 21:56:34.352547 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.352588 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server7
I1209 21:56:34.352627 636804 daisy.py:105] assigned resource model 139858377481168 to chain-server7
I1209 21:56:34.352677 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.352730 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server4
I1209 21:56:34.352760 636804 daisy.py:105] assigned resource model 139858377482192 to chain-server4
I1209 21:56:34.352799 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.352833 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server5
I1209 21:56:34.352864 636804 daisy.py:105] assigned resource model 139858377520144 to chain-server5
I1209 21:56:34.352905 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.352937 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server8
I1209 21:56:34.352968 636804 daisy.py:105] assigned resource model 139858377521168 to chain-server8
I1209 21:56:34.353008 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.353043 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server9
I1209 21:56:34.353074 636804 daisy.py:105] assigned resource model 139858377522192 to chain-server9
I1209 21:56:34.353112 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.353146 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server14
I1209 21:56:34.353177 636804 daisy.py:105] assigned resource model 139858377560144 to chain-server14
I1209 21:56:34.353216 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.353250 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server15
I1209 21:56:34.353281 636804 daisy.py:105] assigned resource model 139858377561168 to chain-server15
I1209 21:56:34.353319 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.353408 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server16
I1209 21:56:34.353449 636804 daisy.py:105] assigned resource model 139858377562192 to chain-server16
I1209 21:56:34.353501 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.353542 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server17
I1209 21:56:34.353581 636804 daisy.py:105] assigned resource model 139858377563216 to chain-server17
I1209 21:56:34.353631 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.353672 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server10
I1209 21:56:34.353724 636804 daisy.py:105] assigned resource model 139858377605264 to chain-server10
I1209 21:56:34.353764 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.353796 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server11
I1209 21:56:34.353827 636804 daisy.py:105] assigned resource model 139858377606288 to chain-server11
I1209 21:56:34.353866 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.353898 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server12
I1209 21:56:34.353929 636804 daisy.py:105] assigned resource model 139858377607312 to chain-server12
I1209 21:56:34.353969 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.354001 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server13
I1209 21:56:34.354032 636804 daisy.py:105] assigned resource model 139858377608336 to chain-server13
I1209 21:56:34.354072 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.354134 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server32
I1209 21:56:34.354168 636804 daisy.py:105] assigned resource model 139858377122000 to chain-server32
I1209 21:56:34.354238 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.354296 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server33
I1209 21:56:34.354343 636804 daisy.py:105] assigned resource model 139858377123024 to chain-server33
I1209 21:56:34.354422 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.354465 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server30
I1209 21:56:34.354505 636804 daisy.py:105] assigned resource model 139858377124048 to chain-server30
I1209 21:56:34.354557 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.354598 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server31
I1209 21:56:34.354638 636804 daisy.py:105] assigned resource model 139858377125072 to chain-server31
I1209 21:56:34.354687 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.354757 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server36
I1209 21:56:34.354788 636804 daisy.py:105] assigned resource model 139858377836240 to chain-server36
I1209 21:56:34.354825 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.354857 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server37
I1209 21:56:34.354887 636804 daisy.py:105] assigned resource model 139858377837264 to chain-server37
I1209 21:56:34.354927 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.354959 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server34
I1209 21:56:34.354990 636804 daisy.py:105] assigned resource model 139858377165072 to chain-server34
I1209 21:56:34.355029 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.355073 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server35
I1209 21:56:34.355143 636804 daisy.py:105] assigned resource model 139858377166096 to chain-server35
I1209 21:56:34.355185 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.355220 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server38
I1209 21:56:34.355252 636804 daisy.py:105] assigned resource model 139858377209168 to chain-server38
I1209 21:56:34.355292 636804 __init__.py:62] Registrar: Added resource model: UpbSimpleCloudDcRM
I1209 21:56:34.355325 636804 node.py:371] Assigned RM: UpbSimpleCloudDcRM to DC: chain-server39
I1209 21:56:34.355370 636804 daisy.py:105] assigned resource model 139858377210192 to chain-server39
I1209 21:56:34.355554 636804 daisy.py:107] PN read from JSON file [[u'chain-server0', u'gsw', 20], [u'chain-server1', u'gsw', 20], [u'chain-server2', u'gsw', 20], [u'chain-server3', u'gsw', 20], [u'chain-server4', u'gsw', 20], [u'chain-server5', u'gsw', 20], [u'chain-server6', u'gsw', 20], [u'chain-server7', u'gsw', 20], [u'chain-server8', u'gsw', 20], [u'chain-server9', u'gsw', 20], [u'chain-server10', u'gsw', 20], [u'chain-server11', u'gsw', 20], [u'chain-server12', u'gsw', 20], [u'chain-server13', u'gsw', 20], [u'chain-server14', u'gsw', 20], [u'chain-server15', u'gsw', 20], [u'chain-server16', u'gsw', 20], [u'chain-server17', u'gsw', 20], [u'chain-server18', u'gsw', 20], [u'chain-server19', u'gsw', 20], [u'chain-server20', u'gsw', 20], [u'chain-server21', u'gsw', 20], [u'chain-server22', u'gsw', 20], [u'chain-server23', u'gsw', 20], [u'chain-server24', u'gsw', 20], [u'chain-server25', u'gsw', 20], [u'chain-server26', u'gsw', 20], [u'chain-server27', u'gsw', 20], [u'chain-server28', u'gsw', 20], [u'chain-server29', u'gsw', 20], [u'chain-server30', u'gsw', 20], [u'chain-server31', u'gsw', 20], [u'chain-server32', u'gsw', 20], [u'chain-server33', u'gsw', 20], [u'chain-server34', u'gsw', 20], [u'chain-server35', u'gsw', 20], [u'chain-server36', u'gsw', 20], [u'chain-server37', u'gsw', 20], [u'chain-server38', u'gsw', 20], [u'chain-server39', u'gsw', 20], [u'off-cloud0', u'gsw', 20], [u'off-cloud1', u'gsw', 20], [u'off-cloud2', u'gsw', 20], [u'off-cloud3', u'gsw', 20], [u'off-cloud4', u'gsw', 20], [u'off-cloud5', u'gsw', 20], [u'off-cloud6', u'gsw', 20], [u'off-cloud7', u'gsw', 20], [u'off-cloud8', u'gsw', 20], [u'off-cloud9', u'gsw', 20]]
I1209 21:56:34.355612 636804 daisy.py:121] Accessing chain-server0 for switch gsw
I1209 21:56:34.355676 636804 daisy.py:121] Accessing chain-server1 for switch gsw
I1209 21:56:34.355746 636804 daisy.py:121] Accessing chain-server2 for switch gsw
I1209 21:56:34.355786 636804 daisy.py:121] Accessing chain-server3 for switch gsw
I1209 21:56:34.372251 636804 daisy.py:121] Accessing chain-server4 for switch gsw
I1209 21:56:34.372401 636804 daisy.py:121] Accessing chain-server5 for switch gsw
I1209 21:56:34.372472 636804 daisy.py:121] Accessing chain-server6 for switch gsw
I1209 21:56:34.372528 636804 daisy.py:121] Accessing chain-server7 for switch gsw
I1209 21:56:34.372580 636804 daisy.py:121] Accessing chain-server8 for switch gsw
I1209 21:56:34.372633 636804 daisy.py:121] Accessing chain-server9 for switch gsw
I1209 21:56:34.372687 636804 daisy.py:121] Accessing chain-server10 for switch gsw
I1209 21:56:34.372766 636804 daisy.py:121] Accessing chain-server11 for switch gsw
I1209 21:56:34.372807 636804 daisy.py:121] Accessing chain-server12 for switch gsw
I1209 21:56:34.372847 636804 daisy.py:121] Accessing chain-server13 for switch gsw
I1209 21:56:34.372905 636804 daisy.py:121] Accessing chain-server14 for switch gsw
I1209 21:56:34.372947 636804 daisy.py:121] Accessing chain-server15 for switch gsw
I1209 21:56:34.372988 636804 daisy.py:121] Accessing chain-server16 for switch gsw
I1209 21:56:34.373028 636804 daisy.py:121] Accessing chain-server17 for switch gsw
I1209 21:56:34.373116 636804 daisy.py:121] Accessing chain-server18 for switch gsw
I1209 21:56:34.373166 636804 daisy.py:121] Accessing chain-server19 for switch gsw
I1209 21:56:34.373208 636804 daisy.py:121] Accessing chain-server20 for switch gsw
I1209 21:56:34.373251 636804 daisy.py:121] Accessing chain-server21 for switch gsw
I1209 21:56:34.373296 636804 daisy.py:121] Accessing chain-server22 for switch gsw
I1209 21:56:34.373374 636804 daisy.py:121] Accessing chain-server23 for switch gsw
I1209 21:56:34.373429 636804 daisy.py:121] Accessing chain-server24 for switch gsw
I1209 21:56:34.373477 636804 daisy.py:121] Accessing chain-server25 for switch gsw
I1209 21:56:34.373528 636804 daisy.py:121] Accessing chain-server26 for switch gsw
I1209 21:56:34.373578 636804 daisy.py:121] Accessing chain-server27 for switch gsw
I1209 21:56:34.373631 636804 daisy.py:121] Accessing chain-server28 for switch gsw
I1209 21:56:34.373682 636804 daisy.py:121] Accessing chain-server29 for switch gsw
I1209 21:56:34.373773 636804 daisy.py:121] Accessing chain-server30 for switch gsw
I1209 21:56:34.373833 636804 daisy.py:121] Accessing chain-server31 for switch gsw
I1209 21:56:34.373876 636804 daisy.py:121] Accessing chain-server32 for switch gsw
I1209 21:56:34.373939 636804 daisy.py:121] Accessing chain-server33 for switch gsw
I1209 21:56:34.373980 636804 daisy.py:121] Accessing chain-server34 for switch gsw
I1209 21:56:34.374046 636804 daisy.py:121] Accessing chain-server35 for switch gsw
I1209 21:56:34.374130 636804 daisy.py:121] Accessing chain-server36 for switch gsw
I1209 21:56:34.374214 636804 daisy.py:121] Accessing chain-server37 for switch gsw
I1209 21:56:34.374260 636804 daisy.py:121] Accessing chain-server38 for switch gsw
I1209 21:56:34.374337 636804 daisy.py:121] Accessing chain-server39 for switch gsw
I1209 21:56:34.374438 636804 daisy.py:121] Accessing off-cloud0 for switch gsw
I1209 21:56:34.374491 636804 daisy.py:121] Accessing off-cloud1 for switch gsw
I1209 21:56:34.374542 636804 daisy.py:121] Accessing off-cloud2 for switch gsw
I1209 21:56:34.374591 636804 daisy.py:121] Accessing off-cloud3 for switch gsw
I1209 21:56:34.374639 636804 daisy.py:121] Accessing off-cloud4 for switch gsw
I1209 21:56:34.374687 636804 daisy.py:121] Accessing off-cloud5 for switch gsw
I1209 21:56:34.374752 636804 daisy.py:121] Accessing off-cloud6 for switch gsw
I1209 21:56:34.374830 636804 daisy.py:121] Accessing off-cloud7 for switch gsw
I1209 21:56:34.374890 636804 daisy.py:121] Accessing off-cloud8 for switch gsw
I1209 21:56:34.374931 636804 daisy.py:121] Accessing off-cloud9 for switch gsw
I1209 21:56:34.451411 636804 daisy.py:141] ToR switch name and objects: {u'gsw': <OVSSwitch gsw0: lo:127.0.0.1 pid=859051> }
D1209 21:56:34.500041 636804 net.py:233] addLink: n1=dc75.s1 intf1=dc75.s1-eth1 -- n2=gsw0 intf2=gsw0-eth1
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:34.567594 636804 net.py:233] addLink: n1=dc76.s1 intf1=dc76.s1-eth1 -- n2=gsw0 intf2=gsw0-eth2
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:34.633811 636804 net.py:233] addLink: n1=dc73.s1 intf1=dc73.s1-eth1 -- n2=gsw0 intf2=gsw0-eth3
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:34.699284 636804 net.py:233] addLink: n1=dc74.s1 intf1=dc74.s1-eth1 -- n2=gsw0 intf2=gsw0-eth4
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:34.762278 636804 net.py:233] addLink: n1=dc79.s1 intf1=dc79.s1-eth1 -- n2=gsw0 intf2=gsw0-eth5
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:34.828403 636804 net.py:233] addLink: n1=dc80.s1 intf1=dc80.s1-eth1 -- n2=gsw0 intf2=gsw0-eth6
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:34.891278 636804 net.py:233] addLink: n1=dc77.s1 intf1=dc77.s1-eth1 -- n2=gsw0 intf2=gsw0-eth7
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:34.959687 636804 net.py:233] addLink: n1=dc78.s1 intf1=dc78.s1-eth1 -- n2=gsw0 intf2=gsw0-eth8
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:35.030364 636804 net.py:233] addLink: n1=dc81.s1 intf1=dc81.s1-eth1 -- n2=gsw0 intf2=gsw0-eth9
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:35.095557 636804 net.py:233] addLink: n1=dc82.s1 intf1=dc82.s1-eth1 -- n2=gsw0 intf2=gsw0-eth10
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:35.163034 636804 net.py:233] addLink: n1=dc87.s1 intf1=dc87.s1-eth1 -- n2=gsw0 intf2=gsw0-eth11
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:35.228168 636804 net.py:233] addLink: n1=dc88.s1 intf1=dc88.s1-eth1 -- n2=gsw0 intf2=gsw0-eth12
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:35.295072 636804 net.py:233] addLink: n1=dc89.s1 intf1=dc89.s1-eth1 -- n2=gsw0 intf2=gsw0-eth13
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:35.359891 636804 net.py:233] addLink: n1=dc90.s1 intf1=dc90.s1-eth1 -- n2=gsw0 intf2=gsw0-eth14
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:35.421575 636804 net.py:233] addLink: n1=dc83.s1 intf1=dc83.s1-eth1 -- n2=gsw0 intf2=gsw0-eth15
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:35.486479 636804 net.py:233] addLink: n1=dc84.s1 intf1=dc84.s1-eth1 -- n2=gsw0 intf2=gsw0-eth16
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:35.550085 636804 net.py:233] addLink: n1=dc85.s1 intf1=dc85.s1-eth1 -- n2=gsw0 intf2=gsw0-eth17
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:35.615910 636804 net.py:233] addLink: n1=dc86.s1 intf1=dc86.s1-eth1 -- n2=gsw0 intf2=gsw0-eth18
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:35.677982 636804 net.py:233] addLink: n1=dc95.s1 intf1=dc95.s1-eth1 -- n2=gsw0 intf2=gsw0-eth19
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:35.744472 636804 net.py:233] addLink: n1=dc96.s1 intf1=dc96.s1-eth1 -- n2=gsw0 intf2=gsw0-eth20
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:35.813106 636804 net.py:233] addLink: n1=dc54.s1 intf1=dc54.s1-eth1 -- n2=gsw0 intf2=gsw0-eth21
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:35.876507 636804 net.py:233] addLink: n1=dc53.s1 intf1=dc53.s1-eth1 -- n2=gsw0 intf2=gsw0-eth22
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:35.941742 636804 net.py:233] addLink: n1=dc56.s1 intf1=dc56.s1-eth1 -- n2=gsw0 intf2=gsw0-eth23
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:36.007477 636804 net.py:233] addLink: n1=dc55.s1 intf1=dc55.s1-eth1 -- n2=gsw0 intf2=gsw0-eth24
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:36.072763 636804 net.py:233] addLink: n1=dc58.s1 intf1=dc58.s1-eth1 -- n2=gsw0 intf2=gsw0-eth25
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:36.142329 636804 net.py:233] addLink: n1=dc57.s1 intf1=dc57.s1-eth1 -- n2=gsw0 intf2=gsw0-eth26
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:36.207844 636804 net.py:233] addLink: n1=dc60.s1 intf1=dc60.s1-eth1 -- n2=gsw0 intf2=gsw0-eth27
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:36.276262 636804 net.py:233] addLink: n1=dc59.s1 intf1=dc59.s1-eth1 -- n2=gsw0 intf2=gsw0-eth28
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:36.340461 636804 net.py:233] addLink: n1=dc52.s1 intf1=dc52.s1-eth1 -- n2=gsw0 intf2=gsw0-eth29
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:36.410201 636804 net.py:233] addLink: n1=dc51.s1 intf1=dc51.s1-eth1 -- n2=gsw0 intf2=gsw0-eth30
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:36.477849 636804 net.py:233] addLink: n1=dc93.s1 intf1=dc93.s1-eth1 -- n2=gsw0 intf2=gsw0-eth31
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:36.547734 636804 net.py:233] addLink: n1=dc94.s1 intf1=dc94.s1-eth1 -- n2=gsw0 intf2=gsw0-eth32
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:36.616377 636804 net.py:233] addLink: n1=dc91.s1 intf1=dc91.s1-eth1 -- n2=gsw0 intf2=gsw0-eth33
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:36.687802 636804 net.py:233] addLink: n1=dc92.s1 intf1=dc92.s1-eth1 -- n2=gsw0 intf2=gsw0-eth34
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:36.755162 636804 net.py:233] addLink: n1=dc97.s1 intf1=dc97.s1-eth1 -- n2=gsw0 intf2=gsw0-eth35
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:36.824928 636804 net.py:233] addLink: n1=dc98.s1 intf1=dc98.s1-eth1 -- n2=gsw0 intf2=gsw0-eth36
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:36.891239 636804 net.py:233] addLink: n1=dc61.s1 intf1=dc61.s1-eth1 -- n2=gsw0 intf2=gsw0-eth37
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:36.962512 636804 net.py:233] addLink: n1=dc62.s1 intf1=dc62.s1-eth1 -- n2=gsw0 intf2=gsw0-eth38
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:37.032120 636804 net.py:233] addLink: n1=dc99.s1 intf1=dc99.s1-eth1 -- n2=gsw0 intf2=gsw0-eth39
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:37.100497 636804 net.py:233] addLink: n1=dc100.s1 intf1=dc100.s1-eth1 -- n2=gsw0 intf2=gsw0-eth40
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:37.169162 636804 net.py:233] addLink: n1=dc66.s1 intf1=dc66.s1-eth1 -- n2=gsw0 intf2=gsw0-eth41
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:37.235073 636804 net.py:233] addLink: n1=dc65.s1 intf1=dc65.s1-eth1 -- n2=gsw0 intf2=gsw0-eth42
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:37.303637 636804 net.py:233] addLink: n1=dc64.s1 intf1=dc64.s1-eth1 -- n2=gsw0 intf2=gsw0-eth43
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:37.375493 636804 net.py:233] addLink: n1=dc63.s1 intf1=dc63.s1-eth1 -- n2=gsw0 intf2=gsw0-eth44
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:37.442220 636804 net.py:233] addLink: n1=dc70.s1 intf1=dc70.s1-eth1 -- n2=gsw0 intf2=gsw0-eth45
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:37.508997 636804 net.py:233] addLink: n1=dc69.s1 intf1=dc69.s1-eth1 -- n2=gsw0 intf2=gsw0-eth46
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:37.580046 636804 net.py:233] addLink: n1=dc68.s1 intf1=dc68.s1-eth1 -- n2=gsw0 intf2=gsw0-eth47
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:37.647317 636804 net.py:233] addLink: n1=dc67.s1 intf1=dc67.s1-eth1 -- n2=gsw0 intf2=gsw0-eth48
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:37.718101 636804 net.py:233] addLink: n1=dc72.s1 intf1=dc72.s1-eth1 -- n2=gsw0 intf2=gsw0-eth49
ovs-vsctl: 'set' command requires at least 3 arguments
D1209 21:56:37.788516 636804 net.py:233] addLink: n1=dc71.s1 intf1=dc71.s1-eth1 -- n2=gsw0 intf2=gsw0-eth50
ovs-vsctl: 'set' command requires at least 3 arguments
I1209 21:56:37.813890 636804 daisy.py:146] added link from DCs to ToR
I1209 21:56:37.815078 636804 rest_api_endpoint.py:129] Connected DCNetwork to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.815542 636804 rest_api_endpoint.py:70] Started emu dashboard: /usr/local/lib/python2.7/dist-packages/emuvim-1.0-py2.7.egg/emuvim/dashboard
I1209 21:56:37.821202 636804 rest_api_endpoint.py:129] Connected DCNetwork to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.821350 636804 rest_api_endpoint.py:122] Connected DC(chain-server29) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.821497 636804 rest_api_endpoint.py:122] Connected DC(chain-server28) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.821597 636804 rest_api_endpoint.py:122] Connected DC(chain-server21) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.821762 636804 rest_api_endpoint.py:122] Connected DC(chain-server20) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.821891 636804 rest_api_endpoint.py:122] Connected DC(chain-server23) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.821969 636804 rest_api_endpoint.py:122] Connected DC(chain-server22) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.822078 636804 rest_api_endpoint.py:122] Connected DC(chain-server25) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.822196 636804 rest_api_endpoint.py:122] Connected DC(chain-server24) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.822263 636804 rest_api_endpoint.py:122] Connected DC(chain-server27) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.822333 636804 rest_api_endpoint.py:122] Connected DC(chain-server26) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.822441 636804 rest_api_endpoint.py:122] Connected DC(chain-server18) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.822496 636804 rest_api_endpoint.py:122] Connected DC(chain-server19) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.822577 636804 rest_api_endpoint.py:122] Connected DC(off-cloud3) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.822669 636804 rest_api_endpoint.py:122] Connected DC(off-cloud2) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.822732 636804 rest_api_endpoint.py:122] Connected DC(off-cloud1) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.822792 636804 rest_api_endpoint.py:122] Connected DC(off-cloud0) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.822849 636804 rest_api_endpoint.py:122] Connected DC(off-cloud7) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.822906 636804 rest_api_endpoint.py:122] Connected DC(off-cloud6) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.822995 636804 rest_api_endpoint.py:122] Connected DC(off-cloud5) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.823133 636804 rest_api_endpoint.py:122] Connected DC(off-cloud4) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.823199 636804 rest_api_endpoint.py:122] Connected DC(off-cloud9) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.823266 636804 rest_api_endpoint.py:122] Connected DC(off-cloud8) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.823348 636804 rest_api_endpoint.py:122] Connected DC(chain-server2) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.823455 636804 rest_api_endpoint.py:122] Connected DC(chain-server3) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.823545 636804 rest_api_endpoint.py:122] Connected DC(chain-server0) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.823622 636804 rest_api_endpoint.py:122] Connected DC(chain-server1) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.823700 636804 rest_api_endpoint.py:122] Connected DC(chain-server6) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.823832 636804 rest_api_endpoint.py:122] Connected DC(chain-server7) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.823918 636804 rest_api_endpoint.py:122] Connected DC(chain-server4) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.824004 636804 rest_api_endpoint.py:122] Connected DC(chain-server5) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.824198 636804 rest_api_endpoint.py:122] Connected DC(chain-server8) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.824294 636804 rest_api_endpoint.py:122] Connected DC(chain-server9) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.824387 636804 rest_api_endpoint.py:122] Connected DC(chain-server14) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.824479 636804 rest_api_endpoint.py:122] Connected DC(chain-server15) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.824596 636804 rest_api_endpoint.py:122] Connected DC(chain-server16) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.824681 636804 rest_api_endpoint.py:122] Connected DC(chain-server17) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.824750 636804 rest_api_endpoint.py:122] Connected DC(chain-server10) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.824810 636804 rest_api_endpoint.py:122] Connected DC(chain-server11) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.824868 636804 rest_api_endpoint.py:122] Connected DC(chain-server12) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.824927 636804 rest_api_endpoint.py:122] Connected DC(chain-server13) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.825020 636804 rest_api_endpoint.py:122] Connected DC(chain-server32) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.825139 636804 rest_api_endpoint.py:122] Connected DC(chain-server33) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.825232 636804 rest_api_endpoint.py:122] Connected DC(chain-server30) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.825306 636804 rest_api_endpoint.py:122] Connected DC(chain-server31) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.825397 636804 rest_api_endpoint.py:122] Connected DC(chain-server36) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.825496 636804 rest_api_endpoint.py:122] Connected DC(chain-server37) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.825583 636804 rest_api_endpoint.py:122] Connected DC(chain-server34) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.825655 636804 rest_api_endpoint.py:122] Connected DC(chain-server35) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.825711 636804 rest_api_endpoint.py:122] Connected DC(chain-server38) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.825767 636804 rest_api_endpoint.py:122] Connected DC(chain-server39) to API endpoint RestApiEndpoint(0.0.0.0:5001)
I1209 21:56:37.827488 636804 rest_api_endpoint.py:135] Started API endpoint @ http://0.0.0.0:5001
Exception in thread Thread-2:
Traceback (most recent call last):
  File "/usr/lib/python2.7/threading.py", line 801, in __bootstrap_inner
    self.run()
  File "/usr/lib/python2.7/threading.py", line 754, in run
    self.__target(*self.__args, **self.__kwargs)
  File "/usr/local/lib/python2.7/dist-packages/emuvim-1.0-py2.7.egg/emuvim/api/rest/rest_api_endpoint.py", line 149, in _start_flask
    self.http_server.serve_forever()
  File "/usr/local/lib/python2.7/dist-packages/gevent/baseserver.py", line 360, in serve_forever
    self.start()
  File "/usr/local/lib/python2.7/dist-packages/gevent/baseserver.py", line 304, in start
    self.init_socket()
  File "/usr/local/lib/python2.7/dist-packages/gevent/pywsgi.py", line 1450, in init_socket
    StreamServer.init_socket(self)
  File "/usr/local/lib/python2.7/dist-packages/gevent/server.py", line 127, in init_socket
    self.socket = self.get_listener(self.address, self.backlog, self.family)
  File "/usr/local/lib/python2.7/dist-packages/gevent/server.py", line 138, in get_listener
    return _tcp_listener(address, backlog=backlog, reuse_addr=cls.reuse_addr, family=family)
  File "/usr/local/lib/python2.7/dist-packages/gevent/server.py", line 229, in _tcp_listener
    sock.bind(address)
  File "<string>", line 1, in bind
error: [Errno 98] Address already in use: ('0.0.0.0', 5001)

I1209 21:56:43.408057 636804 daisy.py:186] using random for chain allocation
Settings: Namespace(PN='../topologies/e2-azure-1rack-50-20servers.pn.json', VDC_LIST='../topologies/e2-chain-4vnfs-50wa.vn.json', directed_links=False, locality=False, logfile=None, maxattempts=100, output='/tmp/ns_out.json', random=True, remainder_file=None, repeat=True, respect_chain=True, timelog=None, verb_detail=True)
Loading PN...
assign_to_e2-azure-1rack-50-20servers.pn.json
Enforcing server core/ram counts
allocating...
VDC is /home/daisy/netsolver/son-emu/scenarios/topologies/e2-chain-4vnfs-50wa.vn.json
Loading new VDC
Finished loading VDC
InitTime: 0.002734  ElapsedTime: 0.002734
Solving finished 
SolveTime: 0.000617  ElapsedTime: 0.003353 
Solving finished 1 (solved)
Allocated 1
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000482  ElapsedTime: 0.004180 
Solving finished 2 (solved)
Allocated 2
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000705  ElapsedTime: 0.005490 
Solving finished 3 (solved)
Allocated 3
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000672  ElapsedTime: 0.006696 
Solving finished 4 (solved)
Allocated 4
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000591  ElapsedTime: 0.007961 
Solving finished 5 (solved)
Allocated 5
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000580  ElapsedTime: 0.009344 
Solving finished 6 (solved)
Allocated 6
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000618  ElapsedTime: 0.010756 
Solving finished 7 (solved)
Allocated 7
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000530  ElapsedTime: 0.012234 
Solving finished 8 (solved)
Allocated 8
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000552  ElapsedTime: 0.013892 
Solving finished 9 (solved)
Allocated 9
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000555  ElapsedTime: 0.015808 
Solving finished 10 (solved)
Allocated 10
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000582  ElapsedTime: 0.017723 
Solving finished 11 (solved)
Allocated 11
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000677  ElapsedTime: 0.019774 
Solving finished 12 (solved)
Allocated 12
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000623  ElapsedTime: 0.021970 
Solving finished 13 (solved)
Allocated 13
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000664  ElapsedTime: 0.024256 
Solving finished 14 (solved)
Allocated 14
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000606  ElapsedTime: 0.026785 
Solving finished 15 (solved)
Allocated 15
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000662  ElapsedTime: 0.029281 
Solving finished 16 (solved)
Allocated 16
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000528  ElapsedTime: 0.031776 
Solving finished 17 (solved)
Allocated 17
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000628  ElapsedTime: 0.034813 
Solving finished 18 (solved)
Allocated 18
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000637  ElapsedTime: 0.037568 
Solving finished 19 (solved)
Allocated 19
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000643  ElapsedTime: 0.040400 
Solving finished 20 (solved)
Allocated 20
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000595  ElapsedTime: 0.043273 
Solving finished 21 (solved)
Allocated 21
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.001162  ElapsedTime: 0.047428 
Solving finished 22 (solved)
Allocated 22
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000530  ElapsedTime: 0.050529 
Solving finished 23 (solved)
Allocated 23
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000633  ElapsedTime: 0.053965 
Solving finished 24 (solved)
Allocated 24
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000643  ElapsedTime: 0.057419 
Solving finished 25 (solved)
Allocated 25
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000573  ElapsedTime: 0.061003 
Solving finished 26 (solved)
Allocated 26
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000685  ElapsedTime: 0.064785 
Solving finished 27 (solved)
Allocated 27
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.001192  ElapsedTime: 0.069347 
Solving finished 28 (solved)
Allocated 28
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000689  ElapsedTime: 0.073537 
Solving finished 29 (solved)
Allocated 29
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000541  ElapsedTime: 0.077816 
Solving finished 30 (solved)
Allocated 30
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.001473  ElapsedTime: 0.082878 
Solving finished 31 (solved)
Allocated 31
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000647  ElapsedTime: 0.087655 
Solving finished 32 (solved)
Allocated 32
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.001103  ElapsedTime: 0.092517 
Solving finished 33 (solved)
Allocated 33
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000638  ElapsedTime: 0.096908 
Solving finished 34 (solved)
Allocated 34
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000696  ElapsedTime: 0.101499 
Solving finished 35 (solved)
Allocated 35
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.003127  ElapsedTime: 0.108649 
Solving finished 36 (solved)
Allocated 36
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000687  ElapsedTime: 0.113686 
Solving finished 37 (solved)
Allocated 37
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.001223  ElapsedTime: 0.119024 
Solving finished 38 (solved)
Allocated 38
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000537  ElapsedTime: 0.123977 
Solving finished 39 (solved)
Allocated 39
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.000628  ElapsedTime: 0.129178 
Solving finished 40 (solved)
Allocated 40
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.002808  ElapsedTime: 0.136673 
Solving finished 41 (solved)
Allocated 41
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.003394  ElapsedTime: 0.144644 
Solving finished 42 (solved)
Allocated 42
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.001992  ElapsedTime: 0.151280 
Solving finished 43 (solved)
Allocated 43
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.001390  ElapsedTime: 0.157724 
Solving finished 44 (solved)
Allocated 44
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.005592  ElapsedTime: 0.168148 
Solving finished 45 (solved)
Allocated 45
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.001583  ElapsedTime: 0.174799 
Solving finished 46 (solved)
Allocated 46
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Solving finished 
SolveTime: 0.017409  ElapsedTime: 0.197449 
Solving finished 47 (solved)
Allocated 47
Writing log files...
Done writing log files...
Initializing empty flow
Solving..
Writing log files...
Elapsed time: 0.235278 solving time: 0.19744899999999999, 0.135639
Allocated 47
Done
I1209 21:56:44.009934 636804 daisy.py:200] allocation succeeded
I1209 21:56:44.012567 636804 daisy.py:213] not an allocation, but metadata: startup_time
I1209 21:56:44.012695 636804 daisy.py:213] not an allocation, but metadata: server_allocations
I1209 21:56:44.012839 636804 daisy.py:213] not an allocation, but metadata: total_number_of_successfull_insertions
I1209 21:56:44.012922 636804 daisy.py:213] not an allocation, but metadata: cluster_allocations
I1209 21:56:44.012991 636804 daisy.py:213] not an allocation, but metadata: datacenter_allocations
I1209 21:56:44.013067 636804 daisy.py:213] not an allocation, but metadata: rack_allocations
I1209 21:56:44.013149 636804 daisy.py:213] not an allocation, but metadata: total_allocations
I1209 21:56:44.013227 636804 daisy.py:213] not an allocation, but metadata: total_number_of_failed_insertions
I1209 21:56:44.013912 636804 iter-e2-allocation.py:17] started allocating chain: 0
I1209 21:56:44.014056 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud2']
I1209 21:56:44.014225 636804 daisy.py:240] creating chain0-source on off-cloud2
D1209 21:56:44.014656 636804 node.py:55] Starting compute instance u'chain0-source' in data center 'off-cloud2'
D1209 21:56:44.585314 636804 simple.py:169] Setting CPU limit for u'chain0-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:56:44.618664 636804 simple.py:215] Setting MEM limit for u'chain0-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:56:44.758044 636804 net.py:233] addLink: n1=chain0-source intf1=intf1 -- n2=dc64.s1 intf2=dc64.s1-eth2
I1209 21:56:44.758277 636804 daisy.py:310] successfully created VNF: chain0-source
I1209 21:56:44.758439 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server22']
I1209 21:56:44.758522 636804 daisy.py:240] creating chain0-vpn on chain-server22
D1209 21:56:44.758786 636804 node.py:55] Starting compute instance u'chain0-vpn' in data center 'chain-server22'
D1209 21:56:45.275156 636804 simple.py:169] Setting CPU limit for u'chain0-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:56:45.320316 636804 simple.py:215] Setting MEM limit for u'chain0-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:56:45.464395 636804 net.py:233] addLink: n1=chain0-vpn intf1=input-ids -- n2=dc56.s1 intf2=dc56.s1-eth2
D1209 21:56:45.575330 636804 net.py:233] addLink: n1=chain0-vpn intf1=input-fw -- n2=dc56.s1 intf2=dc56.s1-eth3
D1209 21:56:45.691570 636804 net.py:233] addLink: n1=chain0-vpn intf1=output -- n2=dc56.s1 intf2=dc56.s1-eth4
I1209 21:56:45.691739 636804 daisy.py:310] successfully created VNF: chain0-vpn
I1209 21:56:45.691840 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server34']
I1209 21:56:45.691910 636804 daisy.py:240] creating chain0-ids on chain-server34
D1209 21:56:45.692198 636804 node.py:55] Starting compute instance u'chain0-ids' in data center 'chain-server34'
D1209 21:56:46.191200 636804 simple.py:169] Setting CPU limit for u'chain0-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:56:46.232593 636804 simple.py:215] Setting MEM limit for u'chain0-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:56:46.378674 636804 net.py:233] addLink: n1=chain0-ids intf1=input -- n2=dc97.s1 intf2=dc97.s1-eth2
D1209 21:56:46.493829 636804 net.py:233] addLink: n1=chain0-ids intf1=output -- n2=dc97.s1 intf2=dc97.s1-eth3
I1209 21:56:46.494031 636804 daisy.py:310] successfully created VNF: chain0-ids
I1209 21:56:46.494237 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server5']
I1209 21:56:46.494316 636804 daisy.py:240] creating chain0-nat on chain-server5
D1209 21:56:46.494621 636804 node.py:55] Starting compute instance u'chain0-nat' in data center 'chain-server5'
D1209 21:56:47.028521 636804 simple.py:169] Setting CPU limit for u'chain0-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:56:47.069051 636804 simple.py:215] Setting MEM limit for u'chain0-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:56:47.180377 636804 net.py:233] addLink: n1=chain0-nat intf1=input -- n2=dc80.s1 intf2=dc80.s1-eth2
D1209 21:56:47.302789 636804 net.py:233] addLink: n1=chain0-nat intf1=output -- n2=dc80.s1 intf2=dc80.s1-eth3
I1209 21:56:47.302958 636804 daisy.py:310] successfully created VNF: chain0-nat
I1209 21:56:47.303071 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server19']
I1209 21:56:47.303138 636804 daisy.py:240] creating chain0-fw on chain-server19
D1209 21:56:47.303466 636804 node.py:55] Starting compute instance u'chain0-fw' in data center 'chain-server19'
D1209 21:56:47.823616 636804 simple.py:169] Setting CPU limit for u'chain0-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:56:47.868482 636804 simple.py:215] Setting MEM limit for u'chain0-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:56:48.002204 636804 net.py:233] addLink: n1=chain0-fw intf1=input -- n2=dc96.s1 intf2=dc96.s1-eth2
D1209 21:56:48.129843 636804 net.py:233] addLink: n1=chain0-fw intf1=output-ids -- n2=dc96.s1 intf2=dc96.s1-eth3
D1209 21:56:48.259440 636804 net.py:233] addLink: n1=chain0-fw intf1=output-vpn -- n2=dc96.s1 intf2=dc96.s1-eth4
I1209 21:56:48.259660 636804 daisy.py:310] successfully created VNF: chain0-fw
I1209 21:56:48.259773 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud0']
I1209 21:56:48.259860 636804 daisy.py:240] creating chain0-sink on off-cloud0
D1209 21:56:48.260195 636804 node.py:55] Starting compute instance u'chain0-sink' in data center 'off-cloud0'
D1209 21:56:48.782694 636804 simple.py:169] Setting CPU limit for u'chain0-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:56:48.818618 636804 simple.py:215] Setting MEM limit for u'chain0-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:56:48.952008 636804 net.py:233] addLink: n1=chain0-sink intf1=intf2 -- n2=dc66.s1 intf2=dc66.s1-eth2
I1209 21:56:48.952208 636804 daisy.py:310] successfully created VNF: chain0-sink
I1209 21:56:48.952313 636804 daisy.py:311] successfully created chain: 0
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:56:51.384713 636804 daisy.py:401] source, nat, and fw start done
I1209 21:56:51.384953 636804 daisy.py:402] My commands
I1209 21:56:51.471966 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:56:53.474273 636804 daisy.py:419] < 2s wait complete
I1209 21:56:53.474472 636804 daisy.py:420] start VNF chaining
D1209 21:56:53.474653 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain0-source', vnf_src_interface='intf1', vnf_dst_name=u'chain0-nat', vnf_dst_interface='input'
I1209 21:56:53.474997 636804 net.py:665] Path between chain0-source and chain0-nat: ['dc64.s1', u'gsw0', 'dc80.s1']
I1209 21:56:53.475256 636804 net.py:889] add-flow
I1209 21:56:53.475347 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:1,output=1
I1209 21:56:53.493273 636804 net.py:893] add-flow in switch: dc64.s1 in_port: 2 out_port: 1
I1209 21:56:53.493485 636804 net.py:889] add-flow
I1209 21:56:53.493549 636804 net.py:890] in_port=43,dl_vlan=1,action=6
I1209 21:56:53.517525 636804 net.py:893] add-flow in switch: gsw0 in_port: 43 out_port: 6
I1209 21:56:53.517628 636804 net.py:694] end node reached: chain0-nat
I1209 21:56:53.517762 636804 net.py:889] add-flow
I1209 21:56:53.517920 636804 net.py:890] in_port=1,dl_vlan=1,action=strip_vlan,output=2
I1209 21:56:53.539052 636804 net.py:893] add-flow in switch: dc80.s1 in_port: 1 out_port: 2
D1209 21:56:53.539458 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain0-nat', vnf_src_interface='input', vnf_dst_name=u'chain0-source', vnf_dst_interface='intf1'
I1209 21:56:53.539668 636804 net.py:665] Path between chain0-nat and chain0-source: ['dc80.s1', u'gsw0', 'dc64.s1']
I1209 21:56:53.539825 636804 net.py:889] add-flow
I1209 21:56:53.539908 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:2,output=1
I1209 21:56:53.560915 636804 net.py:893] add-flow in switch: dc80.s1 in_port: 2 out_port: 1
I1209 21:56:53.561052 636804 net.py:889] add-flow
I1209 21:56:53.561175 636804 net.py:890] in_port=6,dl_vlan=2,action=43
I1209 21:56:53.585129 636804 net.py:893] add-flow in switch: gsw0 in_port: 6 out_port: 43
I1209 21:56:53.585225 636804 net.py:694] end node reached: chain0-source
I1209 21:56:53.585323 636804 net.py:889] add-flow
I1209 21:56:53.585387 636804 net.py:890] in_port=1,dl_vlan=2,action=strip_vlan,output=2
I1209 21:56:53.607949 636804 net.py:893] add-flow in switch: dc64.s1 in_port: 1 out_port: 2
I1209 21:56:53.608165 636804 daisy.py:322] chain(chain0-source, chain0-nat) output: success: add-flow between chain0-source and chain0-nat with options: {
 "priority": 1000, 
 "path": [
  "dc64.s1", 
  "gsw0", 
  "dc80.s1"
 ], 
 "vlan": 1, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain0-nat and chain0-source with options: {
 "priority": 1000, 
 "path": [
  "dc80.s1", 
  "gsw0", 
  "dc64.s1"
 ], 
 "vlan": 2, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:56:53.608273 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain0-nat', vnf_src_interface='output', vnf_dst_name=u'chain0-fw', vnf_dst_interface='input'
I1209 21:56:53.608392 636804 net.py:665] Path between chain0-nat and chain0-fw: ['dc80.s1', u'gsw0', 'dc96.s1']
I1209 21:56:53.608479 636804 net.py:889] add-flow
I1209 21:56:53.608539 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:3,output=1
I1209 21:56:53.627855 636804 net.py:893] add-flow in switch: dc80.s1 in_port: 3 out_port: 1
I1209 21:56:53.628040 636804 net.py:889] add-flow
I1209 21:56:53.628102 636804 net.py:890] in_port=6,dl_vlan=3,action=20
I1209 21:56:53.653470 636804 net.py:893] add-flow in switch: gsw0 in_port: 6 out_port: 20
I1209 21:56:53.653588 636804 net.py:915] Detected NAT<->FW Path(1) in switch: gsw0 in_port: 6 out_port: 20
I1209 21:56:53.653678 636804 net.py:931] add-flow
I1209 21:56:53.653808 636804 net.py:932] in_port=6,action=strip_vlan,output=20
I1209 21:56:53.678139 636804 net.py:935] add-flow in switch: gsw0 in_port: 6 out_port: 20
I1209 21:56:53.678266 636804 net.py:694] end node reached: chain0-fw
I1209 21:56:53.678334 636804 net.py:889] add-flow
I1209 21:56:53.678394 636804 net.py:890] in_port=1,dl_vlan=3,action=strip_vlan,output=2
I1209 21:56:53.700170 636804 net.py:893] add-flow in switch: dc96.s1 in_port: 1 out_port: 2
I1209 21:56:53.700278 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc96.s1 in_port: 1 out_port: 2
I1209 21:56:53.700326 636804 net.py:931] add-flow
I1209 21:56:53.700376 636804 net.py:932] in_port=1,action=strip_vlan,output=2
I1209 21:56:53.730535 636804 net.py:935] add-flow in switch: dc96.s1 in_port: 1 out_port: 2
D1209 21:56:53.730734 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain0-fw', vnf_src_interface='input', vnf_dst_name=u'chain0-nat', vnf_dst_interface='output'
I1209 21:56:53.730900 636804 net.py:665] Path between chain0-fw and chain0-nat: ['dc96.s1', u'gsw0', 'dc80.s1']
I1209 21:56:53.730990 636804 net.py:889] add-flow
I1209 21:56:53.731055 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:4,output=1
I1209 21:56:53.753544 636804 net.py:893] add-flow in switch: dc96.s1 in_port: 2 out_port: 1
I1209 21:56:53.753751 636804 net.py:889] add-flow
I1209 21:56:53.753859 636804 net.py:890] in_port=20,dl_vlan=4,action=6
I1209 21:56:53.779746 636804 net.py:893] add-flow in switch: gsw0 in_port: 20 out_port: 6
I1209 21:56:53.779947 636804 net.py:915] Detected NAT<->FW Path(1) in switch: gsw0 in_port: 20 out_port: 6
I1209 21:56:53.780015 636804 net.py:931] add-flow
I1209 21:56:53.780071 636804 net.py:932] in_port=20,action=strip_vlan,output=6
I1209 21:56:53.804243 636804 net.py:935] add-flow in switch: gsw0 in_port: 20 out_port: 6
I1209 21:56:53.804347 636804 net.py:694] end node reached: chain0-nat
I1209 21:56:53.804404 636804 net.py:889] add-flow
I1209 21:56:53.804450 636804 net.py:890] in_port=1,dl_vlan=4,action=strip_vlan,output=3
I1209 21:56:53.824960 636804 net.py:893] add-flow in switch: dc80.s1 in_port: 1 out_port: 3
I1209 21:56:53.825062 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc80.s1 in_port: 1 out_port: 3
I1209 21:56:53.825129 636804 net.py:931] add-flow
I1209 21:56:53.825201 636804 net.py:932] in_port=1,action=strip_vlan,output=3
I1209 21:56:53.858216 636804 net.py:935] add-flow in switch: dc80.s1 in_port: 1 out_port: 3
I1209 21:56:53.858397 636804 daisy.py:329] chain(chain0-nat, chain0-fw) output: success: add-flow between chain0-nat and chain0-fw with options: {
 "priority": 1000, 
 "path": [
  "dc80.s1", 
  "gsw0", 
  "dc96.s1"
 ], 
 "vlan": 3, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain0-fw and chain0-nat with options: {
 "priority": 1000, 
 "path": [
  "dc96.s1", 
  "gsw0", 
  "dc80.s1"
 ], 
 "vlan": 4, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:56:53.858516 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain0-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain0-ids', vnf_dst_interface='input'
I1209 21:56:53.858660 636804 net.py:665] Path between chain0-fw and chain0-ids: ['dc96.s1', u'gsw0', 'dc97.s1']
I1209 21:56:53.858835 636804 net.py:889] add-flow
I1209 21:56:53.858941 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:5,output=1
I1209 21:56:53.881624 636804 net.py:893] add-flow in switch: dc96.s1 in_port: 3 out_port: 1
I1209 21:56:53.881730 636804 net.py:889] add-flow
I1209 21:56:53.881777 636804 net.py:890] in_port=20,dl_vlan=5,action=35
I1209 21:56:53.911700 636804 net.py:893] add-flow in switch: gsw0 in_port: 20 out_port: 35
I1209 21:56:53.911848 636804 net.py:694] end node reached: chain0-ids
I1209 21:56:53.911921 636804 net.py:889] add-flow
I1209 21:56:53.911981 636804 net.py:890] in_port=1,dl_vlan=5,action=strip_vlan,output=2
I1209 21:56:53.928947 636804 net.py:893] add-flow in switch: dc97.s1 in_port: 1 out_port: 2
D1209 21:56:53.929121 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain0-ids', vnf_src_interface='input', vnf_dst_name=u'chain0-fw', vnf_dst_interface='output-ids'
I1209 21:56:53.929256 636804 net.py:665] Path between chain0-ids and chain0-fw: ['dc97.s1', u'gsw0', 'dc96.s1']
I1209 21:56:53.929335 636804 net.py:889] add-flow
I1209 21:56:53.929390 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:6,output=1
I1209 21:56:53.956513 636804 net.py:893] add-flow in switch: dc97.s1 in_port: 2 out_port: 1
I1209 21:56:53.956636 636804 net.py:889] add-flow
I1209 21:56:53.956695 636804 net.py:890] in_port=35,dl_vlan=6,action=20
I1209 21:56:53.980082 636804 net.py:893] add-flow in switch: gsw0 in_port: 35 out_port: 20
I1209 21:56:53.980241 636804 net.py:920] Detected IDS->FW Path(2) in switch: gsw0 in_port: 35 out_port: 20
I1209 21:56:53.980341 636804 net.py:931] add-flow
I1209 21:56:53.980390 636804 net.py:932] in_port=35,action=strip_vlan,output=20
I1209 21:56:54.013771 636804 net.py:935] add-flow in switch: gsw0 in_port: 35 out_port: 20
I1209 21:56:54.013973 636804 net.py:694] end node reached: chain0-fw
I1209 21:56:54.014053 636804 net.py:889] add-flow
I1209 21:56:54.014133 636804 net.py:890] in_port=1,dl_vlan=6,action=strip_vlan,output=3
I1209 21:56:54.026901 636804 net.py:893] add-flow in switch: dc96.s1 in_port: 1 out_port: 3
I1209 21:56:54.027008 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc96.s1 in_port: 1 out_port: 3
I1209 21:56:54.027074 636804 net.py:931] add-flow
I1209 21:56:54.027127 636804 net.py:932] in_port=1,action=strip_vlan,output=3
I1209 21:56:54.034722 636804 net.py:935] add-flow in switch: dc96.s1 in_port: 1 out_port: 3
I1209 21:56:54.034926 636804 daisy.py:336] chain(chain0-fw, chain0-ids) output: success: add-flow between chain0-fw and chain0-ids with options: {
 "priority": 1000, 
 "path": [
  "dc96.s1", 
  "gsw0", 
  "dc97.s1"
 ], 
 "vlan": 5, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain0-ids and chain0-fw with options: {
 "priority": 1000, 
 "path": [
  "dc97.s1", 
  "gsw0", 
  "dc96.s1"
 ], 
 "vlan": 6, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:56:54.035034 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain0-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain0-vpn', vnf_dst_interface='input-fw'
I1209 21:56:54.035145 636804 net.py:665] Path between chain0-fw and chain0-vpn: ['dc96.s1', u'gsw0', 'dc56.s1']
I1209 21:56:54.035237 636804 net.py:889] add-flow
I1209 21:56:54.035285 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:7,output=1
I1209 21:56:54.048243 636804 net.py:893] add-flow in switch: dc96.s1 in_port: 4 out_port: 1
I1209 21:56:54.048337 636804 net.py:889] add-flow
I1209 21:56:54.048392 636804 net.py:890] in_port=20,dl_vlan=7,action=23
I1209 21:56:54.055463 636804 net.py:893] add-flow in switch: gsw0 in_port: 20 out_port: 23
I1209 21:56:54.055552 636804 net.py:694] end node reached: chain0-vpn
I1209 21:56:54.055607 636804 net.py:889] add-flow
I1209 21:56:54.055655 636804 net.py:890] in_port=1,dl_vlan=7,action=strip_vlan,output=3
I1209 21:56:54.062881 636804 net.py:893] add-flow in switch: dc56.s1 in_port: 1 out_port: 3
D1209 21:56:54.063035 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain0-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain0-fw', vnf_dst_interface='output-vpn'
I1209 21:56:54.063147 636804 net.py:665] Path between chain0-vpn and chain0-fw: ['dc56.s1', u'gsw0', 'dc96.s1']
I1209 21:56:54.063247 636804 net.py:889] add-flow
I1209 21:56:54.063294 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:8,output=1
I1209 21:56:54.070171 636804 net.py:893] add-flow in switch: dc56.s1 in_port: 3 out_port: 1
I1209 21:56:54.070291 636804 net.py:889] add-flow
I1209 21:56:54.070343 636804 net.py:890] in_port=23,dl_vlan=8,action=20
I1209 21:56:54.077549 636804 net.py:893] add-flow in switch: gsw0 in_port: 23 out_port: 20
I1209 21:56:54.077635 636804 net.py:694] end node reached: chain0-fw
I1209 21:56:54.077688 636804 net.py:889] add-flow
I1209 21:56:54.077749 636804 net.py:890] in_port=1,dl_vlan=8,action=strip_vlan,output=4
I1209 21:56:54.084625 636804 net.py:893] add-flow in switch: dc96.s1 in_port: 1 out_port: 4
I1209 21:56:54.084795 636804 daisy.py:343] chain(chain0-fw, chain0-vpn) output: success: add-flow between chain0-fw and chain0-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc96.s1", 
  "gsw0", 
  "dc56.s1"
 ], 
 "vlan": 7, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain0-vpn and chain0-fw with options: {
 "priority": 1000, 
 "path": [
  "dc56.s1", 
  "gsw0", 
  "dc96.s1"
 ], 
 "vlan": 8, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:56:54.084928 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain0-ids', vnf_src_interface='output', vnf_dst_name=u'chain0-vpn', vnf_dst_interface='input-ids'
I1209 21:56:54.085028 636804 net.py:665] Path between chain0-ids and chain0-vpn: ['dc97.s1', u'gsw0', 'dc56.s1']
I1209 21:56:54.085109 636804 net.py:889] add-flow
I1209 21:56:54.085216 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:9,output=1
I1209 21:56:54.092482 636804 net.py:893] add-flow in switch: dc97.s1 in_port: 3 out_port: 1
I1209 21:56:54.092597 636804 net.py:889] add-flow
I1209 21:56:54.092675 636804 net.py:890] in_port=35,dl_vlan=9,action=23
I1209 21:56:54.099965 636804 net.py:893] add-flow in switch: gsw0 in_port: 35 out_port: 23
I1209 21:56:54.100069 636804 net.py:925] Detected IDS->VPN Path(3) in switch: gsw0 in_port: 35 out_port: 23
I1209 21:56:54.100136 636804 net.py:931] add-flow
I1209 21:56:54.100219 636804 net.py:932] in_port=35,action=strip_vlan,output=23
I1209 21:56:54.107151 636804 net.py:935] add-flow in switch: gsw0 in_port: 35 out_port: 23
I1209 21:56:54.107275 636804 net.py:694] end node reached: chain0-vpn
I1209 21:56:54.107361 636804 net.py:889] add-flow
I1209 21:56:54.107415 636804 net.py:890] in_port=1,dl_vlan=9,action=strip_vlan,output=2
I1209 21:56:54.120048 636804 net.py:893] add-flow in switch: dc56.s1 in_port: 1 out_port: 2
I1209 21:56:54.120151 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc56.s1 in_port: 1 out_port: 2
I1209 21:56:54.120265 636804 net.py:931] add-flow
I1209 21:56:54.120311 636804 net.py:932] in_port=1,action=strip_vlan,output=2
I1209 21:56:54.127434 636804 net.py:935] add-flow in switch: dc56.s1 in_port: 1 out_port: 2
D1209 21:56:54.127572 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain0-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain0-ids', vnf_dst_interface='output'
I1209 21:56:54.127681 636804 net.py:665] Path between chain0-vpn and chain0-ids: ['dc56.s1', u'gsw0', 'dc97.s1']
I1209 21:56:54.127748 636804 net.py:889] add-flow
I1209 21:56:54.127804 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:10,output=1
I1209 21:56:54.134993 636804 net.py:893] add-flow in switch: dc56.s1 in_port: 2 out_port: 1
I1209 21:56:54.135107 636804 net.py:889] add-flow
I1209 21:56:54.135175 636804 net.py:890] in_port=23,dl_vlan=10,action=35
I1209 21:56:54.141880 636804 net.py:893] add-flow in switch: gsw0 in_port: 23 out_port: 35
I1209 21:56:54.141983 636804 net.py:694] end node reached: chain0-ids
I1209 21:56:54.142060 636804 net.py:889] add-flow
I1209 21:56:54.142144 636804 net.py:890] in_port=1,dl_vlan=10,action=strip_vlan,output=3
I1209 21:56:54.148957 636804 net.py:893] add-flow in switch: dc97.s1 in_port: 1 out_port: 3
I1209 21:56:54.149110 636804 daisy.py:350] chain(chain0-ids, chain0-vpn) output: success: add-flow between chain0-ids and chain0-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc97.s1", 
  "gsw0", 
  "dc56.s1"
 ], 
 "vlan": 9, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain0-vpn and chain0-ids with options: {
 "priority": 1000, 
 "path": [
  "dc56.s1", 
  "gsw0", 
  "dc97.s1"
 ], 
 "vlan": 10, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:56:54.149240 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain0-vpn', vnf_src_interface='output', vnf_dst_name=u'chain0-sink', vnf_dst_interface='intf2'
I1209 21:56:54.149323 636804 net.py:665] Path between chain0-vpn and chain0-sink: ['dc56.s1', u'gsw0', 'dc66.s1']
I1209 21:56:54.149388 636804 net.py:889] add-flow
I1209 21:56:54.149432 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:11,output=1
I1209 21:56:54.156186 636804 net.py:893] add-flow in switch: dc56.s1 in_port: 4 out_port: 1
I1209 21:56:54.156303 636804 net.py:889] add-flow
I1209 21:56:54.156366 636804 net.py:890] in_port=23,dl_vlan=11,action=41
I1209 21:56:54.163357 636804 net.py:893] add-flow in switch: gsw0 in_port: 23 out_port: 41
I1209 21:56:54.163443 636804 net.py:694] end node reached: chain0-sink
I1209 21:56:54.163497 636804 net.py:889] add-flow
I1209 21:56:54.163563 636804 net.py:890] in_port=1,dl_vlan=11,action=strip_vlan,output=2
I1209 21:56:54.170429 636804 net.py:893] add-flow in switch: dc66.s1 in_port: 1 out_port: 2
D1209 21:56:54.170557 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain0-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain0-vpn', vnf_dst_interface='output'
I1209 21:56:54.170646 636804 net.py:665] Path between chain0-sink and chain0-vpn: ['dc66.s1', u'gsw0', 'dc56.s1']
I1209 21:56:54.170718 636804 net.py:889] add-flow
I1209 21:56:54.170770 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:12,output=1
I1209 21:56:54.177617 636804 net.py:893] add-flow in switch: dc66.s1 in_port: 2 out_port: 1
I1209 21:56:54.177714 636804 net.py:889] add-flow
I1209 21:56:54.177762 636804 net.py:890] in_port=41,dl_vlan=12,action=23
I1209 21:56:54.184581 636804 net.py:893] add-flow in switch: gsw0 in_port: 41 out_port: 23
I1209 21:56:54.184668 636804 net.py:694] end node reached: chain0-vpn
I1209 21:56:54.184722 636804 net.py:889] add-flow
I1209 21:56:54.184799 636804 net.py:890] in_port=1,dl_vlan=12,action=strip_vlan,output=4
I1209 21:56:54.191730 636804 net.py:893] add-flow in switch: dc56.s1 in_port: 1 out_port: 4
I1209 21:56:54.191917 636804 daisy.py:357] chain(chain0-vpn, chain0-sink) output: success: add-flow between chain0-vpn and chain0-sink with options: {
 "priority": 1000, 
 "path": [
  "dc56.s1", 
  "gsw0", 
  "dc66.s1"
 ], 
 "vlan": 11, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain0-sink and chain0-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc66.s1", 
  "gsw0", 
  "dc56.s1"
 ], 
 "vlan": 12, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:56:55 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:56:55 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:56:55 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:56:55 2017 UDPv4 link local: [undef]
Sat Dec  9 21:56:55 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:56:55 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=51767d6b 03e369d8
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:56:55 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:56:55 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:56:55 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:56:56 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:56:56 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:56:56 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:56:56 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:56:56 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:56:56 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:56:56 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:56:56 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:56:58 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:56:58 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:56:58 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:56:58 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:56:58 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:56:58 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:56:58 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:03
Sat Dec  9 21:56:58 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:56:58 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:56:58 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:56:58 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:56:58 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:56:58 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:56:58 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:56:58 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:56:58 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:56:58 2017 GID set to nogroup
Sat Dec  9 21:56:58 2017 UID set to nobody
Sat Dec  9 21:56:58 2017 Initialization Sequence Completed
I1209 21:57:01.452620 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:57:06.458065 636804 daisy.py:443] < 5s wait complete
I1209 21:57:06.458317 636804 daisy.py:444] VPN client VNF started
chain0-source -> chain0-sink 
chain0-sink -> chain0-source 
*** Results: 0% dropped (2/2 received)
I1209 21:57:10.108019 636804 daisy.py:369] ping chain0-source -> chain0-sink. Packet drop 0.0%
I1209 21:57:10.155214 636804 bench.py:19] Copying traces into the containers...
I1209 21:57:10.530198 636804 bench.py:29] Running dstat...
ied on ', 'dc41.s1')
('shell died on ', 'dc42.s1')
('shell died on ', 'dc47.s1')
('shell died on ', 'dc48.s1')
('shell died on ', 'dc11.s1')
('shell died on ', 'dc12.s1')
('shell died on ', 'dc49.s1')
('shell died on ', 'dc50.s1')
('shell died on ', 'dc16.s1')
('shell died on ', 'dc15.s1')
('shell died on ', 'dc14.s1')
('shell died on ', 'dc13.s1')
('shell died on ', 'dc20.s1')
('shell died on ', 'dc19.s1')
('shell died on ', 'dc18.s1')
('shell died on ', 'dc17.s1')
('shell died on ', 'dc22.s1')
('shell died on ', 'dc21.s1')
returned 10 from export PYTHONHASHSEED=1 && python3 ../../../monosat_datacenter/src/simple_nfv.py ../topologies/e2-azure-1rack-50-20servers.pn.json ../topologies/e2-chain-4vnfs-50wa.vn.json --output /tmp/ns_out.json --random (0 is success)
[{u'allocation_time': 0.0006470000000000087, u'assignment': [[u'source', u'off-cloud2'], [u'vpn', u'chain-server22'], [u'ids', u'chain-server34'], [u'nat', u'chain-server5'], [u'fw', u'chain-server19'], [u'sink', u'off-cloud0']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 0.08765499999999998, u'bandwidth': [[u'source', u'nat', 2, [u'off-cloud2', u'gsw', u'chain-server5']], [u'nat', u'fw', 2, [u'chain-server5', u'gsw', u'chain-server19']], [u'fw', u'ids', 1, [u'chain-server19', u'gsw', u'chain-server34']], [u'fw', u'vpn', 1, [u'chain-server19', u'gsw', u'chain-server22']], [u'ids', u'vpn', 1, [u'chain-server34', u'gsw', u'chain-server22']], [u'vpn', u'sink', 2, [u'chain-server22', u'gsw', u'off-cloud0']]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain0-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain0-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain0-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain0-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain0-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain0-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain0-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain0-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain0-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain0-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain0-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain0-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain0-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain0-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain0-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain0-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain0-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain0-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain0-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain0-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain0-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain0-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain0-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/random10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain0-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain0-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sI1209 21:57:12.719356 636804 iter-e2-allocation.py:17] started allocating chain: 1
I1209 21:57:12.719670 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server15']
I1209 21:57:12.719753 636804 daisy.py:240] creating chain1-fw on chain-server15
D1209 21:57:12.720144 636804 node.py:55] Starting compute instance u'chain1-fw' in data center 'chain-server15'
D1209 21:57:13.254869 636804 simple.py:169] Setting CPU limit for u'chain1-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:57:13.295377 636804 simple.py:215] Setting MEM limit for u'chain1-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:57:13.438028 636804 net.py:233] addLink: n1=chain1-fw intf1=input -- n2=dc84.s1 intf2=dc84.s1-eth2
D1209 21:57:13.565900 636804 net.py:233] addLink: n1=chain1-fw intf1=output-ids -- n2=dc84.s1 intf2=dc84.s1-eth3
D1209 21:57:13.696120 636804 net.py:233] addLink: n1=chain1-fw intf1=output-vpn -- n2=dc84.s1 intf2=dc84.s1-eth4
I1209 21:57:13.696280 636804 daisy.py:310] successfully created VNF: chain1-fw
I1209 21:57:13.696362 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server29']
I1209 21:57:13.696428 636804 daisy.py:240] creating chain1-vpn on chain-server29
D1209 21:57:13.696651 636804 node.py:55] Starting compute instance u'chain1-vpn' in data center 'chain-server29'
D1209 21:57:14.200366 636804 simple.py:169] Setting CPU limit for u'chain1-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:57:14.237420 636804 simple.py:215] Setting MEM limit for u'chain1-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:57:14.376087 636804 net.py:233] addLink: n1=chain1-vpn intf1=input-ids -- n2=dc51.s1 intf2=dc51.s1-eth2
D1209 21:57:14.546917 636804 net.py:233] addLink: n1=chain1-vpn intf1=input-fw -- n2=dc51.s1 intf2=dc51.s1-eth3
D1209 21:57:14.689364 636804 net.py:233] addLink: n1=chain1-vpn intf1=output -- n2=dc51.s1 intf2=dc51.s1-eth4
I1209 21:57:14.689516 636804 daisy.py:310] successfully created VNF: chain1-vpn
I1209 21:57:14.689600 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server36']
I1209 21:57:14.689686 636804 daisy.py:240] creating chain1-ids on chain-server36
D1209 21:57:14.690532 636804 node.py:55] Starting compute instance u'chain1-ids' in data center 'chain-server36'
D1209 21:57:15.218651 636804 simple.py:169] Setting CPU limit for u'chain1-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:57:15.261595 636804 simple.py:215] Setting MEM limit for u'chain1-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:57:15.415026 636804 net.py:233] addLink: n1=chain1-ids intf1=input -- n2=dc61.s1 intf2=dc61.s1-eth2
D1209 21:57:15.539077 636804 net.py:233] addLink: n1=chain1-ids intf1=output -- n2=dc61.s1 intf2=dc61.s1-eth3
I1209 21:57:15.539262 636804 daisy.py:310] successfully created VNF: chain1-ids
I1209 21:57:15.539346 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server11']
I1209 21:57:15.539433 636804 daisy.py:240] creating chain1-nat on chain-server11
D1209 21:57:15.539731 636804 node.py:55] Starting compute instance u'chain1-nat' in data center 'chain-server11'
D1209 21:57:16.322504 636804 simple.py:169] Setting CPU limit for u'chain1-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:57:16.363040 636804 simple.py:215] Setting MEM limit for u'chain1-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:57:16.505376 636804 net.py:233] addLink: n1=chain1-nat intf1=input -- n2=dc88.s1 intf2=dc88.s1-eth2
D1209 21:57:16.614908 636804 net.py:233] addLink: n1=chain1-nat intf1=output -- n2=dc88.s1 intf2=dc88.s1-eth3
I1209 21:57:16.615120 636804 daisy.py:310] successfully created VNF: chain1-nat
I1209 21:57:16.615226 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud4']
I1209 21:57:16.615294 636804 daisy.py:240] creating chain1-source on off-cloud4
D1209 21:57:16.615544 636804 node.py:55] Starting compute instance u'chain1-source' in data center 'off-cloud4'
D1209 21:57:17.105839 636804 simple.py:169] Setting CPU limit for u'chain1-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:57:17.140201 636804 simple.py:215] Setting MEM limit for u'chain1-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:57:17.289185 636804 net.py:233] addLink: n1=chain1-source intf1=intf1 -- n2=dc70.s1 intf2=dc70.s1-eth2
I1209 21:57:17.289355 636804 daisy.py:310] successfully created VNF: chain1-source
I1209 21:57:17.289429 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud6']
I1209 21:57:17.289499 636804 daisy.py:240] creating chain1-sink on off-cloud6
D1209 21:57:17.289887 636804 node.py:55] Starting compute instance u'chain1-sink' in data center 'off-cloud6'
D1209 21:57:17.806545 636804 simple.py:169] Setting CPU limit for u'chain1-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:57:17.853117 636804 simple.py:215] Setting MEM limit for u'chain1-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:57:18.001075 636804 net.py:233] addLink: n1=chain1-sink intf1=intf2 -- n2=dc68.s1 intf2=dc68.s1-eth2
I1209 21:57:18.001247 636804 daisy.py:310] successfully created VNF: chain1-sink
I1209 21:57:18.001357 636804 daisy.py:311] successfully created chain: 1
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:57:19.718785 636804 daisy.py:401] source, nat, and fw start done
I1209 21:57:19.719104 636804 daisy.py:402] My commands
I1209 21:57:19.806457 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:57:21.808821 636804 daisy.py:419] < 2s wait complete
I1209 21:57:21.809004 636804 daisy.py:420] start VNF chaining
D1209 21:57:21.809295 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain1-source', vnf_src_interface='intf1', vnf_dst_name=u'chain1-nat', vnf_dst_interface='input'
I1209 21:57:21.809575 636804 net.py:665] Path between chain1-source and chain1-nat: ['dc70.s1', u'gsw0', 'dc88.s1']
I1209 21:57:21.809874 636804 net.py:889] add-flow
I1209 21:57:21.809984 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:13,output=1
I1209 21:57:21.816613 636804 net.py:893] add-flow in switch: dc70.s1 in_port: 2 out_port: 1
I1209 21:57:21.816819 636804 net.py:889] add-flow
I1209 21:57:21.816907 636804 net.py:890] in_port=45,dl_vlan=13,action=12
I1209 21:57:21.829648 636804 net.py:893] add-flow in switch: gsw0 in_port: 45 out_port: 12
I1209 21:57:21.829792 636804 net.py:694] end node reached: chain1-nat
I1209 21:57:21.829907 636804 net.py:889] add-flow
I1209 21:57:21.830007 636804 net.py:890] in_port=1,dl_vlan=13,action=strip_vlan,output=2
I1209 21:57:21.837960 636804 net.py:893] add-flow in switch: dc88.s1 in_port: 1 out_port: 2
D1209 21:57:21.838430 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain1-nat', vnf_src_interface='input', vnf_dst_name=u'chain1-source', vnf_dst_interface='intf1'
I1209 21:57:21.838646 636804 net.py:665] Path between chain1-nat and chain1-source: ['dc88.s1', u'gsw0', 'dc70.s1']
I1209 21:57:21.838823 636804 net.py:889] add-flow
I1209 21:57:21.838906 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:14,output=1
I1209 21:57:21.849077 636804 net.py:893] add-flow in switch: dc88.s1 in_port: 2 out_port: 1
I1209 21:57:21.849210 636804 net.py:889] add-flow
I1209 21:57:21.849323 636804 net.py:890] in_port=12,dl_vlan=14,action=45
I1209 21:57:21.858880 636804 net.py:893] add-flow in switch: gsw0 in_port: 12 out_port: 45
I1209 21:57:21.859042 636804 net.py:694] end node reached: chain1-source
I1209 21:57:21.859179 636804 net.py:889] add-flow
I1209 21:57:21.859252 636804 net.py:890] in_port=1,dl_vlan=14,action=strip_vlan,output=2
I1209 21:57:21.869132 636804 net.py:893] add-flow in switch: dc70.s1 in_port: 1 out_port: 2
I1209 21:57:21.869314 636804 daisy.py:322] chain(chain1-source, chain1-nat) output: success: add-flow between chain1-source and chain1-nat with options: {
 "priority": 1000, 
 "path": [
  "dc70.s1", 
  "gsw0", 
  "dc88.s1"
 ], 
 "vlan": 13, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain1-nat and chain1-source with options: {
 "priority": 1000, 
 "path": [
  "dc88.s1", 
  "gsw0", 
  "dc70.s1"
 ], 
 "vlan": 14, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:57:21.869494 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain1-nat', vnf_src_interface='output', vnf_dst_name=u'chain1-fw', vnf_dst_interface='input'
I1209 21:57:21.869671 636804 net.py:665] Path between chain1-nat and chain1-fw: ['dc88.s1', u'gsw0', 'dc84.s1']
I1209 21:57:21.869879 636804 net.py:889] add-flow
I1209 21:57:21.869981 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:15,output=1
I1209 21:57:21.879812 636804 net.py:893] add-flow in switch: dc88.s1 in_port: 3 out_port: 1
I1209 21:57:21.880001 636804 net.py:889] add-flow
I1209 21:57:21.880111 636804 net.py:890] in_port=12,dl_vlan=15,action=16
I1209 21:57:21.890635 636804 net.py:893] add-flow in switch: gsw0 in_port: 12 out_port: 16
I1209 21:57:21.890810 636804 net.py:915] Detected NAT<->FW Path(1) in switch: gsw0 in_port: 12 out_port: 16
I1209 21:57:21.890906 636804 net.py:931] add-flow
I1209 21:57:21.890981 636804 net.py:932] in_port=12,action=strip_vlan,output=16
I1209 21:57:21.900512 636804 net.py:935] add-flow in switch: gsw0 in_port: 12 out_port: 16
I1209 21:57:21.900613 636804 net.py:694] end node reached: chain1-fw
I1209 21:57:21.900815 636804 net.py:889] add-flow
I1209 21:57:21.900892 636804 net.py:890] in_port=1,dl_vlan=15,action=strip_vlan,output=2
I1209 21:57:21.910396 636804 net.py:893] add-flow in switch: dc84.s1 in_port: 1 out_port: 2
I1209 21:57:21.910593 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc84.s1 in_port: 1 out_port: 2
I1209 21:57:21.910721 636804 net.py:931] add-flow
I1209 21:57:21.910804 636804 net.py:932] in_port=1,action=strip_vlan,output=2
I1209 21:57:21.921802 636804 net.py:935] add-flow in switch: dc84.s1 in_port: 1 out_port: 2
D1209 21:57:21.922005 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain1-fw', vnf_src_interface='input', vnf_dst_name=u'chain1-nat', vnf_dst_interface='output'
I1209 21:57:21.922244 636804 net.py:665] Path between chain1-fw and chain1-nat: ['dc84.s1', u'gsw0', 'dc88.s1']
I1209 21:57:21.922352 636804 net.py:889] add-flow
I1209 21:57:21.922425 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:16,output=1
I1209 21:57:21.933351 636804 net.py:893] add-flow in switch: dc84.s1 in_port: 2 out_port: 1
I1209 21:57:21.933516 636804 net.py:889] add-flow
I1209 21:57:21.933594 636804 net.py:890] in_port=16,dl_vlan=16,action=12
I1209 21:57:21.944555 636804 net.py:893] add-flow in switch: gsw0 in_port: 16 out_port: 12
I1209 21:57:21.944652 636804 net.py:915] Detected NAT<->FW Path(1) in switch: gsw0 in_port: 16 out_port: 12
I1209 21:57:21.944753 636804 net.py:931] add-flow
I1209 21:57:21.944833 636804 net.py:932] in_port=16,action=strip_vlan,output=12
I1209 21:57:21.955566 636804 net.py:935] add-flow in switch: gsw0 in_port: 16 out_port: 12
I1209 21:57:21.955714 636804 net.py:694] end node reached: chain1-nat
I1209 21:57:21.955832 636804 net.py:889] add-flow
I1209 21:57:21.955904 636804 net.py:890] in_port=1,dl_vlan=16,action=strip_vlan,output=3
I1209 21:57:21.965605 636804 net.py:893] add-flow in switch: dc88.s1 in_port: 1 out_port: 3
I1209 21:57:21.965735 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc88.s1 in_port: 1 out_port: 3
I1209 21:57:21.965831 636804 net.py:931] add-flow
I1209 21:57:21.965913 636804 net.py:932] in_port=1,action=strip_vlan,output=3
I1209 21:57:21.976000 636804 net.py:935] add-flow in switch: dc88.s1 in_port: 1 out_port: 3
I1209 21:57:21.976226 636804 daisy.py:329] chain(chain1-nat, chain1-fw) output: success: add-flow between chain1-nat and chain1-fw with options: {
 "priority": 1000, 
 "path": [
  "dc88.s1", 
  "gsw0", 
  "dc84.s1"
 ], 
 "vlan": 15, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain1-fw and chain1-nat with options: {
 "priority": 1000, 
 "path": [
  "dc84.s1", 
  "gsw0", 
  "dc88.s1"
 ], 
 "vlan": 16, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:57:21.976334 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain1-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain1-ids', vnf_dst_interface='input'
I1209 21:57:21.976495 636804 net.py:665] Path between chain1-fw and chain1-ids: ['dc84.s1', u'gsw0', 'dc61.s1']
I1209 21:57:21.976596 636804 net.py:889] add-flow
I1209 21:57:21.976767 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:17,output=1
I1209 21:57:21.986416 636804 net.py:893] add-flow in switch: dc84.s1 in_port: 3 out_port: 1
I1209 21:57:21.986622 636804 net.py:889] add-flow
I1209 21:57:21.986738 636804 net.py:890] in_port=16,dl_vlan=17,action=37
I1209 21:57:21.998821 636804 net.py:893] add-flow in switch: gsw0 in_port: 16 out_port: 37
I1209 21:57:21.998945 636804 net.py:694] end node reached: chain1-ids
I1209 21:57:21.999058 636804 net.py:889] add-flow
I1209 21:57:21.999140 636804 net.py:890] in_port=1,dl_vlan=17,action=strip_vlan,output=2
I1209 21:57:22.008516 636804 net.py:893] add-flow in switch: dc61.s1 in_port: 1 out_port: 2
D1209 21:57:22.010282 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain1-ids', vnf_src_interface='input', vnf_dst_name=u'chain1-fw', vnf_dst_interface='output-ids'
I1209 21:57:22.010483 636804 net.py:665] Path between chain1-ids and chain1-fw: ['dc61.s1', u'gsw0', 'dc84.s1']
I1209 21:57:22.010601 636804 net.py:889] add-flow
I1209 21:57:22.010730 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:18,output=1
I1209 21:57:22.018840 636804 net.py:893] add-flow in switch: dc61.s1 in_port: 2 out_port: 1
I1209 21:57:22.018984 636804 net.py:889] add-flow
I1209 21:57:22.019133 636804 net.py:890] in_port=37,dl_vlan=18,action=16
I1209 21:57:22.029762 636804 net.py:893] add-flow in switch: gsw0 in_port: 37 out_port: 16
I1209 21:57:22.029884 636804 net.py:920] Detected IDS->FW Path(2) in switch: gsw0 in_port: 37 out_port: 16
I1209 21:57:22.029973 636804 net.py:931] add-flow
I1209 21:57:22.030066 636804 net.py:932] in_port=37,action=strip_vlan,output=16
I1209 21:57:22.038959 636804 net.py:935] add-flow in switch: gsw0 in_port: 37 out_port: 16
I1209 21:57:22.039082 636804 net.py:694] end node reached: chain1-fw
I1209 21:57:22.039222 636804 net.py:889] add-flow
I1209 21:57:22.039300 636804 net.py:890] in_port=1,dl_vlan=18,action=strip_vlan,output=3
I1209 21:57:22.048214 636804 net.py:893] add-flow in switch: dc84.s1 in_port: 1 out_port: 3
I1209 21:57:22.048312 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc84.s1 in_port: 1 out_port: 3
I1209 21:57:22.048393 636804 net.py:931] add-flow
I1209 21:57:22.048471 636804 net.py:932] in_port=1,action=strip_vlan,output=3
I1209 21:57:22.055593 636804 net.py:935] add-flow in switch: dc84.s1 in_port: 1 out_port: 3
I1209 21:57:22.055834 636804 daisy.py:336] chain(chain1-fw, chain1-ids) output: success: add-flow between chain1-fw and chain1-ids with options: {
 "priority": 1000, 
 "path": [
  "dc84.s1", 
  "gsw0", 
  "dc61.s1"
 ], 
 "vlan": 17, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain1-ids and chain1-fw with options: {
 "priority": 1000, 
 "path": [
  "dc61.s1", 
  "gsw0", 
  "dc84.s1"
 ], 
 "vlan": 18, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:57:22.055979 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain1-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain1-vpn', vnf_dst_interface='input-fw'
I1209 21:57:22.056164 636804 net.py:665] Path between chain1-fw and chain1-vpn: ['dc84.s1', u'gsw0', 'dc51.s1']
I1209 21:57:22.056261 636804 net.py:889] add-flow
I1209 21:57:22.056320 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:19,output=1
I1209 21:57:22.068792 636804 net.py:893] add-flow in switch: dc84.s1 in_port: 4 out_port: 1
I1209 21:57:22.068968 636804 net.py:889] add-flow
I1209 21:57:22.069072 636804 net.py:890] in_port=16,dl_vlan=19,action=30
I1209 21:57:22.076602 636804 net.py:893] add-flow in switch: gsw0 in_port: 16 out_port: 30
I1209 21:57:22.076745 636804 net.py:694] end node reached: chain1-vpn
I1209 21:57:22.076857 636804 net.py:889] add-flow
I1209 21:57:22.076930 636804 net.py:890] in_port=1,dl_vlan=19,action=strip_vlan,output=3
I1209 21:57:22.084295 636804 net.py:893] add-flow in switch: dc51.s1 in_port: 1 out_port: 3
D1209 21:57:22.084475 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain1-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain1-fw', vnf_dst_interface='output-vpn'
I1209 21:57:22.084594 636804 net.py:665] Path between chain1-vpn and chain1-fw: ['dc51.s1', u'gsw0', 'dc84.s1']
I1209 21:57:22.084713 636804 net.py:889] add-flow
I1209 21:57:22.084788 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:20,output=1
I1209 21:57:22.091583 636804 net.py:893] add-flow in switch: dc51.s1 in_port: 3 out_port: 1
I1209 21:57:22.091727 636804 net.py:889] add-flow
I1209 21:57:22.091821 636804 net.py:890] in_port=30,dl_vlan=20,action=16
I1209 21:57:22.099997 636804 net.py:893] add-flow in switch: gsw0 in_port: 30 out_port: 16
I1209 21:57:22.100135 636804 net.py:694] end node reached: chain1-fw
I1209 21:57:22.100241 636804 net.py:889] add-flow
I1209 21:57:22.100308 636804 net.py:890] in_port=1,dl_vlan=20,action=strip_vlan,output=4
I1209 21:57:22.106543 636804 net.py:893] add-flow in switch: dc84.s1 in_port: 1 out_port: 4
I1209 21:57:22.106802 636804 daisy.py:343] chain(chain1-fw, chain1-vpn) output: success: add-flow between chain1-fw and chain1-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc84.s1", 
  "gsw0", 
  "dc51.s1"
 ], 
 "vlan": 19, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain1-vpn and chain1-fw with options: {
 "priority": 1000, 
 "path": [
  "dc51.s1", 
  "gsw0", 
  "dc84.s1"
 ], 
 "vlan": 20, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:57:22.106919 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain1-ids', vnf_src_interface='output', vnf_dst_name=u'chain1-vpn', vnf_dst_interface='input-ids'
I1209 21:57:22.107105 636804 net.py:665] Path between chain1-ids and chain1-vpn: ['dc61.s1', u'gsw0', 'dc51.s1']
I1209 21:57:22.107206 636804 net.py:889] add-flow
I1209 21:57:22.107266 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:21,output=1
I1209 21:57:22.114527 636804 net.py:893] add-flow in switch: dc61.s1 in_port: 3 out_port: 1
I1209 21:57:22.114694 636804 net.py:889] add-flow
I1209 21:57:22.114777 636804 net.py:890] in_port=37,dl_vlan=21,action=30
I1209 21:57:22.122540 636804 net.py:893] add-flow in switch: gsw0 in_port: 37 out_port: 30
I1209 21:57:22.122641 636804 net.py:925] Detected IDS->VPN Path(3) in switch: gsw0 in_port: 37 out_port: 30
I1209 21:57:22.122760 636804 net.py:931] add-flow
I1209 21:57:22.122843 636804 net.py:932] in_port=37,action=strip_vlan,output=30
I1209 21:57:22.130191 636804 net.py:935] add-flow in switch: gsw0 in_port: 37 out_port: 30
I1209 21:57:22.130307 636804 net.py:694] end node reached: chain1-vpn
I1209 21:57:22.130419 636804 net.py:889] add-flow
I1209 21:57:22.130534 636804 net.py:890] in_port=1,dl_vlan=21,action=strip_vlan,output=2
I1209 21:57:22.143317 636804 net.py:893] add-flow in switch: dc51.s1 in_port: 1 out_port: 2
I1209 21:57:22.143440 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc51.s1 in_port: 1 out_port: 2
I1209 21:57:22.143527 636804 net.py:931] add-flow
I1209 21:57:22.143598 636804 net.py:932] in_port=1,action=strip_vlan,output=2
I1209 21:57:22.151648 636804 net.py:935] add-flow in switch: dc51.s1 in_port: 1 out_port: 2
D1209 21:57:22.151878 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain1-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain1-ids', vnf_dst_interface='output'
I1209 21:57:22.152012 636804 net.py:665] Path between chain1-vpn and chain1-ids: ['dc51.s1', u'gsw0', 'dc61.s1']
I1209 21:57:22.152124 636804 net.py:889] add-flow
I1209 21:57:22.152194 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:22,output=1
I1209 21:57:22.158189 636804 net.py:893] add-flow in switch: dc51.s1 in_port: 2 out_port: 1
I1209 21:57:22.158335 636804 net.py:889] add-flow
I1209 21:57:22.158485 636804 net.py:890] in_port=30,dl_vlan=22,action=37
I1209 21:57:22.166738 636804 net.py:893] add-flow in switch: gsw0 in_port: 30 out_port: 37
I1209 21:57:22.166856 636804 net.py:694] end node reached: chain1-ids
I1209 21:57:22.166970 636804 net.py:889] add-flow
I1209 21:57:22.167067 636804 net.py:890] in_port=1,dl_vlan=22,action=strip_vlan,output=3
I1209 21:57:22.173969 636804 net.py:893] add-flow in switch: dc61.s1 in_port: 1 out_port: 3
I1209 21:57:22.174256 636804 daisy.py:350] chain(chain1-ids, chain1-vpn) output: success: add-flow between chain1-ids and chain1-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc61.s1", 
  "gsw0", 
  "dc51.s1"
 ], 
 "vlan": 21, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain1-vpn and chain1-ids with options: {
 "priority": 1000, 
 "path": [
  "dc51.s1", 
  "gsw0", 
  "dc61.s1"
 ], 
 "vlan": 22, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:57:22.174365 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain1-vpn', vnf_src_interface='output', vnf_dst_name=u'chain1-sink', vnf_dst_interface='intf2'
I1209 21:57:22.174546 636804 net.py:665] Path between chain1-vpn and chain1-sink: ['dc51.s1', u'gsw0', 'dc68.s1']
I1209 21:57:22.174638 636804 net.py:889] add-flow
I1209 21:57:22.174752 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:23,output=1
I1209 21:57:22.180705 636804 net.py:893] add-flow in switch: dc51.s1 in_port: 4 out_port: 1
I1209 21:57:22.180883 636804 net.py:889] add-flow
I1209 21:57:22.180970 636804 net.py:890] in_port=30,dl_vlan=23,action=47
I1209 21:57:22.188785 636804 net.py:893] add-flow in switch: gsw0 in_port: 30 out_port: 47
I1209 21:57:22.188903 636804 net.py:694] end node reached: chain1-sink
I1209 21:57:22.189016 636804 net.py:889] add-flow
I1209 21:57:22.189097 636804 net.py:890] in_port=1,dl_vlan=23,action=strip_vlan,output=2
I1209 21:57:22.196578 636804 net.py:893] add-flow in switch: dc68.s1 in_port: 1 out_port: 2
D1209 21:57:22.196793 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain1-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain1-vpn', vnf_dst_interface='output'
I1209 21:57:22.196928 636804 net.py:665] Path between chain1-sink and chain1-vpn: ['dc68.s1', u'gsw0', 'dc51.s1']
I1209 21:57:22.197067 636804 net.py:889] add-flow
I1209 21:57:22.197134 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:24,output=1
I1209 21:57:22.204406 636804 net.py:893] add-flow in switch: dc68.s1 in_port: 2 out_port: 1
I1209 21:57:22.204519 636804 net.py:889] add-flow
I1209 21:57:22.204610 636804 net.py:890] in_port=47,dl_vlan=24,action=30
I1209 21:57:22.211843 636804 net.py:893] add-flow in switch: gsw0 in_port: 47 out_port: 30
I1209 21:57:22.211958 636804 net.py:694] end node reached: chain1-vpn
I1209 21:57:22.212074 636804 net.py:889] add-flow
I1209 21:57:22.212158 636804 net.py:890] in_port=1,dl_vlan=24,action=strip_vlan,output=4
I1209 21:57:22.219407 636804 net.py:893] add-flow in switch: dc51.s1 in_port: 1 out_port: 4
I1209 21:57:22.219589 636804 daisy.py:357] chain(chain1-vpn, chain1-sink) output: success: add-flow between chain1-vpn and chain1-sink with options: {
 "priority": 1000, 
 "path": [
  "dc51.s1", 
  "gsw0", 
  "dc68.s1"
 ], 
 "vlan": 23, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain1-sink and chain1-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc68.s1", 
  "gsw0", 
  "dc51.s1"
 ], 
 "vlan": 24, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:57:23 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:57:23 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:57:23 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:57:23 2017 UDPv4 link local: [undef]
Sat Dec  9 21:57:23 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:57:23 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=b98c30bc 61113670
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:57:23 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:57:23 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:57:23 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:57:24 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:57:24 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:57:24 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:57:24 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:57:24 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:57:24 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:57:24 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:57:24 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:57:26 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:57:26 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:57:26 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:57:26 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:57:26 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:57:26 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:57:26 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:09
Sat Dec  9 21:57:26 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:57:26 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:57:26 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:57:26 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:57:26 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:57:26 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:57:26 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:57:26 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:57:26 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:57:26 2017 GID set to nogroup
Sat Dec  9 21:57:26 2017 UID set to nobody
Sat Dec  9 21:57:26 2017 Initialization Sequence Completed
I1209 21:57:29.348794 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:57:34.354190 636804 daisy.py:443] < 5s wait complete
I1209 21:57:34.354387 636804 daisy.py:444] VPN client VNF started
chain1-source -> chain1-sink 
chain1-sink -> chain1-source 
*** Results: 0% dropped (2/2 received)
I1209 21:57:37.711779 636804 daisy.py:369] ping chain1-source -> chain1-sink. Packet drop 0.0%
I1209 21:57:37.753309 636804 bench.py:19] Copying traces into the containers...
I1209 21:57:38.166457 636804 bench.py:29] Running dstat...
I1209 21:57:41.241158 636804 iter-e2-allocation.py:17] started allocating chain: 2
udo docker exec -d mn.chain0-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.0011030000000000206, u'assignment': [[u'fw', u'chain-server15'], [u'vpn', u'chain-server29'], [u'ids', u'chain-server36'], [u'nat', u'chain-server11'], [u'source', u'off-cloud4'], [u'sink', u'off-cloud6']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 0.09251700000000002, u'bandwidth': [[u'source', u'nat', 2, [u'off-cloud4', u'gsw', u'chain-server11']], [u'nat', u'fw', 2, [u'chain-server11', u'gsw', u'chain-server15']], [u'fw', u'ids', 1, [u'chain-server15', u'gsw', u'chain-server36']], [u'fw', u'vpn', 1, [u'chain-server15', u'gsw', u'chain-server29']], [u'ids', u'vpn', 1, [u'chain-server36', u'gsw', u'chain-server29']], [u'vpn', u'sink', 2, [u'chain-server29', u'gsw', u'off-cloud6']]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain1-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain1-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain1-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain1-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain1-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain1-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain1-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain1-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain1-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain1-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain1-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain1-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain1-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain1-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain1-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain1-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain1-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain1-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain1-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain1-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain1-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain1-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain1-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/random10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain1-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain1-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain1-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.0006770000000000387, u'assignment': [[u'fw', u'chain-server14'], [u'sink', u'off-cloud3'], [u'ids', u'chain-server9'], [u'nat', u'chain-server27'], [u'source', u'off-cloud5'], [u'vpn', u'chain-server34']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 0.019774000000000014, u'bandwidth': [[u'source', u'nat', 2, [u'off-cloud5', u'gsw', u'chain-server27']], [u'nat', u'fw', 2, [u'chain-server27', u'gsw', u'chain-server14']], [u'fw', u'ids', 1, [u'chain-server14', u'gsw', u'chain-server9']], [u'fw', u'vpn', 1, [u'chaI1209 21:57:41.241579 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server14']
I1209 21:57:41.241719 636804 daisy.py:240] creating chain2-fw on chain-server14
D1209 21:57:41.242819 636804 node.py:55] Starting compute instance u'chain2-fw' in data center 'chain-server14'
D1209 21:57:42.108967 636804 simple.py:169] Setting CPU limit for u'chain2-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:57:42.147161 636804 simple.py:215] Setting MEM limit for u'chain2-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:57:42.319119 636804 net.py:233] addLink: n1=chain2-fw intf1=input -- n2=dc83.s1 intf2=dc83.s1-eth2
D1209 21:57:42.442085 636804 net.py:233] addLink: n1=chain2-fw intf1=output-ids -- n2=dc83.s1 intf2=dc83.s1-eth3
D1209 21:57:42.573728 636804 net.py:233] addLink: n1=chain2-fw intf1=output-vpn -- n2=dc83.s1 intf2=dc83.s1-eth4
I1209 21:57:42.573930 636804 daisy.py:310] successfully created VNF: chain2-fw
I1209 21:57:42.574075 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud3']
I1209 21:57:42.574220 636804 daisy.py:240] creating chain2-sink on off-cloud3
D1209 21:57:42.574554 636804 node.py:55] Starting compute instance u'chain2-sink' in data center 'off-cloud3'
D1209 21:57:43.094063 636804 simple.py:169] Setting CPU limit for u'chain2-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:57:43.137362 636804 simple.py:215] Setting MEM limit for u'chain2-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:57:43.280453 636804 net.py:233] addLink: n1=chain2-sink intf1=intf2 -- n2=dc63.s1 intf2=dc63.s1-eth2
I1209 21:57:43.280646 636804 daisy.py:310] successfully created VNF: chain2-sink
I1209 21:57:43.280719 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server9']
I1209 21:57:43.280788 636804 daisy.py:240] creating chain2-ids on chain-server9
D1209 21:57:43.281192 636804 node.py:55] Starting compute instance u'chain2-ids' in data center 'chain-server9'
D1209 21:57:43.800609 636804 simple.py:169] Setting CPU limit for u'chain2-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:57:43.840039 636804 simple.py:215] Setting MEM limit for u'chain2-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:57:44.000283 636804 net.py:233] addLink: n1=chain2-ids intf1=input -- n2=dc82.s1 intf2=dc82.s1-eth2
D1209 21:57:44.126420 636804 net.py:233] addLink: n1=chain2-ids intf1=output -- n2=dc82.s1 intf2=dc82.s1-eth3
I1209 21:57:44.126626 636804 daisy.py:310] successfully created VNF: chain2-ids
I1209 21:57:44.126735 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server27']
I1209 21:57:44.126828 636804 daisy.py:240] creating chain2-nat on chain-server27
D1209 21:57:44.127190 636804 node.py:55] Starting compute instance u'chain2-nat' in data center 'chain-server27'
D1209 21:57:44.667299 636804 simple.py:169] Setting CPU limit for u'chain2-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:57:44.708935 636804 simple.py:215] Setting MEM limit for u'chain2-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:57:44.838021 636804 net.py:233] addLink: n1=chain2-nat intf1=input -- n2=dc59.s1 intf2=dc59.s1-eth2
D1209 21:57:45.022089 636804 net.py:233] addLink: n1=chain2-nat intf1=output -- n2=dc59.s1 intf2=dc59.s1-eth3
I1209 21:57:45.022499 636804 daisy.py:310] successfully created VNF: chain2-nat
I1209 21:57:45.022612 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud5']
I1209 21:57:45.022705 636804 daisy.py:240] creating chain2-source on off-cloud5
D1209 21:57:45.023052 636804 node.py:55] Starting compute instance u'chain2-source' in data center 'off-cloud5'
D1209 21:57:45.583864 636804 simple.py:169] Setting CPU limit for u'chain2-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:57:45.629112 636804 simple.py:215] Setting MEM limit for u'chain2-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:57:45.761955 636804 net.py:233] addLink: n1=chain2-source intf1=intf1 -- n2=dc69.s1 intf2=dc69.s1-eth2
I1209 21:57:45.762176 636804 daisy.py:310] successfully created VNF: chain2-source
I1209 21:57:45.762319 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server34']
I1209 21:57:45.762459 636804 daisy.py:240] creating chain2-vpn on chain-server34
D1209 21:57:45.762762 636804 node.py:55] Starting compute instance u'chain2-vpn' in data center 'chain-server34'
D1209 21:57:46.273997 636804 simple.py:169] Setting CPU limit for u'chain2-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:57:46.320799 636804 simple.py:215] Setting MEM limit for u'chain2-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:57:46.341691 636804 simple.py:215] Setting MEM limit for u'chain0-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:57:46.496030 636804 net.py:233] addLink: n1=chain2-vpn intf1=input-ids -- n2=dc97.s1 intf2=dc97.s1-eth4
D1209 21:57:46.641254 636804 net.py:233] addLink: n1=chain2-vpn intf1=input-fw -- n2=dc97.s1 intf2=dc97.s1-eth5
D1209 21:57:46.756393 636804 net.py:233] addLink: n1=chain2-vpn intf1=output -- n2=dc97.s1 intf2=dc97.s1-eth6
I1209 21:57:46.756568 636804 daisy.py:310] successfully created VNF: chain2-vpn
I1209 21:57:46.756692 636804 daisy.py:311] successfully created chain: 2
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:57:48.692622 636804 daisy.py:401] source, nat, and fw start done
I1209 21:57:48.692806 636804 daisy.py:402] My commands
I1209 21:57:48.783494 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:57:50.785808 636804 daisy.py:419] < 2s wait complete
I1209 21:57:50.786137 636804 daisy.py:420] start VNF chaining
D1209 21:57:50.786254 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain2-source', vnf_src_interface='intf1', vnf_dst_name=u'chain2-nat', vnf_dst_interface='input'
I1209 21:57:50.786469 636804 net.py:665] Path between chain2-source and chain2-nat: ['dc69.s1', u'gsw0', 'dc59.s1']
I1209 21:57:50.786734 636804 net.py:889] add-flow
I1209 21:57:50.786930 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:25,output=1
I1209 21:57:50.798299 636804 net.py:893] add-flow in switch: dc69.s1 in_port: 2 out_port: 1
I1209 21:57:50.798609 636804 net.py:889] add-flow
I1209 21:57:50.798696 636804 net.py:890] in_port=46,dl_vlan=25,action=28
I1209 21:57:50.811415 636804 net.py:893] add-flow in switch: gsw0 in_port: 46 out_port: 28
I1209 21:57:50.811537 636804 net.py:694] end node reached: chain2-nat
I1209 21:57:50.811642 636804 net.py:889] add-flow
I1209 21:57:50.811708 636804 net.py:890] in_port=1,dl_vlan=25,action=strip_vlan,output=2
I1209 21:57:50.824104 636804 net.py:893] add-flow in switch: dc59.s1 in_port: 1 out_port: 2
D1209 21:57:50.824376 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain2-nat', vnf_src_interface='input', vnf_dst_name=u'chain2-source', vnf_dst_interface='intf1'
I1209 21:57:50.824506 636804 net.py:665] Path between chain2-nat and chain2-source: ['dc59.s1', u'gsw0', 'dc69.s1']
I1209 21:57:50.824600 636804 net.py:889] add-flow
I1209 21:57:50.824681 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:26,output=1
I1209 21:57:50.839181 636804 net.py:893] add-flow in switch: dc59.s1 in_port: 2 out_port: 1
I1209 21:57:50.839349 636804 net.py:889] add-flow
I1209 21:57:50.839473 636804 net.py:890] in_port=28,dl_vlan=26,action=46
I1209 21:57:50.855801 636804 net.py:893] add-flow in switch: gsw0 in_port: 28 out_port: 46
I1209 21:57:50.855899 636804 net.py:694] end node reached: chain2-source
I1209 21:57:50.856018 636804 net.py:889] add-flow
I1209 21:57:50.856098 636804 net.py:890] in_port=1,dl_vlan=26,action=strip_vlan,output=2
I1209 21:57:50.873107 636804 net.py:893] add-flow in switch: dc69.s1 in_port: 1 out_port: 2
I1209 21:57:50.873312 636804 daisy.py:322] chain(chain2-source, chain2-nat) output: success: add-flow between chain2-source and chain2-nat with options: {
 "priority": 1000, 
 "path": [
  "dc69.s1", 
  "gsw0", 
  "dc59.s1"
 ], 
 "vlan": 25, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain2-nat and chain2-source with options: {
 "priority": 1000, 
 "path": [
  "dc59.s1", 
  "gsw0", 
  "dc69.s1"
 ], 
 "vlan": 26, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:57:50.873492 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain2-nat', vnf_src_interface='output', vnf_dst_name=u'chain2-fw', vnf_dst_interface='input'
I1209 21:57:50.873610 636804 net.py:665] Path between chain2-nat and chain2-fw: ['dc59.s1', u'gsw0', 'dc83.s1']
I1209 21:57:50.873702 636804 net.py:889] add-flow
I1209 21:57:50.873770 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:27,output=1
I1209 21:57:50.889606 636804 net.py:893] add-flow in switch: dc59.s1 in_port: 3 out_port: 1
I1209 21:57:50.889758 636804 net.py:889] add-flow
I1209 21:57:50.889874 636804 net.py:890] in_port=28,dl_vlan=27,action=15
I1209 21:57:50.904500 636804 net.py:893] add-flow in switch: gsw0 in_port: 28 out_port: 15
I1209 21:57:50.904617 636804 net.py:915] Detected NAT<->FW Path(1) in switch: gsw0 in_port: 28 out_port: 15
I1209 21:57:50.904687 636804 net.py:931] add-flow
I1209 21:57:50.904786 636804 net.py:932] in_port=28,action=strip_vlan,output=15
I1209 21:57:50.917548 636804 net.py:935] add-flow in switch: gsw0 in_port: 28 out_port: 15
I1209 21:57:50.917661 636804 net.py:694] end node reached: chain2-fw
I1209 21:57:50.917767 636804 net.py:889] add-flow
I1209 21:57:50.917830 636804 net.py:890] in_port=1,dl_vlan=27,action=strip_vlan,output=2
I1209 21:57:50.931052 636804 net.py:893] add-flow in switch: dc83.s1 in_port: 1 out_port: 2
I1209 21:57:50.931166 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc83.s1 in_port: 1 out_port: 2
I1209 21:57:50.931250 636804 net.py:931] add-flow
I1209 21:57:50.931355 636804 net.py:932] in_port=1,action=strip_vlan,output=2
I1209 21:57:50.947491 636804 net.py:935] add-flow in switch: dc83.s1 in_port: 1 out_port: 2
D1209 21:57:50.947670 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain2-fw', vnf_src_interface='input', vnf_dst_name=u'chain2-nat', vnf_dst_interface='output'
I1209 21:57:50.947789 636804 net.py:665] Path between chain2-fw and chain2-nat: ['dc83.s1', u'gsw0', 'dc59.s1']
I1209 21:57:50.947947 636804 net.py:889] add-flow
I1209 21:57:50.948044 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:28,output=1
I1209 21:57:50.962433 636804 net.py:893] add-flow in switch: dc83.s1 in_port: 2 out_port: 1
I1209 21:57:50.962574 636804 net.py:889] add-flow
I1209 21:57:50.962665 636804 net.py:890] in_port=15,dl_vlan=28,action=28
I1209 21:57:50.976373 636804 net.py:893] add-flow in switch: gsw0 in_port: 15 out_port: 28
I1209 21:57:50.976485 636804 net.py:915] Detected NAT<->FW Path(1) in switch: gsw0 in_port: 15 out_port: 28
I1209 21:57:50.976553 636804 net.py:931] add-flow
I1209 21:57:50.976624 636804 net.py:932] in_port=15,action=strip_vlan,output=28
I1209 21:57:50.989521 636804 net.py:935] add-flow in switch: gsw0 in_port: 15 out_port: 28
I1209 21:57:50.989617 636804 net.py:694] end node reached: chain2-nat
I1209 21:57:50.989737 636804 net.py:889] add-flow
I1209 21:57:50.989799 636804 net.py:890] in_port=1,dl_vlan=28,action=strip_vlan,output=3
I1209 21:57:51.002346 636804 net.py:893] add-flow in switch: dc59.s1 in_port: 1 out_port: 3
I1209 21:57:51.002479 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc59.s1 in_port: 1 out_port: 3
I1209 21:57:51.002582 636804 net.py:931] add-flow
I1209 21:57:51.002666 636804 net.py:932] in_port=1,action=strip_vlan,output=3
I1209 21:57:51.017040 636804 net.py:935] add-flow in switch: dc59.s1 in_port: 1 out_port: 3
I1209 21:57:51.018949 636804 daisy.py:329] chain(chain2-nat, chain2-fw) output: success: add-flow between chain2-nat and chain2-fw with options: {
 "priority": 1000, 
 "path": [
  "dc59.s1", 
  "gsw0", 
  "dc83.s1"
 ], 
 "vlan": 27, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain2-fw and chain2-nat with options: {
 "priority": 1000, 
 "path": [
  "dc83.s1", 
  "gsw0", 
  "dc59.s1"
 ], 
 "vlan": 28, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:57:51.019112 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain2-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain2-ids', vnf_dst_interface='input'
I1209 21:57:51.019252 636804 net.py:665] Path between chain2-fw and chain2-ids: ['dc83.s1', u'gsw0', 'dc82.s1']
I1209 21:57:51.019375 636804 net.py:889] add-flow
I1209 21:57:51.019447 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:29,output=1
I1209 21:57:51.031094 636804 net.py:893] add-flow in switch: dc83.s1 in_port: 3 out_port: 1
I1209 21:57:51.031271 636804 net.py:889] add-flow
I1209 21:57:51.031399 636804 net.py:890] in_port=15,dl_vlan=29,action=10
I1209 21:57:51.046130 636804 net.py:893] add-flow in switch: gsw0 in_port: 15 out_port: 10
I1209 21:57:51.046255 636804 net.py:694] end node reached: chain2-ids
I1209 21:57:51.046422 636804 net.py:889] add-flow
I1209 21:57:51.046506 636804 net.py:890] in_port=1,dl_vlan=29,action=strip_vlan,output=2
I1209 21:57:51.057730 636804 net.py:893] add-flow in switch: dc82.s1 in_port: 1 out_port: 2
D1209 21:57:51.057954 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain2-ids', vnf_src_interface='input', vnf_dst_name=u'chain2-fw', vnf_dst_interface='output-ids'
I1209 21:57:51.058168 636804 net.py:665] Path between chain2-ids and chain2-fw: ['dc82.s1', u'gsw0', 'dc83.s1']
I1209 21:57:51.058310 636804 net.py:889] add-flow
I1209 21:57:51.058450 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:30,output=1
I1209 21:57:51.072459 636804 net.py:893] add-flow in switch: dc82.s1 in_port: 2 out_port: 1
I1209 21:57:51.072571 636804 net.py:889] add-flow
I1209 21:57:51.072676 636804 net.py:890] in_port=10,dl_vlan=30,action=15
I1209 21:57:51.088810 636804 net.py:893] add-flow in switch: gsw0 in_port: 10 out_port: 15
I1209 21:57:51.088927 636804 net.py:920] Detected IDS->FW Path(2) in switch: gsw0 in_port: 10 out_port: 15
I1209 21:57:51.089031 636804 net.py:931] add-flow
I1209 21:57:51.089117 636804 net.py:932] in_port=10,action=strip_vlan,output=15
I1209 21:57:51.103807 636804 net.py:935] add-flow in switch: gsw0 in_port: 10 out_port: 15
I1209 21:57:51.103951 636804 net.py:694] end node reached: chain2-fw
I1209 21:57:51.104072 636804 net.py:889] add-flow
I1209 21:57:51.104150 636804 net.py:890] in_port=1,dl_vlan=30,action=strip_vlan,output=3
I1209 21:57:51.114583 636804 net.py:893] add-flow in switch: dc83.s1 in_port: 1 out_port: 3
I1209 21:57:51.114671 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc83.s1 in_port: 1 out_port: 3
I1209 21:57:51.114758 636804 net.py:931] add-flow
I1209 21:57:51.114818 636804 net.py:932] in_port=1,action=strip_vlan,output=3
I1209 21:57:51.123225 636804 net.py:935] add-flow in switch: dc83.s1 in_port: 1 out_port: 3
I1209 21:57:51.123477 636804 daisy.py:336] chain(chain2-fw, chain2-ids) output: success: add-flow between chain2-fw and chain2-ids with options: {
 "priority": 1000, 
 "path": [
  "dc83.s1", 
  "gsw0", 
  "dc82.s1"
 ], 
 "vlan": 29, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain2-ids and chain2-fw with options: {
 "priority": 1000, 
 "path": [
  "dc82.s1", 
  "gsw0", 
  "dc83.s1"
 ], 
 "vlan": 30, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:57:51.123584 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain2-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain2-vpn', vnf_dst_interface='input-fw'
I1209 21:57:51.123697 636804 net.py:665] Path between chain2-fw and chain2-vpn: ['dc83.s1', u'gsw0', 'dc97.s1']
I1209 21:57:51.123785 636804 net.py:889] add-flow
I1209 21:57:51.123852 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:31,output=1
I1209 21:57:51.137608 636804 net.py:893] add-flow in switch: dc83.s1 in_port: 4 out_port: 1
I1209 21:57:51.137778 636804 net.py:889] add-flow
I1209 21:57:51.137873 636804 net.py:890] in_port=15,dl_vlan=31,action=35
I1209 21:57:51.145987 636804 net.py:893] add-flow in switch: gsw0 in_port: 15 out_port: 35
I1209 21:57:51.146141 636804 net.py:694] end node reached: chain2-vpn
I1209 21:57:51.146245 636804 net.py:889] add-flow
I1209 21:57:51.146352 636804 net.py:890] in_port=1,dl_vlan=31,action=strip_vlan,output=5
I1209 21:57:51.153580 636804 net.py:893] add-flow in switch: dc97.s1 in_port: 1 out_port: 5
D1209 21:57:51.153829 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain2-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain2-fw', vnf_dst_interface='output-vpn'
I1209 21:57:51.153985 636804 net.py:665] Path between chain2-vpn and chain2-fw: ['dc97.s1', u'gsw0', 'dc83.s1']
I1209 21:57:51.154161 636804 net.py:889] add-flow
I1209 21:57:51.154261 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:32,output=1
I1209 21:57:51.161871 636804 net.py:893] add-flow in switch: dc97.s1 in_port: 5 out_port: 1
I1209 21:57:51.162015 636804 net.py:889] add-flow
I1209 21:57:51.162132 636804 net.py:890] in_port=35,dl_vlan=32,action=15
I1209 21:57:51.169148 636804 net.py:893] add-flow in switch: gsw0 in_port: 35 out_port: 15
I1209 21:57:51.169264 636804 net.py:694] end node reached: chain2-fw
I1209 21:57:51.169374 636804 net.py:889] add-flow
I1209 21:57:51.169444 636804 net.py:890] in_port=1,dl_vlan=32,action=strip_vlan,output=4
I1209 21:57:51.177129 636804 net.py:893] add-flow in switch: dc83.s1 in_port: 1 out_port: 4
I1209 21:57:51.177320 636804 daisy.py:343] chain(chain2-fw, chain2-vpn) output: success: add-flow between chain2-fw and chain2-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc83.s1", 
  "gsw0", 
  "dc97.s1"
 ], 
 "vlan": 31, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain2-vpn and chain2-fw with options: {
 "priority": 1000, 
 "path": [
  "dc97.s1", 
  "gsw0", 
  "dc83.s1"
 ], 
 "vlan": 32, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:57:51.177442 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain2-ids', vnf_src_interface='output', vnf_dst_name=u'chain2-vpn', vnf_dst_interface='input-ids'
I1209 21:57:51.177547 636804 net.py:665] Path between chain2-ids and chain2-vpn: ['dc82.s1', u'gsw0', 'dc97.s1']
I1209 21:57:51.177637 636804 net.py:889] add-flow
I1209 21:57:51.177709 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:33,output=1
I1209 21:57:51.184609 636804 net.py:893] add-flow in switch: dc82.s1 in_port: 3 out_port: 1
I1209 21:57:51.184742 636804 net.py:889] add-flow
I1209 21:57:51.184850 636804 net.py:890] in_port=10,dl_vlan=33,action=35
I1209 21:57:51.194505 636804 net.py:893] add-flow in switch: gsw0 in_port: 10 out_port: 35
I1209 21:57:51.194617 636804 net.py:925] Detected IDS->VPN Path(3) in switch: gsw0 in_port: 10 out_port: 35
I1209 21:57:51.194730 636804 net.py:931] add-flow
I1209 21:57:51.194798 636804 net.py:932] in_port=10,action=strip_vlan,output=35
I1209 21:57:51.201459 636804 net.py:935] add-flow in switch: gsw0 in_port: 10 out_port: 35
I1209 21:57:51.201550 636804 net.py:694] end node reached: chain2-vpn
I1209 21:57:51.201634 636804 net.py:889] add-flow
I1209 21:57:51.201705 636804 net.py:890] in_port=1,dl_vlan=33,action=strip_vlan,output=4
I1209 21:57:51.220828 636804 net.py:893] add-flow in switch: dc97.s1 in_port: 1 out_port: 4
I1209 21:57:51.220923 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc97.s1 in_port: 1 out_port: 4
I1209 21:57:51.221035 636804 net.py:931] add-flow
I1209 21:57:51.221115 636804 net.py:932] in_port=1,action=strip_vlan,output=4
I1209 21:57:51.228779 636804 net.py:935] add-flow in switch: dc97.s1 in_port: 1 out_port: 4
D1209 21:57:51.229007 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain2-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain2-ids', vnf_dst_interface='output'
I1209 21:57:51.229149 636804 net.py:665] Path between chain2-vpn and chain2-ids: ['dc97.s1', u'gsw0', 'dc82.s1']
I1209 21:57:51.229260 636804 net.py:889] add-flow
I1209 21:57:51.229361 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:34,output=1
I1209 21:57:51.236737 636804 net.py:893] add-flow in switch: dc97.s1 in_port: 4 out_port: 1
I1209 21:57:51.236856 636804 net.py:889] add-flow
I1209 21:57:51.236915 636804 net.py:890] in_port=35,dl_vlan=34,action=10
I1209 21:57:51.245609 636804 net.py:893] add-flow in switch: gsw0 in_port: 35 out_port: 10
I1209 21:57:51.245708 636804 net.py:694] end node reached: chain2-ids
I1209 21:57:51.245827 636804 net.py:889] add-flow
I1209 21:57:51.245939 636804 net.py:890] in_port=1,dl_vlan=34,action=strip_vlan,output=3
I1209 21:57:51.252981 636804 net.py:893] add-flow in switch: dc82.s1 in_port: 1 out_port: 3
I1209 21:57:51.253168 636804 daisy.py:350] chain(chain2-ids, chain2-vpn) output: success: add-flow between chain2-ids and chain2-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc82.s1", 
  "gsw0", 
  "dc97.s1"
 ], 
 "vlan": 33, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain2-vpn and chain2-ids with options: {
 "priority": 1000, 
 "path": [
  "dc97.s1", 
  "gsw0", 
  "dc82.s1"
 ], 
 "vlan": 34, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:57:51.253336 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain2-vpn', vnf_src_interface='output', vnf_dst_name=u'chain2-sink', vnf_dst_interface='intf2'
I1209 21:57:51.253448 636804 net.py:665] Path between chain2-vpn and chain2-sink: ['dc97.s1', u'gsw0', 'dc63.s1']
I1209 21:57:51.253536 636804 net.py:889] add-flow
I1209 21:57:51.253613 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:35,output=1
I1209 21:57:51.261152 636804 net.py:893] add-flow in switch: dc97.s1 in_port: 6 out_port: 1
I1209 21:57:51.261307 636804 net.py:889] add-flow
I1209 21:57:51.261390 636804 net.py:890] in_port=35,dl_vlan=35,action=44
I1209 21:57:51.269275 636804 net.py:893] add-flow in switch: gsw0 in_port: 35 out_port: 44
I1209 21:57:51.269427 636804 net.py:694] end node reached: chain2-sink
I1209 21:57:51.269562 636804 net.py:889] add-flow
I1209 21:57:51.269630 636804 net.py:890] in_port=1,dl_vlan=35,action=strip_vlan,output=2
I1209 21:57:51.277297 636804 net.py:893] add-flow in switch: dc63.s1 in_port: 1 out_port: 2
D1209 21:57:51.277570 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain2-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain2-vpn', vnf_dst_interface='output'
I1209 21:57:51.277686 636804 net.py:665] Path between chain2-sink and chain2-vpn: ['dc63.s1', u'gsw0', 'dc97.s1']
I1209 21:57:51.277779 636804 net.py:889] add-flow
I1209 21:57:51.277862 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:36,output=1
I1209 21:57:51.285105 636804 net.py:893] add-flow in switch: dc63.s1 in_port: 2 out_port: 1
I1209 21:57:51.285234 636804 net.py:889] add-flow
I1209 21:57:51.285361 636804 net.py:890] in_port=44,dl_vlan=36,action=35
I1209 21:57:51.293328 636804 net.py:893] add-flow in switch: gsw0 in_port: 44 out_port: 35
I1209 21:57:51.293442 636804 net.py:694] end node reached: chain2-vpn
I1209 21:57:51.293576 636804 net.py:889] add-flow
I1209 21:57:51.293642 636804 net.py:890] in_port=1,dl_vlan=36,action=strip_vlan,output=6
I1209 21:57:51.300966 636804 net.py:893] add-flow in switch: dc97.s1 in_port: 1 out_port: 6
I1209 21:57:51.301161 636804 daisy.py:357] chain(chain2-vpn, chain2-sink) output: success: add-flow between chain2-vpn and chain2-sink with options: {
 "priority": 1000, 
 "path": [
  "dc97.s1", 
  "gsw0", 
  "dc63.s1"
 ], 
 "vlan": 35, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain2-sink and chain2-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc63.s1", 
  "gsw0", 
  "dc97.s1"
 ], 
 "vlan": 36, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:57:52 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:57:52 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:57:52 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:57:52 2017 UDPv4 link local: [undef]
Sat Dec  9 21:57:52 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:57:52 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=10fd6577 8a6a287e
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:57:52 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:57:52 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:57:52 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:57:53 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:57:53 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:57:53 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:57:53 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:57:53 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:57:53 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:57:53 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:57:53 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:57:55 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:57:55 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:57:55 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:57:55 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:57:55 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:57:55 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:57:55 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:13
Sat Dec  9 21:57:55 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:57:55 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:57:55 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:57:55 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:57:55 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:57:55 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:57:55 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:57:55 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:57:55 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:57:55 2017 GID set to nogroup
Sat Dec  9 21:57:55 2017 UID set to nobody
Sat Dec  9 21:57:55 2017 Initialization Sequence Completed
I1209 21:57:58.440435 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:58:03.445735 636804 daisy.py:443] < 5s wait complete
I1209 21:58:03.445913 636804 daisy.py:444] VPN client VNF started
chain2-source -> chain2-sink 
chain2-sink -> chain2-source 
*** Results: 0% dropped (2/2 received)
I1209 21:58:06.104105 636804 daisy.py:369] ping chain2-source -> chain2-sink. Packet drop 0.0%
I1209 21:58:06.142771 636804 bench.py:19] Copying traces into the containers...
I1209 21:58:06.546741 636804 bench.py:29] Running dstat...
I1209 21:58:08.737744 636804 iter-e2-allocation.py:17] started allocating chain: 3
I1209 21:58:08.738306 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server3']
I1209 21:58:08.738476 636804 daisy.py:240] creating chain3-fw on chain-server3
D1209 21:58:08.738938 636804 node.py:55] Starting compute instance u'chain3-fw' in data center 'chain-server3'
D1209 21:58:09.306606 636804 simple.py:169] Setting CPU limit for u'chain3-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:58:09.355089 636804 simple.py:215] Setting MEM limit for u'chain3-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:58:09.527117 636804 net.py:233] addLink: n1=chain3-fw intf1=input -- n2=dc74.s1 intf2=dc74.s1-eth2
D1209 21:58:09.674976 636804 net.py:233] addLink: n1=chain3-fw intf1=output-ids -- n2=dc74.s1 intf2=dc74.s1-eth3
D1209 21:58:09.796504 636804 net.py:233] addLink: n1=chain3-fw intf1=output-vpn -- n2=dc74.s1 intf2=dc74.s1-eth4
I1209 21:58:09.796729 636804 daisy.py:310] successfully created VNF: chain3-fw
I1209 21:58:09.796854 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud5']
I1209 21:58:09.797044 636804 daisy.py:240] creating chain3-sink on off-cloud5
D1209 21:58:09.797426 636804 node.py:55] Starting compute instance u'chain3-sink' in data center 'off-cloud5'
D1209 21:58:10.377789 636804 simple.py:169] Setting CPU limit for u'chain3-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:58:10.424030 636804 simple.py:215] Setting MEM limit for u'chain3-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:58:10.442770 636804 simple.py:215] Setting MEM limit for u'chain2-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:58:10.588289 636804 net.py:233] addLink: n1=chain3-sink intf1=intf2 -- n2=dc69.s1 intf2=dc69.s1-eth3
I1209 21:58:10.588489 636804 daisy.py:310] successfully created VNF: chain3-sink
I1209 21:58:10.588587 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server8']
I1209 21:58:10.588650 636804 daisy.py:240] creating chain3-ids on chain-server8
D1209 21:58:10.589391 636804 node.py:55] Starting compute instance u'chain3-ids' in data center 'chain-server8'
D1209 21:58:11.098953 636804 simple.py:169] Setting CPU limit for u'chain3-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:58:11.145761 636804 simple.py:215] Setting MEM limit for u'chain3-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:58:11.288990 636804 net.py:233] addLink: n1=chain3-ids intf1=input -- n2=dc81.s1 intf2=dc81.s1-eth2
D1209 21:58:11.435309 636804 net.py:233] addLink: n1=chain3-ids intf1=output -- n2=dc81.s1 intf2=dc81.s1-eth3
I1209 21:58:11.435518 636804 daisy.py:310] successfully created VNF: chain3-ids
I1209 21:58:11.435671 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server38']
I1209 21:58:11.435750 636804 daisy.py:240] creating chain3-nat on chain-server38
D1209 21:58:11.436127 636804 node.py:55] Starting compute instance u'chain3-nat' in data center 'chain-server38'
D1209 21:58:11.981308 636804 simple.py:169] Setting CPU limit for u'chain3-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:58:12.022311 636804 simple.py:215] Setting MEM limit for u'chain3-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:58:12.173394 636804 net.py:233] addLink: n1=chain3-nat intf1=input -- n2=dc99.s1 intf2=dc99.s1-eth2
D1209 21:58:12.293937 636804 net.py:233] addLink: n1=chain3-nat intf1=output -- n2=dc99.s1 intf2=dc99.s1-eth3
I1209 21:58:12.294115 636804 daisy.py:310] successfully created VNF: chain3-nat
I1209 21:58:12.294287 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud7']
I1209 21:58:12.294434 636804 daisy.py:240] creating chain3-source on off-cloud7
D1209 21:58:12.294723 636804 node.py:55] Starting compute instance u'chain3-source' in data center 'off-cloud7'
D1209 21:58:12.819447 636804 simple.py:169] Setting CPU limit for u'chain3-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:58:12.864379 636804 simple.py:215] Setting MEM limit for u'chain3-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:58:13.024060 636804 net.py:233] addLink: n1=chain3-source intf1=intf1 -- n2=dc67.s1 intf2=dc67.s1-eth2
I1209 21:58:13.024224 636804 daisy.py:310] successfully created VNF: chain3-source
I1209 21:58:13.024384 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server24']
I1209 21:58:13.024447 636804 daisy.py:240] creating chain3-vpn on chain-server24
D1209 21:58:13.024835 636804 node.py:55] Starting compute instance u'chain3-vpn' in data center 'chain-server24'
D1209 21:58:13.573668 636804 simple.py:169] Setting CPU limit for u'chain3-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:58:13.613157 636804 simple.py:215] Setting MEM limit for u'chain3-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:58:13.757736 636804 net.py:233] addLink: n1=chain3-vpn intf1=input-ids -- n2=dc58.s1 intf2=dc58.s1-eth2
D1209 21:58:13.866607 636804 net.py:233] addLink: n1=chain3-vpn intf1=input-fw -- n2=dc58.s1 intf2=dc58.s1-eth3
D1209 21:58:14.000735 636804 net.py:233] addLink: n1=chain3-vpn intf1=output -- n2=dc58.s1 intf2=dc58.s1-eth4
I1209 21:58:14.000967 636804 daisy.py:310] successfully created VNF: chain3-vpn
I1209 21:58:14.001080 636804 daisy.py:311] successfully created chain: 3
in-server14', u'gsw', u'chain-server34']], [u'ids', u'vpn', 1, [u'chain-server9', u'gsw', u'chain-server34']], [u'vpn', u'sink', 2, [u'chain-server34', u'gsw', u'off-cloud3']]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain2-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain2-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain2-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain2-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain2-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain2-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain2-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain2-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain2-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain2-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain2-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain2-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain2-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain2-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain2-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain2-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain2-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain2-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain2-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain2-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain2-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain2-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain2-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/random10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain2-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain2-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain2-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.0006229999999999847, u'assignment': [[u'fw', u'chain-server3'], [u'sink', u'off-cloud5'], [u'ids', u'chain-server8'], [u'nat', u'chain-server38'], [u'source', u'off-cloud7'], [u'vpn', u'chain-server24']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 0.02196999999999999, u'bandwidth': [[u'source', u'nat', 2, [u'off-cloud7', u'gsw', u'chain-server38']], [u'nat', u'fw', 2, [u'chain-server38', u'gsw', u'chain-server3']], [u'fw', u'ids', 1, [u'chain-server3', u'gsw', u'chain-server8']], [u'fw', u'vpn', 1, [u'chain-server3', u'gsw', u'chain-server24']], [u'ids', u'vpn', 1, [u'chain-server8', u'gsw', u'chain-server24']], [u'vpn', u'sink', 2, [u'chain-server24', u'gsw', u'off-cloud5']]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain3-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain3-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain3-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain3-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
reSetting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
I1209 21:58:16.029843 636804 daisy.py:401] source, nat, and fw start done
I1209 21:58:16.030056 636804 daisy.py:402] My commands
I1209 21:58:16.122416 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:58:18.124758 636804 daisy.py:419] < 2s wait complete
I1209 21:58:18.124963 636804 daisy.py:420] start VNF chaining
D1209 21:58:18.125133 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain3-source', vnf_src_interface='intf1', vnf_dst_name=u'chain3-nat', vnf_dst_interface='input'
I1209 21:58:18.125385 636804 net.py:665] Path between chain3-source and chain3-nat: ['dc67.s1', u'gsw0', 'dc99.s1']
I1209 21:58:18.125534 636804 net.py:889] add-flow
I1209 21:58:18.125617 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:37,output=1
I1209 21:58:18.132885 636804 net.py:893] add-flow in switch: dc67.s1 in_port: 2 out_port: 1
I1209 21:58:18.133074 636804 net.py:889] add-flow
I1209 21:58:18.133158 636804 net.py:890] in_port=48,dl_vlan=37,action=39
I1209 21:58:18.146243 636804 net.py:893] add-flow in switch: gsw0 in_port: 48 out_port: 39
I1209 21:58:18.146364 636804 net.py:694] end node reached: chain3-nat
I1209 21:58:18.146521 636804 net.py:889] add-flow
I1209 21:58:18.146583 636804 net.py:890] in_port=1,dl_vlan=37,action=strip_vlan,output=2
I1209 21:58:18.157363 636804 net.py:893] add-flow in switch: dc99.s1 in_port: 1 out_port: 2
D1209 21:58:18.157826 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain3-nat', vnf_src_interface='input', vnf_dst_name=u'chain3-source', vnf_dst_interface='intf1'
I1209 21:58:18.158077 636804 net.py:665] Path between chain3-nat and chain3-source: ['dc99.s1', u'gsw0', 'dc67.s1']
I1209 21:58:18.158344 636804 net.py:889] add-flow
I1209 21:58:18.158504 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:38,output=1
I1209 21:58:18.169735 636804 net.py:893] add-flow in switch: dc99.s1 in_port: 2 out_port: 1
I1209 21:58:18.169944 636804 net.py:889] add-flow
I1209 21:58:18.170069 636804 net.py:890] in_port=39,dl_vlan=38,action=48
I1209 21:58:18.182414 636804 net.py:893] add-flow in switch: gsw0 in_port: 39 out_port: 48
I1209 21:58:18.182574 636804 net.py:694] end node reached: chain3-source
I1209 21:58:18.182718 636804 net.py:889] add-flow
I1209 21:58:18.182914 636804 net.py:890] in_port=1,dl_vlan=38,action=strip_vlan,output=2
I1209 21:58:18.193608 636804 net.py:893] add-flow in switch: dc67.s1 in_port: 1 out_port: 2
I1209 21:58:18.193902 636804 daisy.py:322] chain(chain3-source, chain3-nat) output: success: add-flow between chain3-source and chain3-nat with options: {
 "priority": 1000, 
 "path": [
  "dc67.s1", 
  "gsw0", 
  "dc99.s1"
 ], 
 "vlan": 37, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain3-nat and chain3-source with options: {
 "priority": 1000, 
 "path": [
  "dc99.s1", 
  "gsw0", 
  "dc67.s1"
 ], 
 "vlan": 38, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:58:18.194185 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain3-nat', vnf_src_interface='output', vnf_dst_name=u'chain3-fw', vnf_dst_interface='input'
I1209 21:58:18.194395 636804 net.py:665] Path between chain3-nat and chain3-fw: ['dc99.s1', u'gsw0', 'dc74.s1']
I1209 21:58:18.194555 636804 net.py:889] add-flow
I1209 21:58:18.194674 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:39,output=1
I1209 21:58:18.205465 636804 net.py:893] add-flow in switch: dc99.s1 in_port: 3 out_port: 1
I1209 21:58:18.205739 636804 net.py:889] add-flow
I1209 21:58:18.205854 636804 net.py:890] in_port=39,dl_vlan=39,action=4
I1209 21:58:18.217318 636804 net.py:893] add-flow in switch: gsw0 in_port: 39 out_port: 4
I1209 21:58:18.217403 636804 net.py:915] Detected NAT<->FW Path(1) in switch: gsw0 in_port: 39 out_port: 4
I1209 21:58:18.217458 636804 net.py:931] add-flow
I1209 21:58:18.217546 636804 net.py:932] in_port=39,action=strip_vlan,output=4
I1209 21:58:18.228818 636804 net.py:935] add-flow in switch: gsw0 in_port: 39 out_port: 4
I1209 21:58:18.228950 636804 net.py:694] end node reached: chain3-fw
I1209 21:58:18.229036 636804 net.py:889] add-flow
I1209 21:58:18.229134 636804 net.py:890] in_port=1,dl_vlan=39,action=strip_vlan,output=2
I1209 21:58:18.239587 636804 net.py:893] add-flow in switch: dc74.s1 in_port: 1 out_port: 2
I1209 21:58:18.239669 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc74.s1 in_port: 1 out_port: 2
I1209 21:58:18.239713 636804 net.py:931] add-flow
I1209 21:58:18.239772 636804 net.py:932] in_port=1,action=strip_vlan,output=2
I1209 21:58:18.251923 636804 net.py:935] add-flow in switch: dc74.s1 in_port: 1 out_port: 2
D1209 21:58:18.252136 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain3-fw', vnf_src_interface='input', vnf_dst_name=u'chain3-nat', vnf_dst_interface='output'
I1209 21:58:18.252299 636804 net.py:665] Path between chain3-fw and chain3-nat: ['dc74.s1', u'gsw0', 'dc99.s1']
I1209 21:58:18.252368 636804 net.py:889] add-flow
I1209 21:58:18.252437 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:40,output=1
I1209 21:58:18.263643 636804 net.py:893] add-flow in switch: dc74.s1 in_port: 2 out_port: 1
I1209 21:58:18.263746 636804 net.py:889] add-flow
I1209 21:58:18.263796 636804 net.py:890] in_port=4,dl_vlan=40,action=39
I1209 21:58:18.276109 636804 net.py:893] add-flow in switch: gsw0 in_port: 4 out_port: 39
I1209 21:58:18.276213 636804 net.py:915] Detected NAT<->FW Path(1) in switch: gsw0 in_port: 4 out_port: 39
I1209 21:58:18.276295 636804 net.py:931] add-flow
I1209 21:58:18.276372 636804 net.py:932] in_port=4,action=strip_vlan,output=39
I1209 21:58:18.287168 636804 net.py:935] add-flow in switch: gsw0 in_port: 4 out_port: 39
I1209 21:58:18.287327 636804 net.py:694] end node reached: chain3-nat
I1209 21:58:18.287383 636804 net.py:889] add-flow
I1209 21:58:18.287461 636804 net.py:890] in_port=1,dl_vlan=40,action=strip_vlan,output=3
I1209 21:58:18.298259 636804 net.py:893] add-flow in switch: dc99.s1 in_port: 1 out_port: 3
I1209 21:58:18.298383 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc99.s1 in_port: 1 out_port: 3
I1209 21:58:18.298510 636804 net.py:931] add-flow
I1209 21:58:18.298554 636804 net.py:932] in_port=1,action=strip_vlan,output=3
I1209 21:58:18.310283 636804 net.py:935] add-flow in switch: dc99.s1 in_port: 1 out_port: 3
I1209 21:58:18.310477 636804 daisy.py:329] chain(chain3-nat, chain3-fw) output: success: add-flow between chain3-nat and chain3-fw with options: {
 "priority": 1000, 
 "path": [
  "dc99.s1", 
  "gsw0", 
  "dc74.s1"
 ], 
 "vlan": 39, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain3-fw and chain3-nat with options: {
 "priority": 1000, 
 "path": [
  "dc74.s1", 
  "gsw0", 
  "dc99.s1"
 ], 
 "vlan": 40, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:58:18.310594 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain3-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain3-ids', vnf_dst_interface='input'
I1209 21:58:18.310683 636804 net.py:665] Path between chain3-fw and chain3-ids: ['dc74.s1', u'gsw0', 'dc81.s1']
I1209 21:58:18.310749 636804 net.py:889] add-flow
I1209 21:58:18.310801 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:41,output=1
I1209 21:58:18.321994 636804 net.py:893] add-flow in switch: dc74.s1 in_port: 3 out_port: 1
I1209 21:58:18.322298 636804 net.py:889] add-flow
I1209 21:58:18.322357 636804 net.py:890] in_port=4,dl_vlan=41,action=9
I1209 21:58:18.333472 636804 net.py:893] add-flow in switch: gsw0 in_port: 4 out_port: 9
I1209 21:58:18.333583 636804 net.py:694] end node reached: chain3-ids
I1209 21:58:18.333697 636804 net.py:889] add-flow
I1209 21:58:18.333759 636804 net.py:890] in_port=1,dl_vlan=41,action=strip_vlan,output=2
I1209 21:58:18.343846 636804 net.py:893] add-flow in switch: dc81.s1 in_port: 1 out_port: 2
D1209 21:58:18.344075 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain3-ids', vnf_src_interface='input', vnf_dst_name=u'chain3-fw', vnf_dst_interface='output-ids'
I1209 21:58:18.344183 636804 net.py:665] Path between chain3-ids and chain3-fw: ['dc81.s1', u'gsw0', 'dc74.s1']
I1209 21:58:18.344274 636804 net.py:889] add-flow
I1209 21:58:18.344325 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:42,output=1
I1209 21:58:18.355151 636804 net.py:893] add-flow in switch: dc81.s1 in_port: 2 out_port: 1
I1209 21:58:18.355309 636804 net.py:889] add-flow
I1209 21:58:18.355354 636804 net.py:890] in_port=9,dl_vlan=42,action=4
I1209 21:58:18.367259 636804 net.py:893] add-flow in switch: gsw0 in_port: 9 out_port: 4
I1209 21:58:18.367348 636804 net.py:920] Detected IDS->FW Path(2) in switch: gsw0 in_port: 9 out_port: 4
I1209 21:58:18.367407 636804 net.py:931] add-flow
I1209 21:58:18.367455 636804 net.py:932] in_port=9,action=strip_vlan,output=4
I1209 21:58:18.380004 636804 net.py:935] add-flow in switch: gsw0 in_port: 9 out_port: 4
I1209 21:58:18.380354 636804 net.py:694] end node reached: chain3-fw
I1209 21:58:18.380440 636804 net.py:889] add-flow
I1209 21:58:18.380489 636804 net.py:890] in_port=1,dl_vlan=42,action=strip_vlan,output=3
I1209 21:58:18.389647 636804 net.py:893] add-flow in switch: dc74.s1 in_port: 1 out_port: 3
I1209 21:58:18.389729 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc74.s1 in_port: 1 out_port: 3
I1209 21:58:18.389775 636804 net.py:931] add-flow
I1209 21:58:18.389818 636804 net.py:932] in_port=1,action=strip_vlan,output=3
I1209 21:58:18.397504 636804 net.py:935] add-flow in switch: dc74.s1 in_port: 1 out_port: 3
I1209 21:58:18.397686 636804 daisy.py:336] chain(chain3-fw, chain3-ids) output: success: add-flow between chain3-fw and chain3-ids with options: {
 "priority": 1000, 
 "path": [
  "dc74.s1", 
  "gsw0", 
  "dc81.s1"
 ], 
 "vlan": 41, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain3-ids and chain3-fw with options: {
 "priority": 1000, 
 "path": [
  "dc81.s1", 
  "gsw0", 
  "dc74.s1"
 ], 
 "vlan": 42, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:58:18.397816 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain3-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain3-vpn', vnf_dst_interface='input-fw'
I1209 21:58:18.397998 636804 net.py:665] Path between chain3-fw and chain3-vpn: ['dc74.s1', u'gsw0', 'dc58.s1']
I1209 21:58:18.398097 636804 net.py:889] add-flow
I1209 21:58:18.398197 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:43,output=1
I1209 21:58:18.413930 636804 net.py:893] add-flow in switch: dc74.s1 in_port: 4 out_port: 1
I1209 21:58:18.414069 636804 net.py:889] add-flow
I1209 21:58:18.414190 636804 net.py:890] in_port=4,dl_vlan=43,action=25
I1209 21:58:18.423497 636804 net.py:893] add-flow in switch: gsw0 in_port: 4 out_port: 25
I1209 21:58:18.423619 636804 net.py:694] end node reached: chain3-vpn
I1209 21:58:18.423712 636804 net.py:889] add-flow
I1209 21:58:18.423774 636804 net.py:890] in_port=1,dl_vlan=43,action=strip_vlan,output=3
I1209 21:58:18.431940 636804 net.py:893] add-flow in switch: dc58.s1 in_port: 1 out_port: 3
D1209 21:58:18.432101 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain3-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain3-fw', vnf_dst_interface='output-vpn'
I1209 21:58:18.432229 636804 net.py:665] Path between chain3-vpn and chain3-fw: ['dc58.s1', u'gsw0', 'dc74.s1']
I1209 21:58:18.432315 636804 net.py:889] add-flow
I1209 21:58:18.432368 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:44,output=1
I1209 21:58:18.440557 636804 net.py:893] add-flow in switch: dc58.s1 in_port: 3 out_port: 1
I1209 21:58:18.440681 636804 net.py:889] add-flow
I1209 21:58:18.440788 636804 net.py:890] in_port=25,dl_vlan=44,action=4
I1209 21:58:18.450464 636804 net.py:893] add-flow in switch: gsw0 in_port: 25 out_port: 4
I1209 21:58:18.450556 636804 net.py:694] end node reached: chain3-fw
I1209 21:58:18.450643 636804 net.py:889] add-flow
I1209 21:58:18.450690 636804 net.py:890] in_port=1,dl_vlan=44,action=strip_vlan,output=4
I1209 21:58:18.458781 636804 net.py:893] add-flow in switch: dc74.s1 in_port: 1 out_port: 4
I1209 21:58:18.458985 636804 daisy.py:343] chain(chain3-fw, chain3-vpn) output: success: add-flow between chain3-fw and chain3-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc74.s1", 
  "gsw0", 
  "dc58.s1"
 ], 
 "vlan": 43, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain3-vpn and chain3-fw with options: {
 "priority": 1000, 
 "path": [
  "dc58.s1", 
  "gsw0", 
  "dc74.s1"
 ], 
 "vlan": 44, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:58:18.459094 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain3-ids', vnf_src_interface='output', vnf_dst_name=u'chain3-vpn', vnf_dst_interface='input-ids'
I1209 21:58:18.459213 636804 net.py:665] Path between chain3-ids and chain3-vpn: ['dc81.s1', u'gsw0', 'dc58.s1']
I1209 21:58:18.459306 636804 net.py:889] add-flow
I1209 21:58:18.459357 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:45,output=1
I1209 21:58:18.467653 636804 net.py:893] add-flow in switch: dc81.s1 in_port: 3 out_port: 1
I1209 21:58:18.467781 636804 net.py:889] add-flow
I1209 21:58:18.467835 636804 net.py:890] in_port=9,dl_vlan=45,action=25
I1209 21:58:18.476155 636804 net.py:893] add-flow in switch: gsw0 in_port: 9 out_port: 25
I1209 21:58:18.476274 636804 net.py:925] Detected IDS->VPN Path(3) in switch: gsw0 in_port: 9 out_port: 25
I1209 21:58:18.476389 636804 net.py:931] add-flow
I1209 21:58:18.476448 636804 net.py:932] in_port=9,action=strip_vlan,output=25
I1209 21:58:18.485753 636804 net.py:935] add-flow in switch: gsw0 in_port: 9 out_port: 25
I1209 21:58:18.485842 636804 net.py:694] end node reached: chain3-vpn
I1209 21:58:18.485996 636804 net.py:889] add-flow
I1209 21:58:18.486059 636804 net.py:890] in_port=1,dl_vlan=45,action=strip_vlan,output=2
I1209 21:58:18.501867 636804 net.py:893] add-flow in switch: dc58.s1 in_port: 1 out_port: 2
I1209 21:58:18.502039 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc58.s1 in_port: 1 out_port: 2
I1209 21:58:18.502140 636804 net.py:931] add-flow
I1209 21:58:18.502201 636804 net.py:932] in_port=1,action=strip_vlan,output=2
I1209 21:58:18.511665 636804 net.py:935] add-flow in switch: dc58.s1 in_port: 1 out_port: 2
D1209 21:58:18.511862 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain3-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain3-ids', vnf_dst_interface='output'
I1209 21:58:18.512002 636804 net.py:665] Path between chain3-vpn and chain3-ids: ['dc58.s1', u'gsw0', 'dc81.s1']
I1209 21:58:18.512089 636804 net.py:889] add-flow
I1209 21:58:18.512149 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:46,output=1
I1209 21:58:18.520633 636804 net.py:893] add-flow in switch: dc58.s1 in_port: 2 out_port: 1
I1209 21:58:18.520817 636804 net.py:889] add-flow
I1209 21:58:18.520932 636804 net.py:890] in_port=25,dl_vlan=46,action=9
I1209 21:58:18.530505 636804 net.py:893] add-flow in switch: gsw0 in_port: 25 out_port: 9
I1209 21:58:18.530623 636804 net.py:694] end node reached: chain3-ids
I1209 21:58:18.530700 636804 net.py:889] add-flow
I1209 21:58:18.530755 636804 net.py:890] in_port=1,dl_vlan=46,action=strip_vlan,output=3
I1209 21:58:18.539429 636804 net.py:893] add-flow in switch: dc81.s1 in_port: 1 out_port: 3
I1209 21:58:18.539566 636804 daisy.py:350] chain(chain3-ids, chain3-vpn) output: success: add-flow between chain3-ids and chain3-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc81.s1", 
  "gsw0", 
  "dc58.s1"
 ], 
 "vlan": 45, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain3-vpn and chain3-ids with options: {
 "priority": 1000, 
 "path": [
  "dc58.s1", 
  "gsw0", 
  "dc81.s1"
 ], 
 "vlan": 46, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:58:18.539668 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain3-vpn', vnf_src_interface='output', vnf_dst_name=u'chain3-sink', vnf_dst_interface='intf2'
I1209 21:58:18.539769 636804 net.py:665] Path between chain3-vpn and chain3-sink: ['dc58.s1', u'gsw0', 'dc69.s1']
I1209 21:58:18.539844 636804 net.py:889] add-flow
I1209 21:58:18.539938 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:47,output=1
I1209 21:58:18.548033 636804 net.py:893] add-flow in switch: dc58.s1 in_port: 4 out_port: 1
I1209 21:58:18.548156 636804 net.py:889] add-flow
I1209 21:58:18.548222 636804 net.py:890] in_port=25,dl_vlan=47,action=46
I1209 21:58:18.557002 636804 net.py:893] add-flow in switch: gsw0 in_port: 25 out_port: 46
I1209 21:58:18.557121 636804 net.py:694] end node reached: chain3-sink
I1209 21:58:18.557188 636804 net.py:889] add-flow
I1209 21:58:18.557241 636804 net.py:890] in_port=1,dl_vlan=47,action=strip_vlan,output=3
I1209 21:58:18.565417 636804 net.py:893] add-flow in switch: dc69.s1 in_port: 1 out_port: 3
D1209 21:58:18.565591 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain3-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain3-vpn', vnf_dst_interface='output'
I1209 21:58:18.565707 636804 net.py:665] Path between chain3-sink and chain3-vpn: ['dc69.s1', u'gsw0', 'dc58.s1']
I1209 21:58:18.565781 636804 net.py:889] add-flow
I1209 21:58:18.565833 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:48,output=1
I1209 21:58:18.575000 636804 net.py:893] add-flow in switch: dc69.s1 in_port: 3 out_port: 1
I1209 21:58:18.575118 636804 net.py:889] add-flow
I1209 21:58:18.575185 636804 net.py:890] in_port=46,dl_vlan=48,action=25
I1209 21:58:18.583830 636804 net.py:893] add-flow in switch: gsw0 in_port: 46 out_port: 25
I1209 21:58:18.583987 636804 net.py:694] end node reached: chain3-vpn
I1209 21:58:18.584069 636804 net.py:889] add-flow
I1209 21:58:18.584126 636804 net.py:890] in_port=1,dl_vlan=48,action=strip_vlan,output=4
I1209 21:58:18.592189 636804 net.py:893] add-flow in switch: dc58.s1 in_port: 1 out_port: 4
I1209 21:58:18.592438 636804 daisy.py:357] chain(chain3-vpn, chain3-sink) output: success: add-flow between chain3-vpn and chain3-sink with options: {
 "priority": 1000, 
 "path": [
  "dc58.s1", 
  "gsw0", 
  "dc69.s1"
 ], 
 "vlan": 47, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain3-sink and chain3-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc69.s1", 
  "gsw0", 
  "dc58.s1"
 ], 
 "vlan": 48, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:58:20 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:58:20 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:58:20 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:58:20 2017 UDPv4 link local: [undef]
Sat Dec  9 21:58:20 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:58:20 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=775869b3 81261f08
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:58:20 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:58:20 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:58:20 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:58:20 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:58:20 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:58:20 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:58:20 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:58:20 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:58:20 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:58:20 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:58:20 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:58:23 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:58:23 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:58:23 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:58:23 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:58:23 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:58:23 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:58:23 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:19
Sat Dec  9 21:58:23 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:58:23 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:58:23 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:58:23 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:58:23 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:58:23 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:58:23 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:58:23 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:58:23 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:58:23 2017 GID set to nogroup
Sat Dec  9 21:58:23 2017 UID set to nobody
Sat Dec  9 21:58:23 2017 Initialization Sequence Completed
I1209 21:58:25.752391 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:58:30.757666 636804 daisy.py:443] < 5s wait complete
I1209 21:58:30.757854 636804 daisy.py:444] VPN client VNF started
chain3-source -> chain3-sink 
chain3-sink -> chain3-source 
*** Results: 0% dropped (2/2 received)
I1209 21:58:33.239984 636804 daisy.py:369] ping chain3-source -> chain3-sink. Packet drop 0.0%
I1209 21:58:33.284264 636804 bench.py:19] Copying traces into the containers...
I1209 21:58:33.723052 636804 bench.py:29] Running dstat...
I1209 21:58:35.912795 636804 iter-e2-allocation.py:17] started allocating chain: 4
I1209 21:58:35.913279 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server24']
I1209 21:58:35.913425 636804 daisy.py:240] creating chain4-fw on chain-server24
D1209 21:58:35.913938 636804 node.py:55] Starting compute instance u'chain4-fw' in data center 'chain-server24'
D1209 21:58:36.420949 636804 simple.py:215] Setting MEM limit for u'chain3-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:58:36.446259 636804 simple.py:169] Setting CPU limit for u'chain4-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:58:36.486079 636804 simple.py:215] Setting MEM limit for u'chain4-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:58:36.639219 636804 net.py:233] addLink: n1=chain4-fw intf1=input -- n2=dc58.s1 intf2=dc58.s1-eth5
D1209 21:58:36.770534 636804 net.py:233] addLink: n1=chain4-fw intf1=output-ids -- n2=dc58.s1 intf2=dc58.s1-eth6
D1209 21:58:36.926552 636804 net.py:233] addLink: n1=chain4-fw intf1=output-vpn -- n2=dc58.s1 intf2=dc58.s1-eth7
I1209 21:58:36.926733 636804 daisy.py:310] successfully created VNF: chain4-fw
I1209 21:58:36.926896 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud9']
I1209 21:58:36.927015 636804 daisy.py:240] creating chain4-sink on off-cloud9
D1209 21:58:36.927660 636804 node.py:55] Starting compute instance u'chain4-sink' in data center 'off-cloud9'
D1209 21:58:37.507148 636804 simple.py:169] Setting CPU limit for u'chain4-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:58:37.554996 636804 simple.py:215] Setting MEM limit for u'chain4-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:58:37.708939 636804 net.py:233] addLink: n1=chain4-sink intf1=intf2 -- n2=dc71.s1 intf2=dc71.s1-eth2
I1209 21:58:37.709106 636804 daisy.py:310] successfully created VNF: chain4-sink
I1209 21:58:37.709292 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server38']
I1209 21:58:37.709414 636804 daisy.py:240] creating chain4-ids on chain-server38
D1209 21:58:37.709763 636804 node.py:55] Starting compute instance u'chain4-ids' in data center 'chain-server38'
D1209 21:58:38.662770 636804 simple.py:215] Setting MEM limit for u'chain3-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:58:38.689114 636804 simple.py:169] Setting CPU limit for u'chain4-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:58:38.727261 636804 simple.py:215] Setting MEM limit for u'chain4-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:58:38.875900 636804 net.py:233] addLink: n1=chain4-ids intf1=input -- n2=dc99.s1 intf2=dc99.s1-eth4
D1209 21:58:38.999245 636804 net.py:233] addLink: n1=chain4-ids intf1=output -- n2=dc99.s1 intf2=dc99.s1-eth5
I1209 21:58:38.999432 636804 daisy.py:310] successfully created VNF: chain4-ids
I1209 21:58:38.999562 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server8']
I1209 21:58:38.999677 636804 daisy.py:240] creating chain4-nat on chain-server8
D1209 21:58:39.000368 636804 node.py:55] Starting compute instance u'chain4-nat' in data center 'chain-server8'
D1209 21:58:39.550323 636804 simple.py:215] Setting MEM limit for u'chain3-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:58:39.574577 636804 simple.py:169] Setting CPU limit for u'chain4-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:58:39.617024 636804 simple.py:215] Setting MEM limit for u'chain4-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:58:39.755101 636804 net.py:233] addLink: n1=chain4-nat intf1=input -- n2=dc81.s1 intf2=dc81.s1-eth4
D1209 21:58:39.888572 636804 net.py:233] addLink: n1=chain4-nat intf1=output -- n2=dc81.s1 intf2=dc81.s1-eth5
I1209 21:58:39.888772 636804 daisy.py:310] successfully created VNF: chain4-nat
I1209 21:58:39.888952 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud9']
I1209 21:58:39.889071 636804 daisy.py:240] creating chain4-source on off-cloud9
D1209 21:58:39.889458 636804 node.py:55] Starting compute instance u'chain4-source' in data center 'off-cloud9'
D1209 21:58:40.429683 636804 simple.py:169] Setting CPU limit for u'chain4-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:58:40.474987 636804 simple.py:215] Setting MEM limit for u'chain4-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:58:40.498661 636804 simple.py:215] Setting MEM limit for u'chain4-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:58:40.663043 636804 net.py:233] addLink: n1=chain4-source intf1=intf1 -- n2=dc71.s1 intf2=dc71.s1-eth3
I1209 21:58:40.663265 636804 daisy.py:310] successfully created VNF: chain4-source
I1209 21:58:40.663357 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server25']
I1209 21:58:40.663425 636804 daisy.py:240] creating chain4-vpn on chain-server25
D1209 21:58:40.663933 636804 node.py:55] Starting compute instance u'chain4-vpn' in data center 'chain-server25'
D1209 21:58:41.245837 636804 simple.py:169] Setting CPU limit for u'chain4-vpn': cpu_quota = cpu_period * limit = 1000000.000000 * 2.400000 = 2400000.000000 (op_factor=1.000000)
D1209 21:58:41.293483 636804 simple.py:215] Setting MEM limit for u'chain4-vpn': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:58:41.435317 636804 net.py:233] addLink: n1=chain4-vpn intf1=input-ids -- n2=dc57.s1 intf2=dc57.s1-eth2
D1209 21:58:41.589803 636804 net.py:233] addLink: n1=chain4-vpn intf1=input-fw -- n2=dc57.s1 intf2=dc57.s1-eth3
D1209 21:58:41.722522 636804 net.py:233] addLink: n1=chain4-vpn intf1=output -- n2=dc57.s1 intf2=dc57.s1-eth4
I1209 21:58:41.722686 636804 daisy.py:310] successfully created VNF: chain4-vpn
I1209 21:58:41.722793 636804 daisy.py:311] successfully created chain: 4
Setting up NAT VNF
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
configuring iptables ...
iptables configuration complete
NAT VNF ready
Fixed FW container started
configuring IPv4 and ARP forwarding ...
forwarding configuration complete
default via 10.0.2.4 dev output-vpn 
turned 0 from sudo docker exec mn.chain3-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain3-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain3-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain3-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain3-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain3-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain3-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain3-fw route add -net 10.8.0.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain3-fw route add -net 10.0.0.0/24 dev input (0 is success)
returned 0 from sudo docker exec mn.chain3-fw route add -net 10.0.1.0/26 dev input (0 is success)
returned 0 from sudo docker exec mn.chain3-fw route add -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain3-ids sh ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain3-sink route add -net 10.0.0.0/8 dev intf2 (0 is success)
returned 0 from sudo docker exec mn.chain3-sink ufw enable (0 is success)
returned 0 from sudo docker exec mn.chain3-sink ufw allow 5201 (0 is success)
returned 0 from sudo docker exec mn.chain3-sink service openvpn start (0 is success)
returned 0 from sudo docker exec mn.chain3-vpn /bin/bash /start.sh & (0 is success)
returned 0 from sudo docker exec mn.chain3-vpn route add -net 10.0.0.0/24 input-ids (0 is success)
returned 0 from sudo docker exec mn.chain3-vpn /bin/bash -c "sleep 5 && route del 10.0.10.10" (0 is success)
returned 0 from sudo rm -f ./results/allocation/random10/*.csv (0 is success)
returned 0 from sudo docker cp ../traces/output.pcap mn.chain3-source:/ (0 is success)
returned 0 from sudo docker exec -d mn.chain3-sink dstat --net --time -N intf2 --bits --output /tmp/dstat.csv (0 is success)
>>> wait 2s for dstats to initialize
<<< wait complete.
returned 0 from sudo docker exec -d mn.chain3-source tcpreplay --loop=0 --mbps=10 -d 1 --intf1=intf1 output.pcap (0 is success)
[{u'allocation_time': 0.0005549999999999722, u'assignment': [[u'fw', u'chain-server24'], [u'sink', u'off-cloud9'], [u'ids', u'chain-server38'], [u'nat', u'chain-server8'], [u'source', u'off-cloud9'], [u'vpn', u'chain-server25']], u'vn': u'e2-chain-4vnfs-50wa.vn', u'elapsed_time': 0.01580799999999999, u'bandwidth': [[u'source', u'nat', 2, [u'off-cloud9', u'gsw', u'chain-server8']], [u'nat', u'fw', 2, [u'chain-server8', u'gsw', u'chain-server24']], [u'fw', u'ids', 1, [u'chain-server24', u'gsw', u'chain-server38']], [u'fw', u'vpn', 1, [u'chain-server24', u'gsw', u'chain-server25']], [u'ids', u'vpn', 1, [u'chain-server38', u'gsw', u'chain-server25']], [u'vpn', u'sink', 2, [u'chain-server25', u'gsw', u'off-cloud9']]], u'action': u'allocation', u'pn': u'e2-azure-1rack-50-20servers.pn'}]
returned 0 from sudo docker exec mn.chain4-source ifconfig intf1 hw ether 00:00:00:00:00:01 (0 is success)
returned 0 from sudo docker exec mn.chain4-source route add -net 10.0.0.0/16 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain4-source route add -net 10.8.0.0/24 dev intf1 (0 is success)
returned 0 from sudo docker exec mn.chain4-nat ifconfig input hw ether 00:00:00:00:00:02 (0 is success)
returned 0 from sudo docker exec mn.chain4-nat route add -net 10.0.10.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain4-nat ip route add 10.8.0.0/24 dev output (0 is success)
returned 0 from sudo docker exec mn.chain4-nat ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain4-fw ./start.sh (0 is success)
returned 0 from sudo docker exec mn.chain4-fw route add -net 10.0.10.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain4-fw route del -net 10.0.1.0/24 dev output-ids (0 is success)
returned 0 from sudo docker exec mn.chain4-fw route del -net 10.0.1.0/24 dev input (0 is success)
returned 0 frI1209 21:58:44.013345 636804 daisy.py:401] source, nat, and fw start done
I1209 21:58:44.013500 636804 daisy.py:402] My commands
I1209 21:58:44.107132 636804 daisy.py:417] > sleeping 2s to let ids initialize properly...
I1209 21:58:46.109455 636804 daisy.py:419] < 2s wait complete
I1209 21:58:46.109647 636804 daisy.py:420] start VNF chaining
D1209 21:58:46.109827 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain4-source', vnf_src_interface='intf1', vnf_dst_name=u'chain4-nat', vnf_dst_interface='input'
I1209 21:58:46.110057 636804 net.py:665] Path between chain4-source and chain4-nat: ['dc71.s1', u'gsw0', 'dc81.s1']
I1209 21:58:46.110289 636804 net.py:889] add-flow
I1209 21:58:46.110368 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:49,output=1
I1209 21:58:46.113936 636804 net.py:893] add-flow in switch: dc71.s1 in_port: 3 out_port: 1
I1209 21:58:46.114083 636804 net.py:889] add-flow
I1209 21:58:46.114234 636804 net.py:890] in_port=50,dl_vlan=49,action=9
I1209 21:58:46.123461 636804 net.py:893] add-flow in switch: gsw0 in_port: 50 out_port: 9
I1209 21:58:46.123620 636804 net.py:694] end node reached: chain4-nat
I1209 21:58:46.123799 636804 net.py:889] add-flow
I1209 21:58:46.123918 636804 net.py:890] in_port=1,dl_vlan=49,action=strip_vlan,output=4
I1209 21:58:46.133498 636804 net.py:893] add-flow in switch: dc81.s1 in_port: 1 out_port: 4
D1209 21:58:46.133758 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain4-nat', vnf_src_interface='input', vnf_dst_name=u'chain4-source', vnf_dst_interface='intf1'
I1209 21:58:46.133932 636804 net.py:665] Path between chain4-nat and chain4-source: ['dc81.s1', u'gsw0', 'dc71.s1']
I1209 21:58:46.134047 636804 net.py:889] add-flow
I1209 21:58:46.134171 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:50,output=1
I1209 21:58:46.142985 636804 net.py:893] add-flow in switch: dc81.s1 in_port: 4 out_port: 1
I1209 21:58:46.143146 636804 net.py:889] add-flow
I1209 21:58:46.143270 636804 net.py:890] in_port=9,dl_vlan=50,action=50
I1209 21:58:46.150996 636804 net.py:893] add-flow in switch: gsw0 in_port: 9 out_port: 50
I1209 21:58:46.151113 636804 net.py:694] end node reached: chain4-source
I1209 21:58:46.151269 636804 net.py:889] add-flow
I1209 21:58:46.151343 636804 net.py:890] in_port=1,dl_vlan=50,action=strip_vlan,output=3
I1209 21:58:46.159961 636804 net.py:893] add-flow in switch: dc71.s1 in_port: 1 out_port: 3
I1209 21:58:46.160159 636804 daisy.py:322] chain(chain4-source, chain4-nat) output: success: add-flow between chain4-source and chain4-nat with options: {
 "priority": 1000, 
 "path": [
  "dc71.s1", 
  "gsw0", 
  "dc81.s1"
 ], 
 "vlan": 49, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain4-nat and chain4-source with options: {
 "priority": 1000, 
 "path": [
  "dc81.s1", 
  "gsw0", 
  "dc71.s1"
 ], 
 "vlan": 50, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:58:46.160309 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain4-nat', vnf_src_interface='output', vnf_dst_name=u'chain4-fw', vnf_dst_interface='input'
I1209 21:58:46.160437 636804 net.py:665] Path between chain4-nat and chain4-fw: ['dc81.s1', u'gsw0', 'dc58.s1']
I1209 21:58:46.160525 636804 net.py:889] add-flow
I1209 21:58:46.160588 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:51,output=1
I1209 21:58:46.168452 636804 net.py:893] add-flow in switch: dc81.s1 in_port: 5 out_port: 1
I1209 21:58:46.168586 636804 net.py:889] add-flow
I1209 21:58:46.168705 636804 net.py:890] in_port=9,dl_vlan=51,action=25
I1209 21:58:46.177962 636804 net.py:893] add-flow in switch: gsw0 in_port: 9 out_port: 25
I1209 21:58:46.178082 636804 net.py:915] Detected NAT<->FW Path(1) in switch: gsw0 in_port: 9 out_port: 25
I1209 21:58:46.178236 636804 net.py:931] add-flow
I1209 21:58:46.178317 636804 net.py:932] in_port=9,action=strip_vlan,output=25
I1209 21:58:46.187037 636804 net.py:935] add-flow in switch: gsw0 in_port: 9 out_port: 25
I1209 21:58:46.187158 636804 net.py:694] end node reached: chain4-fw
I1209 21:58:46.187309 636804 net.py:889] add-flow
I1209 21:58:46.187371 636804 net.py:890] in_port=1,dl_vlan=51,action=strip_vlan,output=5
I1209 21:58:46.202507 636804 net.py:893] add-flow in switch: dc58.s1 in_port: 1 out_port: 5
I1209 21:58:46.202622 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc58.s1 in_port: 1 out_port: 5
I1209 21:58:46.202740 636804 net.py:931] add-flow
I1209 21:58:46.202822 636804 net.py:932] in_port=1,action=strip_vlan,output=5
I1209 21:58:46.211992 636804 net.py:935] add-flow in switch: dc58.s1 in_port: 1 out_port: 5
D1209 21:58:46.212204 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain4-fw', vnf_src_interface='input', vnf_dst_name=u'chain4-nat', vnf_dst_interface='output'
I1209 21:58:46.212344 636804 net.py:665] Path between chain4-fw and chain4-nat: ['dc58.s1', u'gsw0', 'dc81.s1']
I1209 21:58:46.212438 636804 net.py:889] add-flow
I1209 21:58:46.212517 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:52,output=1
I1209 21:58:46.227984 636804 net.py:893] add-flow in switch: dc58.s1 in_port: 5 out_port: 1
I1209 21:58:46.228125 636804 net.py:889] add-flow
I1209 21:58:46.228244 636804 net.py:890] in_port=25,dl_vlan=52,action=9
I1209 21:58:46.237515 636804 net.py:893] add-flow in switch: gsw0 in_port: 25 out_port: 9
I1209 21:58:46.237644 636804 net.py:915] Detected NAT<->FW Path(1) in switch: gsw0 in_port: 25 out_port: 9
I1209 21:58:46.237756 636804 net.py:931] add-flow
I1209 21:58:46.237870 636804 net.py:932] in_port=25,action=strip_vlan,output=9
I1209 21:58:46.246679 636804 net.py:935] add-flow in switch: gsw0 in_port: 25 out_port: 9
I1209 21:58:46.246799 636804 net.py:694] end node reached: chain4-nat
I1209 21:58:46.246989 636804 net.py:889] add-flow
I1209 21:58:46.247075 636804 net.py:890] in_port=1,dl_vlan=52,action=strip_vlan,output=5
I1209 21:58:46.255410 636804 net.py:893] add-flow in switch: dc81.s1 in_port: 1 out_port: 5
I1209 21:58:46.255532 636804 net.py:915] Detected NAT<->FW Path(1) in switch: dc81.s1 in_port: 1 out_port: 5
I1209 21:58:46.255647 636804 net.py:931] add-flow
I1209 21:58:46.255722 636804 net.py:932] in_port=1,action=strip_vlan,output=5
I1209 21:58:46.264535 636804 net.py:935] add-flow in switch: dc81.s1 in_port: 1 out_port: 5
I1209 21:58:46.264736 636804 daisy.py:329] chain(chain4-nat, chain4-fw) output: success: add-flow between chain4-nat and chain4-fw with options: {
 "priority": 1000, 
 "path": [
  "dc81.s1", 
  "gsw0", 
  "dc58.s1"
 ], 
 "vlan": 51, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain4-fw and chain4-nat with options: {
 "priority": 1000, 
 "path": [
  "dc58.s1", 
  "gsw0", 
  "dc81.s1"
 ], 
 "vlan": 52, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:58:46.264893 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain4-fw', vnf_src_interface='output-ids', vnf_dst_name=u'chain4-ids', vnf_dst_interface='input'
I1209 21:58:46.265048 636804 net.py:665] Path between chain4-fw and chain4-ids: ['dc58.s1', u'gsw0', 'dc99.s1']
I1209 21:58:46.265155 636804 net.py:889] add-flow
I1209 21:58:46.265255 636804 net.py:890] -O OpenFlow13 in_port=6,action=mod_vlan_vid:53,output=1
I1209 21:58:46.273447 636804 net.py:893] add-flow in switch: dc58.s1 in_port: 6 out_port: 1
I1209 21:58:46.273597 636804 net.py:889] add-flow
I1209 21:58:46.273669 636804 net.py:890] in_port=25,dl_vlan=53,action=39
I1209 21:58:46.282393 636804 net.py:893] add-flow in switch: gsw0 in_port: 25 out_port: 39
I1209 21:58:46.282531 636804 net.py:694] end node reached: chain4-ids
I1209 21:58:46.282685 636804 net.py:889] add-flow
I1209 21:58:46.282761 636804 net.py:890] in_port=1,dl_vlan=53,action=strip_vlan,output=4
I1209 21:58:46.291796 636804 net.py:893] add-flow in switch: dc99.s1 in_port: 1 out_port: 4
D1209 21:58:46.292025 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain4-ids', vnf_src_interface='input', vnf_dst_name=u'chain4-fw', vnf_dst_interface='output-ids'
I1209 21:58:46.292167 636804 net.py:665] Path between chain4-ids and chain4-fw: ['dc99.s1', u'gsw0', 'dc58.s1']
I1209 21:58:46.292289 636804 net.py:889] add-flow
I1209 21:58:46.292357 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:54,output=1
I1209 21:58:46.300992 636804 net.py:893] add-flow in switch: dc99.s1 in_port: 4 out_port: 1
I1209 21:58:46.301135 636804 net.py:889] add-flow
I1209 21:58:46.301238 636804 net.py:890] in_port=39,dl_vlan=54,action=25
I1209 21:58:46.310066 636804 net.py:893] add-flow in switch: gsw0 in_port: 39 out_port: 25
I1209 21:58:46.310230 636804 net.py:920] Detected IDS->FW Path(2) in switch: gsw0 in_port: 39 out_port: 25
I1209 21:58:46.310342 636804 net.py:931] add-flow
I1209 21:58:46.310491 636804 net.py:932] in_port=39,action=strip_vlan,output=25
I1209 21:58:46.318437 636804 net.py:935] add-flow in switch: gsw0 in_port: 39 out_port: 25
I1209 21:58:46.318588 636804 net.py:694] end node reached: chain4-fw
I1209 21:58:46.318701 636804 net.py:889] add-flow
I1209 21:58:46.318770 636804 net.py:890] in_port=1,dl_vlan=54,action=strip_vlan,output=6
I1209 21:58:46.335534 636804 net.py:893] add-flow in switch: dc58.s1 in_port: 1 out_port: 6
I1209 21:58:46.335659 636804 net.py:920] Detected IDS->FW Path(2) in switch: dc58.s1 in_port: 1 out_port: 6
I1209 21:58:46.335766 636804 net.py:931] add-flow
I1209 21:58:46.335848 636804 net.py:932] in_port=1,action=strip_vlan,output=6
I1209 21:58:46.344779 636804 net.py:935] add-flow in switch: dc58.s1 in_port: 1 out_port: 6
I1209 21:58:46.345000 636804 daisy.py:336] chain(chain4-fw, chain4-ids) output: success: add-flow between chain4-fw and chain4-ids with options: {
 "priority": 1000, 
 "path": [
  "dc58.s1", 
  "gsw0", 
  "dc99.s1"
 ], 
 "vlan": 53, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain4-ids and chain4-fw with options: {
 "priority": 1000, 
 "path": [
  "dc99.s1", 
  "gsw0", 
  "dc58.s1"
 ], 
 "vlan": 54, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:58:46.345129 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain4-fw', vnf_src_interface='output-vpn', vnf_dst_name=u'chain4-vpn', vnf_dst_interface='input-fw'
I1209 21:58:46.345288 636804 net.py:665] Path between chain4-fw and chain4-vpn: ['dc58.s1', u'gsw0', 'dc57.s1']
I1209 21:58:46.345379 636804 net.py:889] add-flow
I1209 21:58:46.345452 636804 net.py:890] -O OpenFlow13 in_port=7,action=mod_vlan_vid:55,output=1
I1209 21:58:46.361713 636804 net.py:893] add-flow in switch: dc58.s1 in_port: 7 out_port: 1
I1209 21:58:46.361912 636804 net.py:889] add-flow
I1209 21:58:46.362004 636804 net.py:890] in_port=25,dl_vlan=55,action=26
I1209 21:58:46.371299 636804 net.py:893] add-flow in switch: gsw0 in_port: 25 out_port: 26
I1209 21:58:46.371404 636804 net.py:694] end node reached: chain4-vpn
I1209 21:58:46.371524 636804 net.py:889] add-flow
I1209 21:58:46.371589 636804 net.py:890] in_port=1,dl_vlan=55,action=strip_vlan,output=3
I1209 21:58:46.380383 636804 net.py:893] add-flow in switch: dc57.s1 in_port: 1 out_port: 3
D1209 21:58:46.380574 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain4-vpn', vnf_src_interface='input-fw', vnf_dst_name=u'chain4-fw', vnf_dst_interface='output-vpn'
I1209 21:58:46.380692 636804 net.py:665] Path between chain4-vpn and chain4-fw: ['dc57.s1', u'gsw0', 'dc58.s1']
I1209 21:58:46.380784 636804 net.py:889] add-flow
I1209 21:58:46.380893 636804 net.py:890] -O OpenFlow13 in_port=3,action=mod_vlan_vid:56,output=1
I1209 21:58:46.388901 636804 net.py:893] add-flow in switch: dc57.s1 in_port: 3 out_port: 1
I1209 21:58:46.389036 636804 net.py:889] add-flow
I1209 21:58:46.389137 636804 net.py:890] in_port=26,dl_vlan=56,action=25
I1209 21:58:46.397562 636804 net.py:893] add-flow in switch: gsw0 in_port: 26 out_port: 25
I1209 21:58:46.397663 636804 net.py:694] end node reached: chain4-fw
I1209 21:58:46.397773 636804 net.py:889] add-flow
I1209 21:58:46.397897 636804 net.py:890] in_port=1,dl_vlan=56,action=strip_vlan,output=7
I1209 21:58:46.406455 636804 net.py:893] add-flow in switch: dc58.s1 in_port: 1 out_port: 7
I1209 21:58:46.406616 636804 daisy.py:343] chain(chain4-fw, chain4-vpn) output: success: add-flow between chain4-fw and chain4-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc58.s1", 
  "gsw0", 
  "dc57.s1"
 ], 
 "vlan": 55, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain4-vpn and chain4-fw with options: {
 "priority": 1000, 
 "path": [
  "dc57.s1", 
  "gsw0", 
  "dc58.s1"
 ], 
 "vlan": 56, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:58:46.406781 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain4-ids', vnf_src_interface='output', vnf_dst_name=u'chain4-vpn', vnf_dst_interface='input-ids'
I1209 21:58:46.406975 636804 net.py:665] Path between chain4-ids and chain4-vpn: ['dc99.s1', u'gsw0', 'dc57.s1']
I1209 21:58:46.407085 636804 net.py:889] add-flow
I1209 21:58:46.407170 636804 net.py:890] -O OpenFlow13 in_port=5,action=mod_vlan_vid:57,output=1
I1209 21:58:46.415745 636804 net.py:893] add-flow in switch: dc99.s1 in_port: 5 out_port: 1
I1209 21:58:46.415945 636804 net.py:889] add-flow
I1209 21:58:46.416054 636804 net.py:890] in_port=39,dl_vlan=57,action=26
I1209 21:58:46.424066 636804 net.py:893] add-flow in switch: gsw0 in_port: 39 out_port: 26
I1209 21:58:46.424225 636804 net.py:925] Detected IDS->VPN Path(3) in switch: gsw0 in_port: 39 out_port: 26
I1209 21:58:46.424384 636804 net.py:931] add-flow
I1209 21:58:46.424453 636804 net.py:932] in_port=39,action=strip_vlan,output=26
I1209 21:58:46.433738 636804 net.py:935] add-flow in switch: gsw0 in_port: 39 out_port: 26
I1209 21:58:46.433880 636804 net.py:694] end node reached: chain4-vpn
I1209 21:58:46.434017 636804 net.py:889] add-flow
I1209 21:58:46.434144 636804 net.py:890] in_port=1,dl_vlan=57,action=strip_vlan,output=2
I1209 21:58:46.450561 636804 net.py:893] add-flow in switch: dc57.s1 in_port: 1 out_port: 2
I1209 21:58:46.450675 636804 net.py:925] Detected IDS->VPN Path(3) in switch: dc57.s1 in_port: 1 out_port: 2
I1209 21:58:46.450794 636804 net.py:931] add-flow
I1209 21:58:46.450906 636804 net.py:932] in_port=1,action=strip_vlan,output=2
I1209 21:58:46.459795 636804 net.py:935] add-flow in switch: dc57.s1 in_port: 1 out_port: 2
D1209 21:58:46.460021 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain4-vpn', vnf_src_interface='input-ids', vnf_dst_name=u'chain4-ids', vnf_dst_interface='output'
I1209 21:58:46.460227 636804 net.py:665] Path between chain4-vpn and chain4-ids: ['dc57.s1', u'gsw0', 'dc99.s1']
I1209 21:58:46.460724 636804 net.py:889] add-flow
I1209 21:58:46.460798 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:58,output=1
I1209 21:58:46.469646 636804 net.py:893] add-flow in switch: dc57.s1 in_port: 2 out_port: 1
I1209 21:58:46.469773 636804 net.py:889] add-flow
I1209 21:58:46.470083 636804 net.py:890] in_port=26,dl_vlan=58,action=39
I1209 21:58:46.478482 636804 net.py:893] add-flow in switch: gsw0 in_port: 26 out_port: 39
I1209 21:58:46.478600 636804 net.py:694] end node reached: chain4-ids
I1209 21:58:46.478741 636804 net.py:889] add-flow
I1209 21:58:46.478854 636804 net.py:890] in_port=1,dl_vlan=58,action=strip_vlan,output=5
I1209 21:58:46.487832 636804 net.py:893] add-flow in switch: dc99.s1 in_port: 1 out_port: 5
I1209 21:58:46.488080 636804 daisy.py:350] chain(chain4-ids, chain4-vpn) output: success: add-flow between chain4-ids and chain4-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc99.s1", 
  "gsw0", 
  "dc57.s1"
 ], 
 "vlan": 57, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain4-vpn and chain4-ids with options: {
 "priority": 1000, 
 "path": [
  "dc57.s1", 
  "gsw0", 
  "dc99.s1"
 ], 
 "vlan": 58, 
 "cookie": 10, 
 "match_input": null
}
D1209 21:58:46.488198 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain4-vpn', vnf_src_interface='output', vnf_dst_name=u'chain4-sink', vnf_dst_interface='intf2'
I1209 21:58:46.488353 636804 net.py:665] Path between chain4-vpn and chain4-sink: ['dc57.s1', u'gsw0', 'dc71.s1']
I1209 21:58:46.488437 636804 net.py:889] add-flow
I1209 21:58:46.488500 636804 net.py:890] -O OpenFlow13 in_port=4,action=mod_vlan_vid:59,output=1
I1209 21:58:46.497113 636804 net.py:893] add-flow in switch: dc57.s1 in_port: 4 out_port: 1
I1209 21:58:46.497289 636804 net.py:889] add-flow
I1209 21:58:46.497394 636804 net.py:890] in_port=26,dl_vlan=59,action=50
I1209 21:58:46.505635 636804 net.py:893] add-flow in switch: gsw0 in_port: 26 out_port: 50
I1209 21:58:46.505738 636804 net.py:694] end node reached: chain4-sink
I1209 21:58:46.505904 636804 net.py:889] add-flow
I1209 21:58:46.505981 636804 net.py:890] in_port=1,dl_vlan=59,action=strip_vlan,output=2
I1209 21:58:46.515990 636804 net.py:893] add-flow in switch: dc71.s1 in_port: 1 out_port: 2
D1209 21:58:46.516179 636804 net.py:611] call chainAddFlow vnf_src_name=u'chain4-sink', vnf_src_interface='intf2', vnf_dst_name=u'chain4-vpn', vnf_dst_interface='output'
I1209 21:58:46.516370 636804 net.py:665] Path between chain4-sink and chain4-vpn: ['dc71.s1', u'gsw0', 'dc57.s1']
I1209 21:58:46.516462 636804 net.py:889] add-flow
I1209 21:58:46.516524 636804 net.py:890] -O OpenFlow13 in_port=2,action=mod_vlan_vid:60,output=1
I1209 21:58:46.524599 636804 net.py:893] add-flow in switch: dc71.s1 in_port: 2 out_port: 1
I1209 21:58:46.524720 636804 net.py:889] add-flow
I1209 21:58:46.524842 636804 net.py:890] in_port=50,dl_vlan=60,action=26
I1209 21:58:46.533449 636804 net.py:893] add-flow in switch: gsw0 in_port: 50 out_port: 26
I1209 21:58:46.533571 636804 net.py:694] end node reached: chain4-vpn
I1209 21:58:46.533668 636804 net.py:889] add-flow
I1209 21:58:46.533741 636804 net.py:890] in_port=1,dl_vlan=60,action=strip_vlan,output=4
I1209 21:58:46.543507 636804 net.py:893] add-flow in switch: dc57.s1 in_port: 1 out_port: 4
I1209 21:58:46.543680 636804 daisy.py:357] chain(chain4-vpn, chain4-sink) output: success: add-flow between chain4-vpn and chain4-sink with options: {
 "priority": 1000, 
 "path": [
  "dc57.s1", 
  "gsw0", 
  "dc71.s1"
 ], 
 "vlan": 59, 
 "cookie": 10, 
 "match_input": null
}
success: add-flow between chain4-sink and chain4-vpn with options: {
 "priority": 1000, 
 "path": [
  "dc71.s1", 
  "gsw0", 
  "dc57.s1"
 ], 
 "vlan": 60, 
 "cookie": 10, 
 "match_input": null
}
Firewall is active and enabled on system startup
Skipping adding existing rule
Skipping adding existing rule (v6)
 * Starting virtual private network daemon(s)...
 *   Autostarting VPN 'server'
Setting up VPN client VNF
configuring IPv4 and ARP forwarding ...
starting openvpn to the server...
enable MASQUERADE for VPN ids-tun0 and fw-tun0 interface
Sat Dec  9 21:58:47 2017 OpenVPN 2.3.2 x86_64-pc-linux-gnu [SSL (OpenSSL)] [LZO] [EPOLL] [PKCS11] [eurephia] [MH] [IPv6] built on Jun 22 2017
Sat Dec  9 21:58:47 2017 Socket Buffers: R=[212992->131072] S=[212992->131072]
Sat Dec  9 21:58:47 2017 NOTE: UID/GID downgrade will be delayed because of --client, --pull, or --up-delay
Sat Dec  9 21:58:47 2017 UDPv4 link local: [undef]
Sat Dec  9 21:58:47 2017 UDPv4 link remote: [AF_INET]10.0.10.10:1194
Sat Dec  9 21:58:47 2017 TLS: Initial packet from [AF_INET]10.0.10.10:1194, sid=bdc31f8a 3ce562a7
SIOCDELRT: No such process
VPN client VNF ready.
Sat Dec  9 21:58:47 2017 VERIFY OK: depth=1, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=Fort-Funston CA, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:58:47 2017 VERIFY OK: nsCertType=SERVER
Sat Dec  9 21:58:47 2017 VERIFY OK: depth=0, C=US, ST=CA, L=SanFrancisco, O=Fort-Funston, OU=MyOrganizationalUnit, CN=server, name=server, emailAddress=me@myhost.mydomain
Sat Dec  9 21:58:48 2017 Data Channel Encrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:58:48 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:58:48 2017 Data Channel Encrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:58:48 2017 Data Channel Decrypt: Cipher 'BF-CBC' initialized with 128 bit key
Sat Dec  9 21:58:48 2017 WARNING: this cipher's block size is less than 128 bit (64 bit).  Consider using a --cipher with a larger block size.
Sat Dec  9 21:58:48 2017 Data Channel Decrypt: Using 160 bit message hash 'SHA1' for HMAC authentication
Sat Dec  9 21:58:48 2017 Control Channel: TLSv1, cipher TLSv1/SSLv3 DHE-RSA-AES256-SHA, 2048 bit RSA
Sat Dec  9 21:58:48 2017 [server] Peer Connection Initiated with [AF_INET]10.0.10.10:1194
Sat Dec  9 21:58:50 2017 SENT CONTROL [server]: 'PUSH_REQUEST' (status=1)
Sat Dec  9 21:58:50 2017 PUSH: Received control message: 'PUSH_REPLY,redirect-gateway def1 bypass-dhcp,dhcp-option DNS 208.67.222.222,dhcp-option DNS 208.67.220.220,route 10.8.0.1,topology net30,ping 10,ping-restart 120,ifconfig 10.8.0.6 10.8.0.5'
Sat Dec  9 21:58:50 2017 OPTIONS IMPORT: timers and/or timeouts modified
Sat Dec  9 21:58:50 2017 OPTIONS IMPORT: --ifconfig/up options modified
Sat Dec  9 21:58:50 2017 OPTIONS IMPORT: route options modified
Sat Dec  9 21:58:50 2017 OPTIONS IMPORT: --ip-win32 and/or --dhcp-option options modified
Sat Dec  9 21:58:50 2017 ROUTE_GATEWAY 172.17.0.1/255.255.0.0 IFACE=eth0 HWADDR=02:42:ac:11:00:1f
Sat Dec  9 21:58:50 2017 TUN/TAP device tun0 opened
Sat Dec  9 21:58:50 2017 TUN/TAP TX queue length set to 100
Sat Dec  9 21:58:50 2017 do_ifconfig, tt->ipv6=0, tt->did_ifconfig_ipv6_setup=0
Sat Dec  9 21:58:50 2017 /sbin/ip link set dev tun0 up mtu 1500
Sat Dec  9 21:58:50 2017 /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Sat Dec  9 21:58:50 2017 /sbin/ip route add 10.0.10.10/32 via 172.17.0.1
Sat Dec  9 21:58:50 2017 /sbin/ip route add 0.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:58:50 2017 /sbin/ip route add 128.0.0.0/1 via 10.8.0.5
Sat Dec  9 21:58:50 2017 /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Sat Dec  9 21:58:50 2017 GID set to nogroup
Sat Dec  9 21:58:50 2017 UID set to nobody
Sat Dec  9 21:58:50 2017 Initialization Sequence Completed
I1209 21:58:53.456547 636804 daisy.py:441] > sleeping 5s to let VPN client initialize...
I1209 21:58:58.458214 636804 daisy.py:443] < 5s wait complete
I1209 21:58:58.458400 636804 daisy.py:444] VPN client VNF started
chain4-source -> chain4-sink 
chain4-sink -> chain4-source 
*** Results: 0% dropped (2/2 received)
I1209 21:59:00.271490 636804 daisy.py:369] ping chain4-source -> chain4-sink. Packet drop 0.0%
I1209 21:59:00.316054 636804 bench.py:19] Copying traces into the containers...
I1209 21:59:00.815397 636804 bench.py:29] Running dstat...
I1209 21:59:03.030039 636804 iter-e2-allocation.py:17] started allocating chain: 5
I1209 21:59:03.030461 636804 daisy.py:234] vnf_mapping = [u'fw', u'chain-server4']
I1209 21:59:03.030555 636804 daisy.py:240] creating chain5-fw on chain-server4
D1209 21:59:03.031025 636804 node.py:55] Starting compute instance u'chain5-fw' in data center 'chain-server4'
D1209 21:59:03.625953 636804 simple.py:169] Setting CPU limit for u'chain5-fw': cpu_quota = cpu_period * limit = 1000000.000000 * 3.600000 = 3600000.000000 (op_factor=1.000000)
D1209 21:59:03.672486 636804 simple.py:215] Setting MEM limit for u'chain5-fw': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:59:03.833403 636804 net.py:233] addLink: n1=chain5-fw intf1=input -- n2=dc79.s1 intf2=dc79.s1-eth2
D1209 21:59:03.964915 636804 net.py:233] addLink: n1=chain5-fw intf1=output-ids -- n2=dc79.s1 intf2=dc79.s1-eth3
D1209 21:59:04.097929 636804 net.py:233] addLink: n1=chain5-fw intf1=output-vpn -- n2=dc79.s1 intf2=dc79.s1-eth4
I1209 21:59:04.098145 636804 daisy.py:310] successfully created VNF: chain5-fw
I1209 21:59:04.098284 636804 daisy.py:234] vnf_mapping = [u'sink', u'off-cloud9']
I1209 21:59:04.098407 636804 daisy.py:240] creating chain5-sink on off-cloud9
D1209 21:59:04.098845 636804 node.py:55] Starting compute instance u'chain5-sink' in data center 'off-cloud9'
D1209 21:59:04.637021 636804 simple.py:215] Setting MEM limit for u'chain4-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:59:04.661134 636804 simple.py:215] Setting MEM limit for u'chain4-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:59:04.680509 636804 simple.py:169] Setting CPU limit for u'chain5-sink': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:59:04.721298 636804 simple.py:215] Setting MEM limit for u'chain5-sink': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:59:04.874321 636804 net.py:233] addLink: n1=chain5-sink intf1=intf2 -- n2=dc71.s1 intf2=dc71.s1-eth4
I1209 21:59:04.874541 636804 daisy.py:310] successfully created VNF: chain5-sink
I1209 21:59:04.874648 636804 daisy.py:234] vnf_mapping = [u'ids', u'chain-server36']
I1209 21:59:04.874716 636804 daisy.py:240] creating chain5-ids on chain-server36
D1209 21:59:04.875161 636804 node.py:55] Starting compute instance u'chain5-ids' in data center 'chain-server36'
D1209 21:59:05.437927 636804 simple.py:215] Setting MEM limit for u'chain1-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:59:05.463587 636804 simple.py:169] Setting CPU limit for u'chain5-ids': cpu_quota = cpu_period * limit = 1000000.000000 * 4.800000 = 4800000.000000 (op_factor=1.000000)
D1209 21:59:05.505745 636804 simple.py:215] Setting MEM limit for u'chain5-ids': mem_limit = 1966.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 2061582336 instead of 2061584302
D1209 21:59:05.661525 636804 net.py:233] addLink: n1=chain5-ids intf1=input -- n2=dc61.s1 intf2=dc61.s1-eth4
D1209 21:59:05.823694 636804 net.py:233] addLink: n1=chain5-ids intf1=output -- n2=dc61.s1 intf2=dc61.s1-eth5
I1209 21:59:05.823925 636804 daisy.py:310] successfully created VNF: chain5-ids
I1209 21:59:05.824057 636804 daisy.py:234] vnf_mapping = [u'nat', u'chain-server10']
I1209 21:59:05.824177 636804 daisy.py:240] creating chain5-nat on chain-server10
D1209 21:59:05.824625 636804 node.py:55] Starting compute instance u'chain5-nat' in data center 'chain-server10'
D1209 21:59:06.403754 636804 simple.py:169] Setting CPU limit for u'chain5-nat': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:59:06.450862 636804 simple.py:215] Setting MEM limit for u'chain5-nat': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:59:06.608722 636804 net.py:233] addLink: n1=chain5-nat intf1=input -- n2=dc87.s1 intf2=dc87.s1-eth2
D1209 21:59:06.745214 636804 net.py:233] addLink: n1=chain5-nat intf1=output -- n2=dc87.s1 intf2=dc87.s1-eth3
I1209 21:59:06.745449 636804 daisy.py:310] successfully created VNF: chain5-nat
I1209 21:59:06.745568 636804 daisy.py:234] vnf_mapping = [u'source', u'off-cloud7']
I1209 21:59:06.745680 636804 daisy.py:240] creating chain5-source on off-cloud7
D1209 21:59:06.746148 636804 node.py:55] Starting compute instance u'chain5-source' in data center 'off-cloud7'
D1209 21:59:07.299329 636804 simple.py:215] Setting MEM limit for u'chain3-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:59:07.322993 636804 simple.py:169] Setting CPU limit for u'chain5-source': cpu_quota = cpu_period * limit = 1000000.000000 * 1.200000 = 1200000.000000 (op_factor=1.000000)
D1209 21:59:07.364777 636804 simple.py:215] Setting MEM limit for u'chain5-source': mem_limit = 491.000000 MB (op_factor=1.000000)
*** error: cgroupSet: limit_in_bytes set to 515395584 instead of 515396075
D1209 21:59:07.510811 636804 net.py:233] addLink: n1=chain5-source intf1=intf1 -- n2=dc67.s1 intf2=dc67.s1-eth3
I1209 21:59:07.511029 636804 daisy.py:310] successfully created VNF: chain5-source
I1209 21:59:07.511153 636804 daisy.py:234] vnf_mapping = [u'vpn', u'chain-server9']
I1209 21:59:07.511270 636804 daisy.py:240] creating chain5-vpn on chain-server9
D1209 21:59:07.511723 636804 node.py:55] Starting compute instance u'chain5-vpn' in data center 'chain-server9'
